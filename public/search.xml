<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>SpringMVCå·¥ä½œæµç¨‹</title>
      <link href="/javaEE/SpringMVC/2023/07/20/SpringMVC%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B/"/>
      <url>/javaEE/SpringMVC/2023/07/20/SpringMVC%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B/</url>
      
        <content type="html"><![CDATA[<h1 id="SpringMVCå·¥ä½œæµç¨‹"><a href="#SpringMVCå·¥ä½œæµç¨‹" class="headerlink" title="SpringMVCå·¥ä½œæµç¨‹"></a>SpringMVCå·¥ä½œæµç¨‹</h1><p>SpringMVCå‡ å¤§æ ¸å¿ƒç»„ä»¶</p><ul><li><code>DispatcherServlet</code>ï¼šæ‰€æœ‰è¯·æ±‚çš„å…¥å£ï¼Œæ‰€æœ‰è¯·æ±‚éƒ½ä¼šè¢«æ‰“åˆ°è¿™ä¸ª<code>servlet</code>ä¸Šï¼Œç”±å®ƒæ¥åš<strong>ç»Ÿç­¹</strong></li><li><code>RequestHandlerMapping</code>ï¼šç”±å®ƒæ¥åšè¯·æ±‚çš„åŒ¹é…ï¼Œè¿”å›ä¸€ä¸ªå¤„ç†æœ¬æ¬¡è¯·æ±‚çš„<code>HandlerExecutionChain</code></li><li><code>RequestHandlerAdapter</code>ï¼šç”±å®ƒæ¥åšhandlerçš„é€‚é…ï¼Œæ‰§è¡Œä¸šåŠ¡é€»è¾‘</li><li><code>ViewResolver</code>ï¼šç”±å®ƒåšè§†å›¾è§£æ</li><li><code>HandlerExceptionResolver</code>ï¼šå½“å‡ºç°å¼‚å¸¸çš„æ—¶å€™ç”±å®ƒæ¥åšå¤„ç†</li></ul><p>ä¸‹é¢ä»ç»Ÿç­¹è€…é€æ­¥åˆ†æå·¥ä½œæµç¨‹</p><h2 id="DispatcherServletçš„ç»§æ‰¿ä½“ç³»"><a href="#DispatcherServletçš„ç»§æ‰¿ä½“ç³»" class="headerlink" title="DispatcherServletçš„ç»§æ‰¿ä½“ç³»"></a><code>DispatcherServlet</code>çš„ç»§æ‰¿ä½“ç³»</h2><img src="/javaEE/SpringMVC/2023/07/20/SpringMVC%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B/image-20230814184804721.png" class title="image-20230814184804721"><p>é€šè¿‡ç»§æ‰¿ä½“ç³»å¯ä»¥å¾—çŸ¥ä»¥ä¸‹å‡ ç‚¹</p><p>1ã€<code>DispatcherServlet</code>æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ª<code>servlet</code></p><p>2ã€å†…éƒ¨æ³¨å…¥äº†</p><ul><li><code>Environment</code>ï¼šé¡¹ç›®çš„è¿è¡Œç¯å¢ƒ</li><li><code>ApplicationContext</code>ï¼šSpringå®¹å™¨</li></ul><h2 id="Servletçš„ç”Ÿå‘½å‘¨æœŸ"><a href="#Servletçš„ç”Ÿå‘½å‘¨æœŸ" class="headerlink" title="Servletçš„ç”Ÿå‘½å‘¨æœŸ"></a><code>Servlet</code>çš„ç”Ÿå‘½å‘¨æœŸ</h2><p>å›é¡¾ä¸€ä¸‹<code>Servlet</code>çš„ç”Ÿå‘½å‘¨æœŸ</p><ul><li><code>init</code>ï¼šåœ¨servletè¢«<strong>åˆå§‹åŒ–</strong>çš„æ—¶å€™æ‰§è¡Œ</li><li><code>service</code>ï¼šåœ¨<strong>æ¥æ”¶è¯·æ±‚</strong>çš„æ—¶å€™æ‰§è¡Œè¯¥æ–¹æ³•</li><li><code>destory</code>ï¼šè¢«<strong>é”€æ¯</strong>çš„æ—¶å€™æ‰§è¡Œè¯¥æ–¹æ³•</li></ul><p>åˆšåˆšè¯´äº†<code>DispatcherServlet</code>æœ¬è´¨ä¸Šå°±æ˜¯<code>Servlet</code>ï¼Œé‚£å°±ä¸€å®šä¹Ÿæœ‰è¿™ä¸‰ä¸ªç”Ÿå‘½å‘¨æœŸ</p><h3 id="Servletæ¥å£"><a href="#Servletæ¥å£" class="headerlink" title="Servletæ¥å£"></a>Servletæ¥å£</h3><img src="/javaEE/SpringMVC/2023/07/20/SpringMVC%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B/image-20230814191249786.png" class title="image-20230814191249786"><p>å¯ä»¥çœ‹åˆ°è¿™ä¸‰ä¸ªæ–¹æ³•å°±å¯¹åº”ç€ä¸‰ä¸ªç”Ÿå‘½å‘¨æœŸ</p><h3 id="åˆå§‹åŒ–init"><a href="#åˆå§‹åŒ–init" class="headerlink" title="åˆå§‹åŒ–init"></a>åˆå§‹åŒ–<code>init</code></h3><p>è¿™é‡Œæˆ‘ä»¬é‡‡ç”¨ä»ä¸Šå¾€ä¸‹æ‰¾ï¼Œä¹Ÿå°±æ˜¯ä»çˆ¶ç±»å¾€å­ç±»æ‰¾</p><h4 id="GenericServlet"><a href="#GenericServlet" class="headerlink" title="GenericServlet"></a><code>GenericServlet</code></h4><img src="/javaEE/SpringMVC/2023/07/20/SpringMVC%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B/image-20230814191734475.png" class title="image-20230814191734475"><h4 id="HttpServlet"><a href="#HttpServlet" class="headerlink" title="HttpServlet"></a><code>HttpServlet</code></h4><p>æ­¤ç±»ä¸­æ²¡æœ‰å®šä¹‰åˆå§‹åŒ–çš„é€»è¾‘</p><img src="/javaEE/SpringMVC/2023/07/20/SpringMVC%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B/image-20230814191921944.png" class title="image-20230814191921944"><h4 id="HttpServletBean"><a href="#HttpServletBean" class="headerlink" title="HttpServletBean"></a><code>HttpServletBean</code></h4><img src="/javaEE/SpringMVC/2023/07/20/SpringMVC%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B/image-20230814192156083.png" class title="image-20230814192156083"><img src="/javaEE/SpringMVC/2023/07/20/SpringMVC%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B/image-20230814192228034.png" class title="image-20230814192228034"><h4 id="FrameworkServlet"><a href="#FrameworkServlet" class="headerlink" title="FrameworkServlet"></a><code>FrameworkServlet</code></h4><img src="/javaEE/SpringMVC/2023/07/20/SpringMVC%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B/image-20230814192606361.png" class title="image-20230814192606361"><h5 id="initWebApplicationContext"><a href="#initWebApplicationContext" class="headerlink" title="initWebApplicationContext"></a><code>initWebApplicationContext</code></h5><img src="/javaEE/SpringMVC/2023/07/20/SpringMVC%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B/image-20230814193032754.png" class title="image-20230814193032754"><img src="/javaEE/SpringMVC/2023/07/20/SpringMVC%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B/image-20230814193248293.png" class title="image-20230814193248293"><img src="/javaEE/SpringMVC/2023/07/20/SpringMVC%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B/image-20230814193316698.png" class title="image-20230814193316698"><h4 id="DispatcherServlet"><a href="#DispatcherServlet" class="headerlink" title="DispatcherServlet"></a><code>DispatcherServlet</code></h4><p>æ‰¾<code>onRefresh</code>æ–¹æ³•</p><p>ç»ˆäºåˆ°<strong>ä¹å¤§æŠ¤æ³•</strong>å‡ºåœºçš„æ—¶å€™äº†</p><img src="/javaEE/SpringMVC/2023/07/20/SpringMVC%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B/image-20230814193400750.png" class title="image-20230814193400750"><h5 id="initMultipartResolver"><a href="#initMultipartResolver" class="headerlink" title="initMultipartResolver"></a><code>initMultipartResolver</code></h5><img src="/javaEE/SpringMVC/2023/07/20/SpringMVC%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B/image-20230814194424170.png" class title="image-20230814194424170"><p>å¯ä»¥çœ‹åˆ°å°è¯•äº†ä»å®¹å™¨ä¸­æ‹¿ï¼Œæ‰¾ä¸åˆ°å°±ç›´æ¥èµ‹å€¼ä¸ºnulläº†</p><p>ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœæˆ‘ä»¬è‡ªå·±ä¸æä¾›<code>multipartResolver</code>çš„Beanï¼Œæˆ‘å°±ä¸è£…è½½å®ƒ</p><blockquote><p>åœ¨<code>SpringBoot</code>ä¸­æ˜¯é»˜è®¤åŠ è½½<code>multipartResolver</code>çš„</p><p>è‡ªåŠ¨é…ç½®ç±»å¦‚ä¸‹</p></blockquote><img src="/javaEE/SpringMVC/2023/07/20/SpringMVC%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B/image-20230814194408279.png" class title="image-20230814194408279"><h5 id="initLocaleResolver"><a href="#initLocaleResolver" class="headerlink" title="initLocaleResolver"></a><code>initLocaleResolver</code></h5><img src="/javaEE/SpringMVC/2023/07/20/SpringMVC%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B/image-20230814194758975.png" class title="image-20230814194758975"><p>å¯ä»¥çœ‹åˆ°å’Œåˆšåˆšçš„<code>initMultipartResolver</code>å·®ä¸å¤š</p><p>åŒºåˆ«å°±æ˜¯å°±æ˜¯å¦‚æœåœ¨å®¹å™¨æ‰¾ä¸åˆ°<code>LocaleResolver</code>ï¼Œ<code>DispatcherServlet</code>å°±ä¼šæ‰¾é»˜è®¤çš„<code>LocaleResolver</code></p><h6 id="getDefaultStrategy"><a href="#getDefaultStrategy" class="headerlink" title="getDefaultStrategy"></a><code>getDefaultStrategy</code></h6><img src="/javaEE/SpringMVC/2023/07/20/SpringMVC%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B/image-20230814195009045.png" class title="image-20230814195009045"><p>æ­¤æ–¹æ³•å°±æ˜¯è¿”å›æŒ‡å®šç±»çš„é»˜è®¤å®ç°</p><h6 id="getDefaultStrategies"><a href="#getDefaultStrategies" class="headerlink" title="getDefaultStrategies"></a><code>getDefaultStrategies</code></h6><img src="/javaEE/SpringMVC/2023/07/20/SpringMVC%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B/image-20230814195343391.png" class title="image-20230814195343391"><p>åœ¨<code>DispatcherServlet</code>çš„åŒçº§ç›®å½•ä¸‹æ‰¾åˆ°<code>DispatcherServlet.properties</code>æ–‡ä»¶</p><img src="/javaEE/SpringMVC/2023/07/20/SpringMVC%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B/image-20230814200115090.png" class title="image-20230814200115090"><img src="/javaEE/SpringMVC/2023/07/20/SpringMVC%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B/image-20230814200249581.png" class title="image-20230814200249581"><h5 id="initThemeResolver"><a href="#initThemeResolver" class="headerlink" title="initThemeResolver"></a><code>initThemeResolver</code></h5><img src="/javaEE/SpringMVC/2023/07/20/SpringMVC%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B/image-20230814200321432.png" class title="image-20230814200321432"><p>å’Œåˆšåˆšçš„<code>initLocaleResolver</code>ä¸€æ ·</p><p>å¦‚æœåœ¨å®¹å™¨ä¸­æ‰¾ä¸åˆ°ï¼Œå°±ç›´æ¥æ‰¾é»˜è®¤ç­–ç•¥</p><h5 id="initHandlerMappings"><a href="#initHandlerMappings" class="headerlink" title="initHandlerMappings"></a><code>initHandlerMappings</code></h5><img src="/javaEE/SpringMVC/2023/07/20/SpringMVC%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B/image-20230814200716164.png" class title="image-20230814200716164"><img src="/javaEE/SpringMVC/2023/07/20/SpringMVC%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B/image-20230814200852601.png" class title="image-20230814200852601"><h5 id="initHandlerAdapters"><a href="#initHandlerAdapters" class="headerlink" title="initHandlerAdapters"></a><code>initHandlerAdapters</code></h5><img src="/javaEE/SpringMVC/2023/07/20/SpringMVC%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B/image-20230814200959223.png" class title="image-20230814200959223"><h5 id="initHandlerExceptionResolvers"><a href="#initHandlerExceptionResolvers" class="headerlink" title="initHandlerExceptionResolvers"></a><code>initHandlerExceptionResolvers</code></h5><img src="/javaEE/SpringMVC/2023/07/20/SpringMVC%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B/image-20230814201056490.png" class title="image-20230814201056490"><h5 id="initRequestToViewNameTranslator"><a href="#initRequestToViewNameTranslator" class="headerlink" title="initRequestToViewNameTranslator"></a><code>initRequestToViewNameTranslator</code></h5><img src="/javaEE/SpringMVC/2023/07/20/SpringMVC%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B/image-20230814201129704.png" class title="image-20230814201129704"><h5 id="initViewResolvers"><a href="#initViewResolvers" class="headerlink" title="initViewResolvers"></a><code>initViewResolvers</code></h5><img src="/javaEE/SpringMVC/2023/07/20/SpringMVC%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B/image-20230814201158727.png" class title="image-20230814201158727"><h5 id="initFlashMapManager"><a href="#initFlashMapManager" class="headerlink" title="initFlashMapManager"></a><code>initFlashMapManager</code></h5><img src="/javaEE/SpringMVC/2023/07/20/SpringMVC%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B/image-20230814201222255.png" class title="image-20230814201222255"><h4 id="å°æ€»ç»“"><a href="#å°æ€»ç»“" class="headerlink" title="å°æ€»ç»“"></a>å°æ€»ç»“</h4><p>å¥½äº†ï¼Œåˆå§‹åŒ–æµç¨‹å°±è¿™äº›ï¼Œæ˜¯ä¸æ˜¯å¾ˆç®€å•ğŸ˜„ğŸ˜„ğŸ˜„</p><p>ä¸»è¦åˆå§‹åŒ–äº†ä»¥ä¸‹è¿™äº›ç»„ä»¶</p><p>1ã€<code>MultipartResolver</code>ï¼šå¤„ç†æ–‡ä»¶ä¸Šä¼ çš„</p><p>2ã€<code>LocaleResolver</code>ï¼šå›½é™…åŒ–ç›¸å…³ç»„ä»¶</p><p>3ã€<code>ThemeResolver</code></p><p>4ã€<code>HandlerMappings</code>ï¼šåŒ¹é…è¯·æ±‚è·¯å¾„ï¼Œåˆ›å»ºå¯¹åº”çš„<code>HandlerExecutionChain</code></p><p>5ã€<code>HandlerAdapters</code>ï¼šæ ¹æ®åˆšåˆšåˆ›å»ºçš„<code>HandlerExecutionChain</code>ä¸­çš„<code>Handler</code>åŒ¹é…å¯¹åº”çš„<code>HandlerAdapter</code></p><p>6ã€<code>HandlerExceptionResolvers</code>ï¼šå¼‚å¸¸è§£æå™¨</p><p>7ã€<code>RequestToViewNameTranslator</code>ï¼šå°†è¯·æ±‚è·¯å¾„è½¬åŒ–ä¸ºè§†å›¾å</p><p>8ã€<code>ViewResolvers</code>ï¼šè§†å›¾è§£æå™¨ï¼Œè§£æ<code>ModelAndView</code></p><p>9ã€<code>FlashMapManager</code></p><p>æ¥ä¸‹æ¥çš„<code>service</code>æ‰æ˜¯é‡å¤´æˆ</p><h3 id="æ¥æ”¶è¯·æ±‚service"><a href="#æ¥æ”¶è¯·æ±‚service" class="headerlink" title="æ¥æ”¶è¯·æ±‚service"></a>æ¥æ”¶è¯·æ±‚<code>service</code></h3><h4 id="GenericServlet-1"><a href="#GenericServlet-1" class="headerlink" title="GenericServlet"></a><code>GenericServlet</code></h4><img src="/javaEE/SpringMVC/2023/07/20/SpringMVC%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B/image-20230814201406377.png" class title="image-20230814201406377"><p>è¿™ä¸ªæ–¹æ³•æ˜¯æŠ½è±¡çš„ï¼Œäº¤ç»™å­ç±»å»å®ç°</p><h4 id="HttpServlet-1"><a href="#HttpServlet-1" class="headerlink" title="HttpServlet"></a><code>HttpServlet</code></h4><img src="/javaEE/SpringMVC/2023/07/20/SpringMVC%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B/image-20230814201648286.png" class title="image-20230814201648286"><h5 id="service"><a href="#service" class="headerlink" title="service"></a><code>service</code></h5><img src="/javaEE/SpringMVC/2023/07/20/SpringMVC%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B/image-20230814202038976.png" class title="image-20230814202038976"><img src="/javaEE/SpringMVC/2023/07/20/SpringMVC%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B/image-20230814202111941.png" class title="image-20230814202111941"><img src="/javaEE/SpringMVC/2023/07/20/SpringMVC%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B/image-20230814202225260.png" class title="image-20230814202225260"><h5 id="doGet"><a href="#doGet" class="headerlink" title="doGet"></a><code>doGet</code></h5><img src="/javaEE/SpringMVC/2023/07/20/SpringMVC%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B/image-20230814202346128.png" class title="image-20230814202346128"><h5 id="doHead"><a href="#doHead" class="headerlink" title="doHead"></a><code>doHead</code></h5><img src="/javaEE/SpringMVC/2023/07/20/SpringMVC%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B/image-20230814202442198.png" class title="image-20230814202442198"><h5 id="doPost"><a href="#doPost" class="headerlink" title="doPost"></a><code>doPost</code></h5><img src="/javaEE/SpringMVC/2023/07/20/SpringMVC%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B/image-20230814202511993.png" class title="image-20230814202511993"><h5 id="doPut"><a href="#doPut" class="headerlink" title="doPut"></a><code>doPut</code></h5><img src="/javaEE/SpringMVC/2023/07/20/SpringMVC%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B/image-20230814202527687.png" class title="image-20230814202527687"><h5 id="doDelete"><a href="#doDelete" class="headerlink" title="doDelete"></a><code>doDelete</code></h5><img src="/javaEE/SpringMVC/2023/07/20/SpringMVC%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B/image-20230814202557993.png" class title="image-20230814202557993"><h5 id="doOptions"><a href="#doOptions" class="headerlink" title="doOptions"></a><code>doOptions</code></h5><img src="/javaEE/SpringMVC/2023/07/20/SpringMVC%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B/image-20230814203049843.png" class title="image-20230814203049843"><h6 id="getDeclaredMethods"><a href="#getDeclaredMethods" class="headerlink" title="getDeclaredMethods"></a><code>getDeclaredMethods</code></h6><img src="/javaEE/SpringMVC/2023/07/20/SpringMVC%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B/image-20230814203418375.png" class title="image-20230814203418375"><blockquote><p><code>c.getDeclaredMethods()</code>è°ƒç”¨çš„æ˜¯Classç±»çš„æ–¹æ³•ï¼Œè¿”å›çš„æ˜¯è¿™ä¸ªç±»å®šä¹‰çš„æ‰€æœ‰æ–¹æ³•ï¼ŒåŒ…æ‹¬ç§æœ‰æ–¹æ³•</p><img src="/javaEE/SpringMVC/2023/07/20/SpringMVC%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B/image-20230814203601844.png" class title="image-20230814203601844"></blockquote><p>æ¥ç€çœ‹<code>doOptions</code>æ–¹æ³•</p><img src="/javaEE/SpringMVC/2023/07/20/SpringMVC%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B/image-20230814203702387.png" class title="image-20230814203702387"><img src="/javaEE/SpringMVC/2023/07/20/SpringMVC%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B/image-20230814203937447.png" class title="image-20230814203937447"><img src="/javaEE/SpringMVC/2023/07/20/SpringMVC%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B/image-20230814204026773.png" class title="image-20230814204026773"><img src="/javaEE/SpringMVC/2023/07/20/SpringMVC%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B/image-20230814204220256.png" class title="image-20230814204220256"><h4 id="FrameworkServlet-1"><a href="#FrameworkServlet-1" class="headerlink" title="FrameworkServlet"></a><code>FrameworkServlet</code></h4><img src="/javaEE/SpringMVC/2023/07/20/SpringMVC%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B/image-20230814204433917.png" class title="image-20230814204433917"><blockquote><p> <code>PATCH</code>è¯·æ±‚æ–¹å¼æ˜¯ä»€ä¹ˆï¼Ÿ</p><p>ä¼ é€é—¨ï¼š<a href="https://www.jianshu.com/p/bee85cf4e33a">https://www.jianshu.com/p/bee85cf4e33a</a></p></blockquote><p>å¥½ï¼Œä¹Ÿå°±æ˜¯è¯´å¦‚æœè¯·æ±‚æ–¹å¼æ˜¯<code>PATCH</code>ï¼Œé‚£ä¹ˆå°±èµ°<code>processRequest</code>æ–¹æ³•</p><p>å¦‚æœä¸æ˜¯<code>PATCH</code>æ–¹å¼ï¼Œå°±èµ°çˆ¶ç±»çš„<code>service</code>æ–¹æ³•</p><p>ç­‰ç­‰ï¼Œçˆ¶ç±»çš„<code>service</code>æ–¹æ³•ï¼Œé‚£ä¸æ˜¯<code>HttpServlet</code>çš„<code>service</code>æ–¹æ³•å—</p><p>è¿™ä¸ª<code>service</code>æ–¹æ³•ä¸­æ ¹æ®è¯·æ±‚æ–¹å¼çš„ä¸åŒï¼Œå°†è¯·æ±‚åˆ†å‘åˆ°ä¸åŒçš„<code>doXxx</code>æ–¹æ³•</p><h5 id="doGetã€doPostã€doPutã€doDeleteæ–¹æ³•"><a href="#doGetã€doPostã€doPutã€doDeleteæ–¹æ³•" class="headerlink" title="doGetã€doPostã€doPutã€doDeleteæ–¹æ³•"></a><code>doGetã€doPostã€doPutã€doDelete</code>æ–¹æ³•</h5><img src="/javaEE/SpringMVC/2023/07/20/SpringMVC%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B/image-20230814205614322.png" class title="image-20230814205614322"><h5 id="doOptions-1"><a href="#doOptions-1" class="headerlink" title="doOptions"></a><code>doOptions</code></h5><img src="/javaEE/SpringMVC/2023/07/20/SpringMVC%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B/image-20230814210123325.png" class title="image-20230814210123325"><img src="/javaEE/SpringMVC/2023/07/20/SpringMVC%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B/image-20230814205903071.png" class title="image-20230814205903071"><h5 id="doTrace"><a href="#doTrace" class="headerlink" title="doTrace"></a><code>doTrace</code></h5><img src="/javaEE/SpringMVC/2023/07/20/SpringMVC%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B/image-20230814210308455.png" class title="image-20230814210308455"><h5 id="doHead-1"><a href="#doHead-1" class="headerlink" title="doHead"></a><code>doHead</code></h5><p>åœ¨<code>FrameworkServlet</code>ä¸­å¹¶æ²¡æœ‰<code>doHead</code>æ–¹æ³•ï¼Œè¯´æ˜æ˜¯ç›´æ¥å¤ç”¨çš„çˆ¶ç±»<code>HttpServlet</code>çš„<code>doHead</code>æ–¹æ³•</p><h5 id="processRequest-â—å…³é”®"><a href="#processRequest-â—å…³é”®" class="headerlink" title="processRequest(â—å…³é”®)"></a><code>processRequest</code>(â—å…³é”®)</h5><p>å¯ä»¥çœ‹åˆ°å¾ˆå¤š<code>doXxx</code>ä¸­éƒ½è°ƒç”¨äº†<code>processRequest</code>æ–¹æ³•ï¼Œä¸‹é¢è®©æˆ‘ä»¬æ¥æ­å¼€å®ƒçš„é¢çº±</p><img src="/javaEE/SpringMVC/2023/07/20/SpringMVC%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B/image-20230814210552867.png" class title="image-20230814210552867"><img src="/javaEE/SpringMVC/2023/07/20/SpringMVC%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B/image-20230814210714883.png" class title="image-20230814210714883"><p>å¥½æ¥ä¸‹æ¥çš„å…³é”®å°±æ˜¯<code>doService</code>æ–¹æ³•äº†</p><img src="/javaEE/SpringMVC/2023/07/20/SpringMVC%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B/image-20230814210759500.png" class title="image-20230814210759500"><p>æŠ½è±¡æ–¹æ³•ï¼Œé‚£å°±è¦æ‰¾å­ç±»äº†ï¼Œ<code>FrameworkServlet</code>çš„å­ç±»ï¼Œé‚£å°±æ˜¯æˆ‘ä»¬çš„ä¸»è§’<code>DispatcherServlet</code></p><h4 id="DispatcherServlet-1"><a href="#DispatcherServlet-1" class="headerlink" title="DispatcherServlet"></a><code>DispatcherServlet</code></h4><img src="/javaEE/SpringMVC/2023/07/20/SpringMVC%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B/image-20230814211028246.png" class title="image-20230814211028246"><img src="/javaEE/SpringMVC/2023/07/20/SpringMVC%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B/image-20230814211103072.png" class title="image-20230814211103072"><h5 id="doDispatch-â—â—â—å…³é”®ä¸­çš„å…³é”®"><a href="#doDispatch-â—â—â—å…³é”®ä¸­çš„å…³é”®" class="headerlink" title="doDispatch(â—â—â—å…³é”®ä¸­çš„å…³é”®)"></a><code>doDispatch</code>(â—â—â—å…³é”®ä¸­çš„å…³é”®)</h5><p>èµ°åˆ°è¿™é‡Œï¼Œå…¶å®æ‰æ˜¯æˆ‘ä»¬çš„mvcæ¡†æ¶å¤§å±•ç¥å¨çš„æ—¶å€™ï¼Œå¼€å¤´æåˆ°çš„ä¸‰å¤§æŠ¤æ³•å°†ä¸€ ä¸€ç°èº«</p><img src="/javaEE/SpringMVC/2023/07/20/SpringMVC%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B/image-20230814211852919.png" class title="image-20230814211852919"><img src="/javaEE/SpringMVC/2023/07/20/SpringMVC%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B/image-20230814213100988.png" class title="image-20230814213100988"><img src="/javaEE/SpringMVC/2023/07/20/SpringMVC%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B/image-20230814213229086.png" class title="image-20230814213229086"><h6 id="HandlerExecutionChain"><a href="#HandlerExecutionChain" class="headerlink" title="HandlerExecutionChain"></a><code>HandlerExecutionChain</code></h6><img src="/javaEE/SpringMVC/2023/07/20/SpringMVC%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B/image-20230814212119953.png" class title="image-20230814212119953"><h5 id="1ã€checkMultipart"><a href="#1ã€checkMultipart" class="headerlink" title="1ã€checkMultipart"></a>1ã€<code>checkMultipart</code></h5><img src="/javaEE/SpringMVC/2023/07/20/SpringMVC%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B/image-20230814212628921.png" class title="image-20230814212628921"><h5 id="2ã€getHandler"><a href="#2ã€getHandler" class="headerlink" title="2ã€getHandler"></a>2ã€<code>getHandler</code></h5><img src="/javaEE/SpringMVC/2023/07/20/SpringMVC%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B/image-20230814212337158.png" class title="image-20230814212337158"><h5 id="3ã€getHandlerAdapter"><a href="#3ã€getHandlerAdapter" class="headerlink" title="3ã€getHandlerAdapter"></a>3ã€<code>getHandlerAdapter</code></h5><img src="/javaEE/SpringMVC/2023/07/20/SpringMVC%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B/image-20230814212725993.png" class title="image-20230814212725993"><h5 id="4ã€applyPreHandle"><a href="#4ã€applyPreHandle" class="headerlink" title="4ã€applyPreHandle"></a>4ã€<code>applyPreHandle</code></h5><img src="/javaEE/SpringMVC/2023/07/20/SpringMVC%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B/image-20230814213519766.png" class title="image-20230814213519766"><img src="/javaEE/SpringMVC/2023/07/20/SpringMVC%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B/image-20230814213604692.png" class title="image-20230814213604692"><blockquote><p> æ²¡æœ‰ä¸€ä¸ªæ‹¦æˆªå™¨è¿”å›falseçš„æƒ…å†µ</p></blockquote><img src="/javaEE/SpringMVC/2023/07/20/SpringMVC%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B/image-20230814213707569.png" class title="image-20230814213707569"><blockquote><p>ä¸­é—´æœ‰ä¸€ä¸ªæ‹¦æˆªå™¨è¿”å›falseçš„æƒ…å†µ</p></blockquote><img src="/javaEE/SpringMVC/2023/07/20/SpringMVC%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B/image-20230814213656299.png" class title="image-20230814213656299"><h5 id="5ã€handle"><a href="#5ã€handle" class="headerlink" title="5ã€handle"></a>5ã€<code>handle</code></h5><p>å¥½ï¼Œè¿™ä¸ªhaæ˜¯ä¸€ä¸ª<code>HandlerAdapter</code>æ¥å£å®ç°ç±»</p><p>æˆ‘ä»¬è·‘ä¸ªç¨‹åºè®©æ–­ç‚¹åœåœ¨è¿™</p><blockquote><p>æ§åˆ¶å™¨å®šä¹‰å¦‚ä¸‹<img src="/javaEE/SpringMVC/2023/07/20/SpringMVC%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B/image-20230814223347868.png" class title="image-20230814223347868"></p></blockquote><img src="/javaEE/SpringMVC/2023/07/20/SpringMVC%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B/image-20230814222057013.png" class title="image-20230814222057013"><p>ç‚¹è¿›å»</p><img src="/javaEE/SpringMVC/2023/07/20/SpringMVC%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B/image-20230814222117947.png" class title="image-20230814222117947"><img src="/javaEE/SpringMVC/2023/07/20/SpringMVC%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B/image-20230814222533424.png" class title="image-20230814222533424"><blockquote><p>invokeHandlerMethod</p></blockquote><img src="/javaEE/SpringMVC/2023/07/20/SpringMVC%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B/image-20230814225416006.png" class title="image-20230814225416006"><img src="/javaEE/SpringMVC/2023/07/20/SpringMVC%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B/image-20230814225433715.png" class title="image-20230814225433715"><blockquote><p>invokeAndHandle</p></blockquote><img src="/javaEE/SpringMVC/2023/07/20/SpringMVC%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B/image-20230814222705465.png" class title="image-20230814222705465"><img src="/javaEE/SpringMVC/2023/07/20/SpringMVC%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B/image-20230814222922395.png" class title="image-20230814222922395"><blockquote><p>getMethodArgumentValues</p></blockquote><img src="/javaEE/SpringMVC/2023/07/20/SpringMVC%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B/image-20230814223518496.png" class title="image-20230814223518496"><img src="/javaEE/SpringMVC/2023/07/20/SpringMVC%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B/image-20230814224010046.png" class title="image-20230814224010046"><p>å…·ä½“è§£æå‚æ•°çš„é€»è¾‘å°±ä¸åœ¨è¿™é‡Œçœ‹äº†ï¼Œåç»­æ–‡ç« å¯ä»¥å†™ä¸€ä¸‹</p><blockquote><p>doInvoke</p></blockquote><img src="/javaEE/SpringMVC/2023/07/20/SpringMVC%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B/image-20230814224309026.png" class title="image-20230814224309026"><p>å›åˆ°åˆšåˆšè°ƒç”¨<code>invokeForRequest</code>çš„åœ°æ–¹</p><img src="/javaEE/SpringMVC/2023/07/20/SpringMVC%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B/image-20230814224451182.png" class title="image-20230814224451182"><img src="/javaEE/SpringMVC/2023/07/20/SpringMVC%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B/image-20230814224721730.png" class title="image-20230814224721730"><img src="/javaEE/SpringMVC/2023/07/20/SpringMVC%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B/image-20230814224805370.png" class title="image-20230814224805370"><p><code>writeWithMessageConviters</code>æ–¹æ³•å°±æ˜¯å°†æ–¹æ³•è¿”å›å€¼è½¬åŒ–ä¸ºjsonåå°†å…¶å†™åˆ°responseä¸­ï¼Œå…·ä½“æ‰§è¡Œé€»è¾‘åç»­æ–‡ç« å¯ä»¥å†™ä¸€ä¸‹</p><p>å¥½ï¼Œè¿™ä¸ªæ–¹æ³•æ‰§è¡Œå®Œä¹‹åï¼Œå›åˆ°åˆšåˆš<code>RequestMappingHandlerAdapter</code>çš„<code>invokeHandlerMethod</code>çš„åœ°æ–¹ï¼Œç„¶åå°±æ˜¯è·å¾—<code>ModelAndView</code>å¯¹è±¡äº†</p><img src="/javaEE/SpringMVC/2023/07/20/SpringMVC%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B/image-20230814225504748.png" class title="image-20230814225504748"><blockquote><p>getModelAndView</p></blockquote><img src="/javaEE/SpringMVC/2023/07/20/SpringMVC%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B/image-20230814225633924.png" class title="image-20230814225633924"><blockquote><p>è¿™é‡Œæ˜¯trueçš„åŸå› </p><img src="/javaEE/SpringMVC/2023/07/20/SpringMVC%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B/image-20230814230143918.png" class title="image-20230814230143918"></blockquote><p>ç„¶åä¸€ç›´å¾€å›èµ°ï¼Œä¸€ç›´å›åˆ°<code>RequestMappingHandlerAdaptor</code>çš„<code>handleInternal</code>æ–¹æ³•å¾—åˆ°è¿™ä¸ª<code>ModelAndView</code>å¯¹è±¡</p><img src="/javaEE/SpringMVC/2023/07/20/SpringMVC%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B/image-20230815083638216.png" class title="image-20230815083638216"><p>å°†<code>ModelAndView</code>å¯¹è±¡è¿”å›åˆ°<code>DispatcherServlet</code>çš„<code>ha.handle</code>æ–¹æ³•</p><img src="/javaEE/SpringMVC/2023/07/20/SpringMVC%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B/image-20230814230430024.png" class title="image-20230814230430024"><h5 id="å°æ€»ç»“-1"><a href="#å°æ€»ç»“-1" class="headerlink" title="å°æ€»ç»“"></a>å°æ€»ç»“</h5><p>è¿™ä¸ªhandleæ–¹æ³•å¹²çš„äº‹æƒ…è¿˜çœŸå¤šå•Šï¼Œå¯¹å®ƒçš„åŠŸèƒ½åšä¸€ä¸‹å°æ€»ç»“</p><p>1ã€æ‰§è¡Œç›®æ ‡æ–¹æ³•ï¼ˆå°±æ˜¯å¯¹åº”Controllerä¸­çš„æ–¹æ³•ï¼‰</p><p>2ã€å°†å“åº”ä¿¡æ¯å†™å…¥responseä¸­</p><p>3ã€æ„å»º<code>ModelAndView</code>å¯¹è±¡ï¼ˆå¦‚æœéœ€è¦çš„è¯ï¼‰</p><h5 id="6ã€applyPostHandle"><a href="#6ã€applyPostHandle" class="headerlink" title="6ã€applyPostHandle"></a>6ã€<code>applyPostHandle</code></h5><img src="/javaEE/SpringMVC/2023/07/20/SpringMVC%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B/image-20230815084043411.png" class title="image-20230815084043411"><p>è¿™é‡Œå°±æ˜¯æ‰§è¡Œæ‹¦æˆªå™¨é“¾çš„<code>postHandle</code>æ–¹æ³•</p><p>å¯ä»¥çœ‹åˆ°è¿™é‡Œæ˜¯ç›´æ¥ä»æ‹¦æˆªå™¨å°¾éƒ¨å¼€å§‹å¾€å‰éå†çš„</p><h5 id="7ã€processDispatchResult"><a href="#7ã€processDispatchResult" class="headerlink" title="7ã€processDispatchResult"></a>7ã€<code>processDispatchResult</code></h5><img src="/javaEE/SpringMVC/2023/07/20/SpringMVC%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B/image-20230815084552090.png" class title="image-20230815084552090"><blockquote><p>processHandlerException</p></blockquote><img src="/javaEE/SpringMVC/2023/07/20/SpringMVC%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B/image-20230815090156872.png" class title="image-20230815090156872"><hr><p>å›åˆ°åˆšåˆšçš„<code>processDispatchResult</code>ä¸‹åŠéƒ¨åˆ†</p><img src="/javaEE/SpringMVC/2023/07/20/SpringMVC%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B/image-20230815084859302.png" class title="image-20230815084859302"><h4 id="å°æ€»ç»“-2"><a href="#å°æ€»ç»“-2" class="headerlink" title="å°æ€»ç»“"></a>å°æ€»ç»“</h4><p>å¯¹<code>DispatcherServlet</code>æ­¤å—åŠŸèƒ½åšä¸ªå°æ€»ç»“</p><p>1ã€æ ¹æ®è¯·æ±‚æ–¹æ³•å°†è¯·æ±‚åˆ†å‘åˆ°å¯¹åº”çš„<code>doXxx</code>æ–¹æ³•ï¼ˆä»<code>HttpServlet</code>ç»§æ‰¿æ¥çš„æ–¹æ³•ï¼‰</p><p>2ã€<code>FrameworkServlet</code>æ–¹æ³•å¤å†™è¿™äº›<code>doXxx</code>æ–¹æ³•ï¼Œéƒ½ä½¿ç”¨åˆ°äº†ä¸€ä¸ªæ–¹æ³•<code>processRequest</code></p><p>3ã€åœ¨<code>processRequest</code>æ–¹æ³•ä¸­ï¼Œæ”¾å‡ºäº†ä¸€ä¸ª<code>doService</code>æŠ½è±¡æ–¹æ³•è¢«<code>DispatcherServlet</code>å®ç°</p><p>4ã€åœ¨<code>doService</code>æ–¹æ³•ä¸­ï¼Œåˆè°ƒç”¨äº†æœ¬ç±»çš„<code>doDispatch</code>æ–¹æ³•</p><p>5ã€<code>getHandler(processedRequest)</code>ä½¿ç”¨æˆå‘˜å±æ€§<code>handlerMappings</code>åŒ¹é…å¹¶åˆ›å»º<code>HandlerExecutionChain</code></p><p>6ã€<code>getHandlerAdapter(mappedHandler.getHandler())</code>ä½¿ç”¨æˆå‘˜å±æ€§<code>handlerAdapters</code>åŒ¹é…å¯ä»¥å¤„ç†<code>HandlerExecutionChain</code>ä¸­çš„<code>handler</code>çš„<code>HandlerAdapter</code></p><p>7ã€<code>mappedHandler.applyPreHandle(processedRequest, response)</code>æ‰§è¡Œæ‹¦æˆªå™¨é“¾çš„<code>preHandle</code>æ–¹æ³•</p><p>8ã€<code> ha.handle(processedRequest, response, mappedHandler.getHandler())</code>æ‰§è¡Œç›®æ ‡æ–¹æ³•ä¸­çš„é€»è¾‘ï¼Œå¹¶åˆ›å»º<code>ModelAndView</code>(å¦‚æœæœ‰çš„è¯)</p><p>9ã€<code>mappedHandler.applyPostHandle(processedRequest, response, mv)</code>æ‰§è¡Œæ‹¦æˆªå™¨é“¾çš„<code>postHandle</code>æ–¹æ³•</p><p>10ã€<code>processDispatchResult(processedRequest, response, mappedHandler, mv, dispatchException)</code>æ‰§è¡Œè¿‡ç¨‹ä¸­å¦‚æœæœ‰å¼‚å¸¸éœ€è¦ç”¨æˆå‘˜å±æ€§<code>handlerExceptionResolvers</code>å¤„ç†å¼‚å¸¸æŒ‡å®šé”™è¯¯è§†å›¾ï¼Œå¹¶ä¸”æ‰§è¡Œæ‹¦æˆªå™¨é“¾çš„<code>afterCompletion</code>æ–¹æ³•</p><h3 id="é”€æ¯destroy"><a href="#é”€æ¯destroy" class="headerlink" title="é”€æ¯destroy"></a>é”€æ¯<code>destroy</code></h3><h4 id="GenericServlet-2"><a href="#GenericServlet-2" class="headerlink" title="GenericServlet"></a><code>GenericServlet</code></h4><img src="/javaEE/SpringMVC/2023/07/20/SpringMVC%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B/image-20230815092605316.png" class title="image-20230815092605316"><h4 id="HttpServlet-2"><a href="#HttpServlet-2" class="headerlink" title="HttpServlet"></a><code>HttpServlet</code></h4><p>è¯¥ç±»ä¸­æ²¡æœ‰å¤å†™<code>destroy</code>æ–¹æ³•</p><img src="/javaEE/SpringMVC/2023/07/20/SpringMVC%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B/image-20230815092646855.png" class title="image-20230815092646855"><h4 id="HttpServletBean-1"><a href="#HttpServletBean-1" class="headerlink" title="HttpServletBean"></a><code>HttpServletBean</code></h4><p>è¯¥ç±»ä¸­æ²¡æœ‰å¤å†™<code>destroy</code>æ–¹æ³•</p><img src="/javaEE/SpringMVC/2023/07/20/SpringMVC%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B/image-20230815092730470.png" class title="image-20230815092730470"><h4 id="FrameworkServlet-2"><a href="#FrameworkServlet-2" class="headerlink" title="FrameworkServlet"></a><code>FrameworkServlet</code></h4><img src="/javaEE/SpringMVC/2023/07/20/SpringMVC%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B/image-20230815092901063.png" class title="image-20230815092901063"><h4 id="DispatcherServlet-2"><a href="#DispatcherServlet-2" class="headerlink" title="DispatcherServlet"></a><code>DispatcherServlet</code></h4><p>è¯¥ç±»ä¸­æ²¡æœ‰å¤å†™<code>destroy</code>æ–¹æ³•</p><img src="/javaEE/SpringMVC/2023/07/20/SpringMVC%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B/image-20230815092930257.png" class title="image-20230815092930257"><h4 id="å°æ€»ç»“-3"><a href="#å°æ€»ç»“-3" class="headerlink" title="å°æ€»ç»“"></a>å°æ€»ç»“</h4><p>ä¹Ÿå°±æ˜¯è¯´åªæœ‰<code>FrameworkServlet</code>ä¸­å®šä¹‰äº†<code>destroy</code>æ–¹æ³•ï¼Œä¹Ÿå°±æ˜¯å…³é—­webå®¹å™¨</p><h2 id="æ—¶åºå›¾"><a href="#æ—¶åºå›¾" class="headerlink" title="æ—¶åºå›¾"></a>æ—¶åºå›¾</h2><img src="/javaEE/SpringMVC/2023/07/20/SpringMVC%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B/image-20230815101142186.png" class title="image-20230815101142186">]]></content>
      
      
      <categories>
          
          <category> javaEE </category>
          
          <category> SpringMVC </category>
          
      </categories>
      
      
        <tags>
            
            <tag> SpringMVC </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>SpringBootè‡ªåŠ¨è£…é…æµç¨‹</title>
      <link href="/javaEE/SpringBoot/2023/07/17/SpringBoot%E8%87%AA%E5%8A%A8%E8%A3%85%E9%85%8D/"/>
      <url>/javaEE/SpringBoot/2023/07/17/SpringBoot%E8%87%AA%E5%8A%A8%E8%A3%85%E9%85%8D/</url>
      
        <content type="html"><![CDATA[<h1 id="SpringBootè‡ªåŠ¨è£…é…æµç¨‹"><a href="#SpringBootè‡ªåŠ¨è£…é…æµç¨‹" class="headerlink" title="SpringBootè‡ªåŠ¨è£…é…æµç¨‹"></a>SpringBootè‡ªåŠ¨è£…é…æµç¨‹</h1><h2 id="å‡†å¤‡å·¥ä½œ"><a href="#å‡†å¤‡å·¥ä½œ" class="headerlink" title="å‡†å¤‡å·¥ä½œ"></a>å‡†å¤‡å·¥ä½œ</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@SpringBootApplication</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SpringStartProcessApplication</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        SpringApplication.run(SpringStartProcessApplication.class,args);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ‹†åˆ†@SpringBootApplicationæ³¨è§£</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ ‡æ³¨è¯¥ç±»æ˜¯ä¸»å¯åŠ¨ç±»</span></span><br><span class="line">@SpringBootApplication</span><br><span class="line">    @SpringBootConfiguration</span><br><span class="line">        <span class="comment"># é…ç½®ç±»</span></span><br><span class="line">        @Configuration</span><br><span class="line">        <span class="comment"># åŠ å¿«SpringBootå¯åŠ¨</span></span><br><span class="line">        @Indexed</span><br><span class="line">    <span class="comment"># å¼€å¯è‡ªåŠ¨è£…é…</span></span><br><span class="line">    @EnableAutoConfiguration</span><br><span class="line">        <span class="comment"># è®¾ç½®æ‰«æåŒ…çš„è·¯å¾„</span></span><br><span class="line">        @AutoConfigurationPackage</span><br><span class="line">            <span class="comment"># å¯¼å…¥ä¸€ä¸ªç±»</span></span><br><span class="line">            @Import(AutoConfigurationPackages.Registrar.class)</span><br><span class="line">        <span class="comment"># åŠ è½½META-INF/spring.factoriesï¼Œå°†beandefinitionsè£…å…¥å®¹å™¨</span></span><br><span class="line">        @Import(AutoConfigurationImportSelector.class)</span><br><span class="line">    <span class="comment"># ç”¨æ¥æ’é™¤ä¸€äº›è‡ªåŠ¨é…ç½®ç±»</span></span><br><span class="line">    @ComponentScan(excludeFilters = &#123; @Filter(<span class="built_in">type</span> = FilterType.CUSTOM, classes = TypeExcludeFilter.class),</span><br><span class="line">    @Filter(<span class="built_in">type</span> = FilterType.CUSTOM, classes = AutoConfigurationExcludeFilter.class) &#125;)</span><br></pre></td></tr></table></figure><p>æ¥ä¸‹æ¥é‡ç‚¹å…³æ³¨<code>AutoConfigurationPackages.Registrar</code>ç±»å’Œ<code>AutoConfigurationImportSelector</code>ç±»</p><h2 id="AutoConfigurationPackages-Registrar"><a href="#AutoConfigurationPackages-Registrar" class="headerlink" title="AutoConfigurationPackages.Registrar"></a>AutoConfigurationPackages.Registrar</h2><p>å…ˆåœ¨<code>AutoConfigurationPackages.Registrar</code>çš„å›¾ç¤ºä½ç½®æ‰“ä¸Šæ–­ç‚¹ï¼Œæ¥ç€å¯åŠ¨ç¨‹åº</p><img src="/javaEE/SpringBoot/2023/07/17/SpringBoot%E8%87%AA%E5%8A%A8%E8%A3%85%E9%85%8D/process0.png" class><p>åˆ†ææºç è¦ç”±å†…è€Œå¤–çš„åˆ†æ</p><p>æ–¹æ³•å‚æ•°ä¸­æœ‰ä¸€ä¸ªnewå‡ºæ¥çš„å¯¹è±¡ï¼Œç›´æ¥å•æ­¥è°ƒè¯•è¿›å»</p><img src="/javaEE/SpringBoot/2023/07/17/SpringBoot%E8%87%AA%E5%8A%A8%E8%A3%85%E9%85%8D/process1.png" class><p>1ã€metadataåˆ°åº•æ˜¯å“ªä¸ªç±»çš„æ³¨è§£å…ƒä¿¡æ¯ï¼Ÿ</p><p>å…¶å®æ˜¯å¯åŠ¨ç±»çš„ï¼Œä¹Ÿå°±æ˜¯SpringStartProcessorApplication</p><p>2ã€è¿™ä¸ªbasePackageså’ŒbasePackageClassesåœ¨å“ªé‡Œä½“ç°çš„å‘¢ï¼Ÿ</p><img src="/javaEE/SpringBoot/2023/07/17/SpringBoot%E8%87%AA%E5%8A%A8%E8%A3%85%E9%85%8D/process2.png" class><p>å…¶å®æ˜¯åœ¨SpringBootApplicationæ³¨è§£ä¸Š</p><img src="/javaEE/SpringBoot/2023/07/17/SpringBoot%E8%87%AA%E5%8A%A8%E8%A3%85%E9%85%8D/process3.png" class><p>è¿™ä¹Ÿå°±è¯´æ˜è¿™ä¸ªmetadataåŒ…æ‹¬äº†<code>@SpringBootApplication</code>æ ‡æ³¨çš„ç±»ä¸Šçš„å…¶ä»–æ³¨è§£çš„å…ƒä¿¡æ¯å’Œè‡ªèº«å†…éƒ¨çš„æ³¨è§£çš„å…ƒä¿¡æ¯</p><img src="/javaEE/SpringBoot/2023/07/17/SpringBoot%E8%87%AA%E5%8A%A8%E8%A3%85%E9%85%8D/process4.png" class><p>okè¿™æ®µä»£ç è§£å†³ï¼Œç°åœ¨ç»§ç»­ç‚¹è¿›å»ï¼Œçœ‹è¿™ä¸ª<code>register</code>æ–¹æ³•é‡Œé¢å†™äº†å•¥</p><img src="/javaEE/SpringBoot/2023/07/17/SpringBoot%E8%87%AA%E5%8A%A8%E8%A3%85%E9%85%8D/process5.png" class><h2 id="AutoConfigurationImportSelector"><a href="#AutoConfigurationImportSelector" class="headerlink" title="AutoConfigurationImportSelector"></a>AutoConfigurationImportSelector</h2><img src="/javaEE/SpringBoot/2023/07/17/SpringBoot%E8%87%AA%E5%8A%A8%E8%A3%85%E9%85%8D/process6.png" class><p>æ—¢ç„¶çŸ¥é“äº†è¿™ä¸ªç±»çš„ä½œç”¨ï¼Œæ‰€ä»¥æ‰¾åˆ°selectImportsæ–¹æ³•ï¼Œæ‰“ä¸Šæ–­ç‚¹ï¼Œå¯åŠ¨ç¨‹åºç­‰å¾…ç¨‹åºåœæ­¢</p><p>ä½†æ˜¯ï¼ä½ ä¼šå‘ç°æ–­ç‚¹å¹¶æ²¡æœ‰ç”Ÿæ•ˆ</p><p>å®é™…ä¸Šæ–­ç‚¹åº”è¯¥æ‰“åœ¨<code>AutoConfigurationGroup</code>ç±»çš„<code>process</code>æ–¹æ³•</p><img src="/javaEE/SpringBoot/2023/07/17/SpringBoot%E8%87%AA%E5%8A%A8%E8%A3%85%E9%85%8D/process7.png" class><p>ç‚¹è¿›<code>getAutoConfigurationEntry</code>æ–¹æ³•</p><img src="/javaEE/SpringBoot/2023/07/17/SpringBoot%E8%87%AA%E5%8A%A8%E8%A3%85%E9%85%8D/process8.png" class><blockquote><p>ps:è¿™é‡Œçš„attributesæ˜¯å–å‡ºexcludeå’ŒexcludeNameï¼Œå°±æ˜¯ç”¨äºæ’é™¤æ‰ä¸éœ€è¦åŠ è½½çš„è‡ªåŠ¨é…ç½®ç±»<br>è¿™ä¸¤ä¸ªå±æ€§æ˜¯åœ¨@SpringBootApplicationä¸­é…çš„ï¼Œæ˜¯ä»@EnableConfigurationä¸­å¾—æ¥çš„</p><img src="/javaEE/SpringBoot/2023/07/17/SpringBoot%E8%87%AA%E5%8A%A8%E8%A3%85%E9%85%8D/process11.png" class></blockquote><blockquote><blockquote><img src="/javaEE/SpringBoot/2023/07/17/SpringBoot%E8%87%AA%E5%8A%A8%E8%A3%85%E9%85%8D/process12.png" class></blockquote></blockquote><h3 id="getCandidateConfigurations"><a href="#getCandidateConfigurations" class="headerlink" title="getCandidateConfigurations"></a><code>getCandidateConfigurations</code></h3><img src="/javaEE/SpringBoot/2023/07/17/SpringBoot%E8%87%AA%E5%8A%A8%E8%A3%85%E9%85%8D/process9.png" class><p>ç‚¹è¿›<code>SpringFactoriesLoader.loadFactoryNames</code>æ–¹æ³•</p><img src="/javaEE/SpringBoot/2023/07/17/SpringBoot%E8%87%AA%E5%8A%A8%E8%A3%85%E9%85%8D/process10.png" class><p>ç‚¹è¿›<code>loadSpringFactories</code>æ–¹æ³•</p><img src="/javaEE/SpringBoot/2023/07/17/SpringBoot%E8%87%AA%E5%8A%A8%E8%A3%85%E9%85%8D/process14.png" class><p>ç„¶ååœ¨è¿™é‡Œå°±ä¼šå‘ç°è¿™ä¸ªresultç«Ÿç„¶ä¸æ˜¯nullï¼Œç›´æ¥è¿”å›äº†result</p><p>å“ä¸æ˜¯ï¼Œæˆ‘è¿˜æ²¡æ‰§è¡Œä¸‹é¢çš„é€»è¾‘å‘¢ï¼Œæ€ä¹ˆå°±èµ°ç¼“å­˜äº†</p><p>å…¶å®è¿™æ­¥åŠ è½½åœ¨åˆšå¼€å§‹çš„æ—¶å€™å°±åšäº†ï¼Œæ‰€ä»¥ç›´æ¥åœ¨ä¸‹é¢æ‰“ä¸€ä¸ªæ–­ç‚¹ï¼Œç„¶åé‡æ–°æ‰§è¡Œ</p><p>ä½ ä¼šå‘ç°ä¹‹å‰çš„é‚£äº›æ–­ç‚¹éƒ½æ²¡æœ‰èµ·ä½œç”¨ï¼Œè€Œæ˜¯ç›´æ¥åœåœ¨äº†è¿™ä¸€è¡Œ</p><img src="/javaEE/SpringBoot/2023/07/17/SpringBoot%E8%87%AA%E5%8A%A8%E8%A3%85%E9%85%8D/process18.png" class><p>ç°åœ¨æ‰¾ä¸€ä¸‹<code>auto-configuration</code>åŒ…ä¸‹çš„<code>META-INF/spring.factories</code>æ–‡ä»¶</p><img src="/javaEE/SpringBoot/2023/07/17/SpringBoot%E8%87%AA%E5%8A%A8%E8%A3%85%E9%85%8D/process13.png" class><p>å¯ä»¥çœ‹åˆ°è¿™äº›ç±»éƒ½æœ‰ä¸€ä¸ªç»Ÿä¸€çš„ç‰¹å¾ï¼Œé‚£å°±æ˜¯éƒ½æ˜¯ä»¥AutoConfigurationç»“å°¾</p><img src="/javaEE/SpringBoot/2023/07/17/SpringBoot%E8%87%AA%E5%8A%A8%E8%A3%85%E9%85%8D/process15.png" class><p>éšä¾¿ç‚¹å¼€ä¸€ä¸ªçœ‹ï¼Œå‘ç°éƒ½é•¿å¾—å·®ä¸å¤š</p><img src="/javaEE/SpringBoot/2023/07/17/SpringBoot%E8%87%AA%E5%8A%A8%E8%A3%85%E9%85%8D/process16.png" class><blockquote><p>æ³¨æ„ï¼šè¿™é‡Œä¼šåŠ è½½ç±»è·¯å¾„ä¸‹æ‰€æœ‰çš„<code>META-INF/spring.factories</code>æ–‡ä»¶</p><p>æ¯ä¸€ä¸ªurlå°±æ˜¯ä¸€ä¸ªjaråŒ…ä¸‹çš„<code>META-INF/spring.factories</code>æ–‡ä»¶</p></blockquote><img src="/javaEE/SpringBoot/2023/07/17/SpringBoot%E8%87%AA%E5%8A%A8%E8%A3%85%E9%85%8D/process17.png" class><img src="/javaEE/SpringBoot/2023/07/17/SpringBoot%E8%87%AA%E5%8A%A8%E8%A3%85%E9%85%8D/process19.png" class><p>å¥½ï¼Œç°åœ¨æˆ‘ä»¬åŠ è½½äº†æ‰€æœ‰jaråŒ…ä¸‹çš„<code>META-INF/spring.factories</code>æ–‡ä»¶</p><p>ç°åœ¨æ”¾è¡Œï¼Œä¸€ç›´åˆ°è¿™ä¸€æ­¥</p><img src="/javaEE/SpringBoot/2023/07/17/SpringBoot%E8%87%AA%E5%8A%A8%E8%A3%85%E9%85%8D/process21.png" class><p>ä¸ºä»€ä¹ˆè¦æ¡†ä½131è¿™ä¸ªæ•°å­—ï¼Ÿ</p><p>ä½ ç°åœ¨å›åˆ°åˆšåˆšé‚£ä¸ª<code>spring.factories</code>æ–‡ä»¶</p><p>æ•°ä¸€ä¸‹<code>org.springframework.boot.autoconfigure.EnableAutoConfiguration</code>åé¢æœ‰å‡ ä¸ªç±»çš„å…¨é™å®šå</p><img src="/javaEE/SpringBoot/2023/07/17/SpringBoot%E8%87%AA%E5%8A%A8%E8%A3%85%E9%85%8D/process20.png" class><p>å¯¹ï¼Œæ­£æ­£å¥½å¥½131ä¸ª</p><h3 id="removeDuplicates"><a href="#removeDuplicates" class="headerlink" title="removeDuplicates"></a><code>removeDuplicates</code></h3><img src="/javaEE/SpringBoot/2023/07/17/SpringBoot%E8%87%AA%E5%8A%A8%E8%A3%85%E9%85%8D/process22.png" class><p>è¿™ä¸ªæ–¹æ³•å°±æ˜¯ç»™listå»é‡çš„ï¼Œç®€å•çš„èµ–ï¼Œæˆ‘æ¥æˆ‘ä¹Ÿè¡Œï¼</p><p>ä¸ºä»€ä¹ˆè¦åšå»é‡ï¼Ÿè¿™ä¸ªæ–‡ä»¶ä¸æ˜¯springè‡ªå·±å†™çš„å—ï¼Ÿå®ƒè‡ªå·±è¿˜ä¸æ•¢ç¡®å®šè¿™ä¸ªç±»ä¸ä¼šé‡å¤å—ï¼Ÿ</p><p>åˆšåˆšæåˆ°äº†ï¼Œè¿™é‡Œä¼šåŠ è½½æ‰€æœ‰ç±»è·¯å¾„ä¸‹çš„<code>spring.factories</code>æ–‡ä»¶ï¼Œæ‰€ä»¥æˆ‘å¦‚æœè¿™æ ·å‘¢<br>æˆ‘åœ¨æˆ‘è‡ªå·±çš„ç±»è·¯å¾„ä¸‹é¢åˆ›å»ºä¸€ä¸ª<code>spring.factories</code>æ–‡ä»¶</p><img src="/javaEE/SpringBoot/2023/07/17/SpringBoot%E8%87%AA%E5%8A%A8%E8%A3%85%E9%85%8D/process23.png" class><p>å†…å®¹å¦‚ä¸‹</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">org.springframework.boot.autoconfigure.EnableAutoConfiguration=\</span><br><span class="line">org.springframework.boot.autoconfigure.admin.SpringApplicationAdminJmxAutoConfiguration</span><br></pre></td></tr></table></figure><p>Springèƒ½ç¡®è®¤è‡ªå·±å†™çš„ä¸ä¼šé‡å¤ï¼Œä½†æ˜¯å®ƒä¸èƒ½ä¿è¯ä½ ä¸åŠ ä¸ªé‡å¤çš„å•Š</p><h3 id="getExclusions"><a href="#getExclusions" class="headerlink" title="getExclusions"></a><code>getExclusions</code></h3><img src="/javaEE/SpringBoot/2023/07/17/SpringBoot%E8%87%AA%E5%8A%A8%E8%A3%85%E9%85%8D/process24.png" class><h3 id="checkExcludedClasses"><a href="#checkExcludedClasses" class="headerlink" title="checkExcludedClasses"></a><code>checkExcludedClasses</code></h3><p>æ£€æŸ¥æ’é™¤çš„ç±»æ˜¯å¦åœ¨<code>org.springframework.boot.autoconfigure.EnableAutoConfiguration</code>é…ç½®ä¸­</p><p>å¦‚æœä¸å­˜åœ¨åˆ™ä¸å…è®¸æ’é™¤ï¼ŒæŠ›å‡ºå¼‚å¸¸</p><img src="/javaEE/SpringBoot/2023/07/17/SpringBoot%E8%87%AA%E5%8A%A8%E8%A3%85%E9%85%8D/process25.png" class><img src="/javaEE/SpringBoot/2023/07/17/SpringBoot%E8%87%AA%E5%8A%A8%E8%A3%85%E9%85%8D/process26.png" class><h3 id="configurations-removeAll-exclusions"><a href="#configurations-removeAll-exclusions" class="headerlink" title="configurations.removeAll(exclusions);"></a><code>configurations.removeAll(exclusions);</code></h3><p>å³å°†configurationsæ’é™¤exclusions</p><h3 id="getConfigurationClassFilter-filter-configurations"><a href="#getConfigurationClassFilter-filter-configurations" class="headerlink" title="getConfigurationClassFilter().filter(configurations);"></a><code>getConfigurationClassFilter().filter(configurations);</code></h3><img src="/javaEE/SpringBoot/2023/07/17/SpringBoot%E8%87%AA%E5%8A%A8%E8%A3%85%E9%85%8D/process27.png" class><img src="/javaEE/SpringBoot/2023/07/17/SpringBoot%E8%87%AA%E5%8A%A8%E8%A3%85%E9%85%8D/process28.png" class><img src="/javaEE/SpringBoot/2023/07/17/SpringBoot%E8%87%AA%E5%8A%A8%E8%A3%85%E9%85%8D/process29.png" class><img src="/javaEE/SpringBoot/2023/07/17/SpringBoot%E8%87%AA%E5%8A%A8%E8%A3%85%E9%85%8D/process30.png" class><p>åœ¨è¿‡æ»¤åï¼Œconfigurationså°±åªå‰©ä¸‹å¯æ€œçš„13ä¸ªäº†</p><img src="/javaEE/SpringBoot/2023/07/17/SpringBoot%E8%87%AA%E5%8A%A8%E8%A3%85%E9%85%8D/process31.png" class><h3 id="fireAutoConfigurationImportEvents"><a href="#fireAutoConfigurationImportEvents" class="headerlink" title="fireAutoConfigurationImportEvents"></a><code>fireAutoConfigurationImportEvents</code></h3><p>è¿™ä¸ªä¸å¤ªç¡®å®š</p><img src="/javaEE/SpringBoot/2023/07/17/SpringBoot%E8%87%AA%E5%8A%A8%E8%A3%85%E9%85%8D/process32.png" class><p>æœ€åå°±å°†å…¶å°è£…æˆ<code>AutoConfigurationEntry</code>å¯¹è±¡è¿”å›</p>]]></content>
      
      
      <categories>
          
          <category> javaEE </category>
          
          <category> SpringBoot </category>
          
      </categories>
      
      
        <tags>
            
            <tag> SpringBoot </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Nginxé…ç½®</title>
      <link href="/javaEE/2023/07/16/Nginx%E9%85%8D%E7%BD%AE/"/>
      <url>/javaEE/2023/07/16/Nginx%E9%85%8D%E7%BD%AE/</url>
      
        <content type="html"><![CDATA[<h2 id="æ ‡é¢˜"><a href="#æ ‡é¢˜" class="headerlink" title="æ ‡é¢˜"></a>æ ‡é¢˜</h2><h1 id="Nginxé…ç½®"><a href="#Nginxé…ç½®" class="headerlink" title="Nginxé…ç½®"></a>Nginxé…ç½®</h1><h2 id="å…¨å±€å—"><a href="#å…¨å±€å—" class="headerlink" title="å…¨å±€å—"></a>å…¨å±€å—</h2><p>æ‰€æœ‰åœ¨nginx.confä¸­ï¼Œä½†æ˜¯ä¸åœ¨<code>&#123; &#125;</code>ä¸­çš„é…ç½®</p><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æŒ‡å®šè¿è¡Œnginxçš„ç”¨æˆ·å’Œç”¨æˆ·ç»„</span></span><br><span class="line"><span class="attribute">user</span> myUser myGroup;</span><br><span class="line"><span class="comment"># å·¥ä½œçº¿ç¨‹æ•°é‡ï¼Œä¸€èˆ¬è®¾ç½®æˆCPUæ ¸å¿ƒæ•°</span></span><br><span class="line"><span class="comment"># 1ä¸ªmasterè¿›ç¨‹ï¼Œ4ä¸ªworkerè¿›ç¨‹</span></span><br><span class="line"><span class="attribute">worker_process</span> <span class="number">4</span>;</span><br><span class="line"><span class="comment"># æŒ‡å®špidæ–‡ä»¶æ‰€åœ¨è·¯å¾„</span></span><br><span class="line"><span class="attribute">pid</span> /usr/local/nginx/nginx.pid;</span><br><span class="line"><span class="comment"># é”™è¯¯æ—¥å¿—çš„å­˜æ”¾è·¯å¾„å’Œæ—¥å¿—çº§åˆ«</span></span><br><span class="line"><span class="attribute">error_log</span> logs/error.log <span class="literal">debug</span>;</span><br></pre></td></tr></table></figure><h2 id="eventså—"><a href="#eventså—" class="headerlink" title="eventså—"></a>eventså—</h2><p>ä¸»è¦é…ç½®NginxæœåŠ¡å™¨å’Œç”¨æˆ·çš„ç½‘ç»œè¿æ¥</p><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">events&#123;</span><br><span class="line">    <span class="comment"># è®¾ç½®ç½‘ç»œè¿æ¥åºåˆ—åŒ–ï¼Œé»˜è®¤onï¼Œé˜²æ­¢æƒŠç¾¤ç°è±¡</span></span><br><span class="line">    <span class="attribute">accept_mutex</span> <span class="literal">on</span>;</span><br><span class="line">    <span class="comment"># ä¸€ä¸ªè¿›ç¨‹æ˜¯å¦å¯ä»¥æ¥å—å¤šä¸ªç½‘ç»œè¿æ¥</span></span><br><span class="line">    <span class="attribute">multi_accept</span> <span class="literal">on</span>;</span><br><span class="line">    <span class="comment"># äº‹ä»¶é©±åŠ¨æ¨¡å‹ï¼šselectã€pollã€epollã€kqueue</span></span><br><span class="line">    <span class="attribute">use</span> <span class="literal">epoll</span>;</span><br><span class="line">    <span class="comment"># æœ€å¤§è¿æ¥æ•°</span></span><br><span class="line">    <span class="attribute">worker_connections</span> <span class="number">1024</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="httpå—"><a href="#httpå—" class="headerlink" title="httpå—"></a>httpå—</h2><h3 id="åŸºç¡€é…ç½®"><a href="#åŸºç¡€é…ç½®" class="headerlink" title="åŸºç¡€é…ç½®"></a>åŸºç¡€é…ç½®</h3><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line">http&#123;</span><br><span class="line">    <span class="comment"># 1ã€å¼•å…¥æ–‡ä»¶æ‰©å±•åå’Œå…¶æ–‡ä»¶ç±»å‹æ˜ å°„è¡¨</span></span><br><span class="line">    <span class="comment"># é€šè¿‡mine.typesçš„æ˜ å°„ï¼Œè®¾ç½®responseçš„content-type</span></span><br><span class="line">    <span class="attribute">include</span> mine.types;</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 2ã€è®¾ç½®é»˜è®¤æ–‡ä»¶ç±»å‹ï¼Œé»˜è®¤æ˜¯text/plain</span></span><br><span class="line">    <span class="attribute">default_type</span> application/octet-stream;</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 3.1ã€å¼€å¯æœåŠ¡æ—¥å¿—</span></span><br><span class="line">    <span class="attribute">access_log</span> <span class="literal">off</span>;</span><br><span class="line">    <span class="comment"># 3.2ã€è‡ªå®šä¹‰æ—¥å¿—æ ¼å¼</span></span><br><span class="line">    <span class="attribute">log_format</span> myLogFormat <span class="string">&#x27;$remote_addr - $remote_user [$time_local] $request $status $body_bytes_sent $http_refer $http_user_agent $heep_x_forwarded_for&#x27;</span>;</span><br><span class="line">    <span class="comment"># 3.3ã€è®¾ç½®æ—¥å¿—æ ¼å¼</span></span><br><span class="line">    <span class="attribute">access_log</span> log/access.log myLogFormat;</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 4.1ã€æ˜¯å¦å¼€å¯é«˜æ•ˆæ–‡ä»¶ä¼ è¾“æ¨¡å¼</span></span><br><span class="line">    <span class="comment"># æ˜¯å¦ä½¿ç”¨sendfileé›¶æ‹·è´æŠ€æœ¯æ¥å‡å°‘ç”¨æˆ·ç©ºé—´åˆ°å†…æ ¸ç©ºé—´çš„ä¸Šä¸‹æ–‡åˆ‡æ¢</span></span><br><span class="line">    <span class="attribute">sendfile</span> <span class="literal">on</span>;</span><br><span class="line">    <span class="comment"># 4.2ã€æ¯ä¸ªè¿›ç¨‹æ¯æ¬¡æœ€å¤§ä¼ è¾“å€¼ï¼Œé»˜è®¤0ï¼Œä¸é™åˆ¶å¤§å°</span></span><br><span class="line">    <span class="attribute">sendfile_max_chunk</span> <span class="number">100k</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 5ã€é•¿è¿æ¥è¶…æ—¶æ—¶é—´</span></span><br><span class="line">    <span class="attribute">keeplive_timeout</span> <span class="number">100</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 6ã€ä¸€æ¬¡è¿æ¥è¯·æ±‚ä¸Šé™</span></span><br><span class="line">    <span class="attribute">keepalive_requests</span> <span class="number">100</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 7ã€å“åº”å®¢æˆ·ç«¯çš„è¶…æ—¶æ—¶é—´</span></span><br><span class="line">    <span class="attribute">send_timeout</span> <span class="number">60</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 8ã€å®¢æˆ·ç«¯è¯·æ±‚å¤´çš„åŒºç¼“å†²å¤§å°</span></span><br><span class="line">    <span class="attribute">client_header_buffer_size</span> <span class="number">32k</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 9ã€å®¢æˆ·ç«¯è¯·æ±‚å¤´çš„æœ€å¤§ç¼“å†²åŒºå¤§å°å’Œæ•°é‡</span></span><br><span class="line">    <span class="attribute">large_client_header_buffers</span> <span class="number">8</span> <span class="number">32k</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 10ã€å…è®¸å®¢æˆ·ç«¯è¯·æ±‚çš„æœ€å¤§å­—èŠ‚æ•°</span></span><br><span class="line">    <span class="attribute">client_max_body_size</span> <span class="number">10m</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 11ã€å®¢æˆ·ç«¯è¯·æ±‚ä½“çš„ç¼“å†²åŒºå¤§å°</span></span><br><span class="line">    <span class="attribute">client_body_buffer_size</span> <span class="number">128k</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="httpåå‘ä»£ç†åŸºæœ¬é…ç½®"><a href="#httpåå‘ä»£ç†åŸºæœ¬é…ç½®" class="headerlink" title="httpåå‘ä»£ç†åŸºæœ¬é…ç½®"></a>httpåå‘ä»£ç†åŸºæœ¬é…ç½®</h3><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">http&#123;</span><br><span class="line">    <span class="comment"># ä»£ç†è¿æ¥åç«¯æœåŠ¡å™¨è¶…æ—¶æ—¶é—´</span></span><br><span class="line">    <span class="attribute">proxy_connet_timeout</span> <span class="number">90</span>;</span><br><span class="line">    <span class="comment"># ä»£ç†å‘é€åç«¯æœåŠ¡å™¨è¶…æ—¶æ—¶é—´</span></span><br><span class="line">    <span class="attribute">proxy_send_timeout</span> <span class="number">90</span>;</span><br><span class="line">    <span class="comment"># ä»£ç†æ¥æ”¶åç«¯æœåŠ¡å™¨å“åº”è¶…å¸‚</span></span><br><span class="line">    <span class="attribute">proxy_read_timeout</span> <span class="number">90</span>;</span><br><span class="line">    <span class="comment"># ä»nginxè¯»å–å¹¶ä¿å­˜ç”¨æˆ·å¤´ä¿¡æ¯çš„ç¼“å†²åŒºå¤§å°</span></span><br><span class="line">    <span class="attribute">proxy_buffer_size</span> <span class="number">4k</span>;</span><br><span class="line">    <span class="comment"># ä»£ç†ç¼“å­˜åŒºæ•°é‡å’Œå¤§å°</span></span><br><span class="line">    <span class="attribute">proxy_buffers</span> <span class="number">4</span> <span class="number">32k</span>;</span><br><span class="line">    <span class="comment"># é«˜è´Ÿè·ä¸‹ç¼“å†²å¤§å°</span></span><br><span class="line">    <span class="attribute">proxy_busy_buffers_size</span> <span class="number">64k</span>;</span><br><span class="line">    <span class="comment"># è®¾å®šç¼“å­˜æ–‡ä»¶å¤¹å¤§å°</span></span><br><span class="line">    <span class="attribute">proxy_temp_file_write_size</span> <span class="number">64k</span>;</span><br><span class="line">    <span class="comment"># åå°å¯ä»¥è·å–åˆ°å®Œæ•´çš„IP+ç«¯å£å·</span></span><br><span class="line">    <span class="attribute">proxy_set_header</span> Host $host;</span><br><span class="line">    <span class="comment"># åå°å¯ä»¥è·å–åˆ°ç”¨æˆ·è®¿é—®çš„çœŸå®ipåœ°å€</span></span><br><span class="line">    <span class="attribute">proxy_set_header</span> X-Forwarder-For $remote_addr</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="httpåå‘ä»£ç†æœåŠ¡å™¨å’Œè´Ÿè½½å‡è¡¡"><a href="#httpåå‘ä»£ç†æœåŠ¡å™¨å’Œè´Ÿè½½å‡è¡¡" class="headerlink" title="httpåå‘ä»£ç†æœåŠ¡å™¨å’Œè´Ÿè½½å‡è¡¡"></a>httpåå‘ä»£ç†æœåŠ¡å™¨å’Œè´Ÿè½½å‡è¡¡</h3><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">upstream</span> product_server &#123;</span><br><span class="line">    <span class="comment"># æƒé‡é»˜è®¤ä¸º1ï¼Œæƒé‡è¶Šé«˜è¢«é€‰ä¸­çš„æ¦‚ç‡å°±è¶Šå¤§</span></span><br><span class="line">    <span class="attribute">server</span> <span class="number">192.168.1.11:8080</span> weight=<span class="number">5</span>;</span><br><span class="line">    <span class="comment"># æ ‡è¯†è¿™ä¸ªserveræš‚æ—¶ä¸å‚åŠ è´Ÿè½½</span></span><br><span class="line">    <span class="attribute">server</span> <span class="number">192.168.1.12:8080</span> down;</span><br><span class="line">    <span class="comment"># å…¶ä»–æ‰€æœ‰ébackupæœºå™¨downæˆ–è€…å¿™çš„æ—¶å€™ï¼Œæ‰ä¼šåˆ†é…è¿™å°æœåŠ¡å™¨</span></span><br><span class="line">    <span class="attribute">server</span> <span class="number">192.168.1.13:8008</span> backup;</span><br><span class="line">    <span class="comment"># max_failsï¼Œå…è®¸è¯·æ±‚å¤±è´¥çš„æœ€å¤§æ¬¡æ•°ï¼Œé»˜è®¤ä¸º1</span></span><br><span class="line">    <span class="comment"># max_failså¤±è´¥åï¼Œæš‚å®šçš„æ—¶é—´</span></span><br><span class="line">    <span class="attribute">server</span> <span class="number">192.168.1.14:8080</span> max_fails=<span class="number">2</span> fail_timeout=<span class="number">60s</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="http-gzipé…ç½®"><a href="#http-gzipé…ç½®" class="headerlink" title="http_gzipé…ç½®"></a>http_gzipé…ç½®</h3><p>å¯åŠ¨gzipå‹ç¼©åŠŸèƒ½ï¼Œå¯ä»¥åœ¨ä¼ è¾“ç½‘ç«™çš„é™æ€èµ„æºçš„æ—¶å€™è¿›è¡Œå‹ç¼©<br>å‹ç¼©åçš„èµ„æºæ˜¯åŸæ¥èµ„æºå¤§å°çš„30%ç”šè‡³æ›´å°<br>è™½ç„¶ä¼šæ¶ˆè€—ä¸€å®šçš„CPUèµ„æºï¼Œä½†æ˜¯å¯ä»¥èŠ‚çº¦å¤§é‡çš„å¸¦å®½<br>æœåŠ¡ç«¯å‹ç¼©ï¼Œæµè§ˆå™¨æ¥æ”¶åè§£å‹åå†è§£æ<br>å›¾ç‰‡å’Œå¤§æ–‡ä»¶ä¸å»ºè®®å‹ç¼©</p><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">http</span> &#123;</span><br><span class="line">    <span class="comment"># å¼€å¯gzipå‹ç¼©</span></span><br><span class="line">    <span class="attribute">gzip</span> <span class="literal">on</span>;</span><br><span class="line">    <span class="comment"># è®¾ç½®å‹ç¼©çš„æœ€å°å­—èŠ‚æ•°</span></span><br><span class="line">    <span class="attribute">gzip_min_length</span> <span class="number">1k</span>;</span><br><span class="line">    <span class="comment"># è®¾ç½®ç¼“å­˜ç”¨äºå­˜å‚¨gzipçš„å‹ç¼©ç»“æœæ•°æ®æµ</span></span><br><span class="line">    <span class="comment"># 4 16kè¡¨ç¤ºæŒ‰ç…§åŸå§‹æ•°æ®å¤§å°ä»¥16kä¸ºå•ä½çš„4å€è¿›è¡Œå†…å­˜ç”³è¯·</span></span><br><span class="line">    <span class="attribute">gzip_buffers</span> <span class="number">4</span> <span class="number">16k</span>;</span><br><span class="line">    <span class="comment"># httpåè®®ç‰ˆæœ¬</span></span><br><span class="line">    <span class="attribute">gzip_http_version</span> <span class="number">1</span>.<span class="number">0</span>;</span><br><span class="line">    <span class="comment"># zipå‹ç¼©æ¯”</span></span><br><span class="line">    <span class="comment"># 1çš„æ—¶å€™å¤„ç†æœ€å¿«ï¼Œ9å‹ç¼©æ¯”æœ€å¤§å¤„ç†é€Ÿåº¦æœ€æ…¢</span></span><br><span class="line">    <span class="attribute">gzip_com_level</span> <span class="number">6</span>;</span><br><span class="line">    <span class="comment"># è®¾ç½®éœ€è¦å‹ç¼©å“ªäº›å“åº”ç±»å‹çš„èµ„æº</span></span><br><span class="line">    <span class="attribute">gzip_types</span> text/plain text/css application/json;</span><br><span class="line">    <span class="comment"># ä»£ç†åç«¯æœåŠ¡å™¨æ—¶ï¼Œè¿”å›çš„ç»“æœæ˜¯å¦éœ€è¦å‹ç¼©</span></span><br><span class="line">    <span class="attribute">gzip_proxies</span> any;</span><br><span class="line">    <span class="comment"># æ˜¯å¦ç¼“å­˜ç»“æœgzipå‹ç¼©çš„é¡µé¢</span></span><br><span class="line">    <span class="attribute">gzip_vray</span> <span class="literal">on</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="serverç›¸å…³é…ç½®"><a href="#serverç›¸å…³é…ç½®" class="headerlink" title="serverç›¸å…³é…ç½®"></a>serverç›¸å…³é…ç½®</h3><h4 id="serveråŸºç¡€é…ç½®"><a href="#serveråŸºç¡€é…ç½®" class="headerlink" title="serveråŸºç¡€é…ç½®"></a>serveråŸºç¡€é…ç½®</h4><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">http&#123;</span><br><span class="line">    <span class="section">server</span> &#123;</span><br><span class="line">        <span class="comment"># 1ã€ç›‘å¬ç«¯å£</span></span><br><span class="line">        <span class="attribute">listen</span> <span class="number">8080</span>;</span><br><span class="line">        <span class="comment"># 2ã€ç›‘å¬æœåŠ¡å™¨åœ°å€</span></span><br><span class="line">        <span class="attribute">server_name</span> localhost;</span><br><span class="line">        <span class="comment"># 3ã€æ¯ä¸ªè¿æ¥è¯·æ±‚ä¸Šé™</span></span><br><span class="line">        <span class="attribute">keepalive_requests</span> <span class="number">120</span>;</span><br><span class="line">        <span class="comment"># 4ã€å­—ç¬¦é›†</span></span><br><span class="line">        <span class="attribute">charset</span> utf-<span class="number">8</span>;</span><br><span class="line">        <span class="comment"># 5ã€æœåŠ¡æ—¥å¿—æ‰€åœ¨ç›®å½•ä»¥åŠæ—¥å¿—æ ¼å¼</span></span><br><span class="line">        <span class="attribute">access_log</span> logs/host.log myLogFormat;</span><br><span class="line">        <span class="comment"># 6ã€é”™è¯¯é¡µ</span></span><br><span class="line">        <span class="attribute">error_page</span> <span class="number">404</span> /<span class="number">404</span>.html;</span><br><span class="line">        <span class="attribute">error_page</span> <span class="number">500</span> <span class="number">502</span> <span class="number">503</span> <span class="number">504</span> /50x.html</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="sslé…ç½®"><a href="#sslé…ç½®" class="headerlink" title="sslé…ç½®"></a>sslé…ç½®</h4><p>å¦‚æœè¯·æ±‚æ–¹å¼æ˜¯httpsçš„è¯ï¼Œéœ€è¦æœåŠ¡å™¨æä¾›è¯ä¹¦ï¼Œå°±éœ€è¦è®¾ç½®ssl</p><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">http&#123;</span><br><span class="line">    <span class="section">server</span> &#123;</span><br><span class="line">        <span class="comment"># sslè®¿é—®ç«¯å£æ˜¯443</span></span><br><span class="line">        <span class="attribute">listen</span> <span class="number">443</span> ssl;</span><br><span class="line">        <span class="comment"># å¡«å†™ç»‘å®šè¯ä¹¦çš„åŸŸå</span></span><br><span class="line">        <span class="attribute">server_name</span> xxx.com;</span><br><span class="line">        <span class="comment"># å¼€å¯ssl</span></span><br><span class="line">        <span class="attribute">ssl</span> <span class="literal">on</span>;</span><br><span class="line">        <span class="comment"># sslè¯ä¹¦è·¯å¾„</span></span><br><span class="line">        <span class="attribute">ssl_certificate</span> /opt/ssl/nginx.crt;</span><br><span class="line">        <span class="comment"># sslè¯ä¹¦çš„å¯†é’¥</span></span><br><span class="line">        <span class="attribute">ssl_certificate_key</span> /opt/ssl/nginx.key;</span><br><span class="line">        <span class="comment"># sslä¼šè¯è¶…æ—¶æ—¶é—´</span></span><br><span class="line">        <span class="attribute">ssl_session_timeout</span> <span class="number">1d</span>;</span><br><span class="line">        <span class="comment"># sslç¼“å­˜</span></span><br><span class="line">        <span class="attribute">ssl_session_cache</span> shares:SSL:<span class="number">50m</span>;</span><br><span class="line">        <span class="comment"># sslä¼šè¯ç¥¨æ®</span></span><br><span class="line">        <span class="attribute">ssl_session_tickets</span> <span class="literal">off</span>;</span><br><span class="line">        <span class="comment"># sslåè®®ç‰ˆæœ¬</span></span><br><span class="line">        <span class="attribute">ssl_protocols</span> TLSv1.<span class="number">2</span>;</span><br><span class="line">        <span class="comment"># sslå¯†ç å¥—ä»¶</span></span><br><span class="line">        <span class="attribute">ssl_ciphers</span> <span class="string">&#x27;HIGH:!ANULL:!MD5&#x27;</span>;</span><br><span class="line">        <span class="comment"># å¼€å¯sslæœåŠ¡å¯†ç å¥—ä»¶</span></span><br><span class="line">        <span class="attribute">ssl_prefer_server_ciphers</span> <span class="literal">on</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="locationé…ç½®"><a href="#locationé…ç½®" class="headerlink" title="locationé…ç½®"></a>locationé…ç½®</h4><p>åŸºäºNginxæœåŠ¡å™¨æ¥æ”¶åˆ°çš„è¯·æ±‚å­—ç¬¦ä¸²ï¼Œå¯¹é™¤è™šæ‹Ÿæœºä¸»æœºåç§°ä¹‹å¤–çš„å­—ç¬¦ä¸²è¿›è¡ŒåŒ¹é…ï¼Œå¯¹ç‰¹å®šçš„è¯·æ±‚è¿›è¡Œå¤„ç†ï¼Œå®Œæˆåœ°å€å®šå‘ã€æ•°æ®ç¼“å­˜å’Œåº”ç­”æ§åˆ¶ç­‰åŠŸèƒ½</p><pre><code class="nginx">http &#123;    server &#123;        # 1ã€è·¯ç”±åŒ¹é…è§„åˆ™ï¼šåªæœ‰ç¬¦åˆäº†åŒ¹é…è§„åˆ™çš„uriæ‰ä¼šè¿›å…¥è¯¥locationå—        # location [ = | ~ | ~* | ^~ ] uri &#123; ... &#125;        # = ï¼šç”¨äºæ ‡å‡†uriå‰ï¼Œè¦æ±‚è¯·æ±‚å­—ç¬¦ä¸²å’Œuriä¸¥æ ¼åŒ¹é…        # ^~ï¼šç”¨äºæ ‡å‡†uriå‰ï¼Œè¦æ±‚NginxæœåŠ¡å™¨æ‰¾åˆ°æ ‡è¯†uriå’Œè¯·æ±‚å­—ç¬¦ä¸²åŒ¹é…åº¦æœ€é«˜çš„locationåï¼Œç«‹å³ä½¿ç”¨æ­¤locationå¤„ç†è¯·æ±‚ï¼Œä¸å†ä½¿ç”¨æ­£åˆ™uriå’Œè¯·æ±‚å­—ç¬¦ä¸²åšåŒ¹é…        # ~ï¼šç”¨äºæ­£åˆ™uriå‰ï¼ŒåŒºåˆ†å¤§å°å†™        # ~*ï¼šç”¨äºæ­£åˆ™uriå‰ï¼Œä¸åŒºåˆ†å¤§å°å†™        location åŒ¹é…è§„åˆ™&#123;            # 2ã€æœåŠ¡å™¨é»˜è®¤ç½‘ç«™æ ¹ç›®å½•ä½ç½®            root /var/www/html                # 3ã€é»˜è®¤è®¿é—®çš„æ–‡ä»¶å                index index.html index.htm index.jsp;            # 4.1ã€æ‹’ç»çš„ip            deny 192.168.56.21;            # 4.2ã€å…è®¸çš„ip            allow 192.168.56.10;            # 5.1ã€è·¨åŸŸã€è¯·æ±‚å¤´é…ç½®            add_header Access-Control-Allow-Origin * always;            add_header Access-Control-Allow-Credentials &#39;true&#39; always;            add_header Access-Control-Allow-Headers * always;            add_header Access-Control-Allow-Method &#39;PUT, GET, POST, DELETE, OPTIONS&#39; always;        &#125;        location ~/product &#123;            # åå‘ä»£ç†æœåŠ¡å™¨            proxy_pass http://product_server;            # æ˜¯å¦é‡å®šå‘ä»£ç†æœåŠ¡å™¨åœ°å€            proxy_redirect off;            # åå°å¯ä»¥è·å–å®Œæ•´çš„ipå’Œç«¯å£å·            proxy_set_header Host $host;            # åå°å¯ä»¥è·å–ç”¨æˆ·è®¿é—®çš„çœŸå®ipåœ°å€            proxy_set_header X-Forwarder-For $remote_addr;        &#125;    &#125;&#125;</code></pre>]]></content>
      
      
      <categories>
          
          <category> javaEE </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Nginx </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Springå¯åŠ¨æµç¨‹ï¼ˆå¤§çº²ï¼‰</title>
      <link href="/javaEE/Spring/2023/07/10/Spring%E5%90%AF%E5%8A%A8%E6%B5%81%E7%A8%8B%EF%BC%88%E5%A4%A7%E7%BA%B2%EF%BC%89/"/>
      <url>/javaEE/Spring/2023/07/10/Spring%E5%90%AF%E5%8A%A8%E6%B5%81%E7%A8%8B%EF%BC%88%E5%A4%A7%E7%BA%B2%EF%BC%89/</url>
      
        <content type="html"><![CDATA[<h1 id="Springå¯åŠ¨æµç¨‹ï¼ˆå¤§çº²ï¼‰"><a href="#Springå¯åŠ¨æµç¨‹ï¼ˆå¤§çº²ï¼‰" class="headerlink" title="Springå¯åŠ¨æµç¨‹ï¼ˆå¤§çº²ï¼‰"></a>Springå¯åŠ¨æµç¨‹ï¼ˆå¤§çº²ï¼‰</h1><p>æœ¬æ–‡æ¥ç›˜ä¸€ç›˜Springçš„å¯åŠ¨æµç¨‹</p><blockquote><p>Springå¯åŠ¨æµç¨‹è¿‡äºå¤æ‚ï¼Œå¦‚æœæ‰€æœ‰çš„ç»†èŠ‚éƒ½é›†ä¸­åœ¨ä¸€ç¯‡æ–‡ç« ï¼Œé‚£æ˜¯ä¸å¯èƒ½çš„ğŸ˜‚</p><p>æœ¬æ–‡æ›´å¤šçš„åªæ˜¯ä¸€ä¸ªå¸¦ä½ èµ°ä¸€éå¤§è‡´çš„æµç¨‹</p><p>æœ‰äº›ç¯èŠ‚çš„å…·ä½“æ‰§è¡Œç»†èŠ‚åç»­ä¼šæœ‰è¡ç”Ÿæ–‡ç« åšå•ç‹¬åˆ†æï¼Œæœ‰è¡ç”Ÿæ–‡ç« çš„æˆ‘éƒ½åœ¨æ ‡é¢˜å¤„æ ‡æ³¨äº†â—</p></blockquote><h2 id="æ­å»ºç¯å¢ƒ"><a href="#æ­å»ºç¯å¢ƒ" class="headerlink" title="æ­å»ºç¯å¢ƒ"></a>æ­å»ºç¯å¢ƒ</h2><h3 id="ä½¿ç”¨mavenåˆ›å»ºä¸€ä¸ªæ–°é¡¹ç›®"><a href="#ä½¿ç”¨mavenåˆ›å»ºä¸€ä¸ªæ–°é¡¹ç›®" class="headerlink" title="ä½¿ç”¨mavenåˆ›å»ºä¸€ä¸ªæ–°é¡¹ç›®"></a>ä½¿ç”¨mavenåˆ›å»ºä¸€ä¸ªæ–°é¡¹ç›®</h3><img src="/javaEE/Spring/2023/07/10/Spring%E5%90%AF%E5%8A%A8%E6%B5%81%E7%A8%8B%EF%BC%88%E5%A4%A7%E7%BA%B2%EF%BC%89/image-20230817091108704.png" class title="image-20230817091108704"><h3 id="å¼•å…¥Springä¾èµ–"><a href="#å¼•å…¥Springä¾èµ–" class="headerlink" title="å¼•å…¥Springä¾èµ–"></a>å¼•å…¥Springä¾èµ–</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-context<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.2.2.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="Springé…ç½®æ–‡ä»¶"><a href="#Springé…ç½®æ–‡ä»¶" class="headerlink" title="Springé…ç½®æ–‡ä»¶"></a>Springé…ç½®æ–‡ä»¶</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="å®ä½“ç±»"><a href="#å®ä½“ç±»" class="headerlink" title="å®ä½“ç±»"></a>å®ä½“ç±»</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.zhima;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Student</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> age;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Student</span><span class="params">(String name, <span class="keyword">int</span> age)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">        <span class="keyword">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Student</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getAge</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setAge</span><span class="params">(<span class="keyword">int</span> age)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="å¯åŠ¨ç±»"><a href="#å¯åŠ¨ç±»" class="headerlink" title="å¯åŠ¨ç±»"></a>å¯åŠ¨ç±»</h3><p>åœ¨æ‰“å°cpaçš„é‚£è¡Œæ‰“ä¸Šæ–­ç‚¹</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.zhima;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.context.support.ClassPathXmlApplicationContext;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Application</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        ClassPathXmlApplicationContext cpa = <span class="keyword">new</span> ClassPathXmlApplicationContext(<span class="string">&quot;applicationContext.xml&quot;</span>);</span><br><span class="line">        System.out.println(cpa);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="é…ç½®ä¸€ä¸ªç±»å‹ä¸ºStudentçš„bean"><a href="#é…ç½®ä¸€ä¸ªç±»å‹ä¸ºStudentçš„bean" class="headerlink" title="é…ç½®ä¸€ä¸ªç±»å‹ä¸ºStudentçš„bean"></a>é…ç½®ä¸€ä¸ªç±»å‹ä¸ºStudentçš„bean</h3><p>åœ¨applicationContext.xmlä¸­æ·»åŠ ä»¥ä¸‹æ ‡ç­¾</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;student&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.zhima.Student&quot;</span>/&gt;</span></span><br></pre></td></tr></table></figure><h3 id="è°ƒè¯•æ–¹å¼å¯åŠ¨æŸ¥çœ‹å®¹å™¨"><a href="#è°ƒè¯•æ–¹å¼å¯åŠ¨æŸ¥çœ‹å®¹å™¨" class="headerlink" title="è°ƒè¯•æ–¹å¼å¯åŠ¨æŸ¥çœ‹å®¹å™¨"></a>è°ƒè¯•æ–¹å¼å¯åŠ¨æŸ¥çœ‹å®¹å™¨</h3><p>å¯ä»¥çœ‹åˆ°å®¹å™¨å†…å·²ç»æœ‰äº†ä¸€äº›beanäº†ï¼Œä¹Ÿçœ‹åˆ°äº†æˆ‘ä»¬è‡ªå·±é…ç½®çš„studentçš„bean</p><img src="/javaEE/Spring/2023/07/10/Spring%E5%90%AF%E5%8A%A8%E6%B5%81%E7%A8%8B%EF%BC%88%E5%A4%A7%E7%BA%B2%EF%BC%89/image-20230817134536875.png" class title="image-20230817134536875"><h2 id="æºç åˆ†æ"><a href="#æºç åˆ†æ" class="headerlink" title="æºç åˆ†æ"></a>æºç åˆ†æ</h2><p>åˆ†ææ¡†æ¶ä¸‰æ¿æ–§</p><p>1ã€æ‰¾å…¥å£ï¼ˆ<strong>æœ€å…³é”®</strong>ï¼‰</p><p>2ã€æ‰“æ–­ç‚¹</p><p>3ã€æˆ’è´ªï¼Œåªçœ‹æ ¸å¿ƒä»£ç ï¼ˆè‡ªåŠ¨å¿½ç•¥try catchå’Œæ—¥å¿—ç›¸å…³ä»£ç ï¼‰</p><p>åˆ†æç±»ä¸‰æ¿æ–§</p><p>1ã€ç»§æ‰¿ä½“ç³»</p><p>2ã€å†…éƒ¨ç±»</p><p>3ã€æˆå‘˜å˜é‡</p><h3 id="æ‰¾å…¥å£"><a href="#æ‰¾å…¥å£" class="headerlink" title="æ‰¾å…¥å£"></a>æ‰¾å…¥å£</h3><p>åŸºäºXMLçš„Springå®¹å™¨çš„å…¥å£æ¯”è¾ƒå¥½æ‰¾</p><p>å°±æ˜¯<code>ClassPathXmlApplicationContext</code>çš„æ„é€ æ–¹æ³•</p><h3 id="ç»§æ‰¿ä½“ç³»"><a href="#ç»§æ‰¿ä½“ç³»" class="headerlink" title="ç»§æ‰¿ä½“ç³»"></a>ç»§æ‰¿ä½“ç³»</h3><p>çœ‹ä¸€ä¸‹å®ƒçš„ç»§æ‰¿ä½“ç³»</p><img src="/javaEE/Spring/2023/07/10/Spring%E5%90%AF%E5%8A%A8%E6%B5%81%E7%A8%8B%EF%BC%88%E5%A4%A7%E7%BA%B2%EF%BC%89/image-20230817095740214.png" class title="image-20230817095740214"><p>å®ƒçš„ç»§æ‰¿ä½“ç³»ååˆ†åºå¤§ï¼Œä½†æ˜¯ä¸è¦æ…Œï¼Œä¸»è¦çš„çˆ¶ç±»å°±å››ä¸ª</p><ul><li><code>AbstractApplicationContext</code></li><li><code>AbstractRefreshableApplicationContext</code></li><li><code>AbstractRefreshableConfigApplicationContext</code></li><li><code>AbstractXmlApplicationContext</code></li></ul><h3 id="æ‰“æ–­ç‚¹"><a href="#æ‰“æ–­ç‚¹" class="headerlink" title="æ‰“æ–­ç‚¹"></a>æ‰“æ–­ç‚¹</h3><h4 id="ClassPathXmlApplicationContext"><a href="#ClassPathXmlApplicationContext" class="headerlink" title="ClassPathXmlApplicationContext"></a>ClassPathXmlApplicationContext</h4><img src="/javaEE/Spring/2023/07/10/Spring%E5%90%AF%E5%8A%A8%E6%B5%81%E7%A8%8B%EF%BC%88%E5%A4%A7%E7%BA%B2%EF%BC%89/image-20230817093951563.png" class title="image-20230817093951563"><p>å¯ä»¥çœ‹åˆ°è°ƒç”¨äº†ä¸‰ä¸ªå‚æ•°çš„æ„é€ æ–¹æ³•</p><img src="/javaEE/Spring/2023/07/10/Spring%E5%90%AF%E5%8A%A8%E6%B5%81%E7%A8%8B%EF%BC%88%E5%A4%A7%E7%BA%B2%EF%BC%89/image-20230817094832262.png" class title="image-20230817094832262"><p>refreshæ–¹æ³•å°±æ˜¯Springå¯åŠ¨æµç¨‹ï¼ˆå¤§çº²ï¼‰ä¸­æœ€æœ€æ ¸å¿ƒçš„æ–¹æ³•</p><p>è¿™ä¸ªæ–¹æ³•æ˜¯åœ¨å…¶çˆ¶ç±»<code>AbstractApplicationContext</code>ä¸­çš„ï¼Œæ¥ä¸‹æ¥å°±å›´ç»•ç€è¿™ä¸ªæ–¹æ³•å¼€å§‹åˆ†æ</p><h3 id="prepareRefresh"><a href="#prepareRefresh" class="headerlink" title="prepareRefresh"></a>prepareRefresh</h3><p>è§å‡½æ•°åçŸ¥æ„ï¼Œæ­¤æ–¹æ³•å°±æ˜¯ä¸ºrefreshåšå‡†å¤‡</p><img src="/javaEE/Spring/2023/07/10/Spring%E5%90%AF%E5%8A%A8%E6%B5%81%E7%A8%8B%EF%BC%88%E5%A4%A7%E7%BA%B2%EF%BC%89/image-20230817095435108.png" class title="image-20230817095435108"><h3 id="obtainFreshBeanFactory"><a href="#obtainFreshBeanFactory" class="headerlink" title="obtainFreshBeanFactory"></a>obtainFreshBeanFactory</h3><img src="/javaEE/Spring/2023/07/10/Spring%E5%90%AF%E5%8A%A8%E6%B5%81%E7%A8%8B%EF%BC%88%E5%A4%A7%E7%BA%B2%EF%BC%89/image-20230817100356658.png" class title="image-20230817100356658"><img src="/javaEE/Spring/2023/07/10/Spring%E5%90%AF%E5%8A%A8%E6%B5%81%E7%A8%8B%EF%BC%88%E5%A4%A7%E7%BA%B2%EF%BC%89/image-20230817100921526.png" class title="image-20230817100921526"><h4 id="AbstractRefreshableApplicationContext-refreshBeanFactory"><a href="#AbstractRefreshableApplicationContext-refreshBeanFactory" class="headerlink" title="AbstractRefreshableApplicationContext#refreshBeanFactory"></a>AbstractRefreshableApplicationContext#refreshBeanFactory</h4><img src="/javaEE/Spring/2023/07/10/Spring%E5%90%AF%E5%8A%A8%E6%B5%81%E7%A8%8B%EF%BC%88%E5%A4%A7%E7%BA%B2%EF%BC%89/image-20230817101821821.png" class title="image-20230817101821821"><h4 id="AbstractXmlApplicationContext-loadBeanDefinitions"><a href="#AbstractXmlApplicationContext-loadBeanDefinitions" class="headerlink" title="AbstractXmlApplicationContext#loadBeanDefinitions"></a>AbstractXmlApplicationContext#loadBeanDefinitions</h4><img src="/javaEE/Spring/2023/07/10/Spring%E5%90%AF%E5%8A%A8%E6%B5%81%E7%A8%8B%EF%BC%88%E5%A4%A7%E7%BA%B2%EF%BC%89/image-20230817102446654.png" class title="image-20230817102446654"><h4 id="â—AbstractXmlApplicationContext-loadBeanDefinitions"><a href="#â—AbstractXmlApplicationContext-loadBeanDefinitions" class="headerlink" title="â—AbstractXmlApplicationContext#loadBeanDefinitions"></a>â—AbstractXmlApplicationContext#loadBeanDefinitions</h4><img src="/javaEE/Spring/2023/07/10/Spring%E5%90%AF%E5%8A%A8%E6%B5%81%E7%A8%8B%EF%BC%88%E5%A4%A7%E7%BA%B2%EF%BC%89/image-20230817103044829.png" class title="image-20230817103044829"><blockquote><p> XmlBeanDefinitionReaderè§£æxmlçš„è¿‡ç¨‹ä¼šæ”¾åœ¨è¡ç”Ÿæ–‡ç« ã€ŠSpringå¯åŠ¨æµç¨‹ï¼ˆå¤§çº²ï¼‰-è§£æXMLã€‹é‡Œé¢</p><p>è¿™é‡Œåªéœ€è¦çŸ¥é“å®ƒå°†xmlä¸­æˆ‘ä»¬å®šä¹‰çš„é‚£äº›beanè½¬åŒ–æˆäº†BeanDefinitionå¯¹è±¡</p><p>è¿˜è®°å¾—åˆšåˆšåˆ›å»ºè¯»å–å™¨çš„æ—¶å€™ä¼ å…¥äº†beanfactoryå—</p><img src="/javaEE/Spring/2023/07/10/Spring%E5%90%AF%E5%8A%A8%E6%B5%81%E7%A8%8B%EF%BC%88%E5%A4%A7%E7%BA%B2%EF%BC%89/image-20230817103423440.png" class title="image-20230817103423440"><p>è¿™ä¸ªæ—¶å€™è¯»å–å™¨åŠ è½½çš„è¿™äº›BeanDefinitionå¯¹è±¡å·²ç»åœ¨beanfactoryä¸­äº†</p></blockquote><h3 id="prepareBeanFactory"><a href="#prepareBeanFactory" class="headerlink" title="prepareBeanFactory"></a>prepareBeanFactory</h3><img src="/javaEE/Spring/2023/07/10/Spring%E5%90%AF%E5%8A%A8%E6%B5%81%E7%A8%8B%EF%BC%88%E5%A4%A7%E7%BA%B2%EF%BC%89/image-20230817104727412.png" class title="image-20230817104727412"><img src="/javaEE/Spring/2023/07/10/Spring%E5%90%AF%E5%8A%A8%E6%B5%81%E7%A8%8B%EF%BC%88%E5%A4%A7%E7%BA%B2%EF%BC%89/image-20230817104857698.png" class title="image-20230817104857698"><h3 id="postProcessBeanFactory"><a href="#postProcessBeanFactory" class="headerlink" title="postProcessBeanFactory"></a>postProcessBeanFactory</h3><p>ç»™å­ç±»çš„æ‹“å±•ç‚¹ï¼Œç”¨æ¥åšä¸€äº›beanFactoryåˆå§‹åŒ–åçš„ä¸€äº›å·¥ä½œ</p><img src="/javaEE/Spring/2023/07/10/Spring%E5%90%AF%E5%8A%A8%E6%B5%81%E7%A8%8B%EF%BC%88%E5%A4%A7%E7%BA%B2%EF%BC%89/image-20230817105427876.png" class title="image-20230817105427876"><h3 id="â—invokeBeanFactoryPostProcessors"><a href="#â—invokeBeanFactoryPostProcessors" class="headerlink" title="â—invokeBeanFactoryPostProcessors"></a>â—invokeBeanFactoryPostProcessors</h3><img src="/javaEE/Spring/2023/07/10/Spring%E5%90%AF%E5%8A%A8%E6%B5%81%E7%A8%8B%EF%BC%88%E5%A4%A7%E7%BA%B2%EF%BC%89/image-20230817105704978.png" class title="image-20230817105704978"><blockquote><p>åœ¨BeanFactoryæ ¹æ®BeanDefinitionsåˆ›å»ºå¯¹è±¡ä¹‹å‰ï¼Œéœ€è¦ç»è¿‡ä¸€äº›BeanFactoryProcessorçš„postProcessBeanFactoryæ–¹æ³•</p><p>ConfigurationClassPostProcessor </p></blockquote><hr><p>ä¸ºä»€ä¹ˆå·²ç»æœ‰postProcessBeanFactoryæ‹“å±•ç‚¹äº†è¿˜éœ€è¦æœ‰BeanFactoryPostProcessorï¼Ÿ</p><p>å®ƒä¸¤æä¾›æ‹“å±•ç‚¹çš„å¯¹è±¡ä¸åŒ</p><p>postProcessBeanFactoryæ˜¯ç»™å­ç±»å®¹å™¨æ‹“å±•çš„</p><p>BeanFactoryPostProcessoræ˜¯ç»™ç”¨æˆ·æ‹“å±•çš„</p><h3 id="â—registerBeanPostProcessors"><a href="#â—registerBeanPostProcessors" class="headerlink" title="â—registerBeanPostProcessors"></a>â—registerBeanPostProcessors</h3><p>æ³¨å†Œå¯ä»¥ä»‹å…¥beanåˆ›å»ºçš„BeanPostProcessorå®ä¾‹</p><img src="/javaEE/Spring/2023/07/10/Spring%E5%90%AF%E5%8A%A8%E6%B5%81%E7%A8%8B%EF%BC%88%E5%A4%A7%E7%BA%B2%EF%BC%89/image-20230817110346298.png" class title="image-20230817110346298"><blockquote><p>å¯ä»¥çœ‹åˆ°è¿™é‡Œä¹Ÿæ˜¯è°ƒç”¨çš„PostProcessorRegistrationDelegateçš„é™æ€æ–¹æ³•</p><p>å’ŒåˆšåˆšinvokeBeanFactoryPostProcessorsä¸­è°ƒç”¨çš„æ˜¯åŒä¸€ä¸ªç±»</p><p>è¿™ä¸¤å—çš„åˆ†æä¼šæ”¾åœ¨è¡ç”Ÿç¯‡ã€ŠSpringå¯åŠ¨æµç¨‹ï¼ˆå¤§çº²ï¼‰-åå¤„ç†å™¨ã€‹</p></blockquote><h3 id="initMessageSource"><a href="#initMessageSource" class="headerlink" title="initMessageSource"></a>initMessageSource</h3><p>MessageSourceæ˜¯ç”¨äºå›½é™…åŒ–çš„</p><p>å¦‚æœç”¨æˆ·æ³¨å†Œäº†ä¸€ä¸ª<code>MESSAGE_SOURCE_BEAN_NAME(messageSource)</code>çš„Beanï¼Œå°±ä¼šä½¿ç”¨ç”¨æˆ·è‡ªå®šä¹‰çš„</p><p>å¦åˆ™å°±ä½¿ç”¨é»˜è®¤çš„<code>DelegatingMessageSource</code></p><img src="/javaEE/Spring/2023/07/10/Spring%E5%90%AF%E5%8A%A8%E6%B5%81%E7%A8%8B%EF%BC%88%E5%A4%A7%E7%BA%B2%EF%BC%89/image-20230817111158043.png" class title="image-20230817111158043"><h3 id="â—initApplicationEventMulticaster"><a href="#â—initApplicationEventMulticaster" class="headerlink" title="â—initApplicationEventMulticaster"></a>â—initApplicationEventMulticaster</h3><p>Springçš„äº‹ä»¶å‘å¸ƒç»„æ’­å™¨</p><p>å’Œåˆå§‹åŒ–messageSourceçš„é€»è¾‘å¾ˆåƒ</p><p>å…ˆçœ‹ç”¨æˆ·æœ‰æ²¡æœ‰å®šä¹‰beanNameæ˜¯<code>APPLICATION_EVENT_MULTICASTER_BEAN_NAME(applicationEventMulticaster)</code>çš„Bean</p><p>æœ‰çš„è¯å°±ä½¿ç”¨ç”¨æˆ·å®šä¹‰çš„</p><p>å¦åˆ™å°±ä½¿ç”¨<code>SimpleApplicationEventMulticaster</code></p><img src="/javaEE/Spring/2023/07/10/Spring%E5%90%AF%E5%8A%A8%E6%B5%81%E7%A8%8B%EF%BC%88%E5%A4%A7%E7%BA%B2%EF%BC%89/image-20230817111348644.png" class title="image-20230817111348644"><blockquote><p>Springçš„äº‹ä»¶æœºåˆ¶ä¼šåœ¨è¡ç”Ÿç¯‡ã€ŠSpringå¯åŠ¨æµç¨‹ï¼ˆå¤§çº²ï¼‰-äº‹ä»¶ã€‹</p></blockquote><h3 id="onRefresh"><a href="#onRefresh" class="headerlink" title="onRefresh"></a>onRefresh</h3><img src="/javaEE/Spring/2023/07/10/Spring%E5%90%AF%E5%8A%A8%E6%B5%81%E7%A8%8B%EF%BC%88%E5%A4%A7%E7%BA%B2%EF%BC%89/image-20230817111601768.png" class title="image-20230817111601768"><h3 id="registerListeners"><a href="#registerListeners" class="headerlink" title="registerListeners"></a>registerListeners</h3><p>æ³¨å†Œç›‘å¬å™¨</p><img src="/javaEE/Spring/2023/07/10/Spring%E5%90%AF%E5%8A%A8%E6%B5%81%E7%A8%8B%EF%BC%88%E5%A4%A7%E7%BA%B2%EF%BC%89/image-20230817112231108.png" class title="image-20230817112231108"><h3 id="â—finishBeanFactoryInitialization"><a href="#â—finishBeanFactoryInitialization" class="headerlink" title="â—finishBeanFactoryInitialization"></a>â—finishBeanFactoryInitialization</h3><p>ConversionServiceæ˜¯ç”¨æ¥åšç±»å‹è½¬æ¢å·¥ä½œçš„ï¼Œå’Œåˆšåˆšåˆå§‹åŒ–messageSourceçš„åŠ¨ä½œå¾ˆåƒï¼Œä¹Ÿæ˜¯å…ˆçœ‹ç”¨æˆ·æœ‰æ²¡æœ‰è‡ªå®šä¹‰</p><p>æœ‰åˆ™ç”¨ä¹‹ï¼Œæ— åˆ™é»˜è®¤</p><img src="/javaEE/Spring/2023/07/10/Spring%E5%90%AF%E5%8A%A8%E6%B5%81%E7%A8%8B%EF%BC%88%E5%A4%A7%E7%BA%B2%EF%BC%89/image-20230817112649833.png" class title="image-20230817112649833"><blockquote><p>beanFactory.preInstantiateSingletonsæ˜¯çœŸæ­£æ‰§è¡Œåˆ›å»ºBeançš„æ–¹æ³•</p><p>Springçš„Beançš„ç”Ÿå‘½å‘¨æœŸä¼šåœ¨è¡ç”Ÿç¯‡ã€ŠSpringå¯åŠ¨æµç¨‹ï¼ˆå¤§çº²ï¼‰-Beanç”Ÿå‘½å‘¨æœŸã€‹</p></blockquote><h3 id="finishRefresh"><a href="#finishRefresh" class="headerlink" title="finishRefresh"></a>finishRefresh</h3><img src="/javaEE/Spring/2023/07/10/Spring%E5%90%AF%E5%8A%A8%E6%B5%81%E7%A8%8B%EF%BC%88%E5%A4%A7%E7%BA%B2%EF%BC%89/image-20230817122301324.png" class title="image-20230817122301324"><h4 id="initLifecycleProcessor"><a href="#initLifecycleProcessor" class="headerlink" title="initLifecycleProcessor"></a>initLifecycleProcessor</h4><img src="/javaEE/Spring/2023/07/10/Spring%E5%90%AF%E5%8A%A8%E6%B5%81%E7%A8%8B%EF%BC%88%E5%A4%A7%E7%BA%B2%EF%BC%89/image-20230817131601516.png" class title="image-20230817131601516"><h5 id="LifecycleProcessor"><a href="#LifecycleProcessor" class="headerlink" title="LifecycleProcessor"></a>LifecycleProcessor</h5><p>æ¥çœ‹çœ‹è¿™ä¸ªLifecycleProcessoråˆ°åº•æ˜¯ä½•æ–¹ç¥åœ£</p><p>å®ƒæ˜¯ä¸€ä¸ªLifecycleçš„å­æ¥å£</p><img src="/javaEE/Spring/2023/07/10/Spring%E5%90%AF%E5%8A%A8%E6%B5%81%E7%A8%8B%EF%BC%88%E5%A4%A7%E7%BA%B2%EF%BC%89/image-20230817131122793.png" class title="image-20230817131122793"><img src="/javaEE/Spring/2023/07/10/Spring%E5%90%AF%E5%8A%A8%E6%B5%81%E7%A8%8B%EF%BC%88%E5%A4%A7%E7%BA%B2%EF%BC%89/image-20230817131133473.png" class title="image-20230817131133473"><p>è¿™ä¸ªLifecycleä¸çŸ¥é“å¤§å®¶è¿˜æœ‰æ²¡æœ‰å°è±¡äº†ï¼Œåœ¨ClassPathXmlApplicationContextçš„ç»§æ‰¿ä½“ç³»ä¸­å‡ºç°è¿‡</p><img src="/javaEE/Spring/2023/07/10/Spring%E5%90%AF%E5%8A%A8%E6%B5%81%E7%A8%8B%EF%BC%88%E5%A4%A7%E7%BA%B2%EF%BC%89/image-20230817131820628.png" class title="image-20230817131820628"><p>å¹¶ä¸”å®ç°äº†æ¥å£</p><img src="/javaEE/Spring/2023/07/10/Spring%E5%90%AF%E5%8A%A8%E6%B5%81%E7%A8%8B%EF%BC%88%E5%A4%A7%E7%BA%B2%EF%BC%89/image-20230817131856827.png" class title="image-20230817131856827"><p>é‚£è¿™ä¸ªstartæ˜¯è°æ¥è°ƒç”¨çš„å‘¢ï¼Ÿå°±æ˜¯è¿™ä¸ªLifecycleProcessorï¼</p><p>åœ¨<code>finishRefresh</code>ä¸­å¾€ä¸‹çœ‹</p><img src="/javaEE/Spring/2023/07/10/Spring%E5%90%AF%E5%8A%A8%E6%B5%81%E7%A8%8B%EF%BC%88%E5%A4%A7%E7%BA%B2%EF%BC%89/image-20230817132117895.png" class title="image-20230817132117895"><p>ç°åœ¨æˆ‘ä»¬æ²¡æœ‰è‡ªå®šä¹‰LifecycleProcessorï¼Œæ‰€ä»¥æˆ‘ä»¬æ¥çœ‹çœ‹ä»–é»˜è®¤çš„å®ç°ç±»<code>DefaultLifecycleProcessor</code>åœ¨<code>onRefresh</code>ä¸­åšäº†äº›ä»€ä¹ˆ</p><img src="/javaEE/Spring/2023/07/10/Spring%E5%90%AF%E5%8A%A8%E6%B5%81%E7%A8%8B%EF%BC%88%E5%A4%A7%E7%BA%B2%EF%BC%89/image-20230817132205796.png" class title="image-20230817132205796"><img src="/javaEE/Spring/2023/07/10/Spring%E5%90%AF%E5%8A%A8%E6%B5%81%E7%A8%8B%EF%BC%88%E5%A4%A7%E7%BA%B2%EF%BC%89/image-20230817132604856.png" class title="image-20230817132604856"><blockquote><p>æœ¬äººæŠ€æœ¯æ°´å¹³æœ‰é™ï¼Œæ–‡ç« ä¸­éš¾å…ä¼šå‡ºç°é”™è¯¯ï¼Œè¯»è€…å¦‚æœ‰å‘ç°ï¼Œæ„Ÿè°¢å„ä½æŒ‡æ­£ï¼</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> javaEE </category>
          
          <category> Spring </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Spring </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä½¿ç”¨JRebelè¿›è¡Œçƒ­éƒ¨ç½²</title>
      <link href="/javaEE/2023/01/11/%E4%BD%BF%E7%94%A8Jrebel%E8%BF%9B%E8%A1%8C%E7%83%AD%E9%83%A8%E7%BD%B2/"/>
      <url>/javaEE/2023/01/11/%E4%BD%BF%E7%94%A8Jrebel%E8%BF%9B%E8%A1%8C%E7%83%AD%E9%83%A8%E7%BD%B2/</url>
      
        <content type="html"><![CDATA[<h2 id="ä½¿ç”¨JRebelè¿›è¡Œçƒ­éƒ¨ç½²"><a href="#ä½¿ç”¨JRebelè¿›è¡Œçƒ­éƒ¨ç½²" class="headerlink" title="ä½¿ç”¨JRebelè¿›è¡Œçƒ­éƒ¨ç½²"></a>ä½¿ç”¨JRebelè¿›è¡Œçƒ­éƒ¨ç½²</h2><p>åœ¨æˆ‘ä»¬ä½¿ç”¨Javaå¼€å‘åç«¯çš„æ—¶å€™ï¼Œä¿®æ”¹äº†ä»£ç ä¹‹å</p><p>éœ€è¦é‡æ–°å¯åŠ¨æœåŠ¡å™¨ï¼Œç„¶åæ‰å¯ä»¥çœ‹åˆ°ä¿®æ”¹ä»£ç åçš„æ•ˆæœ</p><p>è¿™æœåŠ¡å™¨çš„ä¸€å…³ä¸€å¯è‡³å°‘éœ€è¦æµªè´¹30sï¼Œä¸‹é¢ä»‹ç»ä¸€æ¬¾IDEAçš„æ’ä»¶<code>JRebel&amp;XRebel</code></p><img src="/javaEE/2023/01/11/%E4%BD%BF%E7%94%A8Jrebel%E8%BF%9B%E8%A1%8C%E7%83%AD%E9%83%A8%E7%BD%B2/image-20230111161253948.png" class title="IDEAæ’ä»¶"><p>ä¸‹é¢ä¸€æ­¥æ­¥æ•™å¤§å®¶å¦‚ä½•ä½¿ç”¨</p><h3 id="åœ¨IDEAçš„æ’ä»¶å¸‚åœºä¸‹è½½æ­¤æ’ä»¶"><a href="#åœ¨IDEAçš„æ’ä»¶å¸‚åœºä¸‹è½½æ­¤æ’ä»¶" class="headerlink" title="åœ¨IDEAçš„æ’ä»¶å¸‚åœºä¸‹è½½æ­¤æ’ä»¶"></a>åœ¨IDEAçš„æ’ä»¶å¸‚åœºä¸‹è½½æ­¤æ’ä»¶</h3><img src="/javaEE/2023/01/11/%E4%BD%BF%E7%94%A8Jrebel%E8%BF%9B%E8%A1%8C%E7%83%AD%E9%83%A8%E7%BD%B2/image-20230111161401909.png" class title="IDEAæ’ä»¶å¸‚åœº"><p>ä¸‹è½½æ—¶é—´ä¼šæ ¹æ®ä½ çš„ç½‘ç»œçŠ¶å†µè€Œå®š</p><h3 id="ç ´è§£"><a href="#ç ´è§£" class="headerlink" title="ç ´è§£"></a>ç ´è§£</h3><h4 id="æç¤º"><a href="#æç¤º" class="headerlink" title="æç¤º"></a>æç¤º</h4><p>å¦‚æœæ˜¯ä¹‹å‰å°±ä¸‹è½½è¿™ä¸ªæ’ä»¶ï¼Œç„¶åç ´è§£å¤±æ•ˆäº†</p><p>æœ€å¥½ä½¿ç”¨<code>EveryThing</code>æŸ¥æ‰¾ç£ç›˜ä¸­æ‰€æœ‰æ–‡ä»¶åä¸­åŒ…å«<code>JRebel</code>å’Œ<code>XRebel</code>çš„æ–‡ä»¶å¤¹å’Œæ–‡ä»¶å¹¶åˆ é™¤</p><img src="/javaEE/2023/01/11/%E4%BD%BF%E7%94%A8Jrebel%E8%BF%9B%E8%A1%8C%E7%83%AD%E9%83%A8%E7%BD%B2/image-20230111161605791.png" class title="æŸ¥æ‰¾JRebel"><h4 id="ä¸‹è½½åå‘ä»£ç†çš„è½¯ä»¶"><a href="#ä¸‹è½½åå‘ä»£ç†çš„è½¯ä»¶" class="headerlink" title="ä¸‹è½½åå‘ä»£ç†çš„è½¯ä»¶"></a>ä¸‹è½½åå‘ä»£ç†çš„è½¯ä»¶</h4><p>ä¸‹è½½åœ°å€å¦‚ä¸‹ï¼š<a href="https://github.com/ilanyu/ReverseProxy/releases/tag/v1.4">https://github.com/ilanyu/ReverseProxy/releases/tag/v1.4</a></p><img src="/javaEE/2023/01/11/%E4%BD%BF%E7%94%A8Jrebel%E8%BF%9B%E8%A1%8C%E7%83%AD%E9%83%A8%E7%BD%B2/image-20230111161932334.png" class title="image-20230111161932334"><p>ä¸‹è½½ååŒå‡»æ‰“å¼€å³å¯</p><h4 id="ç”ŸæˆUUID"><a href="#ç”ŸæˆUUID" class="headerlink" title="ç”ŸæˆUUID"></a>ç”ŸæˆUUID</h4><p>åœ¨çº¿ç½‘ç«™å¦‚ä¸‹ï¼š<a href="https://www.uuidgenerator.net/version1">https://www.uuidgenerator.net/version1</a></p><blockquote><p>Tipsï¼šä½¿ç”¨javaç¨‹åºç›´æ¥ç”Ÿæˆä¹Ÿæ˜¯å¯ä»¥çš„</p></blockquote><img src="/javaEE/2023/01/11/%E4%BD%BF%E7%94%A8Jrebel%E8%BF%9B%E8%A1%8C%E7%83%AD%E9%83%A8%E7%BD%B2/image-20230111162809364.png" class title="ç”ŸæˆUUID"><h4 id="æ¿€æ´»JRebel"><a href="#æ¿€æ´»JRebel" class="headerlink" title="æ¿€æ´»JRebel"></a>æ¿€æ´»JRebel</h4><img src="/javaEE/2023/01/11/%E4%BD%BF%E7%94%A8Jrebel%E8%BF%9B%E8%A1%8C%E7%83%AD%E9%83%A8%E7%BD%B2/image-20230111162021594.png" class title="æ¢è¯ä¹¦"><p>ä¸‹é¢å¡«å†™ä¿¡æ¯</p><img src="/javaEE/2023/01/11/%E4%BD%BF%E7%94%A8Jrebel%E8%BF%9B%E8%A1%8C%E7%83%AD%E9%83%A8%E7%BD%B2/image-20230111162140339.png" class title="å¡«å†™ä¿¡æ¯"><p>ç„¶åç‚¹å‡»<code>change license</code></p><h4 id="å¼€å¯ç¦»çº¿æ¨¡å¼"><a href="#å¼€å¯ç¦»çº¿æ¨¡å¼" class="headerlink" title="å¼€å¯ç¦»çº¿æ¨¡å¼"></a>å¼€å¯ç¦»çº¿æ¨¡å¼</h4><img src="/javaEE/2023/01/11/%E4%BD%BF%E7%94%A8Jrebel%E8%BF%9B%E8%A1%8C%E7%83%AD%E9%83%A8%E7%BD%B2/image-20230111162301817.png" class title="ç¦»çº¿å·¥ä½œ"><h4 id="å¼€å¯IDEAéƒ¨åˆ†è®¾ç½®"><a href="#å¼€å¯IDEAéƒ¨åˆ†è®¾ç½®" class="headerlink" title="å¼€å¯IDEAéƒ¨åˆ†è®¾ç½®"></a>å¼€å¯IDEAéƒ¨åˆ†è®¾ç½®</h4><p>å¼€å¯è‡ªåŠ¨æ„å»ºé¡¹ç›®</p><img src="/javaEE/2023/01/11/%E4%BD%BF%E7%94%A8Jrebel%E8%BF%9B%E8%A1%8C%E7%83%AD%E9%83%A8%E7%BD%B2/image-20230111162443095.png" class title="å‹¾é€‰å³å¯">]]></content>
      
      
      <categories>
          
          <category> javaEE </category>
          
      </categories>
      
      
        <tags>
            
            <tag> çç¢çš„çŸ¥è¯† </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linux-ç³»ç»Ÿç®¡ç†</title>
      <link href="/javaEE/2023/01/09/Linux-%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/"/>
      <url>/javaEE/2023/01/09/Linux-%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/</url>
      
        <content type="html"><![CDATA[<h2 id="ç³»ç»Ÿç®¡ç†"><a href="#ç³»ç»Ÿç®¡ç†" class="headerlink" title="ç³»ç»Ÿç®¡ç†"></a>ç³»ç»Ÿç®¡ç†</h2><h3 id="find"><a href="#find" class="headerlink" title="find"></a>find</h3><h4 id="ä½œç”¨"><a href="#ä½œç”¨" class="headerlink" title="ä½œç”¨"></a>ä½œç”¨</h4><p>æ ¹æ®ç»™å®šè·¯å¾„å’Œæœç´¢æ¡ä»¶æŸ¥æ‰¾æ–‡ä»¶</p><h4 id="ä½¿ç”¨è¯´æ˜"><a href="#ä½¿ç”¨è¯´æ˜" class="headerlink" title="ä½¿ç”¨è¯´æ˜"></a>ä½¿ç”¨è¯´æ˜</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ ¼å¼ï¼šfind [è·¯å¾„] [å‚æ•°] å¾…æœç´¢å­—æ®µ</span></span><br><span class="line"><span class="comment"># å¸¸ç”¨å‚æ•°</span></span><br><span class="line">-nameåŒ¹é…åç§°</span><br><span class="line">-useråŒ¹é…æ‰€æœ‰è€…</span><br><span class="line">-permåŒ¹é…æƒé™ï¼ˆmodeä¸ºå®Œå…¨åŒ¹é…ï¼Œ-modeä¸ºåŒ…å«å³å¯ï¼‰</span><br><span class="line">-<span class="built_in">type</span> b(å—è®¾å¤‡)/d(ç›®å½•)/c(å­—ç¬¦è®¾å¤‡)/p(ç®¡é“)/l(é“¾æ¥æ–‡ä»¶)/f(æ–‡æœ¬æ–‡ä»¶)åŒ¹é…æ–‡ä»¶ç±»å‹</span><br><span class="line">-groupåŒ¹é…æ‰€æœ‰ç»„</span><br><span class="line">-mtime -n +nåŒ¹é…ä¿®æ”¹å†…å®¹çš„æ—¶é—´ï¼ˆ-næŒ‡nå¤©ä»¥å†…ï¼Œ+næŒ‡nå¤©ä»¥å‰ï¼‰</span><br><span class="line">-atime -n +nåŒ¹é…è®¿é—®æ–‡ä»¶çš„æ—¶é—´ï¼ˆ-næŒ‡nå¤©ä»¥å†…ï¼Œ+næŒ‡nå¤©ä»¥å‰ï¼‰</span><br><span class="line">-ctime -n +nåŒ¹é…ä¿®æ”¹æ–‡ä»¶æƒé™çš„æ—¶é—´ï¼ˆ-næŒ‡nå¤©ä»¥å†…ï¼Œ+næŒ‡nå¤©ä»¥å‰ï¼‰</span><br><span class="line">-nouseråŒ¹é…æ— æ‰€æœ‰è€…çš„æ–‡ä»¶</span><br><span class="line">-nogroupåŒ¹é…æ— æ‰€æœ‰ç»„çš„æ–‡ä»¶</span><br><span class="line">-sizeåŒ¹é…æ–‡ä»¶çš„å¤§å°ï¼ˆ+50KBä¸ºæŸ¥æ‰¾è¶…è¿‡50KBçš„æ–‡ä»¶ï¼Œè€Œ-1Mä¸ºæŸ¥æ‰¾å°äº1Mçš„æ–‡ä»¶ï¼‰</span><br><span class="line">-<span class="built_in">exec</span> [å¤„ç†æœç´¢ç»“æœçš„å‘½ä»¤] &#123;&#125;\;åé¢å¯è·Ÿç”¨äºè¿›ä¸€æ­¥å¤„ç†æœç´¢ç»“æœçš„å‘½ä»¤</span><br></pre></td></tr></table></figure><h3 id="locate"><a href="#locate" class="headerlink" title="locate"></a>locate</h3><h4 id="ä½œç”¨-1"><a href="#ä½œç”¨-1" class="headerlink" title="ä½œç”¨"></a>ä½œç”¨</h4><p>locateå‘½ä»¤çš„åŠŸèƒ½æ˜¯ç”¨äºå¿«é€ŸæŸ¥æ‰¾æ–‡ä»¶æˆ–ç›®å½•</p><p>ä¸findå‘½ä»¤è¿›è¡Œå…¨å±€æœç´¢ä¸åŒï¼Œlocateå‘½ä»¤æ˜¯åŸºäºäº†æ•°æ®æ–‡ä»¶ï¼ˆ&#x2F;var&#x2F;lib&#x2F;locatedbï¼‰è¿›è¡Œçš„å®šç‚¹æŸ¥æ‰¾</p><p>æ­¤å‘½ä»¤ç¼©å°äº†æœç´¢èŒƒå›´ï¼Œå› æ­¤å¿«é€Ÿå¿«å¾ˆå¤š</p><h4 id="ä½¿ç”¨è¯´æ˜-1"><a href="#ä½¿ç”¨è¯´æ˜-1" class="headerlink" title="ä½¿ç”¨è¯´æ˜"></a>ä½¿ç”¨è¯´æ˜</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ ¼å¼ï¼šlocate å…³é”®è¯</span></span><br><span class="line"><span class="comment"># æ›´æ–°æ•°æ®åº“æ–‡ä»¶</span></span><br><span class="line">[root@zhima home]<span class="comment"># updatedb</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥æ‰¾ç³»ç»Ÿä¸­æ–‡ä»¶åä¸­æœ‰networkçš„æ–‡ä»¶</span></span><br><span class="line">[root@zhima home]<span class="comment"># locate network</span></span><br></pre></td></tr></table></figure><h3 id="which"><a href="#which" class="headerlink" title="which"></a>which</h3><h4 id="ä½œç”¨-2"><a href="#ä½œç”¨-2" class="headerlink" title="ä½œç”¨"></a>ä½œç”¨</h4><p>æ‰¾åˆ°å‘½ä»¤æœ¬èº«æ‰€åœ¨çš„è·¯å¾„</p><h4 id="ä½¿ç”¨è¯´æ˜-2"><a href="#ä½¿ç”¨è¯´æ˜-2" class="headerlink" title="ä½¿ç”¨è¯´æ˜"></a>ä½¿ç”¨è¯´æ˜</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ ¼å¼ï¼šwhich [å‚æ•°] å‘½ä»¤</span></span><br></pre></td></tr></table></figure><h4 id="å‚è€ƒæ¡ˆä¾‹"><a href="#å‚è€ƒæ¡ˆä¾‹" class="headerlink" title="å‚è€ƒæ¡ˆä¾‹"></a>å‚è€ƒæ¡ˆä¾‹</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@zhima home]<span class="comment"># which yum</span></span><br><span class="line">/usr/bin/yum</span><br><span class="line">[root@zhima home]<span class="comment"># which rpm</span></span><br><span class="line">/usr/bin/rpm</span><br><span class="line">[root@zhima home]<span class="comment"># which docker</span></span><br><span class="line">/usr/bin/docker</span><br></pre></td></tr></table></figure><h3 id="whereis"><a href="#whereis" class="headerlink" title="whereis"></a>whereis</h3><h4 id="ä½œç”¨-3"><a href="#ä½œç”¨-3" class="headerlink" title="ä½œç”¨"></a>ä½œç”¨</h4><p>å®šä½å‘½ä»¤çš„äºŒè¿›åˆ¶ç¨‹åºã€æºä»£ç æ–‡ä»¶å’Œmanæ‰‹å†Œé¡µç­‰ç›¸å…³æ–‡ä»¶çš„è·¯å¾„</p><p>å®ƒä¸æ˜¯åœ¨ç£ç›˜ä¸­ä¹±æ‰¾ï¼Œè€Œæ˜¯åœ¨ä¸€ä¸ªæ•°æ®åº“æ–‡ä»¶ä¸­æŸ¥è¯¢</p><p>æ­¤æ•°æ®åº“æ–‡ä»¶æ˜¯åŒ…å«æœ‰æœ¬åœ°æ‰€æœ‰æ–‡ä»¶çš„ä¿¡æ¯ï¼Œéœ€è¦è‡ªå·±æ‰‹åŠ¨ä½¿ç”¨<code>updatedb</code>æ›´æ–°æ•°æ®åº“</p><p>æ­£å› ä¸ºè¿™æ ·ï¼Œwhereiså‘½ä»¤çš„æœç´¢ç»“æœæœ‰æ—¶å€™ä¼šä¸å‡†ç¡®ï¼Œæ¯”å¦‚åˆšæ·»åŠ çš„æ–‡ä»¶å¯èƒ½æœä¸åˆ°ï¼Œ åŸå› å°±æ˜¯è¯¥æ•°æ®åº“æ–‡ä»¶æ²¡æœ‰è¢«æ›´æ–°ã€‚</p><h4 id="ä½¿ç”¨è¯´æ˜-3"><a href="#ä½¿ç”¨è¯´æ˜-3" class="headerlink" title="ä½¿ç”¨è¯´æ˜"></a>ä½¿ç”¨è¯´æ˜</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ ¼å¼ï¼šwhereis [å‚æ•°] å‘½ä»¤å</span></span><br><span class="line"><span class="comment"># å¸¸ç”¨å‚æ•°</span></span><br><span class="line"><span class="comment"># åªæœç´¢äºŒè¿›åˆ¶æ–‡ä»¶</span></span><br><span class="line">-b         search only <span class="keyword">for</span> binaries</span><br><span class="line"><span class="comment"># æŒ‡å®šè·¯å¾„æœç´¢äºŒè¿›åˆ¶æ–‡ä»¶</span></span><br><span class="line">-B &lt;<span class="built_in">dirs</span>&gt;  define binaries lookup path</span><br><span class="line"><span class="comment"># åªæœç´¢manæ‰‹å†Œ</span></span><br><span class="line">-m         search only <span class="keyword">for</span> manuals</span><br><span class="line"><span class="comment"># æŒ‡å®šè·¯å¾„ä¸‹æœç´¢manæ‰‹å†Œ</span></span><br><span class="line">-M &lt;<span class="built_in">dirs</span>&gt;  define man lookup path</span><br><span class="line"><span class="comment"># åªæœç´¢æºä»£ç </span></span><br><span class="line">-s         search only <span class="keyword">for</span> sources</span><br><span class="line"><span class="comment"># æŒ‡å®šè·¯å¾„ä¸‹æœç´¢æºä»£ç </span></span><br><span class="line">-S &lt;<span class="built_in">dirs</span>&gt;  define sources lookup path</span><br></pre></td></tr></table></figure><h3 id="rpm"><a href="#rpm" class="headerlink" title="rpm"></a>rpm</h3><h4 id="ä½œç”¨-4"><a href="#ä½œç”¨-4" class="headerlink" title="ä½œç”¨"></a>ä½œç”¨</h4><p>åŒ…ç®¡ç†å™¨ï¼ˆRedHat Package Managerï¼‰</p><h4 id="ä½¿ç”¨è¯´æ˜-4"><a href="#ä½¿ç”¨è¯´æ˜-4" class="headerlink" title="ä½¿ç”¨è¯´æ˜"></a>ä½¿ç”¨è¯´æ˜</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ ¼å¼ï¼šrpm [å‚æ•°] è½¯ä»¶åŒ…å</span></span><br><span class="line"><span class="comment"># å¸¸ç”¨å‚æ•°</span></span><br><span class="line"><span class="comment"># åˆ—å‡ºæ‰€æœ‰è½¯ä»¶åŒ…</span></span><br><span class="line">-a, --all                        query/verify all packages</span><br><span class="line"><span class="comment"># å¸è½½è½¯ä»¶åŒ…</span></span><br><span class="line">-e, --erase=&lt;package&gt;+           erase (uninstall) package</span><br><span class="line"><span class="comment"># æŸ¥è¯¢æ–‡ä»¶æˆ–å‘½ä»¤å±äºå“ªä¸ªè½¯ä»¶åŒ…</span></span><br><span class="line">-f, --file                       query/verify package(s) owning file</span><br><span class="line"><span class="comment"># ä¸‹è½½è½¯ä»¶åŒ…</span></span><br><span class="line">-i, --install                    install package(s)</span><br><span class="line"><span class="comment"># æ˜¾ç¤ºè½¯ä»¶åŒ…çš„æ–‡ä»¶åˆ—è¡¨</span></span><br><span class="line">-l, --list                       list files <span class="keyword">in</span> package</span><br><span class="line"><span class="comment"># æŸ¥è¯¢æŒ‡å®šçš„rpmè½¯ä»¶åŒ…</span></span><br><span class="line">-p, --package                    query/verify a package file</span><br><span class="line"><span class="comment"># å®‰è£…è½¯ä»¶åŒ…æ—¶åˆ—å‡ºæ ‡è®°</span></span><br><span class="line">-h, --<span class="built_in">hash</span>                       <span class="built_in">print</span> <span class="built_in">hash</span> marks as package installs (good with -v)</span><br><span class="line"><span class="comment"># æ˜¾ç¤ºå‘½ä»¤æ‰§è¡Œè¿‡ç¨‹</span></span><br><span class="line">-v, --verbose                    provide more detailed output</span><br></pre></td></tr></table></figure><h4 id="å‚è€ƒæ¡ˆä¾‹-1"><a href="#å‚è€ƒæ¡ˆä¾‹-1" class="headerlink" title="å‚è€ƒæ¡ˆä¾‹"></a>å‚è€ƒæ¡ˆä¾‹</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å®‰è£…è½¯ä»¶åŒ…</span></span><br><span class="line">[root@zhima home]<span class="comment"># rmp ivh cockpit-185-2.el8.x86_64.rpm </span></span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ—å‡ºç³»ç»Ÿå®‰è£…çš„æ‰€æœ‰è½¯ä»¶</span></span><br><span class="line">[root@zhima home]<span class="comment"># rpm -qa</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹cockpitçš„æ–‡ä»¶åˆ—è¡¨</span></span><br><span class="line">[root@zhima home]<span class="comment">#rpm -ql cockpit</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å‡çº§æŒ‡å®šè½¯ä»¶åŒ…</span></span><br><span class="line">[root@zhima home]<span class="comment">#rpm -Uvh cockpit-185-2.el8.x86_64.rpm </span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å¸è½½cockpit</span></span><br><span class="line">[root@zhima home]<span class="comment">#rpm -evh cockpit</span></span><br></pre></td></tr></table></figure><h3 id="ps"><a href="#ps" class="headerlink" title="ps"></a>ps</h3><h4 id="ä½œç”¨-5"><a href="#ä½œç”¨-5" class="headerlink" title="ä½œç”¨"></a>ä½œç”¨</h4><p>æŸ¥çœ‹è¿›ç¨‹çŠ¶æ€ï¼ˆprocess statusï¼‰</p><h4 id="ä½¿ç”¨è¯´æ˜-5"><a href="#ä½¿ç”¨è¯´æ˜-5" class="headerlink" title="ä½¿ç”¨è¯´æ˜"></a>ä½¿ç”¨è¯´æ˜</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ ¼å¼ï¼šps [å‚æ•°]</span></span><br><span class="line"><span class="comment"># å¸¸ç”¨å‚æ•°</span></span><br><span class="line">    aæ˜¾ç¤ºç°è¡Œç»ˆç«¯æœºä¸‹çš„æ‰€æœ‰ç¨‹åºï¼ŒåŒ…æ‹¬å…¶ä»–ç”¨æˆ·çš„ç¨‹åº</span><br><span class="line">    uä»¥ç”¨æˆ·ä¸ºä¸»çš„æ ¼å¼æ¥æ˜¾ç¤ºç¨‹åºçŠ¶å†µ</span><br><span class="line">    xæ˜¾ç¤ºæ‰€æœ‰ç¨‹åºï¼Œä¸ä»¥ç»ˆç«¯æœºæ¥åŒºåˆ†</span><br><span class="line">    råªåˆ—å‡ºç°è¡Œç»ˆç«¯æœºæ­£åœ¨æ‰§è¡Œä¸­çš„ç¨‹åº</span><br><span class="line">    eåˆ—å‡ºç¨‹åºæ—¶ï¼Œæ˜¾ç¤ºæ¯ä¸ªç¨‹åºæ‰€ä½¿ç”¨çš„ç¯å¢ƒå˜é‡</span><br><span class="line">    -fæ˜¾ç¤ºUID,PPIP,Cä¸STIMEæ ä½</span><br><span class="line">    -lé‡‡ç”¨è¯¦ç»†çš„æ ¼å¼æ¥æ˜¾ç¤ºç¨‹åºçŠ¶å†µ</span><br><span class="line">    -yé…åˆé€‰é¡¹â€-lâ€ä½¿ç”¨æ—¶ï¼Œä¸æ˜¾ç¤ºF(flag)æ ä½ï¼Œå¹¶ä»¥RSSæ ä½å–ä»£ADDRæ ä½</span><br></pre></td></tr></table></figure><h4 id="å‚è€ƒæ¡ˆä¾‹-2"><a href="#å‚è€ƒæ¡ˆä¾‹-2" class="headerlink" title="å‚è€ƒæ¡ˆä¾‹"></a>å‚è€ƒæ¡ˆä¾‹</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ˜¾ç¤ºç³»ç»Ÿä¸­å…¨éƒ¨çš„è¿›ç¨‹ä¿¡æ¯ï¼ŒåŒ…å«è¯¦ç»†ä¿¡æ¯</span></span><br><span class="line"><span class="comment"># ç»“åˆè¾“å‡ºé‡å®šå‘ï¼Œå°†å½“å‰è¿›ç¨‹ä¿¡æ¯ä¿ç•™å¤‡ä»½è‡³æŒ‡å®šæ–‡ä»¶</span></span><br><span class="line">ps aux &gt; now_process_status.txt</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ˜¾ç¤ºå½“å‰ç³»ç»Ÿè¿è¡ŒçŠ¶æ€è¯¦ç»†ä¿¡æ¯</span></span><br><span class="line">ps -ely</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ˜¾ç¤ºå½“å‰ç³»ç»Ÿè¿è¡ŒçŠ¶æ€</span></span><br><span class="line">ps -ef</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä¾æ®å†…å­˜ä½¿ç”¨é‡ï¼ˆç¬¬å››åˆ—ï¼‰æƒ…å†µé™åºæ’åº</span></span><br><span class="line">ps aux | sort -rnk 4</span><br></pre></td></tr></table></figure><h3 id="nohup"><a href="#nohup" class="headerlink" title="nohup"></a>nohup</h3><h4 id="ä½œç”¨-6"><a href="#ä½œç”¨-6" class="headerlink" title="ä½œç”¨"></a>ä½œç”¨</h4><p>åå°å¯åŠ¨ç¨‹åº</p><h4 id="ä½¿ç”¨è¯´æ˜-6"><a href="#ä½¿ç”¨è¯´æ˜-6" class="headerlink" title="ä½¿ç”¨è¯´æ˜"></a>ä½¿ç”¨è¯´æ˜</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ ¼å¼ï¼šnohup [å‚æ•°] ç¨‹åºå</span></span><br></pre></td></tr></table></figure><h4 id="å‚è€ƒæ¡ˆä¾‹-3"><a href="#å‚è€ƒæ¡ˆä¾‹-3" class="headerlink" title="å‚è€ƒæ¡ˆä¾‹"></a>å‚è€ƒæ¡ˆä¾‹</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ä»¥åå°æ¨¡å¼è¿è¡Œxxx.jaråŒ…</span></span><br><span class="line">nohup java -jar xxx.jar &amp;</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä»¥åå°æ¨¡å¼è¿è¡Œxxx.jaråŒ…å¹¶è®²è¾“å‡ºç»“æœéƒ½å†™å…¥xxx_log.txtæ–‡ä»¶</span></span><br><span class="line">nohup java -jar xxx.jar &amp; &gt; xxx_log.txt</span><br></pre></td></tr></table></figure><h3 id="systemctl"><a href="#systemctl" class="headerlink" title="systemctl"></a>systemctl</h3><h4 id="ä½œç”¨-7"><a href="#ä½œç”¨-7" class="headerlink" title="ä½œç”¨"></a>ä½œç”¨</h4><p>ç®¡ç†ç³»ç»ŸæœåŠ¡ï¼ˆåå°è¿›ç¨‹ï¼‰</p><h4 id="ä½¿ç”¨è¯´æ˜-7"><a href="#ä½¿ç”¨è¯´æ˜-7" class="headerlink" title="ä½¿ç”¨è¯´æ˜"></a>ä½¿ç”¨è¯´æ˜</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å¼€å¯æœåŠ¡</span></span><br><span class="line">systemctl start servieName</span><br><span class="line"></span><br><span class="line"><span class="comment"># é‡å¯æœåŠ¡</span></span><br><span class="line">systemctl restart servieName</span><br><span class="line"></span><br><span class="line"><span class="comment"># å…³é—­æœåŠ¡</span></span><br><span class="line">systemctl stop servieName</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹æœåŠ¡çŠ¶æ€</span></span><br><span class="line">systemctl status servieName</span><br><span class="line"></span><br><span class="line"><span class="comment"># å…³é—­åå°æœåŠ¡è‡ªå¯åŠ¨</span></span><br><span class="line">systemctl <span class="built_in">disable</span> serviceName</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¼€å¯åå°æœåŠ¡è‡ªå¯åŠ¨</span></span><br><span class="line">systemctl <span class="built_in">enable</span> serviceName</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹æ‰€æœ‰åå°æœåŠ¡çŠ¶æ€</span></span><br><span class="line">systemctl list-units --<span class="built_in">type</span> service --all</span><br></pre></td></tr></table></figure><h3 id="uname"><a href="#uname" class="headerlink" title="uname"></a>uname</h3><h4 id="ä½œç”¨-8"><a href="#ä½œç”¨-8" class="headerlink" title="ä½œç”¨"></a>ä½œç”¨</h4><p>æ˜¾ç¤ºç³»ç»Ÿå†…æ ¸å†…å®¹</p><h4 id="ä½¿ç”¨è¯´æ˜-8"><a href="#ä½¿ç”¨è¯´æ˜-8" class="headerlink" title="ä½¿ç”¨è¯´æ˜"></a>ä½¿ç”¨è¯´æ˜</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ ¼å¼ï¼šuname [å‚æ•°]</span></span><br><span class="line"><span class="comment"># å¸¸ç”¨å‚æ•°</span></span><br><span class="line"><span class="comment"># æ˜¾ç¤ºå…¨éƒ¨ä¿¡æ¯</span></span><br><span class="line">-a, --all                <span class="built_in">print</span> all information, <span class="keyword">in</span> the following order,</span><br><span class="line">                             except omit -p and -i <span class="keyword">if</span> unknown:</span><br><span class="line"><span class="comment"># æ˜¾ç¤ºä¸»æœºå</span></span><br><span class="line">-n, --nodename           <span class="built_in">print</span> the network node hostname</span><br><span class="line"><span class="comment"># æ˜¾ç¤ºå†…æ ¸å</span></span><br><span class="line">-s, --kernel-name        <span class="built_in">print</span> the kernel name</span><br><span class="line"><span class="comment"># æ˜¾ç¤ºç¡¬ä»¶æ¶æ„</span></span><br><span class="line">-m, --machine            <span class="built_in">print</span> the machine hardware name</span><br><span class="line"><span class="comment"># æ˜¾ç¤ºå†…æ ¸å‘è¡Œå·</span></span><br><span class="line">-r, --kernel-release     <span class="built_in">print</span> the kernel release</span><br><span class="line"><span class="comment"># æ˜¾ç¤ºå†…æ ¸ç‰ˆæœ¬</span></span><br><span class="line">-v, --kernel-version     <span class="built_in">print</span> the kernel version</span><br><span class="line"><span class="comment"># æ˜¾ç¤ºå¤„ç†å™¨çš„ç±»å‹</span></span><br><span class="line">-p, --processor          <span class="built_in">print</span> the processor <span class="built_in">type</span> or <span class="string">&quot;unknown&quot;</span></span><br><span class="line"><span class="comment"># æ˜¾ç¤ºæ“ä½œç³»ç»Ÿç±»å‹</span></span><br><span class="line">-o, --operating-system   <span class="built_in">print</span> the operating system</span><br></pre></td></tr></table></figure><h3 id="shutdown"><a href="#shutdown" class="headerlink" title="shutdown"></a>shutdown</h3><h4 id="ä½œç”¨-9"><a href="#ä½œç”¨-9" class="headerlink" title="ä½œç”¨"></a>ä½œç”¨</h4><p>å…³æœº</p><h4 id="ä½¿ç”¨è¯´æ˜-9"><a href="#ä½¿ç”¨è¯´æ˜-9" class="headerlink" title="ä½¿ç”¨è¯´æ˜"></a>ä½¿ç”¨è¯´æ˜</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> Linuxç³»ç»Ÿä¸­ä¸ºäº†æé«˜ç£ç›˜çš„è¯»å†™æ•ˆç‡ï¼Œå¯¹ç£ç›˜é‡‡ç”¨äº†â€œé¢„è¯»è¿Ÿå†™â€æ“ä½œæ–¹å¼ã€‚å½“ç”¨æˆ·ä¿å­˜æ–‡ä»¶æ—¶ï¼ŒLinuxæ ¸å¿ƒå¹¶ä¸ä¸€å®šç«‹å³å°†æ•°æ®å†™å…¥ç‰©ç†ç£ç›˜ä¸­ï¼Œè€Œæ˜¯å°†æ•°æ®ä¿å­˜åœ¨ç¼“å­˜åŒºä¸­ï¼Œç­‰åˆ°ç¼“å­˜åŒºè¢«å¡«æ»¡äº†ä¹‹åå†å°†æ•°æ®å†™å…¥ç£ç›˜ï¼Œè¿™ç§æ–¹å¼ç¡®å®æå¤§åœ°æé«˜äº†è¯»å†™æ•ˆç‡ï¼Œä½†æ˜¯ä¹Ÿæœ‰å…¶æ‰€åœ¨çš„ä¸€äº›é—®é¢˜ï¼Œå½“æœåŠ¡å™¨é­å—åˆ°æ–­ç”µæˆ–è€…å…¶ä»–æ„å¤–æƒ…å†µçš„æ—¶å€™ï¼Œç¼“å­˜ä¸­çš„æ•°æ®ä¼šç›´æ¥ä¸¢å¤±ï¼Œè¿™å°±ä¼šå¯¼è‡´ä¸€äº›é—®é¢˜ï¼Œsyncå°±æ˜¯å°†ç¼“å­˜ä¸­çš„ä¸œè¥¿ç›´æ¥å†™å…¥åˆ°ç£ç›˜ä¸­å»ï¼Œæ— éœ€ç­‰å¾…ç¼“å­˜è¢«å¡«æ»¡</span></span><br><span class="line"><span class="meta">#</span><span class="bash">å°†æ•°æ®åŒæ­¥åˆ°ç¡¬ç›˜ï¼ˆå…³æœºå‰å¿…é¡»åšï¼‰</span></span><br><span class="line">sync</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash">æœåŠ¡å™¨åœ¨ååˆ†é’Ÿåå…³æœº</span></span><br><span class="line">shutdown -h 10</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash">ç«‹å³å…³æœº</span></span><br><span class="line">shutdown -h now</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash">åœ¨20:35å…³æœº</span></span><br><span class="line">shutdown -h 20:35</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash">ç«‹é©¬é‡å¯</span></span><br><span class="line">shutdown -r now</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash">ç«‹é©¬é‡å¯</span></span><br><span class="line">reboot</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> javaEE </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linux-æ–‡ä»¶ç¼–è¾‘</title>
      <link href="/javaEE/Linux/2023/01/08/Linux-%E6%96%87%E4%BB%B6%E7%BC%96%E8%BE%91/"/>
      <url>/javaEE/Linux/2023/01/08/Linux-%E6%96%87%E4%BB%B6%E7%BC%96%E8%BE%91/</url>
      
        <content type="html"><![CDATA[<h2 id="Linux-æ–‡ä»¶ç¼–è¾‘"><a href="#Linux-æ–‡ä»¶ç¼–è¾‘" class="headerlink" title="Linux-æ–‡ä»¶ç¼–è¾‘"></a>Linux-æ–‡ä»¶ç¼–è¾‘</h2><h3 id="chgrp"><a href="#chgrp" class="headerlink" title="chgrp"></a>chgrp</h3><h4 id="ä½œç”¨"><a href="#ä½œç”¨" class="headerlink" title="ä½œç”¨"></a>ä½œç”¨</h4><p>ä¿®æ”¹æ–‡ä»¶å±ç»„ï¼ˆchange groupï¼‰</p><h4 id="ä½¿ç”¨è¯´æ˜"><a href="#ä½¿ç”¨è¯´æ˜" class="headerlink" title="ä½¿ç”¨è¯´æ˜"></a>ä½¿ç”¨è¯´æ˜</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ ¼å¼ï¼šchgrp [å‚æ•°] [ç›®å½•]</span></span><br><span class="line"><span class="comment"># å¸¸ç”¨å‚æ•°</span></span><br><span class="line"><span class="comment"># å’Œ-vç±»ä¼¼ï¼Œä½†æ˜¯-cæ˜¯åªæ˜¾ç¤ºå‘ç”Ÿä¿®æ”¹çš„éƒ¨åˆ†</span></span><br><span class="line">-c, --changes          like verbose but report only when a change is made</span><br><span class="line"><span class="comment"># ä¸æ˜¾ç¤ºæŠ¥é”™</span></span><br><span class="line">-f, --silent, --quiet  suppress most error messages</span><br><span class="line"><span class="comment"># è¾“å‡ºå¯¹æ¯ä¸ªæ–‡ä»¶çš„å¤„ç†è¿‡ç¨‹</span></span><br><span class="line">-v, --verbose          output a diagnostic <span class="keyword">for</span> every file processed</span><br><span class="line"><span class="comment"># é€’å½’å¤„ç†å­ç›®å½•</span></span><br><span class="line">-R, --recursive        operate on files and directories recursively</span><br></pre></td></tr></table></figure><h3 id="chown"><a href="#chown" class="headerlink" title="chown"></a>chown</h3><h4 id="ä½œç”¨-1"><a href="#ä½œç”¨-1" class="headerlink" title="ä½œç”¨"></a>ä½œç”¨</h4><p>ä¿®æ”¹æ–‡ä»¶å±ç»„å’Œå±ä¸»ï¼ˆchange ownerï¼‰</p><h4 id="ä½¿ç”¨è¯´æ˜-1"><a href="#ä½¿ç”¨è¯´æ˜-1" class="headerlink" title="ä½¿ç”¨è¯´æ˜"></a>ä½¿ç”¨è¯´æ˜</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ ¼å¼ï¼šchown [å‚æ•°] å±ä¸»:å±ç»„ ç›®æ ‡æ–‡ä»¶</span></span><br><span class="line"><span class="comment"># å¸¸ç”¨å‚æ•°</span></span><br><span class="line"><span class="comment"># å’Œ-vç±»ä¼¼ï¼Œä½†æ˜¯-cæ˜¯åªæ˜¾ç¤ºå‘ç”Ÿä¿®æ”¹çš„éƒ¨åˆ†</span></span><br><span class="line">-c, --changes          like verbose but report only when a change is made</span><br><span class="line"><span class="comment"># ä¸æ˜¾ç¤ºæŠ¥é”™</span></span><br><span class="line">-f, --silent, --quiet  suppress most error messages</span><br><span class="line"><span class="comment"># è¾“å‡ºå¯¹æ¯ä¸ªæ–‡ä»¶çš„å¤„ç†è¿‡ç¨‹</span></span><br><span class="line">-v, --verbose          output a diagnostic <span class="keyword">for</span> every file processed</span><br><span class="line"><span class="comment"># é€’å½’å¤„ç†å­ç›®å½•</span></span><br><span class="line">-R, --recursive        operate on files and directories recursively</span><br></pre></td></tr></table></figure><h3 id="chomd"><a href="#chomd" class="headerlink" title="chomd"></a>chomd</h3><h4 id="ä½œç”¨-2"><a href="#ä½œç”¨-2" class="headerlink" title="ä½œç”¨"></a>ä½œç”¨</h4><p>ä¿®æ”¹æ–‡ä»¶çš„æƒé™ï¼ˆchange modeï¼‰</p><h4 id="ä½¿ç”¨è¯´æ˜-2"><a href="#ä½¿ç”¨è¯´æ˜-2" class="headerlink" title="ä½¿ç”¨è¯´æ˜"></a>ä½¿ç”¨è¯´æ˜</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ ¼å¼ï¼šchomd å‚æ•° ç›®æ ‡æ–‡ä»¶</span></span><br><span class="line"><span class="comment"># å¸¸ç”¨å‚æ•°</span></span><br><span class="line"><span class="comment"># å’Œ-vç±»ä¼¼ï¼Œä½†æ˜¯-cæ˜¯åªæ˜¾ç¤ºå‘ç”Ÿä¿®æ”¹çš„éƒ¨åˆ†</span></span><br><span class="line">-c, --changes          like verbose but report only when a change is made</span><br><span class="line"><span class="comment"># ä¸æ˜¾ç¤ºæŠ¥é”™</span></span><br><span class="line">-f, --silent, --quiet  suppress most error messages</span><br><span class="line"><span class="comment"># è¾“å‡ºå¯¹æ¯ä¸ªæ–‡ä»¶çš„å¤„ç†è¿‡ç¨‹</span></span><br><span class="line">-v, --verbose          output a diagnostic <span class="keyword">for</span> every file processed</span><br><span class="line"><span class="comment"># é€’å½’å¤„ç†å­ç›®å½•</span></span><br><span class="line">-R, --recursive        operate on files and directories recursively</span><br></pre></td></tr></table></figure><h4 id="æƒé™è¯´æ˜"><a href="#æƒé™è¯´æ˜" class="headerlink" title="æƒé™è¯´æ˜"></a>æƒé™è¯´æ˜</h4><p>Linuxä¸­æƒé™å¯ä»¥ä»¥ä¸¤ç§æ–¹å¼è¯´æ˜ï¼Œä¸€ç§æ˜¯ç¬¦å·ï¼Œä¸€ç§æ˜¯æ•°å­—</p><p>ä¸¤è€…å­˜åœ¨çš„å¯¹åº”å…³ç³»å¦‚ä¸‹</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">r:4   w:2   x:1</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨chmodä¿®æ”¹æ–‡ä»¶æƒé™</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">chmod rwxrw---x filename</span><br><span class="line"><span class="comment"># ä¸¤è€…ä½œç”¨ä¸€è‡´</span></span><br><span class="line">chmod 761 filename</span><br><span class="line"><span class="comment"># è¯´æ˜ï¼š</span></span><br><span class="line"><span class="comment"># 7 -&gt; r + w + x =&gt; 4 + 2 + 1 = 7</span></span><br><span class="line"><span class="comment"># 6 -&gt; r + w + - =&gt; 4 + 2 + 0 = 6</span></span><br><span class="line"><span class="comment"># 1 -&gt; - + - + x =&gt; 0 + 0 + 1 = 1</span></span><br></pre></td></tr></table></figure><h3 id="cat"><a href="#cat" class="headerlink" title="cat"></a>cat</h3><h4 id="ä½œç”¨-3"><a href="#ä½œç”¨-3" class="headerlink" title="ä½œç”¨"></a>ä½œç”¨</h4><p>æŸ¥çœ‹æ–‡ä»¶å†…å®¹</p><h4 id="ä½¿ç”¨è¯´æ˜-3"><a href="#ä½¿ç”¨è¯´æ˜-3" class="headerlink" title="ä½¿ç”¨è¯´æ˜"></a>ä½¿ç”¨è¯´æ˜</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># cat [å‚æ•°] ç›®æ ‡æ–‡ä»¶</span></span><br><span class="line"><span class="comment"># å¸¸ç”¨å‚æ•°</span></span><br><span class="line"><span class="comment"># æ˜¾ç¤ºè¡Œå·ï¼ˆç©ºè¡Œä¹Ÿç¼–å·ï¼‰</span></span><br><span class="line">-n, --number             number all output lines</span><br><span class="line"><span class="comment"># æ˜¾ç¤ºè¡Œå·ï¼ˆå¤šä¸ªè¿ç»­ç©ºè¡Œç®—ä¸€è¡Œï¼‰</span></span><br><span class="line">-s, --squeeze-blank      suppress repeated empty output lines</span><br><span class="line"><span class="comment"># æ˜¾ç¤ºè¡Œå·ï¼ˆç©ºè¡Œä¸ç¼–å·ï¼‰</span></span><br><span class="line">-b, --number-nonblank    number nonempty output lines, overrides -n</span><br><span class="line"><span class="comment"># åœ¨æ¯ä¸€è¡Œç»“å°¾å¤„åŠ ä¸Šä¸€ä¸ª$</span></span><br><span class="line">-E, --show-ends          display $ at end of each line</span><br></pre></td></tr></table></figure><h4 id="å‚è€ƒæ¡ˆä¾‹"><a href="#å‚è€ƒæ¡ˆä¾‹" class="headerlink" title="å‚è€ƒæ¡ˆä¾‹"></a>å‚è€ƒæ¡ˆä¾‹</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å°†file1.txtæ–‡ä»¶ä¸­çš„å†…å®¹è¾“å‡ºåˆ°copy.txt</span></span><br><span class="line">[root@zhima home]<span class="comment"># cat file1.txt &gt; copy.txt </span></span><br><span class="line">[root@zhima home]<span class="comment"># ls</span></span><br><span class="line">copy.txt  file1.txt  university  zhima</span><br><span class="line">[root@zhima home]<span class="comment"># cat copy.txt </span></span><br><span class="line">abcdefg</span><br><span class="line">[root@zhima home]<span class="comment"># cat file1.txt </span></span><br><span class="line">abcdefg</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŒç»­å†™å…¥è¾“å…¥çš„å†…å®¹åˆ°æ–‡ä»¶input.txt</span></span><br><span class="line"><span class="comment"># ç›´åˆ°è¾“å…¥äº†ENDï¼Œé€€å‡ºå¹¶ä¿å­˜</span></span><br><span class="line">[root@zhima home]<span class="comment"># cat &gt; input.txt &lt;&lt; END</span></span><br><span class="line">&gt; Hello</span><br><span class="line">&gt; world</span><br><span class="line">&gt; end</span><br><span class="line">&gt; END</span><br><span class="line">[root@zhima home]<span class="comment"># cat input.txt </span></span><br><span class="line">Hello</span><br><span class="line">world</span><br><span class="line">end</span><br><span class="line"><span class="comment"># å†æ¬¡æ‰§è¡Œå°±ä¼šè¦†ç›–åŸå…ˆæ–‡ä»¶</span></span><br><span class="line">[root@zhima home]<span class="comment"># cat &gt; input.txt &lt;&lt; e</span></span><br><span class="line">&gt; overide</span><br><span class="line">&gt; e</span><br><span class="line">[root@zhima home]<span class="comment"># cat input.txt </span></span><br><span class="line">overide</span><br></pre></td></tr></table></figure><h3 id="more"><a href="#more" class="headerlink" title="more"></a>more</h3><h4 id="ä½œç”¨-4"><a href="#ä½œç”¨-4" class="headerlink" title="ä½œç”¨"></a>ä½œç”¨</h4><p>åˆ†é¡µæ˜¾ç¤ºæ–‡ä»¶ï¼ˆåªèƒ½å‘åæµè§ˆï¼Œä¸èƒ½å‘å‰ï¼‰</p><h4 id="ä½¿ç”¨è¯´æ˜-4"><a href="#ä½¿ç”¨è¯´æ˜-4" class="headerlink" title="ä½¿ç”¨è¯´æ˜"></a>ä½¿ç”¨è¯´æ˜</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ ¼å¼ï¼šmore [å‚æ•°] ç›®æ ‡æ–‡ä»¶</span></span><br><span class="line"><span class="comment"># å¸¸ç”¨å‚æ•°</span></span><br><span class="line"><span class="comment"># æ¯é¡µæ˜¾ç¤ºå‡ è¡Œ</span></span><br><span class="line">-NUM      specify the number of lines per screenful</span><br><span class="line"><span class="comment"># ä¸æ»šåŠ¨ï¼Œå…ˆæ¸…é™¤å±å¹•å†å±•ç¤ºæ–‡æœ¬</span></span><br><span class="line">-p        <span class="keyword">do</span> not scroll, clean screen and display text</span><br><span class="line"><span class="comment"># ä¸æ»šåŠ¨ï¼Œå…ˆå±•ç¤ºæ–‡æœ¬å†å–å‡ºæ—§å†…å®¹</span></span><br><span class="line">-c        <span class="keyword">do</span> not scroll, display text and clean line ends</span><br><span class="line"><span class="comment"># å‹ç¼©å¤šè¡Œè¿ç»­ç©ºç™½åˆ°ä¸€è¡Œ</span></span><br><span class="line">-s        squeeze multiple blank lines into one</span><br><span class="line"><span class="comment"># ä»ç¬¬å‡ è¡Œå¼€å§‹æ˜¾ç¤º</span></span><br><span class="line">+NUM      display file beginning from line number NUM</span><br></pre></td></tr></table></figure><h3 id="less"><a href="#less" class="headerlink" title="less"></a>less</h3><h4 id="ä½œç”¨-5"><a href="#ä½œç”¨-5" class="headerlink" title="ä½œç”¨"></a>ä½œç”¨</h4><p>åˆ†é¡µæ˜¾ç¤ºæ–‡ä»¶å†…å®¹ï¼ˆæ—¢å¯ä»¥å‘å‰æµè§ˆåˆå¯ä»¥å‘åæµè§ˆï¼‰</p><h4 id="ä½¿ç”¨è¯´æ˜-5"><a href="#ä½¿ç”¨è¯´æ˜-5" class="headerlink" title="ä½¿ç”¨è¯´æ˜"></a>ä½¿ç”¨è¯´æ˜</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ ¼å¼ï¼šless [å‚æ•°] ç›®æ ‡æ–‡ä»¶</span></span><br><span class="line"><span class="comment"># å¸¸ç”¨å‚æ•°</span></span><br><span class="line">-bè®¾ç½®ç¼“å†²åŒºçš„å¤§å°</span><br><span class="line">    -eå½“æ–‡ä»¶æ˜¾ç¤ºç»“æŸåè‡ªåŠ¨é€€å‡º</span><br><span class="line">    -få¼ºåˆ¶æ‰“å¼€æ–‡ä»¶</span><br><span class="line">    -iå¿½ç•¥æœç´¢æ—¶çš„å¤§å°å†™</span><br><span class="line">    -mæ˜¾ç¤ºé˜…è¯»è¿›åº¦ç™¾åˆ†æ¯”</span><br><span class="line">    -Næ˜¾ç¤ºæ¯è¡Œçš„è¡Œå·</span><br><span class="line">    -oå°†è¾“å‡ºçš„å†…å®¹åœ¨æŒ‡å®šæ–‡ä»¶ä¸­ä¿å­˜èµ·æ¥</span><br><span class="line">    -Qä¸ä½¿ç”¨è­¦å‘ŠéŸ³</span><br><span class="line">    -sæ˜¾ç¤ºè¿ç»­ç©ºè¡Œä¸ºä¸€è¡Œ</span><br><span class="line">    -Såœ¨å•è¡Œæ˜¾ç¤ºè¾ƒé•¿çš„å†…å®¹ï¼Œè€Œä¸æ¢è¡Œæ˜¾ç¤º</span><br><span class="line">    -xå°†TABå­—ç¬¦æ˜¾ç¤ºä¸ºæŒ‡å®šä¸ªæ•°çš„ç©ºæ ¼å­—ç¬¦</span><br></pre></td></tr></table></figure><h3 id="head"><a href="#head" class="headerlink" title="head"></a>head</h3><h4 id="ä½œç”¨-6"><a href="#ä½œç”¨-6" class="headerlink" title="ä½œç”¨"></a>ä½œç”¨</h4><p>æ˜¾ç¤ºæ–‡ä»¶å¼€å¤´å†…å®¹ï¼ˆé»˜è®¤å‰10è¡Œï¼‰</p><h4 id="ä½¿ç”¨è¯´æ˜-6"><a href="#ä½¿ç”¨è¯´æ˜-6" class="headerlink" title="ä½¿ç”¨è¯´æ˜"></a>ä½¿ç”¨è¯´æ˜</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ ¼å¼ï¼šhead [å‚æ•°] ç›®æ ‡æ–‡ä»¶</span></span><br><span class="line"><span class="comment"># å¸¸ç”¨å‚æ•°</span></span><br><span class="line"><span class="comment"># åªæ˜¾ç¤ºå¼€å¤´å‰kä¸ªå­—ç¬¦</span></span><br><span class="line"><span class="comment"># åŠ äº†-å°±æ˜¯é™¤äº†å€’æ•°kä¸ªå­—ç¬¦ä¸æ˜¾ç¤ºï¼Œå…¶ä»–éƒ½æ˜¾ç¤º</span></span><br><span class="line">-n, --lines=[-]K         <span class="built_in">print</span> the first K lines instead of the first 10;</span><br><span class="line">                             with the leading <span class="string">&#x27;-&#x27;</span>, <span class="built_in">print</span> all but the last</span><br><span class="line">                             K lines of each file</span><br><span class="line"><span class="comment"># åªæ˜¾ç¤ºå¼€å¤´å‰kè¡Œ</span></span><br><span class="line"><span class="comment"># åŠ äº†-å°±æ˜¯é™¤äº†å€’æ•°kè¡Œä¸æ˜¾ç¤ºï¼Œå…¶ä»–éƒ½æ˜¾ç¤º</span></span><br><span class="line">-c, --bytes=[-]K         <span class="built_in">print</span> the first K bytes of each file;</span><br><span class="line">                             with the leading <span class="string">&#x27;-&#x27;</span>, <span class="built_in">print</span> all but the last</span><br><span class="line">                             K bytes of each file</span><br><span class="line"><span class="comment"># æ˜¾ç¤ºæ–‡ä»¶åçš„å¤´ä¿¡æ¯</span></span><br><span class="line">-v, --verbose            always <span class="built_in">print</span> headers giving file names</span><br></pre></td></tr></table></figure><h3 id="tail"><a href="#tail" class="headerlink" title="tail"></a>tail</h3><h4 id="ä½œç”¨-7"><a href="#ä½œç”¨-7" class="headerlink" title="ä½œç”¨"></a>ä½œç”¨</h4><p>æŸ¥çœ‹æ–‡ä»¶å°¾éƒ¨å†…å®¹ï¼ˆé»˜è®¤å€’æ•°10è¡Œï¼‰</p><h4 id="ä½¿ç”¨è¯´æ˜-7"><a href="#ä½¿ç”¨è¯´æ˜-7" class="headerlink" title="ä½¿ç”¨è¯´æ˜"></a>ä½¿ç”¨è¯´æ˜</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ ¼å¼ï¼štail [å‚æ•°] ç›®æ ‡æ–‡ä»¶</span></span><br><span class="line"><span class="comment"># å¸¸ç”¨å‚æ•°</span></span><br><span class="line"><span class="comment"># æ˜¾ç¤ºæœ€åkä¸ªå­—ç¬¦</span></span><br><span class="line">-c, --bytes=K            output the last K bytes; or use -c +K to output</span><br><span class="line">                             bytes starting with the Kth of each file</span><br><span class="line"><span class="comment"># æŒç»­æ˜¾ç¤ºæ–‡ä»¶æœ€æ–°è¿½åŠ çš„å†…å®¹</span></span><br><span class="line">-f, --follow[=&#123;name|descriptor&#125;]</span><br><span class="line">                           output appended data as the file grows;</span><br><span class="line">                             an absent option argument means <span class="string">&#x27;descriptor&#x27;</span></span><br><span class="line"><span class="comment"># æ˜¾ç¤ºæœ€åkè¡Œ</span></span><br><span class="line">-n, --lines=K            output the last K lines, instead of the last 10;</span><br><span class="line">                             or use -n +K to output starting with the Kth</span><br></pre></td></tr></table></figure><h3 id="rm"><a href="#rm" class="headerlink" title="rm"></a>rm</h3><h4 id="ä½œç”¨-8"><a href="#ä½œç”¨-8" class="headerlink" title="ä½œç”¨"></a>ä½œç”¨</h4><p>åˆ é™¤æ–‡ä»¶</p><h4 id="ä½¿ç”¨è¯´æ˜-8"><a href="#ä½¿ç”¨è¯´æ˜-8" class="headerlink" title="ä½¿ç”¨è¯´æ˜"></a>ä½¿ç”¨è¯´æ˜</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ ¼å¼ï¼šrm [å‚æ•°] ç›®æ ‡æ–‡ä»¶</span></span><br><span class="line"><span class="comment"># å¸¸ç”¨å‚æ•°</span></span><br><span class="line"><span class="comment"># å¼ºåˆ¶åˆ é™¤</span></span><br><span class="line">-f, --force           ignore nonexistent files and arguments, never prompt</span><br><span class="line"><span class="comment"># åˆ é™¤å‰è¯¢é—®</span></span><br><span class="line">-i                    prompt before every removal</span><br><span class="line"><span class="comment"># é€’å½’åˆ é™¤å­æ–‡ä»¶å¤¹</span></span><br><span class="line">-r, -R, --recursive   remove directories and their contents recursively</span><br><span class="line"><span class="comment"># æ˜¾ç¤ºè¯¦ç»†çš„å‘½ä»¤æ‰§è¡Œè¿‡ç¨‹</span></span><br><span class="line">-v, --verbose         explain what is being <span class="keyword">done</span></span><br></pre></td></tr></table></figure><h3 id="echo"><a href="#echo" class="headerlink" title="echo"></a>echo</h3><h4 id="ä½œç”¨-9"><a href="#ä½œç”¨-9" class="headerlink" title="ä½œç”¨"></a>ä½œç”¨</h4><p>è¾“å‡ºå­—ç¬¦ä¸²æˆ–æå–åçš„å˜é‡å€¼</p><h4 id="ä½¿ç”¨è¯´æ˜-9"><a href="#ä½¿ç”¨è¯´æ˜-9" class="headerlink" title="ä½¿ç”¨è¯´æ˜"></a>ä½¿ç”¨è¯´æ˜</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ ¼å¼ï¼šecho [å‚æ•°] å­—ç¬¦ä¸²/$å˜é‡å</span></span><br></pre></td></tr></table></figure><h4 id="å‚è€ƒæ¡ˆä¾‹-1"><a href="#å‚è€ƒæ¡ˆä¾‹-1" class="headerlink" title="å‚è€ƒæ¡ˆä¾‹"></a>å‚è€ƒæ¡ˆä¾‹</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ˜¾ç¤ºstudy</span></span><br><span class="line">[root@zhima home]<span class="comment"># echo study</span></span><br><span class="line">study</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ˜¾ç¤ºç³»ç»Ÿå˜é‡PATHçš„å€¼</span></span><br><span class="line">[root@zhima home]<span class="comment"># echo $PATH</span></span><br><span class="line">/usr/<span class="built_in">local</span>/sbin:/usr/<span class="built_in">local</span>/bin:/usr/sbin:/usr/bin:/root/bin</span><br><span class="line"></span><br><span class="line"><span class="comment"># å°†å†…å®¹é‡å®šå‘åˆ°path.txtæ–‡ä»¶ä¸­</span></span><br><span class="line">[root@zhima home]<span class="comment"># echo $PATH &gt; path.txt</span></span><br><span class="line">[root@zhima home]<span class="comment"># cat path.txt </span></span><br><span class="line">/usr/<span class="built_in">local</span>/sbin:/usr/<span class="built_in">local</span>/bin:/usr/sbin:/usr/bin:/root/bin</span><br></pre></td></tr></table></figure><h3 id="grep"><a href="#grep" class="headerlink" title="grep"></a>grep</h3><h4 id="ä½œç”¨-10"><a href="#ä½œç”¨-10" class="headerlink" title="ä½œç”¨"></a>ä½œç”¨</h4><p>æ–‡æœ¬æœç´¢å·¥å…·</p><p>ä¸ä¹‹å®¹æ˜“æ··æ·†çš„æ˜¯egrepå‘½ä»¤å’Œfgrepå‘½ä»¤</p><p>egrepç­‰ä»·äº<code>grep -E</code>ï¼Œæ”¯æŒæ‰©å±•çš„æ­£åˆ™è¡¨è¾¾å¼ã€‚</p><p>fgrepç­‰ä»·äº<code>grep -F</code>ï¼Œä¸æ”¯æŒæ­£åˆ™è¡¨è¾¾å¼ï¼Œç›´æ¥æŒ‰ç…§å­—ç¬¦ä¸²å†…å®¹è¿›è¡ŒåŒ¹é…ã€‚</p><h4 id="ä½¿ç”¨è¯´æ˜-10"><a href="#ä½¿ç”¨è¯´æ˜-10" class="headerlink" title="ä½¿ç”¨è¯´æ˜"></a>ä½¿ç”¨è¯´æ˜</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ ¼å¼ï¼šgrep [å‚æ•°] å¾…æœç´¢æ–‡æœ¬ ç›®æ ‡æ–‡ä»¶1 ç›®æ ‡æ–‡ä»¶2 ...</span></span><br><span class="line"><span class="comment"># å¸¸ç”¨å‚æ•°</span></span><br><span class="line"><span class="comment"># å¿½ç•¥å¤§å°å†™</span></span><br><span class="line">-i, --ignore-case         ignore <span class="keyword">case</span> distinctions</span><br><span class="line"><span class="comment"># åªæ˜¾ç¤ºåŒ¹é…çš„è¡Œæ•°</span></span><br><span class="line">-c, --count               <span class="built_in">print</span> only a count of matching lines per FILE</span><br><span class="line"><span class="comment"># ä¸æç¤ºæ–‡ä»¶å</span></span><br><span class="line">-h, --no-filename         suppress the file name prefix on output</span><br><span class="line"><span class="comment"># è¾“å‡ºå…³é”®è¯ä½ç½®çš„è¡Œå·åŠå†…å®¹</span></span><br><span class="line">-n, --line-number         <span class="built_in">print</span> line number with output lines</span><br><span class="line"><span class="comment"># æ˜¾ç¤ºä¸åŒ¹é…çš„è¡Œ</span></span><br><span class="line">-v, --invert-match        select non-matching lines</span><br><span class="line"><span class="comment"># é€’å½’æœç´¢</span></span><br><span class="line">-r, --recursive           like --directories=recurs</span><br><span class="line"><span class="comment"># åªåˆ—å‡ºåŒ¹é…çš„æ–‡ä»¶å</span></span><br><span class="line">-l, --files-with-matches  <span class="built_in">print</span> only names of FILEs containing matches</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> javaEE </category>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linux-æ–‡ä»¶ç®¡ç†</title>
      <link href="/javaEE/2023/01/07/Linux-%E6%96%87%E4%BB%B6%E7%AE%A1%E7%90%86/"/>
      <url>/javaEE/2023/01/07/Linux-%E6%96%87%E4%BB%B6%E7%AE%A1%E7%90%86/</url>
      
        <content type="html"><![CDATA[<h2 id="æ–‡ä»¶ç®¡ç†"><a href="#æ–‡ä»¶ç®¡ç†" class="headerlink" title="æ–‡ä»¶ç®¡ç†"></a>æ–‡ä»¶ç®¡ç†</h2><h3 id="ls"><a href="#ls" class="headerlink" title="ls"></a>ls</h3><h4 id="ä½œç”¨"><a href="#ä½œç”¨" class="headerlink" title="ä½œç”¨"></a>ä½œç”¨</h4><p>æ˜¾ç¤ºå½“å‰å·¥ä½œç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶å’Œæ–‡ä»¶å¤¹</p><h4 id="ä½¿ç”¨è¯´æ˜"><a href="#ä½¿ç”¨è¯´æ˜" class="headerlink" title="ä½¿ç”¨è¯´æ˜"></a>ä½¿ç”¨è¯´æ˜</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ ¼å¼ï¼šls [å‚æ•°] [è·¯å¾„]</span></span><br><span class="line"><span class="comment"># å¸¸ç”¨å¯é€‰å‚æ•°</span></span><br><span class="line"><span class="comment"># ä¸è¦å¿½ç•¥ä»¥.å¼€å¤´çš„æ–‡ä»¶ï¼Œå³ä¸å¿½ç•¥éšè—æ–‡ä»¶</span></span><br><span class="line">-a, --all                  <span class="keyword">do</span> not ignore entries starting with .</span><br><span class="line"><span class="comment"># ä»¥åˆ—è¡¨å½¢å¼å±•ç¤ºæ‰€æœ‰çš„æ–‡ä»¶</span></span><br><span class="line">-l                         use a long listing format</span><br><span class="line"><span class="comment"># è¾“å‡ºæ¯ä¸ªæ–‡ä»¶çš„ç´¢å¼•å€¼</span></span><br><span class="line">-i, --inode                <span class="built_in">print</span> the index number of each file</span><br><span class="line"><span class="comment"># æŒ‰ç…§æ–‡ä»¶å¤§å°æ’åº</span></span><br><span class="line">-S                         sort by file size</span><br><span class="line"><span class="comment"># ä»¥ç›¸åæ¬¡åºå±•ç¤º</span></span><br><span class="line">-r, --reverse              reverse order <span class="keyword">while</span> sorting</span><br><span class="line"><span class="comment"># åŒ -a ï¼Œä½†ä¸åˆ—å‡º â€œ.â€ (å½“å‰ç›®å½•) åŠ â€œ..â€ (çˆ¶ç›®å½•)</span></span><br><span class="line">-A, --almost-all           <span class="keyword">do</span> not list implied . and ..</span><br><span class="line"><span class="comment"># æ˜¾ç¤ºæ¯ä¸ªæ–‡ä»¶çš„ä½œè€…ï¼Œå’Œ-lé…åˆä½¿ç”¨</span></span><br><span class="line">      --author               with -l, <span class="built_in">print</span> the author of each file</span><br><span class="line">    <span class="comment"># é€’å½’æ˜¾ç¤ºæ‰€æœ‰çš„å­æ–‡ä»¶å¤¹</span></span><br><span class="line">    -R, --recursive            list subdirectories recursively</span><br><span class="line">    <span class="comment"># æ°´å¹³åˆ—å‡ºæ–‡ä»¶ï¼Œä»¥é€—å·åˆ†éš”</span></span><br><span class="line">    -m                         fill width with a comma separated list of entries</span><br><span class="line">    </span><br><span class="line"><span class="comment"># æ–‡ä»¶é¢œè‰²è¯´æ˜</span></span><br><span class="line">    ç™½è‰² æ™®é€šæ–‡ä»¶</span><br><span class="line">    è“è‰² æ–‡ä»¶å¤¹</span><br><span class="line">    ç»¿è‰² å¯æ‰§è¡Œæ–‡ä»¶</span><br><span class="line">    çº¢è‰² å‹ç¼©æ–‡ä»¶</span><br><span class="line">    æµ…è“è‰² é“¾æ¥æ–‡ä»¶</span><br><span class="line">    çº¢è‰²é—ªçƒ é“¾æ¥çš„æ–‡ä»¶æœ‰é—®é¢˜</span><br><span class="line">    é»„è‰² è®¾å¤‡æ–‡ä»¶</span><br></pre></td></tr></table></figure><h4 id="å‚è€ƒæ¡ˆä¾‹"><a href="#å‚è€ƒæ¡ˆä¾‹" class="headerlink" title="å‚è€ƒæ¡ˆä¾‹"></a>å‚è€ƒæ¡ˆä¾‹</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ˜¾ç¤ºå½“å‰ç›®å½•çš„æ‰€æœ‰æ–‡ä»¶</span></span><br><span class="line"><span class="comment"># PSï¼šæ–‡ä»¶å¤¹ä¹Ÿæ˜¯ä¸€ç§æ–‡ä»¶ï¼Œå«æ–‡ä»¶å¤¹æ–‡ä»¶</span></span><br><span class="line">[root@zhima /]<span class="comment"># ls</span></span><br><span class="line">bin  boot  data  dev  etc  home  lib  lib64  lost+found  media  mnt  opt  proc  root  run  sbin  srv  sys  tmp  usr  var</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä»¥åˆ—è¡¨å½¢å¼æ˜¾ç¤ºå½“å‰ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶ï¼Œä¸æ˜¾ç¤º.å’Œ..</span></span><br><span class="line">[root@zhima home]<span class="comment"># ls -A -l</span></span><br><span class="line">total 20</span><br><span class="line">-rw-r--r-- 1 root root    4 Jan  8 10:37 file1</span><br><span class="line">-rw-r--r-- 1 root root    4 Jan  8 10:41 file2</span><br><span class="line">drwxr-xr-x 2 root root 4096 Jan  8 10:47 temp</span><br><span class="line">drwxr-xr-x 3 root root 4096 Jan  5 16:05 university</span><br><span class="line">drwxr-xr-x 3 root root 4096 Jan  5 16:14 zhima</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä»¥åˆ—è¡¨å½¢å¼æ˜¾ç¤ºå½“å‰ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶ï¼ŒåŒ…æ‹¬éšè—æ–‡ä»¶</span></span><br><span class="line">[root@zhima home]<span class="comment"># ls -a -l</span></span><br><span class="line">total 28</span><br><span class="line">drwxr-xr-x.  5 root root 4096 Jan  8 10:47 .</span><br><span class="line">dr-xr-xr-x. 19 root root 4096 Jan  8 11:19 ..</span><br><span class="line">-rw-r--r--   1 root root    4 Jan  8 10:37 file1</span><br><span class="line">-rw-r--r--   1 root root    4 Jan  8 10:41 file2</span><br><span class="line">drwxr-xr-x   2 root root 4096 Jan  8 10:47 temp</span><br><span class="line">drwxr-xr-x   3 root root 4096 Jan  5 16:05 university</span><br><span class="line">drwxr-xr-x   3 root root 4096 Jan  5 16:14 zhima</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ˜¾ç¤º / ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶</span></span><br><span class="line">[root@zhima home]<span class="comment"># ls /</span></span><br><span class="line">bin  boot  data  dev  etc  home  lib  lib64  lost+found  media  mnt  opt  proc  root  run  sbin  srv  sys  tmp  usr  var</span><br></pre></td></tr></table></figure><h4 id="æ–‡ä»¶å±æ€§"><a href="#æ–‡ä»¶å±æ€§" class="headerlink" title="æ–‡ä»¶å±æ€§"></a>æ–‡ä»¶å±æ€§</h4><p>è¿™é‡Œè¯´ä¸€ä¸‹<code>ls -al</code>ä¸­å±•ç¤ºäº†æ–‡ä»¶çš„å“ªäº›å±æ€§ï¼Œåˆ†åˆ«éƒ½ä»£è¡¨ä»€ä¹ˆæ„æ€</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[root@zhima home]<span class="comment"># ls -Al</span></span><br><span class="line">total 20</span><br><span class="line">-rw-r--r-- 1 root root    4 Jan  8 10:37 file1</span><br><span class="line">-rw-r--r-- 1 root root    4 Jan  8 10:41 file2</span><br><span class="line">drwxr-xr-x 2 root root 4096 Jan  8 10:47 temp</span><br><span class="line">drwxr-xr-x 3 root root 4096 Jan  5 16:05 university</span><br><span class="line">drwxr-xr-x 3 root root 4096 Jan  5 16:14 zhima</span><br></pre></td></tr></table></figure><p>å°†æ¯ä¸€è¡Œåˆ†ä¸º6ç»„æ¥çœ‹</p><h5 id="ç¬¬ä¸€ç»„"><a href="#ç¬¬ä¸€ç»„" class="headerlink" title="ç¬¬ä¸€ç»„"></a>ç¬¬ä¸€ç»„</h5><img src="/javaEE/2023/01/07/Linux-%E6%96%87%E4%BB%B6%E7%AE%A1%E7%90%86/image-20230108110922803.png" class title="ç¬¬ä¸€ç»„"><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è¿™ä¸€ç»„å›ºå®š10ä¸ªå­—ç¬¦</span></span><br><span class="line"><span class="comment"># ç¬¬ä¸€ä¸ªå­—ç¬¦æ˜¯è¡¨ç¤ºæ–‡ä»¶ç±»å‹ï¼Œæœ‰ä¸‹é¢å¸¸è§çš„å‡ ç§</span></span><br><span class="line">dæ–‡ä»¶å¤¹</span><br><span class="line">-æ™®é€šæ–‡ä»¶</span><br><span class="line">lé“¾æ¥æ–‡ä»¶ï¼ˆLinked Fileï¼‰</span><br><span class="line">bè£…ç½®æ–‡ä»¶ï¼Œé‡Œé¢å¯èƒ½æœ‰ä¾›å­˜å‚¨çš„æ¥å£è®¾å¤‡</span><br><span class="line">cè£…ç½®æ–‡ä»¶é‡Œé¢çš„ä¸²è¡Œç«¯å£è®¾å¤‡ï¼Œä¾‹å¦‚é”®ç›˜æˆ–è€…é¼ æ ‡</span><br><span class="line"><span class="comment"># å9ä¸ªå­—ç¬¦è¡¨ç¤ºæ“ä½œæƒé™ï¼Œæ¯3ä¸ªå­—ç¬¦ä¸ºä¸€ç»„</span></span><br><span class="line"><span class="comment"># ä¸‹é¢æ˜¯å››ç§æƒé™ç±»å‹çš„è¡¨ç¤º</span></span><br><span class="line">    r<span class="built_in">read</span>ï¼ˆå¯è¯»ï¼‰</span><br><span class="line">    wwriteï¼ˆå¯å†™ï¼‰</span><br><span class="line">    xexecuteï¼ˆå¯æ‰§è¡Œï¼‰</span><br><span class="line">    -æ²¡æœ‰æ­¤æƒé™</span><br><span class="line"><span class="comment"># ç¬¬ä¸€ç»„ä¸‰ä¸ªå­—ç¬¦æ˜¯è¡¨ç¤º å±ä¸»ï¼ˆæ–‡ä»¶çš„æ‰€æœ‰è€…ï¼‰ å¯¹æ­¤æ–‡ä»¶çš„æƒé™</span></span><br><span class="line"><span class="comment"># ç¬¬äºŒç»„ä¸‰ä¸ªå­—ç¬¦æ˜¯è¡¨ç¤º å±ç»„ï¼ˆæ–‡ä»¶çš„æ‰€æœ‰è€…çš„åŒç»„çš„ç”¨æˆ·ï¼‰ å¯¹æ­¤æ–‡ä»¶çš„æƒé™</span></span><br><span class="line"><span class="comment"># ç¬¬ä¸‰ç»„ä¸‰ä¸ªå­—ç¬¦æ˜¯è¡¨ç¤º å…¶ä»–ç”¨æˆ· å¯¹æ­¤æ–‡ä»¶çš„æƒé™è¯´æ˜</span></span><br></pre></td></tr></table></figure><h5 id="ç¬¬äºŒç»„"><a href="#ç¬¬äºŒç»„" class="headerlink" title="ç¬¬äºŒç»„"></a>ç¬¬äºŒç»„</h5><img src="/javaEE/2023/01/07/Linux-%E6%96%87%E4%BB%B6%E7%AE%A1%E7%90%86/image-20230108111019451.png" class title="ç¬¬äºŒç»„"><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ­¤æ–‡ä»¶æ˜¯æ–‡ä»¶å¤¹æ–‡ä»¶</span></span><br><span class="line">æ­¤ä½æ•°å­—è¡¨ç¤ºçš„æ˜¯æ–‡ä»¶å¤¹å†…çš„æ–‡ä»¶æ•°é‡</span><br><span class="line"><span class="comment"># æ­¤æ–‡ä»¶å¤¹æ˜¯æ–‡ä»¶</span></span><br><span class="line">æ­¤ä½æ•°å­—å›ºå®šæ˜¯1</span><br></pre></td></tr></table></figure><h5 id="ç¬¬ä¸‰ç»„"><a href="#ç¬¬ä¸‰ç»„" class="headerlink" title="ç¬¬ä¸‰ç»„"></a>ç¬¬ä¸‰ç»„</h5><img src="/javaEE/2023/01/07/Linux-%E6%96%87%E4%BB%B6%E7%AE%A1%E7%90%86/image-20230108111252021.png" class title="ç¬¬ä¸‰ç»„"><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ç¬¬ä¸€åˆ—æ˜¯å±ä¸»</span></span><br><span class="line"><span class="comment"># ç¬¬ä¸€åˆ—æ˜¯å±ç»„</span></span><br></pre></td></tr></table></figure><h5 id="ç¬¬å››ç»„"><a href="#ç¬¬å››ç»„" class="headerlink" title="ç¬¬å››ç»„"></a>ç¬¬å››ç»„</h5><img src="/javaEE/2023/01/07/Linux-%E6%96%87%E4%BB%B6%E7%AE%A1%E7%90%86/image-20230108111403826.png" class title="ç¬¬å››ç»„"><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ–‡ä»¶å¤§å°</span></span><br></pre></td></tr></table></figure><h5 id="ç¬¬äº”ç»„"><a href="#ç¬¬äº”ç»„" class="headerlink" title="ç¬¬äº”ç»„"></a>ç¬¬äº”ç»„</h5><img src="/javaEE/2023/01/07/Linux-%E6%96%87%E4%BB%B6%E7%AE%A1%E7%90%86/image-20230108111453411.png" class title="ç¬¬äº”ç»„"><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ–‡ä»¶åˆ›å»ºæ—¶é—´</span></span><br></pre></td></tr></table></figure><h5 id="ç¬¬å…­ç»„"><a href="#ç¬¬å…­ç»„" class="headerlink" title="ç¬¬å…­ç»„"></a>ç¬¬å…­ç»„</h5><img src="/javaEE/2023/01/07/Linux-%E6%96%87%E4%BB%B6%E7%AE%A1%E7%90%86/image-20230108111535607.png" class title="ç¬¬å…­ç»„"><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ–‡ä»¶å</span></span><br></pre></td></tr></table></figure><h3 id="cp"><a href="#cp" class="headerlink" title="cp"></a>cp</h3><h4 id="ä½œç”¨-1"><a href="#ä½œç”¨-1" class="headerlink" title="ä½œç”¨"></a>ä½œç”¨</h4><p>å¤åˆ¶æ–‡ä»¶æˆ–ç›®å½•</p><h4 id="ä½¿ç”¨è¯´æ˜-1"><a href="#ä½¿ç”¨è¯´æ˜-1" class="headerlink" title="ä½¿ç”¨è¯´æ˜"></a>ä½¿ç”¨è¯´æ˜</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ ¼å¼ï¼šcp [å‚æ•°] æºæ–‡ä»¶ ç›®æ ‡æ–‡ä»¶</span></span><br><span class="line">[root@zhima home]<span class="comment"># cp file1 file2</span></span><br><span class="line"><span class="comment"># å¸¸ç”¨å¯é€‰å‚æ•°</span></span><br><span class="line"><span class="comment"># è‹¥ç›®æ ‡æ–‡ä»¶å·²å­˜åœ¨ï¼Œç›´æ¥è¦†ç›–</span></span><br><span class="line">    -f, --force                  <span class="keyword">if</span> an existing destination file cannot be </span><br><span class="line">    opened, remove it and try again</span><br><span class="line"><span class="comment"># é€’å½’å¤åˆ¶æ–‡ä»¶å¤¹</span></span><br><span class="line">-R, -r, --recursive          copy directories recursively</span><br><span class="line"><span class="comment"># è¦†ç›–å‰è¯¢é—®</span></span><br><span class="line">-i, --interactive            prompt before overwrite</span><br><span class="line"><span class="comment"># è¯¦ç»†æ˜¾ç¤ºå¤åˆ¶è¿‡ç¨‹</span></span><br><span class="line">-v, --verbose                explain what is being <span class="keyword">done</span></span><br><span class="line"><span class="comment"># å»ºç«‹ç¡¬é“¾æ¥</span></span><br><span class="line">-l, --link                   hard link files instead of copying</span><br><span class="line"><span class="comment"># å»ºç«‹è½¯é“¾æ¥ï¼ˆç¬¦å·é“¾æ¥ï¼‰</span></span><br><span class="line">-s, --symbolic-link          make symbolic links instead of copying</span><br><span class="line"><span class="comment"># ä¿ç•™æºæ–‡ä»¶æˆ–è€…ç›®å½•çš„æ‰€æœ‰å±æ€§</span></span><br><span class="line">-p                           same as --preserve=mode,ownership,timestamps</span><br><span class="line"><span class="comment"># å½“å¤åˆ¶ç¬¦å·è¿æ¥æ—¶ï¼ŒæŠŠç›®æ ‡æ–‡ä»¶æˆ–ç›®å½•ä¹Ÿå»ºç«‹ä¸ºç¬¦å·è¿æ¥ï¼Œå¹¶æŒ‡å‘ä¸æºæ–‡ä»¶æˆ–ç›®å½•è¿æ¥çš„åŸå§‹æ–‡ä»¶æˆ–ç›®å½•</span></span><br><span class="line">-dsame as --no-dereference --preserve=links</span><br><span class="line"><span class="comment"># ç­‰åŒäº -p -d -r</span></span><br><span class="line">-a, --archive                same as -dR --preserve=all</span><br></pre></td></tr></table></figure><h4 id="å‚è€ƒæ¡ˆä¾‹-1"><a href="#å‚è€ƒæ¡ˆä¾‹-1" class="headerlink" title="å‚è€ƒæ¡ˆä¾‹"></a>å‚è€ƒæ¡ˆä¾‹</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å°†æºæ–‡ä»¶file1å¤åˆ¶åˆ°ç›®æ ‡æ–‡ä»¶file2</span></span><br><span class="line">[root@zhima home]<span class="comment"># ls</span></span><br><span class="line">file1  temp  university  zhima</span><br><span class="line">[root@zhima home]<span class="comment"># cp file1 file2</span></span><br><span class="line">[root@zhima home]<span class="comment"># ls</span></span><br><span class="line">file1  file2  temp  university  zhima</span><br><span class="line"></span><br><span class="line"><span class="comment"># å°†æºæ–‡ä»¶file1å¤åˆ¶åˆ°ç›®æ ‡æ–‡ä»¶file2ï¼Œå¦‚æœå­˜åœ¨file2ï¼Œåˆ™æ‹·è´ä¸€ä»½</span></span><br><span class="line">[root@zhima home]<span class="comment"># ls</span></span><br><span class="line">file1  file2  temp  university  zhima</span><br><span class="line">[root@zhima home]<span class="comment"># cp -b file1 file2</span></span><br><span class="line">cp: overwrite â€˜file2â€™? y</span><br><span class="line">[root@zhima home]<span class="comment"># ls</span></span><br><span class="line">file1  file2  file2~  temp  university  zhima</span><br></pre></td></tr></table></figure><h3 id="mkdir"><a href="#mkdir" class="headerlink" title="mkdir"></a>mkdir</h3><h4 id="ä½œç”¨-2"><a href="#ä½œç”¨-2" class="headerlink" title="ä½œç”¨"></a>ä½œç”¨</h4><p>åˆ›å»ºç›®å½•æ–‡ä»¶</p><h4 id="ä½¿ç”¨è¯´æ˜-2"><a href="#ä½¿ç”¨è¯´æ˜-2" class="headerlink" title="ä½¿ç”¨è¯´æ˜"></a>ä½¿ç”¨è¯´æ˜</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ ¼å¼ï¼šmkdir [å‚æ•°] ç›®å½•å</span></span><br><span class="line">[root@zhima home]<span class="comment"># mkdir temp</span></span><br><span class="line"><span class="comment"># å¸¸ç”¨å‚æ•°</span></span><br><span class="line"><span class="comment"># åˆ›å»ºç›®å½•çš„æ—¶å€™è®¾ç½®æƒé™</span></span><br><span class="line">-m, --mode=MODE   <span class="built_in">set</span> file mode (as <span class="keyword">in</span> chmod)</span><br><span class="line"><span class="comment"># é€’å½’åˆ›å»ºå¤šçº§ç›®å½•</span></span><br><span class="line">-p, --parents     no error <span class="keyword">if</span> existing, make parent directories as needed</span><br><span class="line"><span class="comment"># æ˜¾ç¤ºåˆ›å»ºè¿‡ç¨‹</span></span><br><span class="line">-v, --verbose     <span class="built_in">print</span> a message <span class="keyword">for</span> each created directory</span><br></pre></td></tr></table></figure><h4 id="å‚è€ƒæ¡ˆä¾‹-2"><a href="#å‚è€ƒæ¡ˆä¾‹-2" class="headerlink" title="å‚è€ƒæ¡ˆä¾‹"></a>å‚è€ƒæ¡ˆä¾‹</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åˆ›å»ºdir1ã€dir2ä¸¤ä¸ªç›®å½•æ–‡ä»¶</span></span><br><span class="line">[root@zhima home]<span class="comment"># ls</span></span><br><span class="line">file1  temp  university  zhima</span><br><span class="line">[root@zhima home]<span class="comment"># mkdir dir1 dir2</span></span><br><span class="line">[root@zhima home]<span class="comment"># ls</span></span><br><span class="line">dir1  dir2  file1  temp  university  zhima</span><br><span class="line"></span><br><span class="line"><span class="comment"># é€’å½’åˆ›å»ºç›®å½•</span></span><br><span class="line"><span class="comment"># é”™è¯¯ç¤ºèŒƒ</span></span><br><span class="line">[root@zhima home]<span class="comment"># mkdir a/b/c/d</span></span><br><span class="line">mkdir: cannot create directory â€˜a/b/c/dâ€™: No such file or directory</span><br><span class="line"><span class="comment"># æ­£ç¡®ç¤ºèŒƒ</span></span><br><span class="line">[root@zhima home]<span class="comment"># mkdir -p a/b/c/d</span></span><br><span class="line">[root@zhima home]<span class="comment"># ls</span></span><br><span class="line">a  dir1  dir2  file1  temp  university  zhima</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ›å»ºç›®å½•çš„æ—¶å€™æŒ‡å®šæƒé™</span></span><br><span class="line">[root@zhima home]<span class="comment"># mkdir -m 700 dir3</span></span><br><span class="line">[root@zhima home]<span class="comment"># ls -l</span></span><br><span class="line"><span class="comment"># ...çœç•¥æ— å…³æ–‡ä»¶...</span></span><br><span class="line">drwx------ 2 root root 4096 Jan  8 11:32 dir3</span><br><span class="line"><span class="comment"># ...çœç•¥æ— å…³æ–‡ä»¶...</span></span><br></pre></td></tr></table></figure><h3 id="pwd"><a href="#pwd" class="headerlink" title="pwd"></a>pwd</h3><h4 id="ä½œç”¨-3"><a href="#ä½œç”¨-3" class="headerlink" title="ä½œç”¨"></a>ä½œç”¨</h4><p>æ˜¾ç¤ºå½“å‰å·¥ä½œç›®å½•</p><h4 id="å‚è€ƒæ¡ˆä¾‹-3"><a href="#å‚è€ƒæ¡ˆä¾‹-3" class="headerlink" title="å‚è€ƒæ¡ˆä¾‹"></a>å‚è€ƒæ¡ˆä¾‹</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ˜¾ç¤ºå½“å‰å·¥ä½œç›®å½•</span></span><br><span class="line">[root@zhima c]<span class="comment"># pwd</span></span><br><span class="line">/home/a/b/c</span><br></pre></td></tr></table></figure><h3 id="mv"><a href="#mv" class="headerlink" title="mv"></a>mv</h3><h4 id="ä½œç”¨-4"><a href="#ä½œç”¨-4" class="headerlink" title="ä½œç”¨"></a>ä½œç”¨</h4><p>ç§»åŠ¨æ–‡ä»¶æˆ–è€…é‡å‘½å</p><h4 id="ä½¿ç”¨è¯´æ˜-3"><a href="#ä½¿ç”¨è¯´æ˜-3" class="headerlink" title="ä½¿ç”¨è¯´æ˜"></a>ä½¿ç”¨è¯´æ˜</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ ¼å¼ï¼šmv [å‚æ•°] æºæ–‡ä»¶ ç›®æ ‡æ–‡ä»¶</span></span><br><span class="line"><span class="comment"># è¦†ç›–å‰è¯¢é—®</span></span><br><span class="line">-i, --interactive            prompt before overwrite</span><br><span class="line"><span class="comment"># ç›´æ¥è¦†ç›–ï¼Œä¸è¯¢é—®</span></span><br><span class="line">-f, --force                  <span class="keyword">do</span> not prompt before overwriting</span><br><span class="line"><span class="comment"># å½“æ–‡ä»¶å­˜åœ¨æ—¶ï¼Œè¦†ç›–å‰ä¸ºå…¶åˆ›å»ºä¸€ä¸ªå¤‡ä»½</span></span><br><span class="line">-b                           like --backup but does not accept an argument</span><br><span class="line"><span class="comment"># å½“æºæ–‡ä»¶æ¯”ç›®æ ‡æ–‡ä»¶æ–°æˆ–è€…ç›®æ ‡æ–‡ä»¶ä¸å­˜åœ¨çš„æ—¶å€™æ‰æ‰§è¡Œç§»åŠ¨æ“ä½œ</span></span><br><span class="line">-u, --update                 move only when the SOURCE file is newer</span><br><span class="line">                                 than the destination file or when the</span><br><span class="line">                                 destination file is missing</span><br></pre></td></tr></table></figure><h4 id="å‚è€ƒæ¡ˆä¾‹-4"><a href="#å‚è€ƒæ¡ˆä¾‹-4" class="headerlink" title="å‚è€ƒæ¡ˆä¾‹"></a>å‚è€ƒæ¡ˆä¾‹</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å°†dir1é‡å‘½åä¸ºdir4</span></span><br><span class="line">[root@zhima home]<span class="comment"># ls</span></span><br><span class="line">a  dir1  file1  temp  university  zhima</span><br><span class="line">[root@zhima home]<span class="comment"># mv dir1 dir4</span></span><br><span class="line">[root@zhima home]<span class="comment"># ls</span></span><br><span class="line">a  dir4  file1  temp  university  zhima</span><br><span class="line"></span><br><span class="line"><span class="comment"># å°†file1ç§»åŠ¨åˆ°tempæ–‡ä»¶å¤¹ä¸­</span></span><br><span class="line">[root@zhima home]<span class="comment"># ls</span></span><br><span class="line">file1  temp  university  zhima</span><br><span class="line">[root@zhima home]<span class="comment"># mv file1 temp/</span></span><br><span class="line">[root@zhima home]<span class="comment"># ls</span></span><br><span class="line">temp  university  zhima</span><br><span class="line"></span><br><span class="line"><span class="comment"># å°†/home/tempç›®å½•ä¸­çš„æ‰€æœ‰å†…å®¹éƒ½å¤åˆ¶åˆ°å½“å‰å·¥ä½œè·¯å¾„ä¸‹ï¼Œå¹¶ä¸”é‡å‘½åä¸ºdir</span></span><br><span class="line">[root@zhima zhima]<span class="comment"># mv -f /home/temp/ ./dir</span></span><br><span class="line">[root@zhima zhima]<span class="comment"># ls</span></span><br><span class="line">nextcloud  dir</span><br></pre></td></tr></table></figure><h3 id="cd"><a href="#cd" class="headerlink" title="cd"></a>cd</h3><h4 id="ä½œç”¨-5"><a href="#ä½œç”¨-5" class="headerlink" title="ä½œç”¨"></a>ä½œç”¨</h4><p>åˆ‡æ¢å·¥ä½œç›®å½•</p><h4 id="Linuxç›®å½•ç»“æ„"><a href="#Linuxç›®å½•ç»“æ„" class="headerlink" title="Linuxç›®å½•ç»“æ„"></a>Linuxç›®å½•ç»“æ„</h4><p>åœ¨Linuxç³»ç»Ÿä¸­ï¼Œä¸€åˆ‡çš†æ–‡ä»¶ï¼Œä¸‹é¢æ˜¯Linuxç³»ç»Ÿä¸­çš„ç›®å½•ç»“æ„</p><img src="/javaEE/2023/01/07/Linux-%E6%96%87%E4%BB%B6%E7%AE%A1%E7%90%86/Linux%E7%9A%84%E6%96%87%E4%BB%B6%E7%BB%93%E6%9E%84%E5%9B%BE.jpg" class title="Linuxçš„æ–‡ä»¶ç»“æ„å›¾"><ul><li><strong>&#x2F;bin:</strong>  binæ˜¯Binaryçš„ç¼©å†™ï¼Œè¿™ä¸ªç›®å½•å­˜æ”¾ç€æœ€ç»å¸¸ä½¿ç”¨çš„å‘½ä»¤</li><li><strong>&#x2F;boot:</strong>  è¿™é‡Œå­˜æ”¾çš„æ˜¯å¯åŠ¨Linuxçš„æ—¶å€™ä½¿ç”¨çš„ä¸€äº›æ ¸å¿ƒæ–‡ä»¶ï¼ˆä¸è¦åŠ¨ï¼‰</li><li><strong>&#x2F;dev:</strong>  devæ˜¯Deviceçš„ç¼©å†™ï¼Œå­˜æ”¾çš„æ˜¯Linuxçš„å¤–è®¾è®¾å¤‡ï¼Œ</li><li><strong>&#x2F;etc:</strong>  <strong>è¿™ä¸ªç›®å½•æ˜¯ç”¨æ¥å­˜æ”¾æ‰€æœ‰çš„ç³»ç»Ÿç®¡ç†æ‰€éœ€è¦çš„é…ç½®æ–‡ä»¶å’Œå­ç›®å½•</strong></li><li><strong>&#x2F;home:</strong>  <strong>ç”¨æˆ·çš„ä¸»ç›®å½•ï¼Œåœ¨Linuxä¸­ï¼Œæ¯ä¸ªç”¨æˆ·éƒ½æœ‰ä¸€ä¸ªè‡ªå·±çš„ç›®å½•ï¼Œä¸€èˆ¬è¯¥ç›®å½•åæ˜¯ä½¿ç”¨ç”¨æˆ·çš„è´¦å·æ¥å‘½åçš„</strong></li><li><strong>&#x2F;lib:</strong>  è¿™é‡Œå­˜æ”¾ç€ç³»ç»Ÿæœ€åŸºæœ¬çš„åŠ¨æ€è¿æ¥å…±äº«åº“ï¼ˆä¸è¦åŠ¨ï¼‰</li><li><strong>&#x2F;lost+found:</strong>  è¿™ä¸ªç›®å½•ä¸€èˆ¬æ˜¯ç©ºçš„ï¼Œä½†æ˜¯å½“æœåŠ¡å™¨æ„å¤–å…³é—­çš„æ—¶å€™ï¼Œé‡Œé¢ä¼šå­˜åœ¨ä¸€äº›é”™è¯¯æ–‡ä»¶ï¼ˆä¸è¦åŠ¨ï¼‰</li><li><strong>&#x2F;media:</strong>  Linuxç³»ç»Ÿä¼šè‡ªåŠ¨è¯†åˆ«ä¸€äº›è®¾å¤‡ï¼Œä¾‹å¦‚uç›˜ï¼Œå…‰é©±ç­‰ç­‰</li><li><strong>&#x2F;mnt:</strong>  è¿™ä¸ªç›®å½•æ˜¯ç»™ç”¨æˆ·æ¥ä¸´æ—¶æŒ‚è½½åˆ«çš„æ–‡ä»¶ç³»ç»Ÿçš„ï¼ˆåé¢ä¼šæŠŠæœ¬åœ°æ–‡ä»¶æŒ‚è½½åœ¨è¿™ä¸ªç›®å½•ä¸‹ï¼‰</li><li><strong>&#x2F;opt:</strong>  <strong>ç»™ä¸»æœºé¢å¤–å®‰è£…è½¯ä»¶æ‰€åœ¨çš„ç›®å½•</strong></li><li><strong>&#x2F;proc:</strong>  è¿™æ˜¯ä¸€ä¸ªè™šæ‹Ÿçš„ç›®å½•ï¼Œä»–æ˜¯ç³»ç»Ÿå†…å­˜çš„æ˜ å°„ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ç›´æ¥è®¿é—®è¿™ä¸ªç›®å½•æ¥è·å¾—ç³»ç»Ÿä¿¡æ¯ï¼ˆä¸ç”¨ç®¡ï¼‰</li><li><strong>&#x2F;rootï¼ˆä¹Ÿå°±æ˜¯  ~ ï¼‰:</strong>  è¯¥ç›®å½•æ˜¯ç³»ç»Ÿç®¡ç†å‘˜ç›®å½•ï¼Œä¹Ÿç§°ä½œè¶…çº§æƒé™è€…çš„ç”¨æˆ·ä¸»ç›®å½•</li><li><strong>&#x2F;sbin:</strong>  så°±æ˜¯superçš„æ„æ€ï¼Œè¿™é‡Œå­˜æ”¾çš„æ˜¯ç³»ç»Ÿç®¡ç†å‘˜ä½¿ç”¨çš„ç³»ç»Ÿç®¡ç†ç¨‹åº</li><li><strong>&#x2F;srv:</strong>  è¯¥ç›®å½•ç”¨æ¥å­˜æ”¾ä¸€äº›å®ˆæŠ¤è¿›ç¨‹å¯åŠ¨ä¹‹åéœ€è¦æå–çš„æ•°æ®</li><li><strong>&#x2F;sys:</strong>  è¿™æ˜¯Linux2.6å†…æ ¸çš„ä¸€ä¸ªå¾ˆå¤§çš„æ”¹å˜ï¼Œè¯¥ç›®å½•ä¸‹å®‰è£…äº†2.6å†…æ ¸ä¸­æ–°å‡ºç°çš„ä¸€ä¸ªæ–‡ä»¶ç³»ç»Ÿsysfs</li><li><strong>&#x2F;tmp:</strong>  <strong>è¿™ä¸ªç›®å½•ä½¿ç”¨æ¥å­˜æ”¾ä¸€äº›ä¸´æ—¶æ–‡ä»¶çš„</strong></li><li><strong>&#x2F;usr:</strong>  <strong>è¿™ä¸ªç›®å½•ç”¨æ¥å­˜æ”¾ç”¨æˆ·çš„åº”ç”¨ç¨‹åºå’Œæ–‡ä»¶</strong></li><li><strong>&#x2F;usr&#x2F;bin:</strong>  ç³»ç»Ÿç”¨æˆ·ä½¿ç”¨çš„åº”ç”¨ç¨‹åº</li><li><strong>&#x2F;usr&#x2F;sbin:</strong>   è¶…çº§ç”¨æˆ·ä½¿ç”¨çš„æ¯”è¾ƒé«˜çº§çš„ç®¡ç†ç¨‹åºå’Œç³»ç»Ÿå®ˆæŠ¤è¿›ç¨‹</li><li>**&#x2F;usr&#x2F;src: **  å†…æ ¸æºä»£ç é»˜è®¤å­˜æ”¾çš„åœ°å€</li><li><strong>&#x2F;var:</strong>  <strong>è¿™ä¸ªç›®å½•ç”¨æ¥å­˜æ”¾ç€ä¸€äº›ä¸æ–­åœ¨æ‹“å……çš„ä¸œè¥¿ï¼Œä¹ æƒ¯æ€§çš„å°†ä¸€äº›ç»å¸¸ä¿®æ”¹çš„ç›®å½•æ”¾åœ¨è¯¥ç›®å½•ä¸‹</strong></li><li><strong>&#x2F;run:</strong>  æ˜¯ä¸€ä¸ªä¸´æ—¶æ–‡ä»¶ç³»ç»Ÿï¼Œå­˜å‚¨ç³»ç»Ÿå¯åŠ¨ä»¥æ¥çš„ä¿¡æ¯ï¼Œå½“ç³»ç»Ÿé‡å¯æ—¶ï¼Œè¯¥ç›®å½•ä¸‹çš„æ–‡ä»¶åº”è¯¥è¢«åˆ æ‰ï¼ˆä¸ç”¨ç®¡ï¼‰</li><li><strong>&#x2F;www:</strong>  å­˜æ”¾æœåŠ¡å™¨ç½‘ç«™çš„ç›¸å…³çš„èµ„æºï¼Œç¯å¢ƒï¼Œç½‘ç«™</li></ul><blockquote><p>ä¸æ˜¯æ¯ä¸€ä¸ªç›®å½•éƒ½ä¸€å®šä¼šå­˜åœ¨</p></blockquote><p>ç„¶åå°±æ˜¯è¦çŸ¥é“è¿™ä¸¤ä¸ªæ¦‚å¿µ</p><ol><li>å†³å®šè·¯å¾„</li><li>ç›¸å¯¹è·¯å¾„</li></ol><p>ç»å¯¹è·¯å¾„ï¼šæŒ‡çš„æ˜¯èµ„æºçš„å…¨è·¯å¾„ï¼Œæ¯”å¦‚<code>D:\APP\Typora</code></p><p>ç›¸å¯¹è·¯å¾„ï¼šæŒ‡çš„æ˜¯èµ„æºåœ¨å½“å‰ç›®å½•ä¸‹çš„è·¯å¾„ï¼Œæ¯”å¦‚æˆ‘ç°åœ¨åœ¨<code>D:\APP</code>ç›®å½•ä¸‹ï¼Œæˆ‘è¦å®šä½åˆ°Typoraè¿™ä¸ªç›®å½•ï¼Œæˆ‘å¯ä»¥ç›´æ¥ä½¿ç”¨Typoraæ¥è¡¨ç¤ºè¯¥æ–‡ä»¶å¤¹</p><h4 id="ä½¿ç”¨è¯´æ˜-4"><a href="#ä½¿ç”¨è¯´æ˜-4" class="headerlink" title="ä½¿ç”¨è¯´æ˜"></a>ä½¿ç”¨è¯´æ˜</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">è¿›å…¥æ ¹è·¯å¾„ä¸‹çš„usrç›®å½•</span></span><br><span class="line">[root@iZbp18qscowpmxk6xpk38iZ /]#cd /usr</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash">å½“å‰åœ¨æ ¹è·¯å¾„ä¸‹ï¼Œæˆ‘è¦è¿›å…¥usrç›®å½•</span></span><br><span class="line">[root@iZbp18qscowpmxk6xpk38iZ /]#cd usr</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash">è¿”å›ä¸Šä¸€çº§ç›®å½•</span></span><br><span class="line">[root@iZbp18qscowpmxk6xpk38iZ usr]#cd ..</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> javaEE </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Docker-å®‰è£…</title>
      <link href="/javaEE/2023/01/05/Docker-%E5%AE%89%E8%A3%85/"/>
      <url>/javaEE/2023/01/05/Docker-%E5%AE%89%E8%A3%85/</url>
      
        <content type="html"><![CDATA[<h2 id="Dockerå®‰è£…"><a href="#Dockerå®‰è£…" class="headerlink" title="Dockerå®‰è£…"></a>Dockerå®‰è£…</h2><h3 id="å¸è½½æ—§ç‰ˆæœ¬"><a href="#å¸è½½æ—§ç‰ˆæœ¬" class="headerlink" title="å¸è½½æ—§ç‰ˆæœ¬"></a>å¸è½½æ—§ç‰ˆæœ¬</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">sudo yum remove docker \</span><br><span class="line">                  docker-client \</span><br><span class="line">                  docker-client-latest \</span><br><span class="line">                  docker-common \</span><br><span class="line">                  docker-latest \</span><br><span class="line">                  docker-latest-logrotate \</span><br><span class="line">                  docker-logrotate \</span><br><span class="line">                  docker-engine</span><br></pre></td></tr></table></figure><h3 id="å®‰è£…yum-utils"><a href="#å®‰è£…yum-utils" class="headerlink" title="å®‰è£…yum-utils"></a>å®‰è£…yum-utils</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo yum install -y yum-utils</span><br></pre></td></tr></table></figure><h3 id="è®¾ç½®é•œåƒä»“åº“åœ°å€"><a href="#è®¾ç½®é•œåƒä»“åº“åœ°å€" class="headerlink" title="è®¾ç½®é•œåƒä»“åº“åœ°å€"></a>è®¾ç½®é•œåƒä»“åº“åœ°å€</h3><h4 id="é˜¿é‡Œäº‘-æ¨è"><a href="#é˜¿é‡Œäº‘-æ¨è" class="headerlink" title="é˜¿é‡Œäº‘(æ¨è)"></a>é˜¿é‡Œäº‘(æ¨è)</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo yum-config-manager \</span><br><span class="line">    --add-repo \</span><br><span class="line">    http://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo</span><br></pre></td></tr></table></figure><h4 id="å®˜æ–¹"><a href="#å®˜æ–¹" class="headerlink" title="å®˜æ–¹"></a>å®˜æ–¹</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sudo yum-config-manager \</span><br><span class="line">    --add-repo \</span><br><span class="line">    https://download.docker.com/linux/centos/docker-ce.repo</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="æ›´æ–°yumå®‰è£…åŒ…ç´¢å¼•"><a href="#æ›´æ–°yumå®‰è£…åŒ…ç´¢å¼•" class="headerlink" title="æ›´æ–°yumå®‰è£…åŒ…ç´¢å¼•"></a>æ›´æ–°yumå®‰è£…åŒ…ç´¢å¼•</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum makecache fast</span><br></pre></td></tr></table></figure><h3 id="å®‰è£…docker"><a href="#å®‰è£…docker" class="headerlink" title="å®‰è£…docker"></a>å®‰è£…docker</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo yum install -y docker-ce docker-ce-cli containerd.io</span><br></pre></td></tr></table></figure><h3 id="å¯åŠ¨dockeræœåŠ¡"><a href="#å¯åŠ¨dockeræœåŠ¡" class="headerlink" title="å¯åŠ¨dockeræœåŠ¡"></a>å¯åŠ¨dockeræœåŠ¡</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl start docker</span><br></pre></td></tr></table></figure><h3 id="æ£€æŸ¥æ˜¯å¦å®‰è£…æˆåŠŸ"><a href="#æ£€æŸ¥æ˜¯å¦å®‰è£…æˆåŠŸ" class="headerlink" title="æ£€æŸ¥æ˜¯å¦å®‰è£…æˆåŠŸ"></a>æ£€æŸ¥æ˜¯å¦å®‰è£…æˆåŠŸ</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æŸ¥çœ‹dockerç‰ˆæœ¬</span></span><br><span class="line">docker version</span><br></pre></td></tr></table></figure><h3 id="é…ç½®é•œåƒ"><a href="#é…ç½®é•œåƒ" class="headerlink" title="é…ç½®é•œåƒ"></a>é…ç½®é•œåƒ</h3><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">mkdir /etc/docker/</span><br><span class="line">vim daemon.conf</span><br><span class="line">&#123;</span><br><span class="line">        <span class="attr">&quot;registry-mirrors&quot;</span>: [ <span class="string">&quot;https://hub-mirror.c.163.com&quot;</span>, <span class="string">&quot;https://docker.mirrors.ustc.edu.cn&quot;</span>, <span class="string">&quot;https://registry.docker-cn.com&quot;</span>,<span class="string">&quot;https://k4lo9gcp.mirror.aliyuncs.com&quot;</span> ],</span><br><span class="line">        <span class="attr">&quot;max-concurrent-downloads&quot;</span>: <span class="number">20</span>,</span><br><span class="line">        <span class="attr">&quot;debug&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">        <span class="attr">&quot;log-level&quot;</span>: <span class="string">&quot;debug&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="DockerComposeå®‰è£…"><a href="#DockerComposeå®‰è£…" class="headerlink" title="DockerComposeå®‰è£…"></a>DockerComposeå®‰è£…</h2><h3 id="ä¸‹è½½å®‰è£…åŒ…"><a href="#ä¸‹è½½å®‰è£…åŒ…" class="headerlink" title="ä¸‹è½½å®‰è£…åŒ…"></a>ä¸‹è½½å®‰è£…åŒ…</h3><h4 id="GIthubä¸‹è½½"><a href="#GIthubä¸‹è½½" class="headerlink" title="GIthubä¸‹è½½"></a>GIthubä¸‹è½½</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -L https://github.com/docker/compose/releases/download/1.25.1/docker-compose-`uname -s`-`uname -m` &gt; /usr/<span class="built_in">local</span>/bin/docker-compose</span><br></pre></td></tr></table></figure><h4 id="daocloudä¸‹è½½"><a href="#daocloudä¸‹è½½" class="headerlink" title="daocloudä¸‹è½½"></a>daocloudä¸‹è½½</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -L https://get.daocloud.io/docker/compose/releases/download/1.16.1/docker-compose-`uname -s`-`uname -m` &gt; /usr/<span class="built_in">local</span>/bin/docker-compose</span><br></pre></td></tr></table></figure><h3 id="èµ‹äºˆæƒé™"><a href="#èµ‹äºˆæƒé™" class="headerlink" title="èµ‹äºˆæƒé™"></a>èµ‹äºˆæƒé™</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chmod a+x /usr/<span class="built_in">local</span>/bin/docker-compose</span><br></pre></td></tr></table></figure><h3 id="åˆ›å»ºè½¯è¿æ¥"><a href="#åˆ›å»ºè½¯è¿æ¥" class="headerlink" title="åˆ›å»ºè½¯è¿æ¥"></a>åˆ›å»ºè½¯è¿æ¥</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ln -s /usr/<span class="built_in">local</span>/bin/docker-compose /usr/bin/docker-compose</span><br></pre></td></tr></table></figure><h3 id="æ£€æŸ¥æ˜¯å¦å®‰è£…æˆåŠŸ-1"><a href="#æ£€æŸ¥æ˜¯å¦å®‰è£…æˆåŠŸ-1" class="headerlink" title="æ£€æŸ¥æ˜¯å¦å®‰è£…æˆåŠŸ"></a>æ£€æŸ¥æ˜¯å¦å®‰è£…æˆåŠŸ</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker-compose --version</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> javaEE </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Docker </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Vue3çš„setupè¯­æ³•ç³–</title>
      <link href="/javaEE/2022/12/03/Vue3%E7%9A%84setup%E8%AF%AD%E6%B3%95%E7%B3%96/"/>
      <url>/javaEE/2022/12/03/Vue3%E7%9A%84setup%E8%AF%AD%E6%B3%95%E7%B3%96/</url>
      
        <content type="html"><![CDATA[<h2 id="Vue3çš„setupè¯­æ³•ç³–"><a href="#Vue3çš„setupè¯­æ³•ç³–" class="headerlink" title="Vue3çš„setupè¯­æ³•ç³–"></a>Vue3çš„setupè¯­æ³•ç³–</h2><p>åœ¨Vue3ä¸­setupå‡½æ•°å¯è°“æ˜¯ç»„åˆå‡½æ•°å±•ç¤ºçš„èˆå°ï¼Œä½¿ç”¨äº†vue3ä¹‹åï¼Œæˆ‘ä»¬çš„ä»£ç å°±ä¼šå‘ˆç°ä¸‹é¢çš„è¿™æ ·</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    export default &#123;</span><br><span class="line">        name: &quot;xxx&quot;,</span><br><span class="line">        setup()&#123;</span><br><span class="line">            return &#123;</span><br><span class="line">                </span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><p>åŸºæœ¬ä¸Šæ‰€æœ‰çš„ä»£ç éƒ½åœ¨setupä¸­ï¼Œå…¶ä»–çš„æ¯”å¦‚computedè®¡ç®—å±æ€§ï¼Œwatchç›‘è§†å±æ€§ï¼Œç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•°</p><p>è¿™äº›éƒ½å¯ä»¥é€šè¿‡å¼•å…¥ç»„åˆå¼APIæ¥å®ç°ã€‚æ‰€ä»¥Vue3ä¸­å°±æœ‰è¿™ä¹ˆä¸€ç§ååˆ†ä¼˜é›…çš„å†™æ³•</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script setup&gt;</span><br><span class="line">    </span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><p>ä¸‹é¢æ¥è¯´è¯´setupè¯­æ³•ç³–æœ‰å“ªäº›ç”¨æ³•å’Œéœ€è¦æ³¨æ„çš„åœ°æ–¹</p><h3 id="Methodså’Œæ•°æ®çš„ä½¿ç”¨"><a href="#Methodså’Œæ•°æ®çš„ä½¿ç”¨" class="headerlink" title="Methodså’Œæ•°æ®çš„ä½¿ç”¨"></a>Methodså’Œæ•°æ®çš„ä½¿ç”¨</h3><p>è¿™å°±å’Œsetupå‡½æ•°ä¸­ä¸€æ ·çš„ï¼Œè¯¥æ€ä¹ˆå†™è¿˜æ˜¯æ€ä¹ˆå†™</p><img src="/javaEE/2022/12/03/Vue3%E7%9A%84setup%E8%AF%AD%E6%B3%95%E7%B3%96/image-20221203151836601.png" class title="Methodså’Œæ•°æ®çš„ä½¿ç”¨"><h3 id="å­ç»„ä»¶çš„ä½¿ç”¨"><a href="#å­ç»„ä»¶çš„ä½¿ç”¨" class="headerlink" title="å­ç»„ä»¶çš„ä½¿ç”¨"></a>å­ç»„ä»¶çš„ä½¿ç”¨</h3><p>å¼•å…¥ç»„ä»¶åªéœ€è¦å¼•å…¥å³å¯ï¼Œä¸éœ€è¦ä½¿ç”¨componentså»æ³¨å†Œç»„ä»¶</p><h3 id="çˆ¶ç»„ä»¶ç»™å­ç»„ä»¶ä¼ å€¼"><a href="#çˆ¶ç»„ä»¶ç»™å­ç»„ä»¶ä¼ å€¼" class="headerlink" title="çˆ¶ç»„ä»¶ç»™å­ç»„ä»¶ä¼ å€¼"></a>çˆ¶ç»„ä»¶ç»™å­ç»„ä»¶ä¼ å€¼</h3><p><strong>Feacher.vue</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;Child :msg=&quot;msg&quot;/&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script setup&gt;</span><br><span class="line">    import &#123;ref&#125; from &#x27;vue&#x27;;</span><br><span class="line">    let msg = ref(&#x27;çˆ¶ç»„ä»¶ç»™å­ç»„ä»¶ä¼ å€¼&#x27;);</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><p><strong>Child.vue</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">// è¿™é‡Œå¯ä»¥ç›´æ¥æ‹¿åˆ°msgï¼Œä¸éœ€è¦ç”¨props.å»å–å€¼</span><br><span class="line">&#123;&#123;msg&#125;&#125;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script setup&gt;</span><br><span class="line">    // è¿™é‡Œå…¶å®å¯ä»¥ä¸å¼•å…¥definePropsï¼Œå› ä¸ºsetupè§£ç³–çš„æ—¶å€™ï¼Œä¼šè‡ªåŠ¨å¼•å…¥çš„ï¼Œå¼•å…¥äº†å½“ç„¶ä¹Ÿæ²¡é—®é¢˜</span><br><span class="line">    import &#123;defineProps&#125; from &#x27;vue&#x27;;</span><br><span class="line">    let props = defineProps(&#123;</span><br><span class="line">        msg: String</span><br><span class="line">    &#125;);</span><br><span class="line">    // ä¸‹é¢å¦‚æœè¿˜éœ€è¦ä½¿ç”¨propsä¸­çš„æ•°æ®ï¼Œéœ€è¦ä½¿ç”¨propså¯¹è±¡å»æ‹¿åˆ°</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><h3 id="å­ç»„ä»¶ç»™çˆ¶ç»„ä»¶ä¼ å€¼"><a href="#å­ç»„ä»¶ç»™çˆ¶ç»„ä»¶ä¼ å€¼" class="headerlink" title="å­ç»„ä»¶ç»™çˆ¶ç»„ä»¶ä¼ å€¼"></a>å­ç»„ä»¶ç»™çˆ¶ç»„ä»¶ä¼ å€¼</h3><p><strong>Feather.vue</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;Child @getMsgFromChild=&quot;getMsgFromChild&quot;/&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script setup&gt;</span><br><span class="line">    const getMsgFromChild = (msg)=&gt;&#123;</span><br><span class="line">        console.log(&#x27;çˆ¶ç»„ä»¶æ¥æ”¶åˆ°å­ç»„ä»¶ä¼ æ¥çš„å‚æ•°&#x27;,msg);</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><p><strong>Child.vue</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;input type=&quot;text&quot; v-model=&quot;msg&quot;/&gt;</span><br><span class="line">&lt;button @click=&quot;sendMsg&quot;&gt;ç‚¹æˆ‘ç»™çˆ¶ç»„ä»¶ä¼ å€¼&lt;/button&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script setup&gt;</span><br><span class="line">    // è¿™é‡Œå…¶å®å¯ä»¥ä¸å¼•å…¥defineEmitsï¼Œå› ä¸ºsetupè§£ç³–çš„æ—¶å€™ï¼Œä¼šè‡ªåŠ¨å¼•å…¥çš„ï¼Œå¼•å…¥äº†å½“ç„¶ä¹Ÿæ²¡é—®é¢˜</span><br><span class="line">    import &#123;ref,defineEmits&#125; from &#x27;vue&#x27;;</span><br><span class="line">    let emits = defineEmits([&#x27;getMsgFromChild&#x27;]);</span><br><span class="line">    let msg = ref(&#x27;&#x27;);</span><br><span class="line">    const sendMsg = ()=&gt;&#123;</span><br><span class="line">        emits(&#x27;getMsgFromChild&#x27;,msg);</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><h3 id="ç¥–å­™ç»„ä»¶ä¼ å€¼"><a href="#ç¥–å­™ç»„ä»¶ä¼ å€¼" class="headerlink" title="ç¥–å­™ç»„ä»¶ä¼ å€¼"></a>ç¥–å­™ç»„ä»¶ä¼ å€¼</h3><p><strong>Feather.vue</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;Child/&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script setup&gt;</span><br><span class="line">    import &#123;ref,provide&#125; from &#x27;vue&#x27;;</span><br><span class="line">    let msg = ref(&#x27;msg&#x27;);</span><br><span class="line">    provide(&#x27;pro&#x27;,&#123;</span><br><span class="line">        msg,</span><br><span class="line">        changeMsg: (newVal)=&gt;&#123;</span><br><span class="line">            msg.value = newVal</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><p><strong>Child.vue</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;Grand/&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script setup&gt;</span><br><span class="line"></span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><p><strong>Grand.vue</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script setup&gt;</span><br><span class="line">    import &#123;inject&#125; from &#x27;vue&#x27;;</span><br><span class="line">let pro = inject(&#x27;pro&#x27;);</span><br><span class="line">    pro.changeMsg(&#x27;other&#x27;);</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><h3 id="computedã€watchã€é’©å­å‡½æ•°"><a href="#computedã€watchã€é’©å­å‡½æ•°" class="headerlink" title="computedã€watchã€é’©å­å‡½æ•°"></a>computedã€watchã€é’©å­å‡½æ•°</h3><p>è¿™äº›éƒ½æ˜¯å’Œåœ¨setupå‡½æ•°ä¸­å†™çš„ä¸€æ ·çš„</p><p>å¼•å…¥ç»„åˆAPIå³å¯<code>import &#123;computedã€watchã€&#125; from &#39;vue&#39;</code></p><h3 id="Vuexçš„ä½¿ç”¨"><a href="#Vuexçš„ä½¿ç”¨" class="headerlink" title="Vuexçš„ä½¿ç”¨"></a>Vuexçš„ä½¿ç”¨</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script setup&gt;</span><br><span class="line">import &#123;useStore&#125; from &#x27;vuex&#x27;;</span><br><span class="line">let store = useStore();</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><h3 id="Vue-Routerçš„ä½¿ç”¨"><a href="#Vue-Routerçš„ä½¿ç”¨" class="headerlink" title="Vue-Routerçš„ä½¿ç”¨"></a>Vue-Routerçš„ä½¿ç”¨</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script setup&gt;</span><br><span class="line">import &#123;useRouter,useRoute&#125; from &#x27;vue-router&#x27;;</span><br><span class="line">    let route = useRoute();</span><br><span class="line">    let router = useRouter();</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><h3 id="Awaitçš„ä½¿ç”¨"><a href="#Awaitçš„ä½¿ç”¨" class="headerlink" title="Awaitçš„ä½¿ç”¨"></a>Awaitçš„ä½¿ç”¨</h3><p>ç›´æ¥ä½¿ç”¨å³å¯ï¼Œä¸éœ€è¦åŠ async</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script setup&gt;</span><br><span class="line">    import _axios from &quot;@/plugins/custom_axios&quot;;</span><br><span class="line">    const data = await _axios.get(&#x27;/categories&#x27;);</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> javaEE </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Vue </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¦‚ä½•è·å–Resourcesç›®å½•ä¸‹çš„æ–‡ä»¶</title>
      <link href="/javaEE/2022/11/26/%E5%A6%82%E4%BD%95%E8%8E%B7%E5%8F%96Resources%E7%9B%AE%E5%BD%95%E4%B8%8B%E7%9A%84%E6%96%87%E4%BB%B6/"/>
      <url>/javaEE/2022/11/26/%E5%A6%82%E4%BD%95%E8%8E%B7%E5%8F%96Resources%E7%9B%AE%E5%BD%95%E4%B8%8B%E7%9A%84%E6%96%87%E4%BB%B6/</url>
      
        <content type="html"><![CDATA[<h2 id="å¦‚ä½•è·å–Resourcesç›®å½•ä¸‹çš„æ–‡ä»¶"><a href="#å¦‚ä½•è·å–Resourcesç›®å½•ä¸‹çš„æ–‡ä»¶" class="headerlink" title="å¦‚ä½•è·å–Resourcesç›®å½•ä¸‹çš„æ–‡ä»¶"></a>å¦‚ä½•è·å–Resourcesç›®å½•ä¸‹çš„æ–‡ä»¶</h2><h3 id="æ–¹å¼ä¸€"><a href="#æ–¹å¼ä¸€" class="headerlink" title="æ–¹å¼ä¸€"></a>æ–¹å¼ä¸€</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">function</span><span class="params">(String fileName)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">    String path = <span class="keyword">this</span>.getClass().getClassLoader().getResource(fileName).getPath();</span><br><span class="line">    System.out.println(path);</span><br><span class="line">    String filePath = URLDecoder.decode(path, <span class="string">&quot;UTF-8&quot;</span>);<span class="comment">//å¦‚æœè·¯å¾„ä¸­å¸¦æœ‰ä¸­æ–‡ä¼šè¢«URLEncoder,å› æ­¤è¿™é‡Œéœ€è¦è§£ç </span></span><br><span class="line">    System.out.println(filePath);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="æ–¹å¼äºŒ"><a href="#æ–¹å¼äºŒ" class="headerlink" title="æ–¹å¼äºŒ"></a>æ–¹å¼äºŒ</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">function</span><span class="params">(String fileName)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">    InputStream in = <span class="keyword">this</span>.getClass().getClassLoader().getResourceAsStream(fileName);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="æ–¹å¼ä¸‰"><a href="#æ–¹å¼ä¸‰" class="headerlink" title="æ–¹å¼ä¸‰"></a>æ–¹å¼ä¸‰</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">function5</span><span class="params">(String fileName)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">    InputStream in = <span class="keyword">this</span>.getClass().getResourceAsStream(fileName);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="æ–¹å¼å››"><a href="#æ–¹å¼å››" class="headerlink" title="æ–¹å¼å››"></a>æ–¹å¼å››</h3><p>è¿™ç§æ–¹å¼è¦åœ¨SpringBootç¯å¢ƒä¸‹</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">function6</span><span class="params">(String fileName)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">    InputStream inputStream = <span class="keyword">new</span> ClassPathResource(fileName).getInputStream();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> javaEE </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>ç®—æ³•-å•è°ƒé˜Ÿåˆ—</title>
      <link href="/%E7%AE%97%E6%B3%95/%E6%8A%80%E5%B7%A7%E7%AF%87/2022/11/05/%E7%AE%97%E6%B3%95-%E5%8D%95%E8%B0%83%E9%98%9F%E5%88%97/"/>
      <url>/%E7%AE%97%E6%B3%95/%E6%8A%80%E5%B7%A7%E7%AF%87/2022/11/05/%E7%AE%97%E6%B3%95-%E5%8D%95%E8%B0%83%E9%98%9F%E5%88%97/</url>
      
        <content type="html"><![CDATA[<h2 id="å•è°ƒé˜Ÿåˆ—"><a href="#å•è°ƒé˜Ÿåˆ—" class="headerlink" title="å•è°ƒé˜Ÿåˆ—"></a>å•è°ƒé˜Ÿåˆ—</h2><p>è¿™ä¸ªæŠ€å·§å’Œå•è°ƒæ ˆä¸€æ ·ï¼Œè¿ç”¨çš„åœºæ™¯æ¯”è¾ƒå°‘</p><p>å®ƒæœ¬è´¨ä¹Ÿæ˜¯ä¸€ä¸ªé˜Ÿåˆ—ï¼Œåªä¸è¿‡æ˜¯è¿ç”¨äº†ä¸€äº›å·§å¦™çš„é€»è¾‘</p><p>åœ¨å†…éƒ¨ç»´æŠ¤äº†ä¸€ä¸ªé€’å¢æˆ–è€…é€’å‡çš„åºåˆ—</p><p>ç„¶åè¿˜ä¿æŒäº†å…ˆè¿›å…ˆå‡ºçš„ç‰¹æ€§</p><p>ä¸‹é¢ç›´æ¥çœ‹é¢˜</p><h3 id="æ»‘åŠ¨çª—å£æœ€å¤§å€¼"><a href="#æ»‘åŠ¨çª—å£æœ€å¤§å€¼" class="headerlink" title="æ»‘åŠ¨çª—å£æœ€å¤§å€¼"></a><a href="https://leetcode.cn/problems/sliding-window-maximum/">æ»‘åŠ¨çª—å£æœ€å¤§å€¼</a></h3><img src="/%E7%AE%97%E6%B3%95/%E6%8A%80%E5%B7%A7%E7%AF%87/2022/11/05/%E7%AE%97%E6%B3%95-%E5%8D%95%E8%B0%83%E9%98%9F%E5%88%97/image-20221105094229651.png" class title="239.æ»‘åŠ¨çª—å£æœ€å¤§å€¼"><p>è¿™é“é¢˜çš„æè¿°ä¸å°±æ˜¯ä½¿ç”¨æ»‘åŠ¨çª—å£æŠ€å·§å—ï¼Œæˆ‘ä»¬çŸ¥é“åœ¨æ»‘åŠ¨çª—å£æŠ€å·§ä¸­</p><p>æœ€é‡è¦çš„å°±æ˜¯æ¸…æ¥šåœ¨ä½•æ—¶æ‰©å¤§çª—å£ï¼Œåœ¨ä½•æ—¶ç¼©å°çª—å£</p><p>ä½†æ˜¯è¿™é“é¢˜ä¸­ï¼Œæˆ‘æ²¡æ³•æ ¹æ®å‡ºçª—å£çš„é‚£ä¸ªå…ƒç´ æ¥åˆ¤æ–­æ˜¯å¦éœ€è¦æ›´æ–°æœ€å¤§å€¼ï¼Œå¦‚ä½•æ›´æ–°</p><p>å¦‚æœå‡ºçª—å£çš„å°±æ˜¯æœ€å¤§å€¼ï¼Œé‚£æˆ‘å°±éœ€è¦é‡æ–°éå†ä¸€éçª—å£æ‰¾åˆ°æœ€å€¼ï¼Œè¿™æ ·çš„æ—¶é—´å¤æ‚åº¦æ˜¯è¾ƒé«˜çš„</p><p>æ‰€ä»¥å°±éœ€è¦ä½¿ç”¨åˆ°å•è°ƒé˜Ÿåˆ—çš„æŠ€å·§äº†</p><p>è¿™é‡Œæˆ‘ä»¬è‡ªå·±ç»´æŠ¤ä¸€ä¸ªå•è°ƒé˜Ÿåˆ—çš„ç±»</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MonotonousQueue</span> </span>&#123;</span><br><span class="line">    <span class="comment">// åœ¨é˜Ÿå°¾æ·»åŠ å…ƒç´  n</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">push</span><span class="params">(<span class="keyword">int</span> n)</span></span>;</span><br><span class="line">    <span class="comment">// è¿”å›å½“å‰å•è°ƒé˜Ÿåˆ—ä¸­çš„æœ€å¤§å€¼</span></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">max</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="comment">// é˜Ÿå¤´å…ƒç´ å¦‚æœæ˜¯nçš„è¯å°±åˆ é™¤å®ƒ</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">pop</span><span class="params">(<span class="keyword">int</span> n)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åœ¨é˜Ÿå°¾æ·»åŠ å…ƒç´ çš„æ—¶å€™ï¼Œéœ€è¦å°†æ‰€æœ‰é˜Ÿå°¾å…ƒç´ æ¯”å®ƒå°çš„å…ƒç´ éƒ½å‡ºé˜Ÿï¼Œç›´åˆ°é‡åˆ°ç¬¬ä¸€ä¸ªæ¯”å®ƒå¤§çš„å…ƒç´ æˆ–è€…é˜Ÿåˆ—ä¸ºç©ºçš„æ—¶å€™</p><p>æœ€å¤§å€¼å°±æ˜¯é˜Ÿåˆ—çš„é˜Ÿé¦–å…ƒç´ </p><p>ä¸‹é¢çœ‹è¿™é“é¢˜çš„è§£æ³•</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span>[] maxSlidingWindow(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> k) &#123;</span><br><span class="line">        MonotonousQueue window = <span class="keyword">new</span> MonotonousQueue();</span><br><span class="line">        List&lt;Integer&gt; res = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; nums.length; i++) &#123;</span><br><span class="line">            <span class="comment">// å‰k-1ä¸ªå…ƒç´ ç›´æ¥å…¥é˜Ÿ</span></span><br><span class="line">            <span class="keyword">if</span> (i &lt; k - <span class="number">1</span>)&#123;</span><br><span class="line">                window.push(nums[i]);</span><br><span class="line">            &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="comment">// ç¬¬kä¸ªå…ƒç´ å…¥é˜Ÿ</span></span><br><span class="line">                window.push(nums[i]);</span><br><span class="line">                <span class="comment">// å°†çª—å£ä¸­çš„æœ€å¤§å€¼æ”¾å…¥ç»“æœé›†</span></span><br><span class="line">                res.add(window.max());</span><br><span class="line">                <span class="comment">// å°†çª—å£ç¬¬ä¸€ä¸ªå…ƒç´ å‡ºé˜Ÿ</span></span><br><span class="line">                window.pop(nums[i-k+<span class="number">1</span>]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// å°†resè½¬æ¢ä¸ºæ•°ç»„è¿”å›</span></span><br><span class="line">        <span class="keyword">int</span>[] r = <span class="keyword">new</span> <span class="keyword">int</span>[res.size()];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; res.size(); i++) &#123;</span><br><span class="line">            r[i] = res.get(i);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> r;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MonotonousQueue</span> </span>&#123;</span><br><span class="line">    LinkedList&lt;Integer&gt; queue = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">    <span class="comment">// åœ¨é˜Ÿå°¾æ·»åŠ å…ƒç´  n</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">push</span><span class="params">(<span class="keyword">int</span> n)</span></span>&#123;</span><br><span class="line">        <span class="comment">// ç»´æŠ¤é€’å‡çš„åºåˆ—</span></span><br><span class="line">        <span class="keyword">while</span> (!queue.isEmpty()&amp;&amp;n&gt;queue.getLast())&#123;</span><br><span class="line">            queue.removeLast();</span><br><span class="line">        &#125;</span><br><span class="line">        queue.addLast(n);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// è¿”å›å½“å‰å•è°ƒé˜Ÿåˆ—ä¸­çš„æœ€å¤§å€¼</span></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">max</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> queue.getFirst();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// é˜Ÿå¤´å…ƒç´ å¦‚æœæ˜¯nçš„è¯å°±åˆ é™¤å®ƒ</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">pop</span><span class="params">(<span class="keyword">int</span> n)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (queue.getFirst()==n)&#123;</span><br><span class="line">            queue.removeFirst();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
          <category> æŠ€å·§ç¯‡ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç®—æ³• </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç®—æ³•-å•è°ƒæ ˆ</title>
      <link href="/%E7%AE%97%E6%B3%95/%E6%8A%80%E5%B7%A7%E7%AF%87/2022/11/04/%E7%AE%97%E6%B3%95-%E5%8D%95%E8%B0%83%E6%A0%88/"/>
      <url>/%E7%AE%97%E6%B3%95/%E6%8A%80%E5%B7%A7%E7%AF%87/2022/11/04/%E7%AE%97%E6%B3%95-%E5%8D%95%E8%B0%83%E6%A0%88/</url>
      
        <content type="html"><![CDATA[<h2 id="å•è°ƒæ ˆ"><a href="#å•è°ƒæ ˆ" class="headerlink" title="å•è°ƒæ ˆ"></a>å•è°ƒæ ˆ</h2><p>å•è°ƒæ ˆå°±æ˜¯ä¸€ç§æ ˆï¼Œåªä¸è¿‡ç”¨äº†ä¸€ç§é€»è¾‘åœ¨å†…éƒ¨ç»´æŠ¤äº†æ‰€æœ‰çš„æ ˆå†…å…ƒç´ é€’å¢æˆ–è€…é€’å‡çš„åºåˆ—</p><p>è¿™ç§æŠ€å·§ç”¨çš„ä¸å¤šï¼Œä¸€èˆ¬å°±æ˜¯ä»¥ä¸‹è®²åˆ°çš„å…¸å‹çš„é¢˜ç›®</p><p>å…ˆæ¥ä½“ä¼šä¸€ä¸‹å•è°ƒæ ˆ</p><h3 id="æŠ€å·§é˜è¿°"><a href="#æŠ€å·§é˜è¿°" class="headerlink" title="æŠ€å·§é˜è¿°"></a>æŠ€å·§é˜è¿°</h3><p>æˆ‘ä»¬ä»¥é¢˜å…¥æŠ€</p><p>é¢˜ç›®å¦‚ä¸‹</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è¾“å…¥ä¸€ä¸ªæ•°ç»„numsï¼Œç„¶åè¿”å›ä¸€ä¸ªç­‰é•¿çš„ç»“æœæ•°ç»„ï¼Œç»“æœæ•°ç»„ä¸­å¯¹åº”ç´¢å¼•å­˜å‚¨ç€numsæ•°ç»„ä¸­è¯¥ç´¢å¼•åç¬¬ä¸€ä¸ªæ¯”å®ƒå¤§çš„å…ƒç´ ï¼Œå¦‚æœæ²¡æœ‰æ›´å¤§çš„å…ƒç´ ï¼Œå°±å­˜ -1ã€‚</span></span><br><span class="line">ä¾‹ï¼š</span><br><span class="line">è¾“å…¥ï¼š[2,6,3,7,4]</span><br><span class="line">è¾“å‡ºï¼š[6,7,7,-1,-1]</span><br></pre></td></tr></table></figure><p>å‡½æ•°ç­¾åå¦‚ä¸‹ï¼š<code>int[] nextBigerElement(int[] nums);</code></p><p>é¢˜ç›®å¾ˆå¥½ç†è§£ï¼Œç”¨æš´åŠ›è§£çš„è¯å°±æ˜¯åœ¨æ¯ä¸€ä¸ªå…ƒç´ å‘åé¢æ‰¾ç¬¬ä¸€ä¸ªæ¯”å®ƒå¤§çš„å…ƒç´ ï¼Œæ—¶é—´å¤æ‚åº¦æ˜¯<code>O(n^2)</code></p><p>ç°åœ¨æˆ‘ä»¬ä½¿ç”¨å•è°ƒæ ˆçš„æŠ€å·§æ¥è§£å†³è¿™é“é¢˜</p><p><code>nums = [2,6,3,7,4]</code></p><p>å…ˆæ¥çœ‹è¿™å¼ å›¾</p><img src="/%E7%AE%97%E6%B3%95/%E6%8A%80%E5%B7%A7%E7%AF%87/2022/11/04/%E7%AE%97%E6%B3%95-%E5%8D%95%E8%B0%83%E6%A0%88/image-20221104123734169.png" class title="å•è°ƒæ ˆ"><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span>[] nextBigerElement(<span class="keyword">int</span>[] nums) &#123;</span><br><span class="line">    <span class="keyword">int</span>[] res = <span class="keyword">new</span> <span class="keyword">int</span>[nums.length];</span><br><span class="line">    Stack&lt;Integer&gt; stack = <span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line">    <span class="comment">// å€’ç€éå†</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = nums.length - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">        <span class="comment">// å¦‚æœæ ˆé¡¶å…ƒç´ æ¯”nums[i]å°ï¼Œåˆ™å‡ºæ ˆï¼Œç›´åˆ°æ ˆé¡¶å…ƒç´ æ¯”nums[i]å¤§æˆ–è€…æ ˆä¸ºç©º</span></span><br><span class="line">        <span class="keyword">while</span> (!stack.isEmpty() &amp;&amp; stack.peek() &lt;= nums[i]) &#123;</span><br><span class="line">            stack.pop();</span><br><span class="line">        &#125;</span><br><span class="line">        res[i] = stack.isEmpty() ? -<span class="number">1</span> : stack.peek();</span><br><span class="line">        stack.push(nums[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="496-ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ â… "><a href="#496-ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ â… " class="headerlink" title="496.ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ â… "></a><a href="https://leetcode.cn/problems/next-greater-element-i/">496.ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ â… </a></h3><img src="/%E7%AE%97%E6%B3%95/%E6%8A%80%E5%B7%A7%E7%AF%87/2022/11/04/%E7%AE%97%E6%B3%95-%E5%8D%95%E8%B0%83%E6%A0%88/image-20221104122354999.png" class title="496.ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ â… "><p>é¢˜ç›®æ„æ€æœ‰ç‚¹ç»•ï¼Œè¿™é‡Œè§£é‡Šä¸€ä¸‹ã€‚</p><p>é¦–å…ˆï¼Œnums1æ˜¯nums2çš„å­é›†</p><p>å…¶æ¬¡ï¼Œé¢˜ç›®è¦æ±‚è¿”å›çš„æ˜¯nums1çš„æ¯ä¸€ä¸ªå…ƒç´ åœ¨nums2ä¸­çš„ä½ç½®åçš„æ¯”å®ƒå¤§çš„å…ƒç´ çš„å€¼</p><p>é‚£ä¹ˆé¢˜ç›®æ„æ€æ˜ç™½äº†ä¹‹åï¼Œè¿™é“é¢˜å°±å¾ˆç®€å•äº†</p><p>æˆ‘åªéœ€è¦å¯¹nums2çš„æ¯ä¸€ä¸ªå…ƒç´ æ‰¾åˆ°å…¶åé¢ç¬¬ä¸€ä¸ªæ¯”å®ƒå¤§çš„å…ƒç´ çš„æ•°ç»„</p><p>ç„¶åä½¿ç”¨ä¸€ä¸ªhashè¡¨å­˜èµ·æ¥ï¼Œå†éå†nums1ï¼Œç”¨nums1[1]åœ¨mapä¸­å–å¾—ç»“æœå°†å…¶æ”¾å…¥ç»“æœé›†ä¸­ï¼Œæœ€åè¿”å›</p><p>ä¸‹é¢çœ‹ä»£ç </p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span>[] nextBigerElement(<span class="keyword">int</span>[] nums)&#123;</span><br><span class="line">        <span class="keyword">int</span>[] res = <span class="keyword">new</span> <span class="keyword">int</span>[nums.length];</span><br><span class="line">        Stack&lt;Integer&gt; stack = <span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = nums.length-<span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">            <span class="comment">// å¦‚æœæ ˆé¡¶å…ƒç´ æ¯”nums[i]å°ï¼Œåˆ™å‡ºæ ˆï¼Œç›´åˆ°æ ˆé¡¶å…ƒç´ æ¯”nums[i]å¤§æˆ–è€…æ ˆä¸ºç©º</span></span><br><span class="line">            <span class="keyword">while</span> (!stack.isEmpty()&amp;&amp;stack.peek()&lt;=nums[i])&#123;</span><br><span class="line">                stack.pop();</span><br><span class="line">            &#125;</span><br><span class="line">            res[i] = stack.isEmpty()?-<span class="number">1</span>:stack.peek();</span><br><span class="line">            stack.push(nums[i]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span>[] nextGreaterElement(<span class="keyword">int</span>[] nums1, <span class="keyword">int</span>[] nums2) &#123;</span><br><span class="line">        <span class="keyword">int</span>[] res = nextBigerElement(nums2);</span><br><span class="line">        <span class="comment">// keyæ˜¯numsçš„å€¼ï¼Œvalueæ˜¯å…¶åé¢ç¬¬ä¸€ä¸ªæ¯”å®ƒå¤§çš„æ•°</span></span><br><span class="line">        HashMap&lt;Integer,Integer&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; nums2.length; i++) &#123;</span><br><span class="line">            map.put(nums2[i],res[i]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span>[] r = <span class="keyword">new</span> <span class="keyword">int</span>[nums1.length];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; r.length; i++) &#123;</span><br><span class="line">            r[i] = map.get(nums1[i]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> r;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="503-ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ -II"><a href="#503-ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ -II" class="headerlink" title="503.ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´  II"></a><a href="https://leetcode.cn/problems/next-greater-element-ii/">503.ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´  II</a></h3><img src="/%E7%AE%97%E6%B3%95/%E6%8A%80%E5%B7%A7%E7%AF%87/2022/11/04/%E7%AE%97%E6%B3%95-%E5%8D%95%E8%B0%83%E6%A0%88/image-20221104133204392.png" class title="503. ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´  II"><p>è¿™ä¸€é¢˜æ˜¯å¾ªç¯æ•°ç»„ï¼Œå¾ˆç®€å•çš„ä¸€ä¸ªæŠ€å·§ï¼Œé‚£å°±æ˜¯å°†æ•°ç»„å¤åˆ¶ä¸€éæ”¾åˆ°åŸæ•°ç»„åé¢ï¼Œè¿™æ ·ä¸å°±å®ç°äº†å¾ªç¯æ•°ç»„æ‰¾åˆ°ä¸‹ä¸€ä¸ªå…ƒç´ äº†å—</p><img src="/%E7%AE%97%E6%B3%95/%E6%8A%80%E5%B7%A7%E7%AF%87/2022/11/04/%E7%AE%97%E6%B3%95-%E5%8D%95%E8%B0%83%E6%A0%88/image-20221104191920728.png" class title="å¤åˆ¶ä¸€éæ•°ç»„"><p>ä½†æ˜¯è¿™é‡Œæˆ‘ä»¬ä¸æ–°å»ºä¸€ä¸ªä¸¤å€é•¿çš„æ•°ç»„ç„¶åæ‹·è´æ•°ç»„</p><p>è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨<code>%</code>ç¬¦å·æ¥å·§å¦™åœ°å®Œæˆé€»è¾‘ä¸Šæ‰©ä¸€å€åœ°æ•ˆæœ</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">int</span>[] nextGreaterElements(<span class="keyword">int</span>[] nums) &#123;</span><br><span class="line">    <span class="keyword">int</span> len = nums.length;</span><br><span class="line">    <span class="keyword">int</span>[] res = <span class="keyword">new</span> <span class="keyword">int</span>[len];</span><br><span class="line">    Stack&lt;Integer&gt; stack = <span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line">    <span class="comment">// ä¸€æ ·çš„ä»æœ€åä¸€ä¸ªå…ƒç´ å¼€å§‹</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = len * <span class="number">2</span> - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">        <span class="keyword">while</span> (!stack.isEmpty() &amp;&amp; stack.peek() &lt;= nums[i]) &#123;</span><br><span class="line">            stack.pop();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// è¿™é‡Œçš„ç´¢å¼•éƒ½éœ€è¦å¯¹lenå–ä½™</span></span><br><span class="line">        res[i % len] = stack.isEmpty() ? -<span class="number">1</span> : stack.peek();</span><br><span class="line">        stack.push(nums[i % len]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="739-æ¯æ—¥æ¸©åº¦"><a href="#739-æ¯æ—¥æ¸©åº¦" class="headerlink" title="739.æ¯æ—¥æ¸©åº¦"></a><a href="https://leetcode.cn/problems/daily-temperatures/">739.æ¯æ—¥æ¸©åº¦</a></h3><img src="/%E7%AE%97%E6%B3%95/%E6%8A%80%E5%B7%A7%E7%AF%87/2022/11/04/%E7%AE%97%E6%B3%95-%E5%8D%95%E8%B0%83%E6%A0%88/image-20221105092453638.png" class title="739.æ¯æ—¥æ¸©åº¦"><p>è¿™é“é¢˜ç›®å…¶å®å’Œæˆ‘ä»¬ä¸€å¼€å§‹çš„æŠ€å·§é˜è¿°çš„æ€æƒ³æ˜¯ä¸€æ ·çš„</p><p>ä½†æ˜¯è¿™é‡Œè¿”å›çš„æ•°ç»„ä¸­å­˜å‚¨çš„æ˜¯ç´¢å¼•è€Œå·²</p><p>è¿™é“é¢˜ç›´æ¥ä¸Šä»£ç </p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span>[] dailyTemperatures(<span class="keyword">int</span>[] temperatures) &#123;</span><br><span class="line">        Stack&lt;Integer&gt; stack = <span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line">        <span class="keyword">int</span>[] res = <span class="keyword">new</span> <span class="keyword">int</span>[temperatures.length];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = temperatures.length - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">            <span class="comment">// å¦‚æœæ ˆé¡¶å…ƒç´ æ¯”å½“å‰å…ƒç´ å°ï¼Œåˆ™ä¸€ç›´å‡ºæ ˆï¼Œç›´åˆ°å‡ºç°ç¬¬ä¸€ä¸ªæ¯”å®ƒå¤§çš„æ•°æˆ–è€…æ ˆç©º</span></span><br><span class="line">            <span class="keyword">while</span> (!stack.isEmpty() &amp;&amp; temperatures[stack.peek()] &lt;= temperatures[i]) &#123;</span><br><span class="line">                stack.pop();</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// æ³¨æ„:é¢˜ç›®éœ€è¦çš„æ˜¯å‡ å¤©åï¼Œæ‰€ä»¥æ˜¯stack.peek()-iè€Œä¸æ˜¯stack.peek();</span></span><br><span class="line">            res[i] = stack.isEmpty() ? <span class="number">0</span> : stack.peek() - i;</span><br><span class="line">            stack.push(i);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
          <category> æŠ€å·§ç¯‡ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç®—æ³• </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç®—æ³•-åŒºé—´é—®é¢˜</title>
      <link href="/%E7%AE%97%E6%B3%95/%E6%8A%80%E5%B7%A7%E7%AF%87/2022/11/03/%E7%AE%97%E6%B3%95-%E5%8C%BA%E9%97%B4%E9%97%AE%E9%A2%98/"/>
      <url>/%E7%AE%97%E6%B3%95/%E6%8A%80%E5%B7%A7%E7%AF%87/2022/11/03/%E7%AE%97%E6%B3%95-%E5%8C%BA%E9%97%B4%E9%97%AE%E9%A2%98/</url>
      
        <content type="html"><![CDATA[<h2 id="åŒºé—´é—®é¢˜"><a href="#åŒºé—´é—®é¢˜" class="headerlink" title="åŒºé—´é—®é¢˜"></a>åŒºé—´é—®é¢˜</h2><p>åŒºé—´é—®é¢˜æ˜¯ä»€ä¹ˆï¼Œå…¶å®å°±æ˜¯ç»™äº†ä½ ä¸€ç»„åŒºé—´ï¼Œæ¯”å¦‚<code>[[2,6],[9,13],[6,8],[1,4],[3,5],[9,11]]</code></p><p>ç„¶åè®©ä½ æœ‰å¤šå°‘åŒºé—´æ˜¯è¢«è¦†ç›–çš„ï¼Œåˆå¹¶æ‰€æœ‰å¯ä»¥åˆå¹¶çš„åŒºé—´ç­‰ç­‰æ“ä½œ</p><p>è¿™ç§é¢˜ç›®å°±ä¸¤ä¸ªæ­¥éª¤</p><p>ç¬¬ä¸€æ­¥æ’åºï¼ŒæŒ‰ç…§å·¦è¾¹ç•Œå‡åºæ’åºï¼Œå³è¾¹ç•Œé™åºæ’åº</p><p>ç¬¬äºŒæ­¥ç”»å›¾ï¼Œç”»å‡ºä¸¤ä¸ªè¾¹ç•Œä¹‹é—´çš„å…³ç³»çš„æ‰€æœ‰å¯èƒ½çš„æƒ…å†µ</p><h3 id="1288-åˆ é™¤è¢«è¦†ç›–çš„åŒºé—´"><a href="#1288-åˆ é™¤è¢«è¦†ç›–çš„åŒºé—´" class="headerlink" title="1288.åˆ é™¤è¢«è¦†ç›–çš„åŒºé—´"></a><a href="https://leetcode.cn/problems/remove-covered-intervals/description/">1288.åˆ é™¤è¢«è¦†ç›–çš„åŒºé—´</a></h3><img src="/%E7%AE%97%E6%B3%95/%E6%8A%80%E5%B7%A7%E7%AF%87/2022/11/03/%E7%AE%97%E6%B3%95-%E5%8C%BA%E9%97%B4%E9%97%AE%E9%A2%98/image-20221103145945267.png" class title="1288.åˆ é™¤è¢«è¦†ç›–çš„åŒºé—´"><p>ç„¶åæˆ‘ä»¬æŒ‰ç…§ä»¥ä¸Šä¸¤ä¸ªæ­¥éª¤æ¥è§£å†³è¿™é“é¢˜</p><h4 id="æ’åº"><a href="#æ’åº" class="headerlink" title="æ’åº"></a>æ’åº</h4><p>ä»¥<code>[[2,6],[9,13],[6,8],[1,4],[3,5],[9,11]]</code>ä½œä¸ºæµ‹è¯•æ•°æ®</p><p>å°†å…¶æŒ‰ç…§å·¦è¾¹ç•Œå‡åºæ’åºï¼Œå³è¾¹ç•Œé™åºæ’åºå</p><p>å˜ä¸º<code>[[1,4],[2,6],[3,5],[6,8],[9,13],[9,11]]</code></p><p>ç”¨å›¾åƒæ¥è¡¨ç¤ºå°±æ˜¯è¿™æ ·</p><img src="/%E7%AE%97%E6%B3%95/%E6%8A%80%E5%B7%A7%E7%AF%87/2022/11/03/%E7%AE%97%E6%B3%95-%E5%8C%BA%E9%97%B4%E9%97%AE%E9%A2%98/image-20221103151409011.png" class title="æ’åºåçš„åŒºé—´"><h4 id="ç”»å›¾"><a href="#ç”»å›¾" class="headerlink" title="ç”»å›¾"></a>ç”»å›¾</h4><p>ç„¶åæˆ‘ä»¬æ¥ç”»å›¾å°†æ‰€æœ‰å‡ºç°çš„åŒºé—´å…³ç³»ç”»å‡ºæ¥</p><img src="/%E7%AE%97%E6%B3%95/%E6%8A%80%E5%B7%A7%E7%AF%87/2022/11/03/%E7%AE%97%E6%B3%95-%E5%8C%BA%E9%97%B4%E9%97%AE%E9%A2%98/image-20221103152057528.png" class title="åŒºé—´çš„9ç§å…³ç³»"><p>â€‹å…¶ä¸­â‘ â‘¡â‘¢è¿™ä¸‰ç§æƒ…å†µéƒ½æ˜¯å±äºè¦†ç›–çš„æƒ…å†µï¼Œæ‰€ä»¥æˆ‘åªè¦å°†è¿™äº›æƒ…å†µè®°å½•åˆ°resä¸­ï¼Œæœ€å<code>intervals.length-res</code>å°±æ˜¯éœ€è¦åˆ é™¤çš„è¢«è¦†ç›–çš„åŒºé—´ä¸ªæ•°</p><p>â€‹â‘£â‘¦éƒ½æ˜¯å±äºåŒºé—´ç›¸äº¤çš„æƒ…å†µ</p><p>â€‹â‘¤â‘¥â‘§â‘¨å±äºåŒºé—´äº¤é”™çš„æƒ…å†µ</p><p>å¿ƒä¸­æœ‰å›¾ï¼Œä»£ç æˆ‘æœ‰ï¼</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">removeCoveredIntervals</span><span class="params">(<span class="keyword">int</span>[][] intervals)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// æŒ‰ç…§å·¦è¾¹ç•Œå‡åºæ’åºï¼Œæœ‰è¾¹ç•Œé™åºæ’åº</span></span><br><span class="line">        Arrays.sort(intervals,(a,b)-&gt;a[<span class="number">0</span>]==b[<span class="number">0</span>]?b[<span class="number">1</span>]-a[<span class="number">1</span>]:a[<span class="number">0</span>]-b[<span class="number">0</span>]);</span><br><span class="line">        <span class="comment">// è®°å½•è¢«è¦†ç›–çš„åŒºé—´ä¸ªæ•°</span></span><br><span class="line">        <span class="keyword">int</span> res = <span class="number">0</span>;</span><br><span class="line">        <span class="comment">// è®°å½•å·¦è¾¹ç•Œ</span></span><br><span class="line">        <span class="keyword">int</span> left = intervals[<span class="number">0</span>][<span class="number">0</span>];</span><br><span class="line">        <span class="comment">// è®°å½•å³è¾¹ç•Œ</span></span><br><span class="line">        <span class="keyword">int</span> right = intervals[<span class="number">0</span>][<span class="number">1</span>];</span><br><span class="line">        <span class="comment">// ä»ç¬¬äºŒç»„è¾¹ç•Œå¼€å§‹éå†</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; intervals.length;i++)&#123;</span><br><span class="line">            <span class="comment">// æ‹¿åˆ°è¿™ç»„è¾¹ç•Œ</span></span><br><span class="line">            <span class="keyword">int</span>[] interval = intervals[i];</span><br><span class="line">            <span class="keyword">int</span> a1 = interval[<span class="number">0</span>];</span><br><span class="line">            <span class="keyword">int</span> b1 = interval[<span class="number">1</span>];</span><br><span class="line">            <span class="comment">// å¦‚æœè¿™ç»„çš„è¾¹ç•Œçš„å·¦è¾¹ç•Œå¤§äºç­‰äºleftå¹¶ä¸”æœ‰è¾¹ç•Œå°äºrightï¼Œåˆ™è¯´æ˜è¿™ç»„è¾¹ç•Œè¢«[left,right]è¦†ç›–ï¼Œresè‡ªå¢</span></span><br><span class="line">            <span class="keyword">if</span> (a1 &gt;= left &amp;&amp; b1 &lt;= right) &#123;</span><br><span class="line">                res++;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// å¦‚æœè¿™ç»„è¾¹ç•Œçš„å·¦è¾¹ç•Œå¤§äºç­‰äºrightè¯´æ˜ä¸¤è€…ç›¸é”™å¼€ï¼Œæ›´æ–°leftå’Œright</span></span><br><span class="line">            <span class="keyword">if</span> (a1 &gt;= right) &#123;</span><br><span class="line">                left = a1;</span><br><span class="line">                right = b1;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// å¦‚æœrightåœ¨è¿™ç»„è¾¹ç•Œçš„ä¸­é—´ï¼Œè¯´æ˜ä¸¤ç»„è¾¹ç•ŒğŸŒç›¸äº¤å—ï¼Œæ›´æ–°right</span></span><br><span class="line">            <span class="comment">// è¿™ä¸€æ­¥æ›´æ–°rightå…¶å®å°±æ˜¯åˆå¹¶è¿™ä¸¤ä¸ªåŒºé—´</span></span><br><span class="line">            <span class="keyword">if</span> (right &gt;= a1 &amp;&amp; right &lt;= b1) &#123;</span><br><span class="line">                right = b1;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> intervals.length-res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="56-åˆå¹¶åŒºé—´"><a href="#56-åˆå¹¶åŒºé—´" class="headerlink" title="56.åˆå¹¶åŒºé—´"></a><a href="https://leetcode.cn/problems/merge-intervals/">56.åˆå¹¶åŒºé—´</a></h3><img src="/%E7%AE%97%E6%B3%95/%E6%8A%80%E5%B7%A7%E7%AF%87/2022/11/03/%E7%AE%97%E6%B3%95-%E5%8C%BA%E9%97%B4%E9%97%AE%E9%A2%98/image-20221103153222763.png" class title="56.åˆå¹¶åŒºé—´"><p>è¿™ä¸€é¢˜ä¹Ÿæ˜¯æŒ‰ç…§ä¸Šè¿°ä¸¤ä¸ªæ­¥éª¤åšå°±è¡Œäº†ï¼Œè¿™é‡Œç›´æ¥ä¸Šä»£ç </p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span>[][] merge(<span class="keyword">int</span>[][] intervals) &#123;</span><br><span class="line">        <span class="comment">// æ’åº</span></span><br><span class="line">        Arrays.sort(intervals,(a,b)-&gt;a[<span class="number">0</span>]==b[<span class="number">0</span>]?b[<span class="number">1</span>]-a[<span class="number">1</span>]:a[<span class="number">0</span>]-b[<span class="number">0</span>]);</span><br><span class="line">        <span class="comment">// å› ä¸ºä¸ç¡®å®šæœ€åä¼šä¿ç•™å‡ ä¸ªåŒºé—´ï¼Œæ‰€ä»¥è¿™é‡Œä½¿ç”¨Listæ¥æš‚æ—¶ä¿å­˜ç»“æœ</span></span><br><span class="line">        List&lt;<span class="keyword">int</span>[]&gt; res = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">        <span class="keyword">int</span> left = intervals[<span class="number">0</span>][<span class="number">0</span>];</span><br><span class="line">        <span class="keyword">int</span> right = intervals[<span class="number">0</span>][<span class="number">1</span>];</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>;i &lt; intervals.length;i++)&#123;</span><br><span class="line">            <span class="keyword">int</span>[] interval = intervals[i];</span><br><span class="line">            <span class="keyword">int</span> a1 = interval[<span class="number">0</span>];</span><br><span class="line">            <span class="keyword">int</span> b1 = interval[<span class="number">1</span>];</span><br><span class="line">            <span class="comment">// å¦‚æœåŒºé—´å®Œå…¨ç›¸é”™ï¼Œç›´æ¥å°†[left,right]åŒºé—´åŠ å…¥ç»“æœé›†ä¸­ï¼Œæ›´æ–°leftå’Œright</span></span><br><span class="line">            <span class="keyword">if</span>(a1&gt;right)&#123;</span><br><span class="line">                res.add(<span class="keyword">new</span> <span class="keyword">int</span>[]&#123;left,right&#125;);</span><br><span class="line">                left = a1;</span><br><span class="line">                right = b1;</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// å¦‚æœè¿™ä¸ªåŒºé—´è¢«[left,right]åŒºé—´è¦†ç›–ï¼Œä¸ç”¨ç®¡</span></span><br><span class="line">            <span class="keyword">if</span>(a1&gt;=left&amp;&amp;b1&lt;=right)&#123;</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// è¿™ä¸ªåŒºé—´å’Œ[left,right]åŒºé—´ç›¸äº¤ï¼Œæ›´æ–°rightä¸ºb1</span></span><br><span class="line">            <span class="keyword">if</span>(right&gt;=a1&amp;&amp;right&lt;b1)&#123;</span><br><span class="line">                right = b1;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// å°†æœ€åä¸€ä¸ªåŒºé—´åŠ å…¥ç»“æœé›†</span></span><br><span class="line">        res.add(<span class="keyword">new</span> <span class="keyword">int</span>[]&#123;left,right&#125;);</span><br><span class="line">        <span class="comment">// è½¬æ¢listä¸ºäºŒç»´çŸ©é˜µè¿”å›</span></span><br><span class="line">        <span class="keyword">int</span>[][] r = <span class="keyword">new</span> <span class="keyword">int</span>[res.size()][<span class="number">2</span>];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; res.size(); i++) &#123;</span><br><span class="line">            r[i] = res.get(i);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> r;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æˆ–è€…ä½¿ç”¨ä»¥ä¸‹çš„æ–¹æ³•</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span>[][] merge(<span class="keyword">int</span>[][] intervals) &#123;</span><br><span class="line">        Arrays.sort(intervals,(a,b)-&gt;a[<span class="number">0</span>]==b[<span class="number">0</span>]?b[<span class="number">1</span>]-a[<span class="number">1</span>]:a[<span class="number">0</span>]-b[<span class="number">0</span>]);</span><br><span class="line">        List&lt;<span class="keyword">int</span>[]&gt; res = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">        <span class="keyword">int</span> left = intervals[<span class="number">0</span>][<span class="number">0</span>];</span><br><span class="line">        <span class="keyword">int</span> right = intervals[<span class="number">0</span>][<span class="number">1</span>];</span><br><span class="line">        <span class="comment">// æ‰‹åŠ¨æ§åˆ¶içš„å¢é•¿</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>;i &lt; intervals.length;)&#123;</span><br><span class="line">            <span class="keyword">int</span>[] interval = intervals[i];</span><br><span class="line">            <span class="keyword">int</span> a1 = interval[<span class="number">0</span>];</span><br><span class="line">            <span class="keyword">int</span> b1 = interval[<span class="number">1</span>];</span><br><span class="line">            <span class="comment">// å¦‚æœç›¸äº¤æˆ–è€…è¦†ç›–</span></span><br><span class="line">            <span class="keyword">if</span> (a1&gt;=left&amp;&amp;a1&lt;=right)&#123;</span><br><span class="line">                right = Math.max(right,b1);</span><br><span class="line">                i++;</span><br><span class="line">                <span class="comment">// å½“iå°äºintervals.length</span></span><br><span class="line">                <span class="comment">// å·¦è¾¹ç•Œåœ¨[left,right]ä¹‹é—´</span></span><br><span class="line">                <span class="comment">// åˆ™ä¸€ç›´å¾€åæ‰¾æœ€å¤§çš„right</span></span><br><span class="line">                <span class="keyword">while</span> (i &lt; intervals.length)&#123;</span><br><span class="line">                    <span class="keyword">int</span>[] temp = intervals[i];</span><br><span class="line">                    <span class="keyword">if</span> (temp[<span class="number">0</span>] &gt;= left &amp;&amp; temp[<span class="number">0</span>] &lt;= right) &#123;</span><br><span class="line">                        right = Math.max(right,temp[<span class="number">1</span>]);</span><br><span class="line">                        i++;</span><br><span class="line">                    &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                res.add(<span class="keyword">new</span> <span class="keyword">int</span>[]&#123;left,right&#125;);</span><br><span class="line">                <span class="comment">// å¦‚æœæ‰¾åˆ°äº†æœ€åä¸€ä¸ªåˆ™ç›´æ¥é€€å‡ºå¾ªç¯</span></span><br><span class="line">                <span class="keyword">if</span> (i==intervals.length)&#123;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                left = intervals[i][<span class="number">0</span>];</span><br><span class="line">                right = intervals[i][<span class="number">1</span>];</span><br><span class="line">            &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="comment">// åŒºé—´ç›¸é”™äº†ï¼Œç›´æ¥å°†åŒºé—´[left,right]åŠ å…¥é›†åˆç„¶åi++ï¼Œæ›´æ–°jleftå’Œright</span></span><br><span class="line">                res.add(<span class="keyword">new</span> <span class="keyword">int</span>[]&#123;left,right&#125;);</span><br><span class="line">                left = a1;</span><br><span class="line">                right = b1;</span><br><span class="line">                i++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span>[][] r = <span class="keyword">new</span> <span class="keyword">int</span>[res.size()][<span class="number">2</span>];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; res.size(); i++) &#123;</span><br><span class="line">            r[i] = res.get(i);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> r;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><img src="/%E7%AE%97%E6%B3%95/%E6%8A%80%E5%B7%A7%E7%AF%87/2022/11/03/%E7%AE%97%E6%B3%95-%E5%8C%BA%E9%97%B4%E9%97%AE%E9%A2%98/image-20221103155353506.png" class title="åŒºé—´åˆå¹¶"><h3 id="986-åŒºé—´åˆ—è¡¨çš„äº¤é›†"><a href="#986-åŒºé—´åˆ—è¡¨çš„äº¤é›†" class="headerlink" title="986.åŒºé—´åˆ—è¡¨çš„äº¤é›†"></a><a href="https://leetcode.cn/problems/interval-list-intersections/">986.åŒºé—´åˆ—è¡¨çš„äº¤é›†</a></h3><img src="/%E7%AE%97%E6%B3%95/%E6%8A%80%E5%B7%A7%E7%AF%87/2022/11/03/%E7%AE%97%E6%B3%95-%E5%8C%BA%E9%97%B4%E9%97%AE%E9%A2%98/image-20221103162640845.png" class title="åŒºé—´åˆ—è¡¨çš„äº¤é›†"><p>è¿™é“é¢˜å’Œä¸Šè¿°æ€è·¯ä¸€è‡´çš„ï¼Œåªéœ€è¦å°†äº¤é›†çš„éƒ¨åˆ†æ”¾å…¥resä¸­</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span>[][] intervalIntersection(<span class="keyword">int</span>[][] firstList, <span class="keyword">int</span>[][] secondList) &#123;</span><br><span class="line">        List&lt;<span class="keyword">int</span>[]&gt; res = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">        <span class="keyword">int</span> firstIndex = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> secondIndex = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span>(firstIndex&lt;firstList.length&amp;&amp;secondIndex&lt;secondList.length)&#123;</span><br><span class="line">            <span class="keyword">int</span>[] firstInterval = firstList[firstIndex];</span><br><span class="line">            <span class="keyword">int</span>[] secondInterval = secondList[secondIndex];</span><br><span class="line">            <span class="comment">// ç›¸äº¤</span></span><br><span class="line">            <span class="keyword">if</span>(firstInterval[<span class="number">1</span>]&gt;=secondInterval[<span class="number">0</span>]&amp;&amp;firstInterval[<span class="number">0</span>]&lt;=secondInterval[<span class="number">1</span>])&#123;</span><br><span class="line">                <span class="comment">// å–ä¸¤ä¸ªå·¦è¾¹æœ€å¤§çš„ä½œä¸ºäº¤é›†çš„å·¦è¾¹ç•Œï¼Œå–ä¸¤ä¸ªå³è¾¹ç•Œæœ€å°çš„ä½œä¸ºäº¤é›†çš„å³è¾¹ç•Œ</span></span><br><span class="line">                res.add(<span class="keyword">new</span> <span class="keyword">int</span>[]&#123;</span><br><span class="line">                    Math.max(secondInterval[<span class="number">0</span>],firstInterval[<span class="number">0</span>]),</span><br><span class="line">                    Math.min(firstInterval[<span class="number">1</span>],secondInterval[<span class="number">1</span>])</span><br><span class="line">                &#125;);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// å¦‚æœç¬¬äºŒä¸ªåŒºé—´çš„å³è¾¹ç•Œæ¯”ç¬¬ä¸€ä¸ªåŒºé—´çš„å³è¾¹ç•Œå¤§</span></span><br><span class="line">            <span class="comment">// åˆ™firstIndexè‡ªå¢ï¼Œå› ä¸ºç¬¬ä¸€ä¸ªåŒºé—´çš„å³è¾¹ç•Œåˆ°ç¬¬äºŒä¸ªåŒºé—´çš„å·¦è¾¹ç•Œæœ‰å¯èƒ½è¢«firstListçš„ä¸‹ä¸€ä¸ªåŒºé—´ç›¸äº¤çš„</span></span><br><span class="line">            <span class="keyword">if</span>(secondInterval[<span class="number">1</span>]&gt;firstInterval[<span class="number">1</span>])&#123;</span><br><span class="line">                firstIndex++;</span><br><span class="line">            &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">                secondIndex++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span>[][] r = <span class="keyword">new</span> <span class="keyword">int</span>[res.size()][<span class="number">2</span>];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; res.size(); i++) &#123;</span><br><span class="line">            r[i] = res.get(i);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> r;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
          <category> æŠ€å·§ç¯‡ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç®—æ³• </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç®—æ³•-å­åºåˆ—é—®é¢˜</title>
      <link href="/%E7%AE%97%E6%B3%95/%E6%8A%80%E5%B7%A7%E7%AF%87/2022/10/28/%E7%AE%97%E6%B3%95-%E5%AD%90%E5%BA%8F%E5%88%97%E9%97%AE%E9%A2%98/"/>
      <url>/%E7%AE%97%E6%B3%95/%E6%8A%80%E5%B7%A7%E7%AF%87/2022/10/28/%E7%AE%97%E6%B3%95-%E5%AD%90%E5%BA%8F%E5%88%97%E9%97%AE%E9%A2%98/</url>
      
        <content type="html"><![CDATA[<h2 id="å­åºåˆ—é—®é¢˜"><a href="#å­åºåˆ—é—®é¢˜" class="headerlink" title="å­åºåˆ—é—®é¢˜"></a>å­åºåˆ—é—®é¢˜</h2><p>å­åºåˆ—é—®é¢˜æ˜¯å¾ˆå¸¸è§çš„ä¸€ç±»é—®é¢˜ï¼Œä¸ä¹‹ç±»ä¼¼çš„è¿˜æœ‰å­ä¸²é—®é¢˜ï¼Œè¿™ä¸¤è€…æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ï¼Ÿ</p><p>å­åºåˆ—æ˜¯ä¸éœ€è¦è¿ç»­çš„ï¼Œä½†æ˜¯å­—ä¸²æ˜¯éœ€è¦è¿ç»­çš„ã€‚</p><p><code>&quot;abcd&quot;</code></p><p>å­åºåˆ—æ˜¯<code>[&quot;a&quot;,&quot;b&quot;,&quot;c&quot;,&quot;d&quot;,&quot;ab&quot;,&quot;ac&quot;,&quot;ad&quot;,&quot;bc&quot;,&quot;bd&quot;,&quot;cd&quot;]</code></p><p>å­—ä¸²æ˜¯<code>[&quot;a&quot;,&quot;b&quot;,&quot;c&quot;,&quot;d&quot;,&quot;ab&quot;,&quot;bc&quot;,&quot;cd&quot;]</code></p><p>è§‚å¯Ÿä¸€ä¸‹ä¸¤è€…ä¹‹é—´çš„åŒºåˆ«ã€‚</p><p>è¿™ç±»å­åºåˆ—é—®é¢˜ä¸€èˆ¬ä½¿ç”¨åŠ¨æ€è§„åˆ’æ¥åšï¼Œä¸€èˆ¬æœ‰ä»¥ä¸‹ä¸¤ç§æ€è·¯</p><h3 id="ä¸€ç»´dpæ•°ç»„"><a href="#ä¸€ç»´dpæ•°ç»„" class="headerlink" title="ä¸€ç»´dpæ•°ç»„"></a>ä¸€ç»´dpæ•°ç»„</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># int[] dp = new int[str.length()];</span></span><br><span class="line">dp[i]çš„æ„æ€æ˜¯åœ¨å­—ç¬¦ä¸²str[0,i]ä¸­ï¼Œä»¥str[i]ç»“å°¾çš„ç›®æ ‡å­åºåˆ—çš„é•¿åº¦æ˜¯dp[i]</span><br></pre></td></tr></table></figure><h4 id="æ —é¢˜ï¼šåŠ›æ‰£300æœ€é•¿é€’å¢å­åºåˆ—"><a href="#æ —é¢˜ï¼šåŠ›æ‰£300æœ€é•¿é€’å¢å­åºåˆ—" class="headerlink" title="æ —é¢˜ï¼šåŠ›æ‰£300æœ€é•¿é€’å¢å­åºåˆ—"></a>æ —é¢˜ï¼šåŠ›æ‰£300æœ€é•¿é€’å¢å­åºåˆ—</h4><img src="/%E7%AE%97%E6%B3%95/%E6%8A%80%E5%B7%A7%E7%AF%87/2022/10/28/%E7%AE%97%E6%B3%95-%E5%AD%90%E5%BA%8F%E5%88%97%E9%97%AE%E9%A2%98/image-20221028124510769.png" class title="æœ€é•¿é€’å¢å­åºåˆ—">]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
          <category> æŠ€å·§ç¯‡ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç®—æ³• </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ã€53-Mediumã€‘æœ€å¤§å­æ•°ç»„å’Œ</title>
      <link href="/%E7%AE%97%E6%B3%95/%E5%88%B7%E9%A2%98%E7%AF%87/2022/10/25/%E3%80%9053-Medium%E3%80%91%E6%9C%80%E5%A4%A7%E5%AD%90%E6%95%B0%E7%BB%84%E5%92%8C/"/>
      <url>/%E7%AE%97%E6%B3%95/%E5%88%B7%E9%A2%98%E7%AF%87/2022/10/25/%E3%80%9053-Medium%E3%80%91%E6%9C%80%E5%A4%A7%E5%AD%90%E6%95%B0%E7%BB%84%E5%92%8C/</url>
      
        <content type="html"><![CDATA[<h2 id="æœ€å¤§å­æ•°ç»„å’Œ"><a href="#æœ€å¤§å­æ•°ç»„å’Œ" class="headerlink" title="æœ€å¤§å­æ•°ç»„å’Œ"></a>æœ€å¤§å­æ•°ç»„å’Œ</h2><p>ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ <code>nums</code> ï¼Œè¯·ä½ æ‰¾å‡ºä¸€ä¸ªå…·æœ‰æœ€å¤§å’Œçš„è¿ç»­å­æ•°ç»„ï¼ˆå­æ•°ç»„æœ€å°‘åŒ…å«ä¸€ä¸ªå…ƒç´ ï¼‰ï¼Œè¿”å›å…¶æœ€å¤§å’Œã€‚</p><p><strong>å­æ•°ç»„</strong> æ˜¯æ•°ç»„ä¸­çš„ä¸€ä¸ªè¿ç»­éƒ¨åˆ†ã€‚</p><p><strong>ç¤ºä¾‹ 1ï¼š</strong></p><figure class="highlight subunit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šnums = [<span class="string">-2</span>,1,<span class="string">-3</span>,4,<span class="string">-1</span>,2,1,<span class="string">-5</span>,4]</span><br><span class="line">è¾“å‡ºï¼š6</span><br><span class="line">è§£é‡Šï¼šè¿ç»­å­æ•°ç»„ [4,<span class="string">-1</span>,2,1] çš„å’Œæœ€å¤§ï¼Œä¸º 6 ã€‚</span><br></pre></td></tr></table></figure><p><strong>ç¤ºä¾‹ 2ï¼š</strong></p><figure class="highlight fix"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">è¾“å…¥ï¼šnums </span>=<span class="string"> [1]</span></span><br><span class="line"><span class="string">è¾“å‡ºï¼š1</span></span><br></pre></td></tr></table></figure><p><strong>ç¤ºä¾‹ 3ï¼š</strong></p><figure class="highlight accesslog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šnums = <span class="string">[5,4,-1,7,8]</span></span><br><span class="line">è¾“å‡ºï¼š<span class="number">23</span></span><br></pre></td></tr></table></figure><p><strong>æç¤ºï¼š</strong></p><ul><li><code>1 &lt;= nums.length &lt;= 105</code></li><li><code>-104 &lt;= nums[i] &lt;= 104</code></li></ul><p><strong>è¿›é˜¶ï¼š</strong>å¦‚æœä½ å·²ç»å®ç°å¤æ‚åº¦ä¸º <code>O(n)</code> çš„è§£æ³•ï¼Œå°è¯•ä½¿ç”¨æ›´ä¸ºç²¾å¦™çš„ <strong>åˆ†æ²»æ³•</strong> æ±‚è§£ã€‚</p><p>Related Topics</p><ul><li>æ•°ç»„</li><li>åˆ†æ²»</li><li>åŠ¨æ€è§„åˆ’</li></ul><h3 id="æš´åŠ›é€’å½’"><a href="#æš´åŠ›é€’å½’" class="headerlink" title="æš´åŠ›é€’å½’"></a>æš´åŠ›é€’å½’</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">maxSubArray</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> res = Integer.MIN_VALUE;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; nums.length; i++) &#123;</span><br><span class="line">            res = Math.max(maxSubArray(nums, i), res);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å‡½æ•°iå½“ä»¥ï¼šè¿”å›ä»¥nums[index]ç»“å°¾çš„è¿ç»­å­æ•°ç»„çš„æœ€å¤§å’Œ</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">maxSubArray</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> index)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (index == <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> nums[<span class="number">0</span>];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> max = nums[index];</span><br><span class="line">        max = Math.max(maxSubArray(nums, index - <span class="number">1</span>) + nums[index], max);</span><br><span class="line">        <span class="keyword">return</span> max;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><img src="/%E7%AE%97%E6%B3%95/%E5%88%B7%E9%A2%98%E7%AF%87/2022/10/25/%E3%80%9053-Medium%E3%80%91%E6%9C%80%E5%A4%A7%E5%AD%90%E6%95%B0%E7%BB%84%E5%92%8C/image-20221025142640502.png" class title="å¤§æ•°æ®æµ‹è¯•"><h3 id="å¸¦å¤‡å¿˜å½•çš„é€’å½’"><a href="#å¸¦å¤‡å¿˜å½•çš„é€’å½’" class="headerlink" title="å¸¦å¤‡å¿˜å½•çš„é€’å½’"></a>å¸¦å¤‡å¿˜å½•çš„é€’å½’</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">maxSubArray</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span>[] meno = <span class="keyword">new</span> <span class="keyword">int</span>[nums.length];</span><br><span class="line">        System.arraycopy(nums, <span class="number">0</span>, meno, <span class="number">0</span>, nums.length);</span><br><span class="line">        maxSubArray(nums, nums.length - <span class="number">1</span>, meno);</span><br><span class="line">        <span class="keyword">int</span> res = Integer.MIN_VALUE;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> t : meno) &#123;</span><br><span class="line">            res = Math.max(res, t);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å‡½æ•°å®šä¹‰ï¼šè¿”å›ä»¥nums[index]ç»“å°¾çš„è¿ç»­å­æ•°ç»„çš„æœ€å¤§å’Œ</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">maxSubArray</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> index, <span class="keyword">int</span>[] meno)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (index == <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> nums[<span class="number">0</span>];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (meno[index] != nums[index]) &#123;</span><br><span class="line">            <span class="keyword">return</span> meno[index];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> max = nums[index];</span><br><span class="line">        max = Math.max(maxSubArray(nums, index - <span class="number">1</span>, meno) + nums[index], max);</span><br><span class="line">        meno[index] = max;</span><br><span class="line">        <span class="keyword">return</span> max;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="åŠ¨æ€è§„åˆ’"><a href="#åŠ¨æ€è§„åˆ’" class="headerlink" title="åŠ¨æ€è§„åˆ’"></a>åŠ¨æ€è§„åˆ’</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">maxSubArray</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// dp[i]æ˜¯numsçš„[0,i]å½¢æˆçš„æœ€å¤§å­æ•°ç»„çš„å’Œ</span></span><br><span class="line">        <span class="keyword">int</span>[] dp = <span class="keyword">new</span> <span class="keyword">int</span>[nums.length];</span><br><span class="line">        dp[<span class="number">0</span>] = nums[<span class="number">0</span>];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; nums.length; i++) &#123;</span><br><span class="line">            dp[i] = Math.max(</span><br><span class="line">                    <span class="comment">// iä¸åŠ å…¥numsçš„[0,i-1]å½¢æˆçš„å­æ•°ç»„</span></span><br><span class="line">                    nums[i],</span><br><span class="line">                    <span class="comment">// iåŠ å…¥numsçš„[0,i-1]å½¢æˆçš„å­æ•°ç»„</span></span><br><span class="line">                    dp[i - <span class="number">1</span>] + nums[i]</span><br><span class="line">            );</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// å–æœ€å¤§å€¼</span></span><br><span class="line">        <span class="keyword">int</span> res = Integer.MIN_VALUE;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> t : dp) &#123;</span><br><span class="line">            res = Math.max(res, t);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
          <category> åˆ·é¢˜ç¯‡ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç®—æ³• </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç®—æ³•-éå†äºŒç»´çŸ©é˜µçš„å„ç§èŠ±æ ·</title>
      <link href="/%E7%AE%97%E6%B3%95/%E6%8A%80%E5%B7%A7%E7%AF%87/2022/10/23/%E7%AE%97%E6%B3%95-%E9%81%8D%E5%8E%86%E4%BA%8C%E7%BB%B4%E7%9F%A9%E9%98%B5%E7%9A%84%E5%90%84%E7%A7%8D%E8%8A%B1%E6%A0%B7/"/>
      <url>/%E7%AE%97%E6%B3%95/%E6%8A%80%E5%B7%A7%E7%AF%87/2022/10/23/%E7%AE%97%E6%B3%95-%E9%81%8D%E5%8E%86%E4%BA%8C%E7%BB%B4%E7%9F%A9%E9%98%B5%E7%9A%84%E5%90%84%E7%A7%8D%E8%8A%B1%E6%A0%B7/</url>
      
        <content type="html"><![CDATA[<h2 id="éå†äºŒç»´çŸ©é˜µçš„å„ç§èŠ±æ ·"><a href="#éå†äºŒç»´çŸ©é˜µçš„å„ç§èŠ±æ ·" class="headerlink" title="éå†äºŒç»´çŸ©é˜µçš„å„ç§èŠ±æ ·"></a>éå†äºŒç»´çŸ©é˜µçš„å„ç§èŠ±æ ·</h2><blockquote><p>PSï¼šå¹²è´§å¾ˆå¤šï¼Œå»ºè®®åˆ†å¤šæ¬¡é£Ÿç”¨</p></blockquote><h3 id="å¸¸è§„éå†"><a href="#å¸¸è§„éå†" class="headerlink" title="å¸¸è§„éå†"></a>å¸¸è§„éå†</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è¾“å‡ºä»¥ä¸‹åºåˆ—: [1 2 3 4...15 16]</span></span><br></pre></td></tr></table></figure><img src="/%E7%AE%97%E6%B3%95/%E6%8A%80%E5%B7%A7%E7%AF%87/2022/10/23/%E7%AE%97%E6%B3%95-%E9%81%8D%E5%8E%86%E4%BA%8C%E7%BB%B4%E7%9F%A9%E9%98%B5%E7%9A%84%E5%90%84%E7%A7%8D%E8%8A%B1%E6%A0%B7/image-20221023161651441-16780850450761.png" class title="äºŒç»´çŸ©é˜µ"><p>è¿™ä¸ªå°±æ˜¯æŒ‰è¡Œéå†å³å¯</p><blockquote><p>ç¤ºä¾‹ä»£ç </p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> len = matrix.length;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len; i++) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; len; j++) &#123;</span><br><span class="line">        System.out.print(matrix[i][j]+<span class="string">&quot; &quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="æ—‹è½¬éå†"><a href="#æ—‹è½¬éå†" class="headerlink" title="æ—‹è½¬éå†"></a>æ—‹è½¬éå†</h3><blockquote><p>PSï¼šæœ¬éå†æ–¹æ³•ä½¿ç”¨ç”Ÿæˆä»¥ä¸‹çŸ©é˜µæ¥è®²è¿°ï¼Œç”Ÿæˆä¼šäº†ï¼Œéå†è‡ªç„¶ä¹Ÿä¼šäº†</p></blockquote><blockquote><p>ç¤ºæ„å›¾</p></blockquote><img src="/%E7%AE%97%E6%B3%95/%E6%8A%80%E5%B7%A7%E7%AF%87/2022/10/23/%E7%AE%97%E6%B3%95-%E9%81%8D%E5%8E%86%E4%BA%8C%E7%BB%B4%E7%9F%A9%E9%98%B5%E7%9A%84%E5%90%84%E7%A7%8D%E8%8A%B1%E6%A0%B7/%E7%A4%BA%E4%BE%8B%E5%9B%BE-16772853932351.png" class title="ç¤ºä¾‹å›¾"><blockquote><p>éå†æ€è·¯</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># [0,0] [0,1] [0,2] [0,3]ğŸ‘‰å‘å³</span></span><br><span class="line"><span class="comment"># [0,4] [1,4] [2,4] [3,4]ğŸ‘‡å‘ä¸‹</span></span><br><span class="line"><span class="comment"># [4,4] [4,3] [4,2] [4,1]ğŸ‘†å‘ä¸Š</span></span><br><span class="line"><span class="comment"># [4,0] [3,0] [2,0][1,0]ğŸ‘ˆå‘å·¦</span></span><br><span class="line"><span class="comment"># ......</span></span><br></pre></td></tr></table></figure><h4 id="åœˆåœˆæ³•"><a href="#åœˆåœˆæ³•" class="headerlink" title="åœˆåœˆæ³•"></a>åœˆåœˆæ³•</h4><p>ç¬¬ä¸€ä¸ªæ€è·¯å°±æ˜¯ä¸€åœˆä¸€åœˆçš„éå†</p><p>å°†æ¯ä¸€ä¸ªåœˆæ‹†ä¸ºå››ä¸ªéƒ¨åˆ†</p><img src="/%E7%AE%97%E6%B3%95/%E6%8A%80%E5%B7%A7%E7%AF%87/2022/10/23/%E7%AE%97%E6%B3%95-%E9%81%8D%E5%8E%86%E4%BA%8C%E7%BB%B4%E7%9F%A9%E9%98%B5%E7%9A%84%E5%90%84%E7%A7%8D%E8%8A%B1%E6%A0%B7/%E5%9B%9B%E5%B0%8F%E5%BE%AA%E7%8E%AF-16772853932365.png" class title="å°†ä¸€ä¸ªåœˆæ‹†ä¸ºå››ä¸ªéƒ¨åˆ†"><p>ç¬¬ä¸€ä¸ªå¾ªç¯ç”¨æ¥ç”Ÿæˆ<strong>æ°´å¹³å‘å·¦</strong>çš„æ•°æ®</p><p>ç¬¬äºŒä¸ªå¾ªç¯ç”¨æ¥ç”Ÿæˆ<strong>å‚ç›´å‘ä¸‹</strong>çš„æ•°æ®</p><p>ç¬¬ä¸‰ä¸ªå¾ªç¯ç”¨æ¥ç”Ÿæˆ<strong>æ°´å¹³å‘å³</strong>çš„æ•°æ®</p><p>ç¬¬å››ä¸ªå¾ªç¯ç”¨æ¥ç”Ÿæˆ<strong>å‚ç›´å‘ä¸Š</strong>çš„æ•°æ®</p><h5 id="æµç¨‹å›¾"><a href="#æµç¨‹å›¾" class="headerlink" title="æµç¨‹å›¾"></a>æµç¨‹å›¾</h5><p>ç²‰çº¢è‰²çš„æ˜¯æ ‡æ³¨ä¸º<strong>æ¯æ¬¡å¤§å¾ªç¯</strong>çš„å¼€å§‹å¤„</p><blockquote><p>PSï¼šå›¾ç‰‡å¾ˆå¤šï¼Œè¿‡ç¨‹å¾ˆè¯¦ç»†</p></blockquote><img src="/%E7%AE%97%E6%B3%95/%E6%8A%80%E5%B7%A7%E7%AF%87/2022/10/23/%E7%AE%97%E6%B3%95-%E9%81%8D%E5%8E%86%E4%BA%8C%E7%BB%B4%E7%9F%A9%E9%98%B5%E7%9A%84%E5%90%84%E7%A7%8D%E8%8A%B1%E6%A0%B7/process-01-16772853932352.png" class title="process-01"><img src="/%E7%AE%97%E6%B3%95/%E6%8A%80%E5%B7%A7%E7%AF%87/2022/10/23/%E7%AE%97%E6%B3%95-%E9%81%8D%E5%8E%86%E4%BA%8C%E7%BB%B4%E7%9F%A9%E9%98%B5%E7%9A%84%E5%90%84%E7%A7%8D%E8%8A%B1%E6%A0%B7/process-02-16772853932363.png" class title="process-02"><img src="/%E7%AE%97%E6%B3%95/%E6%8A%80%E5%B7%A7%E7%AF%87/2022/10/23/%E7%AE%97%E6%B3%95-%E9%81%8D%E5%8E%86%E4%BA%8C%E7%BB%B4%E7%9F%A9%E9%98%B5%E7%9A%84%E5%90%84%E7%A7%8D%E8%8A%B1%E6%A0%B7/process-03-16772853932369.png" class title="process-03"><img src="/%E7%AE%97%E6%B3%95/%E6%8A%80%E5%B7%A7%E7%AF%87/2022/10/23/%E7%AE%97%E6%B3%95-%E9%81%8D%E5%8E%86%E4%BA%8C%E7%BB%B4%E7%9F%A9%E9%98%B5%E7%9A%84%E5%90%84%E7%A7%8D%E8%8A%B1%E6%A0%B7/process-04-16772853932364.png" class title="process-04"><img src="/%E7%AE%97%E6%B3%95/%E6%8A%80%E5%B7%A7%E7%AF%87/2022/10/23/%E7%AE%97%E6%B3%95-%E9%81%8D%E5%8E%86%E4%BA%8C%E7%BB%B4%E7%9F%A9%E9%98%B5%E7%9A%84%E5%90%84%E7%A7%8D%E8%8A%B1%E6%A0%B7/process-05-16772853932367.png" class title="process-05"><img src="/%E7%AE%97%E6%B3%95/%E6%8A%80%E5%B7%A7%E7%AF%87/2022/10/23/%E7%AE%97%E6%B3%95-%E9%81%8D%E5%8E%86%E4%BA%8C%E7%BB%B4%E7%9F%A9%E9%98%B5%E7%9A%84%E5%90%84%E7%A7%8D%E8%8A%B1%E6%A0%B7/process-06-16772853932366.png" class title="process-06"><img src="/%E7%AE%97%E6%B3%95/%E6%8A%80%E5%B7%A7%E7%AF%87/2022/10/23/%E7%AE%97%E6%B3%95-%E9%81%8D%E5%8E%86%E4%BA%8C%E7%BB%B4%E7%9F%A9%E9%98%B5%E7%9A%84%E5%90%84%E7%A7%8D%E8%8A%B1%E6%A0%B7/process-07-167728539323611.png" class title="process-07"><img src="/%E7%AE%97%E6%B3%95/%E6%8A%80%E5%B7%A7%E7%AF%87/2022/10/23/%E7%AE%97%E6%B3%95-%E9%81%8D%E5%8E%86%E4%BA%8C%E7%BB%B4%E7%9F%A9%E9%98%B5%E7%9A%84%E5%90%84%E7%A7%8D%E8%8A%B1%E6%A0%B7/process-08-16772853932368.png" class title="process-08"><img src="/%E7%AE%97%E6%B3%95/%E6%8A%80%E5%B7%A7%E7%AF%87/2022/10/23/%E7%AE%97%E6%B3%95-%E9%81%8D%E5%8E%86%E4%BA%8C%E7%BB%B4%E7%9F%A9%E9%98%B5%E7%9A%84%E5%90%84%E7%A7%8D%E8%8A%B1%E6%A0%B7/process-09-167728539323610.png" class title="process-09"><img src="/%E7%AE%97%E6%B3%95/%E6%8A%80%E5%B7%A7%E7%AF%87/2022/10/23/%E7%AE%97%E6%B3%95-%E9%81%8D%E5%8E%86%E4%BA%8C%E7%BB%B4%E7%9F%A9%E9%98%B5%E7%9A%84%E5%90%84%E7%A7%8D%E8%8A%B1%E6%A0%B7/process-10-167728539323613.png" class title="process-10"><img src="/%E7%AE%97%E6%B3%95/%E6%8A%80%E5%B7%A7%E7%AF%87/2022/10/23/%E7%AE%97%E6%B3%95-%E9%81%8D%E5%8E%86%E4%BA%8C%E7%BB%B4%E7%9F%A9%E9%98%B5%E7%9A%84%E5%90%84%E7%A7%8D%E8%8A%B1%E6%A0%B7/process-11-167728539323612.png" class title="process-11"><img src="/%E7%AE%97%E6%B3%95/%E6%8A%80%E5%B7%A7%E7%AF%87/2022/10/23/%E7%AE%97%E6%B3%95-%E9%81%8D%E5%8E%86%E4%BA%8C%E7%BB%B4%E7%9F%A9%E9%98%B5%E7%9A%84%E5%90%84%E7%A7%8D%E8%8A%B1%E6%A0%B7/process-12-167728539323614.png" class title="process-12"><img src="/%E7%AE%97%E6%B3%95/%E6%8A%80%E5%B7%A7%E7%AF%87/2022/10/23/%E7%AE%97%E6%B3%95-%E9%81%8D%E5%8E%86%E4%BA%8C%E7%BB%B4%E7%9F%A9%E9%98%B5%E7%9A%84%E5%90%84%E7%A7%8D%E8%8A%B1%E6%A0%B7/process-13-167728539323615.png" class title="process-13"><img src="/%E7%AE%97%E6%B3%95/%E6%8A%80%E5%B7%A7%E7%AF%87/2022/10/23/%E7%AE%97%E6%B3%95-%E9%81%8D%E5%8E%86%E4%BA%8C%E7%BB%B4%E7%9F%A9%E9%98%B5%E7%9A%84%E5%90%84%E7%A7%8D%E8%8A%B1%E6%A0%B7/process-14-167728539323617.png" class title="process-14"><img src="/%E7%AE%97%E6%B3%95/%E6%8A%80%E5%B7%A7%E7%AF%87/2022/10/23/%E7%AE%97%E6%B3%95-%E9%81%8D%E5%8E%86%E4%BA%8C%E7%BB%B4%E7%9F%A9%E9%98%B5%E7%9A%84%E5%90%84%E7%A7%8D%E8%8A%B1%E6%A0%B7/process-15-167728539323616.png" class title="process-15"><img src="/%E7%AE%97%E6%B3%95/%E6%8A%80%E5%B7%A7%E7%AF%87/2022/10/23/%E7%AE%97%E6%B3%95-%E9%81%8D%E5%8E%86%E4%BA%8C%E7%BB%B4%E7%9F%A9%E9%98%B5%E7%9A%84%E5%90%84%E7%A7%8D%E8%8A%B1%E6%A0%B7/process-16-167728539323618.png" class title="process-16"><h5 id="ç¤ºä¾‹ä»£ç "><a href="#ç¤ºä¾‹ä»£ç " class="headerlink" title="ç¤ºä¾‹ä»£ç "></a>ç¤ºä¾‹ä»£ç </h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">int</span>[][] rotateNumber(<span class="keyword">int</span> n) &#123;</span><br><span class="line">    <span class="keyword">int</span>[][] matrix = <span class="keyword">new</span> <span class="keyword">int</span>[n][n];</span><br><span class="line">    <span class="keyword">int</span> counter = <span class="number">1</span>;</span><br><span class="line">    <span class="comment">// n / 2å³è¿™ä¸ªçŸ©é˜µæœ‰å‡ ä¸ªåœˆ</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n / <span class="number">2</span>; i++) &#123;</span><br><span class="line">        <span class="comment">// endå³æœ¬æ¬¡è¿™ä¸ªåœˆçš„å®½-1</span></span><br><span class="line">        <span class="keyword">int</span> end = n - i - <span class="number">1</span>;</span><br><span class="line">        <span class="comment">// â†’</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = i; j &lt; end; j++) &#123;</span><br><span class="line">            matrix[i][j] = counter++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// â†“</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = i; j &lt; end; j++) &#123;</span><br><span class="line">            matrix[j][end] = counter++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// â†</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = end; j &gt; i; j--) &#123;</span><br><span class="line">            matrix[end][j] = counter++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// â†‘</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = end; j &gt; i; j--) &#123;</span><br><span class="line">            matrix[j][i] = counter++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// å¦‚æœæ˜¯å¥‡æ•°ï¼Œå•ç‹¬å¤„ç†ä¸­é—´é‚£ä¸€æ ¼æ•°æ®</span></span><br><span class="line">    <span class="keyword">if</span> (n % <span class="number">2</span> != <span class="number">0</span>) &#123;</span><br><span class="line">        matrix[n / <span class="number">2</span>][n / <span class="number">2</span>] = n * n;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> matrix;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="æ¨ªå¹³ç«–ç›´æ³•ï¼ˆæ¨èï¼‰"><a href="#æ¨ªå¹³ç«–ç›´æ³•ï¼ˆæ¨èï¼‰" class="headerlink" title="æ¨ªå¹³ç«–ç›´æ³•ï¼ˆæ¨èï¼‰"></a>æ¨ªå¹³ç«–ç›´æ³•ï¼ˆæ¨èï¼‰</h4><p>è¿™ç§æ–¹æ³•æ˜¯é€šè¿‡å››ä¸ªè¾¹ç•Œæ¥è¾…åŠ©ç”ŸæˆçŸ©é˜µ</p><blockquote><p>å››ä¸ªè¾¹ç•Œçš„ç¤ºæ„å›¾</p></blockquote><img src="/%E7%AE%97%E6%B3%95/%E6%8A%80%E5%B7%A7%E7%AF%87/2022/10/23/%E7%AE%97%E6%B3%95-%E9%81%8D%E5%8E%86%E4%BA%8C%E7%BB%B4%E7%9F%A9%E9%98%B5%E7%9A%84%E5%90%84%E7%A7%8D%E8%8A%B1%E6%A0%B7/image-20230109192153280-167728678135920.png" class title="å››ä¸ªè¾¹ç•Œ"><h5 id="ç¤ºä¾‹ä»£ç -1"><a href="#ç¤ºä¾‹ä»£ç -1" class="headerlink" title="ç¤ºä¾‹ä»£ç "></a>ç¤ºä¾‹ä»£ç </h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">int</span>[][] rotateNumber(<span class="keyword">int</span> n)&#123;</span><br><span class="line">    <span class="comment">// ç”¨æ¥å­˜æ”¾ç”Ÿæˆçš„æ—‹è½¬æ•°å­—çŸ©é˜µ</span></span><br><span class="line">    <span class="keyword">int</span>[][] matrix = <span class="keyword">new</span> <span class="keyword">int</span>[n][n];</span><br><span class="line">    <span class="comment">// è®¡æ•°å™¨</span></span><br><span class="line">    <span class="keyword">int</span> counter = <span class="number">1</span>;</span><br><span class="line">    <span class="comment">// ä¸Šè¾¹ç•Œ</span></span><br><span class="line">    <span class="keyword">int</span> up = <span class="number">0</span>;</span><br><span class="line">    <span class="comment">// ä¸‹è¾¹ç•Œ</span></span><br><span class="line">    <span class="keyword">int</span> down = n-<span class="number">1</span>;</span><br><span class="line">    <span class="comment">// å·¦è¾¹ç•Œ</span></span><br><span class="line">    <span class="keyword">int</span> left = <span class="number">0</span>;</span><br><span class="line">    <span class="comment">// å³è¾¹ç•Œ</span></span><br><span class="line">    <span class="keyword">int</span> right = n-<span class="number">1</span>;</span><br><span class="line">    <span class="comment">// å½“ counter æ¯” n * n å°å°±ä¸€ç›´å¾ªç¯</span></span><br><span class="line">    <span class="keyword">while</span> (counter &lt;= n * n) &#123;</span><br><span class="line">        <span class="comment">// éå†ä¸Šè¾¹ç•Œçš„é‚£ä¸€è¡Œ</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = left; j &lt;= right; j++) &#123;</span><br><span class="line">            matrix[up][j] = counter++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// ä¸Šè¾¹ç•Œå‘ä¸‹ç§»åŠ¨ä¸€è¡Œ</span></span><br><span class="line">        up++;</span><br><span class="line">        <span class="comment">// éå†å³è¾¹ç•Œçš„é‚£ä¸€è¡Œ</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = up; i &lt;= down; i++) &#123;</span><br><span class="line">            matrix[i][right] = counter++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// å³è¾¹ç•Œå‘å·¦ç§»åŠ¨ä¸€è¡Œ</span></span><br><span class="line">        right--;</span><br><span class="line">        <span class="comment">// éå†ä¸‹è¾¹ç•Œçš„é‚£ä¸€è¡Œ</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = right; j &gt;= left; j--) &#123;</span><br><span class="line">            matrix[down][j] = counter++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// ä¸‹è¾¹ç•Œå‘ä¸Šç§»åŠ¨ä¸€è¡Œ</span></span><br><span class="line">        down--;</span><br><span class="line">        <span class="comment">// éå†å·¦è¾¹ç•Œçš„é‚£ä¸€è¡Œ</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = down; i &gt;= up; i--) &#123;</span><br><span class="line">            matrix[i][left] = counter++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// å·¦è¾¹ç•Œå‘å³ç§»åŠ¨é‚£ä¸€è¡Œ</span></span><br><span class="line">        left++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// è¿”å›ç»“æœæ•°ç»„</span></span><br><span class="line">    <span class="keyword">return</span> matrix;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="æ–œéå†"><a href="#æ–œéå†" class="headerlink" title="æ–œéå†"></a>æ–œéå†</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è¾“å‡ºæ‰€æœ‰ç”±å·¦ä¸Šå‘å³ä¸‹æ–¹å‘çš„å¯¹è§’çº¿: [13 9 14 5 10 15 1 6 11 16 2 7 12 3 8 4]</span></span><br></pre></td></tr></table></figure><img src="/%E7%AE%97%E6%B3%95/%E6%8A%80%E5%B7%A7%E7%AF%87/2022/10/23/%E7%AE%97%E6%B3%95-%E9%81%8D%E5%8E%86%E4%BA%8C%E7%BB%B4%E7%9F%A9%E9%98%B5%E7%9A%84%E5%90%84%E7%A7%8D%E8%8A%B1%E6%A0%B7/image-20221023162345777-16780850450772.png" class title="Question2"><h4 id="åç§»Xæ³•"><a href="#åç§»Xæ³•" class="headerlink" title="åç§»Xæ³•"></a>åç§»Xæ³•</h4><p>å’Œå¾€å¸¸ä¸€æ ·éå†ç¬¬ä¸€è¡Œï¼Œ<code>[0,0] [0,1] [0,2] [0,3] [0,4]</code></p><p>å¯ä»¥å‘ç°ä¸­é—´é‚£ä¸ªå¯¹è§’çº¿æ˜¯è¿™ä¸€è¡Œå‘ä¸‹åç§»çš„ç»“æœï¼Œä½†æ˜¯ä¸åŒçš„ä½ç½®åœ¨ X æ–¹å‘ä¸Šçš„åç§»é‡æ˜¯ä¸ä¸€æ ·çš„</p><img src="/%E7%AE%97%E6%B3%95/%E6%8A%80%E5%B7%A7%E7%AF%87/2022/10/23/%E7%AE%97%E6%B3%95-%E9%81%8D%E5%8E%86%E4%BA%8C%E7%BB%B4%E7%9F%A9%E9%98%B5%E7%9A%84%E5%90%84%E7%A7%8D%E8%8A%B1%E6%A0%B7/image-20230225094808073.png" class title="Xåç§»æ³•ç¬¬ä¸€è¡Œ"><p>éå†ç¬¬äºŒè¡Œ<code>[1,0] [1,1] [1,2] [1,3] [1,4]</code></p><p>å¯ä»¥çœ‹åˆ°å’Œåˆšåˆšç¬¬ä¸€è¡Œä¸€æ ·ï¼Œæ¯ä¸€åˆ—å‘ä¸‹åç§»ä¸€å®šé‡å°±å¯ä»¥å¾—åˆ°ä¸»å¯¹è§’çº¿ä¸‹é¢çš„é‚£ä¸ªå¯¹è§’çº¿äº†</p><p>ï¼ˆè¿™é‡Œå…ˆä¸è¦ç®¡è¶Šç•Œçš„é—®é¢˜ï¼Œå…ˆæŠŠæ€è·¯ç†æ¸…æ¥šï¼Œå†åœ¨ä»£ç é‡Œé¢è§£å†³è¶Šç•Œé—®é¢˜ï¼‰</p><img src="/%E7%AE%97%E6%B3%95/%E6%8A%80%E5%B7%A7%E7%AF%87/2022/10/23/%E7%AE%97%E6%B3%95-%E9%81%8D%E5%8E%86%E4%BA%8C%E7%BB%B4%E7%9F%A9%E9%98%B5%E7%9A%84%E5%90%84%E7%A7%8D%E8%8A%B1%E6%A0%B7/image-20230225095049771.png" class title="Xåç§»æ³•ç¬¬äºŒè¡Œ"><p>å…ˆå†™å‡ºéå†æ¯ä¸€è¡Œçš„åˆå§‹ä»£ç ï¼Œç„¶åæˆ‘ä»¬åœ¨è¿™ä¸ªä¸Šé¢æ”¹é€ </p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len; i++) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; len; j++) &#123;</span><br><span class="line">        System.out.println(matrix[i][j]);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åœ¨éå†æ¯ä¸€è¡Œçš„æƒ…å†µï¼Œå‘ä¸‹åç§»å°±æ˜¯å¯¹è§’çº¿äº†</p><p>æ¯ä¸€åˆ—çš„åç§»é‡éƒ½æ˜¯ä¸ä¸€æ ·çš„ï¼Œæ¥ä¸‹æ¥è¦è§£å†³çš„å°±æ˜¯å¦‚ä½•ç®—å‡ºæ¯ä¸€åˆ—çš„åç§»é‡</p><p>ç»è¿‡è§‚å¯Ÿå¯ä»¥å‘ç°ï¼Œå½“å‰è¿™ä¸€åˆ—çš„åç§»é‡å°±æ˜¯å½“å‰çš„åˆ—å€¼ï¼Œé‚£ä¹ˆå°±å¥½åŠäº†ç›´æ¥ç”¨<code>j</code>å°±å¯ä»¥äº†</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len; i++) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; len; j++) &#123;</span><br><span class="line">        System.out.println(matrix[i + j][j]);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç°åœ¨è¿˜æœ‰ä¸€ä¸ªé—®é¢˜ï¼Œå°±æ˜¯å¾—åˆ°çš„å¯¹è§’çº¿æ˜¯éƒ¨åˆ†ä¸åˆæ³•çš„ï¼Œé‚£ä¹ˆæ¥ä¸‹æ¥å°±æ˜¯å¦‚ä½•æˆªå–åˆæ³•çš„å¯¹è§’çº¿éƒ¨åˆ†</p><p>å› ä¸ºå¯¹è§’çº¿æ˜¯ç”±æ¯ä¸€è¡Œå‘ä¸‹åç§»è€Œæ¥ï¼Œå¯¹è§’çº¿è¶Šç•Œçš„æ ¹æœ¬åŸå› æ˜¯æ¯ä¸€è¡Œéå†å¤šäº†</p><p>é‚£ä¹ˆåªè¦é€æ¸å‡å°‘æ¯ä¸€è¡Œçš„éå†é•¿åº¦å³å¯ï¼Œæ¯ä¸€è¡Œå°‘éå† i çš„é•¿åº¦å³å¯</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len; i++) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; len - i; j++) &#123;</span><br><span class="line">        System.out.println(matrix[i + j][j]);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="å®Œæ•´ç¤ºä¾‹ä»£ç "><a href="#å®Œæ•´ç¤ºä¾‹ä»£ç " class="headerlink" title="å®Œæ•´ç¤ºä¾‹ä»£ç "></a>å®Œæ•´ç¤ºä¾‹ä»£ç </h5><blockquote><p>PSï¼šæ³¨æ„å³ä¸Šè§’</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = len - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; len - i; j++) &#123;</span><br><span class="line">        System.out.println(matrix[i + j][j]);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = len - <span class="number">2</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> j = len - <span class="number">1</span> - i; j &lt; len; j++) &#123;</span><br><span class="line">        <span class="comment">// åç§»é‡</span></span><br><span class="line">        <span class="keyword">int</span> offset = len - <span class="number">1</span> - j;</span><br><span class="line">        System.out.println(matrix[i - offset][j]);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="åç§»Yæ³•"><a href="#åç§»Yæ³•" class="headerlink" title="åç§»Yæ³•"></a>åç§»Yæ³•</h4><p>è¿™ä¸ªæ–¹æ³•å’Œåç§» X æ³•æœ‰å¼‚æ›²åŒå·¥ä¹‹å¦™</p><p>åªä¸è¿‡ä»éå†æ¯ä¸€è¡Œå˜æˆäº†éå†æ¯ä¸€åˆ—</p><img src="/%E7%AE%97%E6%B3%95/%E6%8A%80%E5%B7%A7%E7%AF%87/2022/10/23/%E7%AE%97%E6%B3%95-%E9%81%8D%E5%8E%86%E4%BA%8C%E7%BB%B4%E7%9F%A9%E9%98%B5%E7%9A%84%E5%90%84%E7%A7%8D%E8%8A%B1%E6%A0%B7/image-20230225113000196.png" class title="Yåç§»éå†ç¬¬ä¸€åˆ—"><p>å’Œåˆšåˆšä¸€æ ·ï¼Œå…ˆå†™å‡ºéå†æ¯ä¸€åˆ—</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; len; j++) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len; i++) &#123;</span><br><span class="line">        System.out.println(matrix[i][j]);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç„¶åå‘å³è¾¹åç§»</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; len; j++) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len; i++) &#123;</span><br><span class="line">        System.out.println(matrix[i][j + i]);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¯¹è§’çº¿ä¸åˆæ³•ï¼Œæˆªå–åˆæ³•éƒ¨åˆ†</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; len; j++) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len - j; i++) &#123;</span><br><span class="line">        System.out.println(matrix[i][j + i]);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="å®Œæ•´ç¤ºä¾‹ä»£ç -1"><a href="#å®Œæ•´ç¤ºä¾‹ä»£ç -1" class="headerlink" title="å®Œæ•´ç¤ºä¾‹ä»£ç "></a>å®Œæ•´ç¤ºä¾‹ä»£ç </h5><blockquote><p>PSï¼šæ³¨æ„å·¦ä¸‹è§’</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; len; j++) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = len - <span class="number">1</span> - j; i &lt; len; i++) &#123;</span><br><span class="line">        <span class="keyword">int</span> offset = len - <span class="number">1</span> - i;</span><br><span class="line">        System.out.println(matrix[i][j - offset]);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt; len; j++) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len - j; i++) &#123;</span><br><span class="line">        System.out.println(matrix[i][i + j]);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="åç§»å¯¹è§’çº¿æ³•ï¼ˆæ¨èï¼‰"><a href="#åç§»å¯¹è§’çº¿æ³•ï¼ˆæ¨èï¼‰" class="headerlink" title="åç§»å¯¹è§’çº¿æ³•ï¼ˆæ¨èï¼‰"></a>åç§»å¯¹è§’çº¿æ³•ï¼ˆæ¨èï¼‰</h4><p>å¯ä»¥å‘ç°åç§» X æ³•å’Œåç§» Y æ³•éƒ½æ¯”è¾ƒéº»çƒ¦</p><p>æ‰€ä»¥æˆ‘æ¯”è¾ƒæ¨èè¿™ç§æ–¹æ³•ï¼Œæ ¹æ®å¯¹è§’çº¿æ¥åšåç§»å°±ä¼šç®€å•å¾ˆå¤š</p><p>ä»å·¦ä¸Šé¡¶è§’åˆ°å³ä¸‹é¡¶è§’çš„é‚£æ¡å¯¹è§’çº¿å¦‚ä¸‹<code>[0,0] [1,1] [2,2] [3,3]</code></p><blockquote><p>@è¡¨ç¤ºè¶Šç•Œèˆå¼ƒ</p></blockquote><p>æ•´ä½“å¾€ä¸‹åç§» 1 ä½ï¼Œå°±æ˜¯<code>[1,0] [2,1] [3,2] [4,3](@)</code></p><p>æ•´ä½“å¾€ä¸‹åç§» 2 ä½ï¼Œå°±æ˜¯<code>[2,0] [3,1] [4,2](@) [5,3](@)</code></p><p>æ•´ä½“å¾€ä¸‹åç§» 3 ä½ï¼Œå°±æ˜¯<code>[3,0] [4,1] [5,2](@) [6,3](@)</code></p><p>æ•´ä½“å¾€ä¸Šåç§» 1 ä½ï¼Œå°±æ˜¯<code>[-1,0](@) [0,1] [1,2] [2,3]</code></p><p>æ•´ä½“å¾€ä¸Šåç§» 2 ä½ï¼Œå°±æ˜¯<code>[-2,0](@) [-1,1](@) [-1,0][0,2] [1,3]</code></p><p>æ•´ä½“å¾€ä¸Šåç§» 3 ä½ï¼Œå°±æ˜¯<code>[-3,0](@) [-2,1](@) [-1,2](@) [0,3]</code></p><blockquote><p>å¦‚ä½•è§£å†³è¶Šç•Œ</p></blockquote><p>æ—¢ç„¶å®Œæ•´çš„å¯¹è§’çº¿åç§»ä¼šå‡ºç°è¶Šç•Œï¼Œé‚£å°±åç§»éƒ¨åˆ†çš„å¯¹è§’çº¿ä¸å°±è¡Œäº†</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> len = matrix.length;</span><br><span class="line"><span class="comment">// è¾“å‡ºéƒ¨åˆ†å¯¹è§’çº¿ï¼Œä»å®Œæ•´å¼€å§‹é€æ¸å˜çŸ­</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> offset = <span class="number">0</span>; offset &lt; len; offset++) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len - offset; i++) &#123;</span><br><span class="line">        System.out.println(matrix[i][i]);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// è¿™æ—¶å€™è¾“å‡ºçš„ä¾æ¬¡æ˜¯</span></span><br><span class="line"><span class="comment">// [0,0] [1,1] [2,2] [3,3](offset=0)</span></span><br><span class="line"><span class="comment">// [0,0] [1,1] [2,2](offset=1)</span></span><br><span class="line"><span class="comment">// [0,0] [1,1](offset=2)</span></span><br><span class="line"><span class="comment">// [0,0](offset=3)</span></span><br><span class="line"><span class="comment">// é‚£ä¹ˆåªéœ€è¦æ ¹æ®éƒ¨åˆ†çš„å¯¹è§’çº¿å‘ä¸‹åç§»å³å¯</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> offset = <span class="number">0</span>; offset &lt; len; offset++) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len - offset; i++) &#123;</span><br><span class="line">        System.out.println(matrix[i + offset][i]);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// è¿™æ ·çš„è¾“å‡ºç»“æœå°±æ˜¯</span></span><br><span class="line"><span class="comment">// [0,0] [1,1] [2,2] [3,3](offset=0)</span></span><br><span class="line"><span class="comment">// [1,0] [2,1] [3,2](offset=1)</span></span><br><span class="line"><span class="comment">// [2,0] [3,1](offset=2)</span></span><br><span class="line"><span class="comment">// [3,0](offset=3)</span></span><br></pre></td></tr></table></figure><p>åœ¨ç†è§£äº†ä¸Šè¿°çš„æ–¹æ³•åï¼Œä¿®æ”¹ä¸‹æ¥å®Œæˆç¬¬ä¸€éƒ¨åˆ†çš„éå†ï¼Œå³è¿™ä¸€å—çš„éå†</p><img src="/%E7%AE%97%E6%B3%95/%E6%8A%80%E5%B7%A7%E7%AF%87/2022/10/23/%E7%AE%97%E6%B3%95-%E9%81%8D%E5%8E%86%E4%BA%8C%E7%BB%B4%E7%9F%A9%E9%98%B5%E7%9A%84%E5%90%84%E7%A7%8D%E8%8A%B1%E6%A0%B7/image-20230225093443715.png" class title="image-20230225093443715"><p>è¿™ä¸ªå’Œåˆšåˆšä¸åŒçš„åœ°æ–¹åœ¨äºå®ƒçš„åç§»é‡æ˜¯ä»å¤§åˆ°å°çš„ï¼Œä¸Šé¢é‚£ä¸ªç†è§£äº†ï¼Œè¿™ä¸ªåº”è¯¥ä¹Ÿä¸éš¾</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// [3,0]</span></span><br><span class="line"><span class="comment">// [2,0] [3,1]</span></span><br><span class="line"><span class="comment">// [1,0] [2,1] [3,2]</span></span><br><span class="line"><span class="comment">// [0,0] [1,1] [2,2] [3,3]</span></span><br><span class="line"><span class="comment">// offsetæ˜¯å¯¹è§’çº¿åœ¨xæ–¹å‘çš„åç§»é‡</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> offset = len - <span class="number">1</span>; offset &gt;= <span class="number">0</span>; offset--) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len - offset; i++) &#123;</span><br><span class="line">        <span class="comment">// å‘ä¸‹åç§»</span></span><br><span class="line">        System.out.println(matrix[i + offset][i]);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="å®Œæ•´ç¤ºä¾‹ä»£ç -2"><a href="#å®Œæ•´ç¤ºä¾‹ä»£ç -2" class="headerlink" title="å®Œæ•´ç¤ºä¾‹ä»£ç "></a>å®Œæ•´ç¤ºä¾‹ä»£ç </h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">tiltPrint</span><span class="params">(<span class="keyword">int</span>[][] matrix)</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> len = matrix.length;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> offset = len - <span class="number">1</span>; offset &gt;= <span class="number">0</span>; offset--) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len - offset; i++) &#123;</span><br><span class="line">            <span class="comment">// å‘ä¸‹åç§»</span></span><br><span class="line">            System.out.println(matrix[i + offset][i]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> offset = <span class="number">1</span>; offset &lt; len; offset++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = offset; i &lt; len; i++) &#123;</span><br><span class="line">            <span class="comment">// å‘ä¸Šåç§»</span></span><br><span class="line">            System.out.println(matrix[i - offset][i]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="èºæ—‹éå†"><a href="#èºæ—‹éå†" class="headerlink" title="èºæ—‹éå†"></a>èºæ—‹éå†</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è¾“å‡ºèºæ—‹éå†é¡ºåº: [1 2 3 4 5 6 7 8 9 10 11 ... 21]</span></span><br></pre></td></tr></table></figure><img src="/%E7%AE%97%E6%B3%95/%E6%8A%80%E5%B7%A7%E7%AF%87/2022/10/23/%E7%AE%97%E6%B3%95-%E9%81%8D%E5%8E%86%E4%BA%8C%E7%BB%B4%E7%9F%A9%E9%98%B5%E7%9A%84%E5%90%84%E7%A7%8D%E8%8A%B1%E6%A0%B7/image-20221023180033863-16780850450773.png" class title="èºæ—‹éå†"><h4 id="æ‹†è§£æ³•"><a href="#æ‹†è§£æ³•" class="headerlink" title="æ‹†è§£æ³•"></a>æ‹†è§£æ³•</h4><p>å°†è¿™ä¸ªè·¯å¾„æ‹†è§£å¼€</p><p>æ‹†è§£å¦‚ä¸‹</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># [0,0] -- [0,1] [1,0]</span></span><br><span class="line"><span class="comment"># [2,0] [1,1] [0,2] --- [0,3] [1,2] [2,1] [3,0]</span></span><br><span class="line"><span class="comment"># [4,0] [3,1] [2,2] [1,3] [0,4] --- [0,5] [1,4] [2,3] [3,2] [4,1] [5,0]</span></span><br></pre></td></tr></table></figure><h5 id="æµç¨‹å›¾-1"><a href="#æµç¨‹å›¾-1" class="headerlink" title="æµç¨‹å›¾"></a>æµç¨‹å›¾</h5><p>ç²‰çº¢è‰²çš„æ˜¯æ ‡æ³¨ä¸º<strong>æ¯æ¬¡å¤§å¾ªç¯</strong>çš„å¼€å§‹å¤„</p><p>æ ‡æ³¨<strong>å†…å±‚å¾ªç¯åˆå§‹åŒ–</strong>çš„æ˜¯è¯¥å¾ªç¯åˆšè¦å¼€å§‹æ—¶å€™çš„æ•°æ®</p><blockquote><p>PSï¼šå›¾ç‰‡å¾ˆå¤šï¼Œè¿‡ç¨‹å¾ˆè¯¦ç»†</p></blockquote><img src="/%E7%AE%97%E6%B3%95/%E6%8A%80%E5%B7%A7%E7%AF%87/2022/10/23/%E7%AE%97%E6%B3%95-%E9%81%8D%E5%8E%86%E4%BA%8C%E7%BB%B4%E7%9F%A9%E9%98%B5%E7%9A%84%E5%90%84%E7%A7%8D%E8%8A%B1%E6%A0%B7/process-01-167730279866922.png" class title="process-01"><img src="/%E7%AE%97%E6%B3%95/%E6%8A%80%E5%B7%A7%E7%AF%87/2022/10/23/%E7%AE%97%E6%B3%95-%E9%81%8D%E5%8E%86%E4%BA%8C%E7%BB%B4%E7%9F%A9%E9%98%B5%E7%9A%84%E5%90%84%E7%A7%8D%E8%8A%B1%E6%A0%B7/process-02-167730279867023.png" class title="process-02"><img src="/%E7%AE%97%E6%B3%95/%E6%8A%80%E5%B7%A7%E7%AF%87/2022/10/23/%E7%AE%97%E6%B3%95-%E9%81%8D%E5%8E%86%E4%BA%8C%E7%BB%B4%E7%9F%A9%E9%98%B5%E7%9A%84%E5%90%84%E7%A7%8D%E8%8A%B1%E6%A0%B7/process-03-167730279867024.png" class title="process-03"><img src="/%E7%AE%97%E6%B3%95/%E6%8A%80%E5%B7%A7%E7%AF%87/2022/10/23/%E7%AE%97%E6%B3%95-%E9%81%8D%E5%8E%86%E4%BA%8C%E7%BB%B4%E7%9F%A9%E9%98%B5%E7%9A%84%E5%90%84%E7%A7%8D%E8%8A%B1%E6%A0%B7/process-04-167730279867025.png" class title="process-04"><img src="/%E7%AE%97%E6%B3%95/%E6%8A%80%E5%B7%A7%E7%AF%87/2022/10/23/%E7%AE%97%E6%B3%95-%E9%81%8D%E5%8E%86%E4%BA%8C%E7%BB%B4%E7%9F%A9%E9%98%B5%E7%9A%84%E5%90%84%E7%A7%8D%E8%8A%B1%E6%A0%B7/process-05-167730279867026.png" class title="process-05"><img src="/%E7%AE%97%E6%B3%95/%E6%8A%80%E5%B7%A7%E7%AF%87/2022/10/23/%E7%AE%97%E6%B3%95-%E9%81%8D%E5%8E%86%E4%BA%8C%E7%BB%B4%E7%9F%A9%E9%98%B5%E7%9A%84%E5%90%84%E7%A7%8D%E8%8A%B1%E6%A0%B7/process-06-167730279867027.png" class title="process-06"><img src="/%E7%AE%97%E6%B3%95/%E6%8A%80%E5%B7%A7%E7%AF%87/2022/10/23/%E7%AE%97%E6%B3%95-%E9%81%8D%E5%8E%86%E4%BA%8C%E7%BB%B4%E7%9F%A9%E9%98%B5%E7%9A%84%E5%90%84%E7%A7%8D%E8%8A%B1%E6%A0%B7/process-07-167730279867028.png" class title="process-07"><img src="/%E7%AE%97%E6%B3%95/%E6%8A%80%E5%B7%A7%E7%AF%87/2022/10/23/%E7%AE%97%E6%B3%95-%E9%81%8D%E5%8E%86%E4%BA%8C%E7%BB%B4%E7%9F%A9%E9%98%B5%E7%9A%84%E5%90%84%E7%A7%8D%E8%8A%B1%E6%A0%B7/process-08-167730279867029.png" class title="process-08"><img src="/%E7%AE%97%E6%B3%95/%E6%8A%80%E5%B7%A7%E7%AF%87/2022/10/23/%E7%AE%97%E6%B3%95-%E9%81%8D%E5%8E%86%E4%BA%8C%E7%BB%B4%E7%9F%A9%E9%98%B5%E7%9A%84%E5%90%84%E7%A7%8D%E8%8A%B1%E6%A0%B7/process-09-167730279867030.png" class title="process-09"><img src="/%E7%AE%97%E6%B3%95/%E6%8A%80%E5%B7%A7%E7%AF%87/2022/10/23/%E7%AE%97%E6%B3%95-%E9%81%8D%E5%8E%86%E4%BA%8C%E7%BB%B4%E7%9F%A9%E9%98%B5%E7%9A%84%E5%90%84%E7%A7%8D%E8%8A%B1%E6%A0%B7/process-10-167730279867031.png" class title="process-10"><img src="/%E7%AE%97%E6%B3%95/%E6%8A%80%E5%B7%A7%E7%AF%87/2022/10/23/%E7%AE%97%E6%B3%95-%E9%81%8D%E5%8E%86%E4%BA%8C%E7%BB%B4%E7%9F%A9%E9%98%B5%E7%9A%84%E5%90%84%E7%A7%8D%E8%8A%B1%E6%A0%B7/process-11-167730279867032.png" class title="process-11"><img src="/%E7%AE%97%E6%B3%95/%E6%8A%80%E5%B7%A7%E7%AF%87/2022/10/23/%E7%AE%97%E6%B3%95-%E9%81%8D%E5%8E%86%E4%BA%8C%E7%BB%B4%E7%9F%A9%E9%98%B5%E7%9A%84%E5%90%84%E7%A7%8D%E8%8A%B1%E6%A0%B7/process-12-167730279867033.png" class title="process-12"><img src="/%E7%AE%97%E6%B3%95/%E6%8A%80%E5%B7%A7%E7%AF%87/2022/10/23/%E7%AE%97%E6%B3%95-%E9%81%8D%E5%8E%86%E4%BA%8C%E7%BB%B4%E7%9F%A9%E9%98%B5%E7%9A%84%E5%90%84%E7%A7%8D%E8%8A%B1%E6%A0%B7/process-13-167730279867034.png" class title="process-13"><img src="/%E7%AE%97%E6%B3%95/%E6%8A%80%E5%B7%A7%E7%AF%87/2022/10/23/%E7%AE%97%E6%B3%95-%E9%81%8D%E5%8E%86%E4%BA%8C%E7%BB%B4%E7%9F%A9%E9%98%B5%E7%9A%84%E5%90%84%E7%A7%8D%E8%8A%B1%E6%A0%B7/process-14-167730279867135.png" class title="process-14"><img src="/%E7%AE%97%E6%B3%95/%E6%8A%80%E5%B7%A7%E7%AF%87/2022/10/23/%E7%AE%97%E6%B3%95-%E9%81%8D%E5%8E%86%E4%BA%8C%E7%BB%B4%E7%9F%A9%E9%98%B5%E7%9A%84%E5%90%84%E7%A7%8D%E8%8A%B1%E6%A0%B7/process-15-167730279867136.png" class title="process-15"><img src="/%E7%AE%97%E6%B3%95/%E6%8A%80%E5%B7%A7%E7%AF%87/2022/10/23/%E7%AE%97%E6%B3%95-%E9%81%8D%E5%8E%86%E4%BA%8C%E7%BB%B4%E7%9F%A9%E9%98%B5%E7%9A%84%E5%90%84%E7%A7%8D%E8%8A%B1%E6%A0%B7/process-16-167730279867137.png" class title="process-16"><img src="/%E7%AE%97%E6%B3%95/%E6%8A%80%E5%B7%A7%E7%AF%87/2022/10/23/%E7%AE%97%E6%B3%95-%E9%81%8D%E5%8E%86%E4%BA%8C%E7%BB%B4%E7%9F%A9%E9%98%B5%E7%9A%84%E5%90%84%E7%A7%8D%E8%8A%B1%E6%A0%B7/process-17-167730279867338.png" class title="process-17"><img src="/%E7%AE%97%E6%B3%95/%E6%8A%80%E5%B7%A7%E7%AF%87/2022/10/23/%E7%AE%97%E6%B3%95-%E9%81%8D%E5%8E%86%E4%BA%8C%E7%BB%B4%E7%9F%A9%E9%98%B5%E7%9A%84%E5%90%84%E7%A7%8D%E8%8A%B1%E6%A0%B7/process-18-167730279867339.png" class title="process-18"><img src="/%E7%AE%97%E6%B3%95/%E6%8A%80%E5%B7%A7%E7%AF%87/2022/10/23/%E7%AE%97%E6%B3%95-%E9%81%8D%E5%8E%86%E4%BA%8C%E7%BB%B4%E7%9F%A9%E9%98%B5%E7%9A%84%E5%90%84%E7%A7%8D%E8%8A%B1%E6%A0%B7/process-19-167730279867340.png" class title="process-19"><img src="/%E7%AE%97%E6%B3%95/%E6%8A%80%E5%B7%A7%E7%AF%87/2022/10/23/%E7%AE%97%E6%B3%95-%E9%81%8D%E5%8E%86%E4%BA%8C%E7%BB%B4%E7%9F%A9%E9%98%B5%E7%9A%84%E5%90%84%E7%A7%8D%E8%8A%B1%E6%A0%B7/process-20-167730279867341.png" class title="process-20"><img src="/%E7%AE%97%E6%B3%95/%E6%8A%80%E5%B7%A7%E7%AF%87/2022/10/23/%E7%AE%97%E6%B3%95-%E9%81%8D%E5%8E%86%E4%BA%8C%E7%BB%B4%E7%9F%A9%E9%98%B5%E7%9A%84%E5%90%84%E7%A7%8D%E8%8A%B1%E6%A0%B7/process-21-167730279867343.png" class title="process-21"><img src="/%E7%AE%97%E6%B3%95/%E6%8A%80%E5%B7%A7%E7%AF%87/2022/10/23/%E7%AE%97%E6%B3%95-%E9%81%8D%E5%8E%86%E4%BA%8C%E7%BB%B4%E7%9F%A9%E9%98%B5%E7%9A%84%E5%90%84%E7%A7%8D%E8%8A%B1%E6%A0%B7/process-22-167730279867344.png" class title="process-22"><img src="/%E7%AE%97%E6%B3%95/%E6%8A%80%E5%B7%A7%E7%AF%87/2022/10/23/%E7%AE%97%E6%B3%95-%E9%81%8D%E5%8E%86%E4%BA%8C%E7%BB%B4%E7%9F%A9%E9%98%B5%E7%9A%84%E5%90%84%E7%A7%8D%E8%8A%B1%E6%A0%B7/process-23-167730279867348.png" class title="process-23"><img src="/%E7%AE%97%E6%B3%95/%E6%8A%80%E5%B7%A7%E7%AF%87/2022/10/23/%E7%AE%97%E6%B3%95-%E9%81%8D%E5%8E%86%E4%BA%8C%E7%BB%B4%E7%9F%A9%E9%98%B5%E7%9A%84%E5%90%84%E7%A7%8D%E8%8A%B1%E6%A0%B7/process-24-167730279867342.png" class title="process-24"><img src="/%E7%AE%97%E6%B3%95/%E6%8A%80%E5%B7%A7%E7%AF%87/2022/10/23/%E7%AE%97%E6%B3%95-%E9%81%8D%E5%8E%86%E4%BA%8C%E7%BB%B4%E7%9F%A9%E9%98%B5%E7%9A%84%E5%90%84%E7%A7%8D%E8%8A%B1%E6%A0%B7/process-25-167730279867345.png" class title="process-25"><img src="/%E7%AE%97%E6%B3%95/%E6%8A%80%E5%B7%A7%E7%AF%87/2022/10/23/%E7%AE%97%E6%B3%95-%E9%81%8D%E5%8E%86%E4%BA%8C%E7%BB%B4%E7%9F%A9%E9%98%B5%E7%9A%84%E5%90%84%E7%A7%8D%E8%8A%B1%E6%A0%B7/process-26-167730279867346.png" class title="process-26"><img src="/%E7%AE%97%E6%B3%95/%E6%8A%80%E5%B7%A7%E7%AF%87/2022/10/23/%E7%AE%97%E6%B3%95-%E9%81%8D%E5%8E%86%E4%BA%8C%E7%BB%B4%E7%9F%A9%E9%98%B5%E7%9A%84%E5%90%84%E7%A7%8D%E8%8A%B1%E6%A0%B7/process-27-167730279867347.png" class title="process-27"><h5 id="ç¤ºä¾‹ä»£ç -2"><a href="#ç¤ºä¾‹ä»£ç -2" class="headerlink" title="ç¤ºä¾‹ä»£ç "></a>ç¤ºä¾‹ä»£ç </h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// iè®°å½•äº†æ¬¡æ•°å’Œæ¯ä¸€æ¬¡è¾“å‡ºå¼€å§‹çš„ç‚¹çš„row</span></span><br><span class="line"><span class="comment">// 0 2 4</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; matrix.length; i+=<span class="number">2</span>) &#123;</span><br><span class="line">    <span class="comment">// ç¬¬ä¸€ä¸ªè¾“å‡ºçš„æ•°å­—çš„columnåæ ‡å¼€å¤´éƒ½æ˜¯0</span></span><br><span class="line">    <span class="comment">// [0,0][2,0][4,0]</span></span><br><span class="line">    <span class="keyword">int</span> j = <span class="number">0</span>;</span><br><span class="line">    <span class="comment">// ç¬¬ä¸€ä¸ªå†…å¾ªç¯æ˜¯å·¦ä¸‹è§’å¾€å³ä¸Šè§’æ–¹å‘çš„</span></span><br><span class="line">    <span class="comment">// kï¼ˆrowï¼‰ä»iè‡ªå‡</span></span><br><span class="line">    <span class="comment">// jï¼ˆcolumnï¼‰è‡ªå¢åˆ°rowåˆ°0</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> k = i; k &gt;= <span class="number">0</span>; k--) &#123;</span><br><span class="line">        System.out.print(matrix[k][j++]+<span class="string">&quot; &quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// è®°å½•ç»“æŸä½ç½®</span></span><br><span class="line"><span class="keyword">int</span> end=j;</span><br><span class="line">    <span class="comment">// å¦‚æœnæ˜¯å¥‡æ•°ï¼Œåœ¨æœ€åä¸€æ¬¡å¤§å¾ªç¯ä¸­å°±ä¸ä¼šæœ‰è¿™ä¸ªå°å¾ªç¯äº†</span></span><br><span class="line">    <span class="keyword">if</span>(j &gt;= matrix.length)&#123;</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// ç¬¬äºŒä¸ªå†…å¾ªç¯æ˜¯å³ä¸Šè§’å¾€å·¦ä¸‹è§’æ–¹å‘çš„</span></span><br><span class="line">    <span class="comment">// kï¼ˆrowï¼‰ä»0å¼€å§‹è‡ªå¢åˆ°end</span></span><br><span class="line">    <span class="comment">// jï¼ˆcolumnï¼‰è‡ªå‡åˆ°kåˆ°end</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> k = <span class="number">0</span>; k &lt;= end; k++) &#123;</span><br><span class="line">        System.out.print(matrix[k][j--]+<span class="string">&quot; &quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="è¿ç»­æ³•"><a href="#è¿ç»­æ³•" class="headerlink" title="è¿ç»­æ³•"></a>è¿ç»­æ³•</h4><p>æŠŠè¿™äº›è·¯å¾„å½“ä½œæ˜¯è¿ç»­çš„</p><p>ç»´æŠ¤ä¸€ä¸ª<code>[rowIndex,columnIndex]</code>æ¥èµ°è¿™ä¸€æ¡è¿ç»­çš„è·¯å¾„</p><h5 id="ç¤ºä¾‹ä»£ç -3"><a href="#ç¤ºä¾‹ä»£ç -3" class="headerlink" title="ç¤ºä¾‹ä»£ç "></a>ç¤ºä¾‹ä»£ç </h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> row = matrix.length;</span><br><span class="line"><span class="keyword">int</span> column = matrix[<span class="number">0</span>].length;</span><br><span class="line"><span class="keyword">int</span> whole = row * column;</span><br><span class="line"><span class="keyword">int</span> counter = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">int</span> rowIndex = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">int</span> columnIndex = <span class="number">0</span>;</span><br><span class="line"><span class="comment">// åªè¦è®¡æ•°å™¨æ¯”ä¸€åŠå°‘ï¼Œå°±è¯´æ˜è¿˜æ²¡èµ°å®Œ</span></span><br><span class="line"><span class="keyword">while</span> (counter &lt; whole / <span class="number">2</span>) &#123;</span><br><span class="line">    <span class="keyword">while</span> (rowIndex &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">        System.out.println(matrix[rowIndex--][columnIndex++]);</span><br><span class="line">        counter++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// å¤ä½</span></span><br><span class="line">    rowIndex = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (columnIndex &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">        System.out.println(matrix[rowIndex++][columnIndex--]);</span><br><span class="line">        counter++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// å¤ä½</span></span><br><span class="line">    columnIndex = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
          <category> æŠ€å·§ç¯‡ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç®—æ³• </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ã€48-Mediumã€‘æ—‹è½¬å›¾åƒ</title>
      <link href="/%E7%AE%97%E6%B3%95/%E5%88%B7%E9%A2%98%E7%AF%87/2022/10/22/%E3%80%9048-Medium%E3%80%91%E6%97%8B%E8%BD%AC%E5%9B%BE%E5%83%8F/"/>
      <url>/%E7%AE%97%E6%B3%95/%E5%88%B7%E9%A2%98%E7%AF%87/2022/10/22/%E3%80%9048-Medium%E3%80%91%E6%97%8B%E8%BD%AC%E5%9B%BE%E5%83%8F/</url>
      
        <content type="html"><![CDATA[<h2 id="æ—‹è½¬å›¾åƒ"><a href="#æ—‹è½¬å›¾åƒ" class="headerlink" title="æ—‹è½¬å›¾åƒ"></a>æ—‹è½¬å›¾åƒ</h2><p>ç»™å®šä¸€ä¸ª <em>n</em> Ã— <em>n</em> çš„äºŒç»´çŸ©é˜µ <code>matrix</code> è¡¨ç¤ºä¸€ä¸ªå›¾åƒã€‚è¯·ä½ å°†å›¾åƒé¡ºæ—¶é’ˆæ—‹è½¬ 90 åº¦ã€‚</p><p>ä½ å¿…é¡»åœ¨**<a href="https://baike.baidu.com/item/%E5%8E%9F%E5%9C%B0%E7%AE%97%E6%B3%95"> åŸåœ°</a>** æ—‹è½¬å›¾åƒï¼Œè¿™æ„å‘³ç€ä½ éœ€è¦ç›´æ¥ä¿®æ”¹è¾“å…¥çš„äºŒç»´çŸ©é˜µã€‚<strong>è¯·ä¸è¦</strong> ä½¿ç”¨å¦ä¸€ä¸ªçŸ©é˜µæ¥æ—‹è½¬å›¾åƒã€‚</p><p><strong>ç¤ºä¾‹ 1ï¼š</strong></p><img src="/%E7%AE%97%E6%B3%95/%E5%88%B7%E9%A2%98%E7%AF%87/2022/10/22/%E3%80%9048-Medium%E3%80%91%E6%97%8B%E8%BD%AC%E5%9B%BE%E5%83%8F/mat1.jpg" class title="img"><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šmatrix = <span class="string">[[1,2,3],[4,5,6],[7,8,9]]</span></span><br><span class="line">è¾“å‡ºï¼š<span class="string">[[7,4,1],[8,5,2],[9,6,3]]</span></span><br></pre></td></tr></table></figure><p><strong>ç¤ºä¾‹ 2ï¼š</strong></p><img src="/%E7%AE%97%E6%B3%95/%E5%88%B7%E9%A2%98%E7%AF%87/2022/10/22/%E3%80%9048-Medium%E3%80%91%E6%97%8B%E8%BD%AC%E5%9B%BE%E5%83%8F/mat2.jpg" class title="img"><figure class="highlight inform7"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šmatrix = <span class="comment">[<span class="comment">[5,1,9,11]</span>,<span class="comment">[2,4,8,10]</span>,<span class="comment">[13,3,6,7]</span>,<span class="comment">[15,14,12,16]</span>]</span></span><br><span class="line">è¾“å‡ºï¼š<span class="comment">[<span class="comment">[15,13,2,5]</span>,<span class="comment">[14,3,4,1]</span>,<span class="comment">[12,6,8,9]</span>,<span class="comment">[16,7,10,11]</span>]</span></span><br></pre></td></tr></table></figure><p><strong>æç¤ºï¼š</strong></p><ul><li><code>n == matrix.length == matrix[i].length</code></li><li><code>1 &lt;= n &lt;= 20</code></li><li><code>-1000 &lt;= matrix[i][j] &lt;= 1000</code></li></ul><p>Related Topics</p><ul><li>æ•°ç»„</li><li>æ•°å­¦</li><li>çŸ©é˜µ</li></ul><h3 id="è§£æ³•"><a href="#è§£æ³•" class="headerlink" title="è§£æ³•"></a>è§£æ³•</h3><p>è¿™ç§è¦æ±‚åŸåœ°ä¿®æ”¹æ•°ç»„çš„é¢˜ç›®ä¸€èˆ¬éƒ½éœ€è¦è§‚å¯Ÿ</p><p>ç›®æ ‡æ˜¯å°†æ‰€æœ‰æ•°å­—é¡ºæ—¶é’ˆæ—‹è½¬90Â°</p><p>å¯ä»¥å…ˆå°†çŸ©é˜µé•œé¢ç¿»è½¬ï¼Œæ¥ç€å¯¹æ¯ä¸€è¡Œè¿›è¡Œé€†è½¬</p><p>æœ€åå°±å¾—åˆ°äº†é¡ºæ—¶é’ˆæ—‹è½¬90Â°çš„çŸ©é˜µ</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">rotate</span><span class="params">(<span class="keyword">int</span>[][] matrix)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// é•œåƒç¿»è½¬</span></span><br><span class="line">        mirror(matrix);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span>[] row : matrix) &#123;</span><br><span class="line">            reverseRow(row);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">mirror</span><span class="params">(<span class="keyword">int</span>[][] matrix)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> width = matrix.length;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; width; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = i; j &lt; width; j++) &#123;</span><br><span class="line">                <span class="comment">// å°†matrix[i][j]å’Œmatrix[j][i]äº¤æ¢</span></span><br><span class="line">                swap(i, j, j, i, matrix);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * é€†è½¬æ•°ç»„arr</span></span><br><span class="line"><span class="comment">     * åˆ©ç”¨åŒæŒ‡é’ˆæŠ€å·§åŸåœ°ä¿®æ”¹åŸæ•°ç»„</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> arr</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">reverseRow</span><span class="params">(<span class="keyword">int</span>[] arr)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// [left,right]</span></span><br><span class="line">        <span class="keyword">int</span> left = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> right = arr.length - <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span> (left &lt;= right) &#123;</span><br><span class="line">            <span class="keyword">int</span> temp = arr[left];</span><br><span class="line">            arr[left] = arr[right];</span><br><span class="line">            arr[right] = temp;</span><br><span class="line">            left++;</span><br><span class="line">            right--;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * äº¤æ¢matrix[x1][y1]å’Œmatrix[x2][y2]</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> x1</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> y1</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> x2</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> y2</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> matrix</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">swap</span><span class="params">(<span class="keyword">int</span> x1, <span class="keyword">int</span> y1, <span class="keyword">int</span> x2, <span class="keyword">int</span> y2, <span class="keyword">int</span>[][] matrix)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> temp = matrix[x1][y1];</span><br><span class="line">        matrix[x1][y1] = matrix[x2][y2];</span><br><span class="line">        matrix[x2][y2] = temp;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
          <category> åˆ·é¢˜ç¯‡ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç®—æ³• </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç®—æ³•-å­é›†ã€æ’åˆ—ã€ç»„åˆé—®é¢˜</title>
      <link href="/%E7%AE%97%E6%B3%95/%E6%8A%80%E5%B7%A7%E7%AF%87/2022/10/20/%E7%AE%97%E6%B3%95-%E5%AD%90%E9%9B%86%E3%80%81%E6%8E%92%E5%88%97%E3%80%81%E7%BB%84%E5%90%88%E9%97%AE%E9%A2%98/"/>
      <url>/%E7%AE%97%E6%B3%95/%E6%8A%80%E5%B7%A7%E7%AF%87/2022/10/20/%E7%AE%97%E6%B3%95-%E5%AD%90%E9%9B%86%E3%80%81%E6%8E%92%E5%88%97%E3%80%81%E7%BB%84%E5%90%88%E9%97%AE%E9%A2%98/</url>
      
        <content type="html"><![CDATA[<h2 id="ç®—æ³•-å­é›†ã€æ’åˆ—ã€ç»„åˆé—®é¢˜"><a href="#ç®—æ³•-å­é›†ã€æ’åˆ—ã€ç»„åˆé—®é¢˜" class="headerlink" title="ç®—æ³•-å­é›†ã€æ’åˆ—ã€ç»„åˆé—®é¢˜"></a>ç®—æ³•-å­é›†ã€æ’åˆ—ã€ç»„åˆé—®é¢˜</h2><h3 id="å­é›†"><a href="#å­é›†" class="headerlink" title="å­é›†"></a>å­é›†</h3><p>è¾“å…¥ä¸€ä¸ªä¸åŒ…å«é‡å¤å…ƒç´ çš„æ•°ç»„ï¼Œæ±‚å®ƒçš„å­é›†ï¼Œå‡½æ•°ç­¾åå¦‚ä¸‹</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> List&lt;List&lt;Integer&gt;&gt; subsets(<span class="keyword">int</span>[] nums);</span><br></pre></td></tr></table></figure><p> æ¯”å¦‚è¾“å…¥äº†<code>[1,2,3]</code></p><p>è¿”å›ä»¥ä¸‹æ•°æ®</p> <figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">    [],</span><br><span class="line">    [<span class="number">1</span>],</span><br><span class="line">    [<span class="number">2</span>],</span><br><span class="line">    [<span class="number">3</span>],</span><br><span class="line">    [<span class="number">1</span>,<span class="number">2</span>],</span><br><span class="line">    [<span class="number">1</span>,<span class="number">3</span>],</span><br><span class="line">    [<span class="number">2</span>,<span class="number">3</span>],</span><br><span class="line">    [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]</span><br><span class="line">]</span><br></pre></td></tr></table></figure><h4 id="é€’å½’"><a href="#é€’å½’" class="headerlink" title="é€’å½’"></a>é€’å½’</h4><p>ç¬¬ä¸€ä¸ªè§£æ³•å°±æ˜¯æˆ‘ä»¬å¯ä»¥é€šè¿‡å°è§„æ¨¡é—®é¢˜æ¨å¯¼å‡ºå¤§è§„æ¨¡é—®é¢˜çš„ï¼Œå³åˆ†æ²»çš„æ–¹å¼æ¥è§£å†³</p><blockquote><p>ç©ºæ•°ç»„çš„å­é›†</p></blockquote><p><code>subsets([])=[[]]</code></p><blockquote><p>1çš„å­é›†</p></blockquote><p><code>subsets([1])=[[],[1]]</code></p><blockquote><p>2çš„å­é›†</p></blockquote><p><code>subsets([1,2])=[[],[1],[2],[1,2]]</code></p><blockquote><p> 3çš„å­é›†</p></blockquote><p> <code>subsets([1,2,3])=[[],[1],[2],[3],[1,2],[1,3],[2,3],[1,2,3]</code></p><p> é€šè¿‡æ•°å­¦å½’çº³æ³•ï¼Œæˆ‘ä»¬å¯ä»¥å‘ç°ï¼Œå¤§è§„æ¨¡çš„æ±‚å­é›†é—®é¢˜å¯ä»¥é€šè¿‡å°è§„æ¨¡çš„æ±‚å­é›†é—®é¢˜ä¸­æ¨å¯¼å¾—çŸ¥</p><p> 2çš„å­é›†å¯ä»¥ç”±1çš„å­é›†å†åŠ ä¸Š1çš„å­é›†ä¸­æ¯ä¸€ä¸ªå…ƒç´ åŠ ä¸Š2æ±‚å¾—</p><p> 3çš„å­é›†å¯ä»¥ç”±2çš„å­é›†å†åŠ ä¸Š2çš„å­é›†ä¸­æ¯ä¸€ä¸ªå…ƒç´ åŠ ä¸Š3æ±‚å¾—</p><p> è¿™ä¸å°±æ˜¯å…¸å‹çš„é€’å½’å’Œåˆ†æ²»çš„æ€æƒ³å—</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> List&lt;List&lt;Integer&gt;&gt; subsets(<span class="keyword">int</span>[] nums)&#123;</span><br><span class="line">    <span class="keyword">return</span> subsets(nums,<span class="number">0</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">     * è¿”å›åˆ°[index,nums.length)çš„æ‰€æœ‰æ•°å­—çš„å­é›†</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> nums</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> index</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line"><span class="keyword">public</span> List&lt;List&lt;Integer&gt;&gt; subsets(<span class="keyword">int</span>[] nums,<span class="keyword">int</span> index)&#123;</span><br><span class="line">    <span class="keyword">if</span>(index == nums.length)&#123;</span><br><span class="line">        List&lt;List&lt;Integer&gt;&gt; res = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">        res.add(<span class="keyword">new</span> LinkedList&lt;&gt;());</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">    List&lt;List&lt;Integer&gt;&gt; subPro = subsets(nums, index + <span class="number">1</span>);</span><br><span class="line">    <span class="keyword">int</span> size = subPro.size();</span><br><span class="line">    <span class="comment">// å°†å½“å‰å…ƒç´ åŠ å…¥åˆ°ä¹‹å‰æ±‚å¾—çš„æ¯ä¸€ä¸ªå­é›†ä¸­ï¼Œå¹¶åŠ å…¥è¿™ä¸ªå­é›†ï¼Œæ±‚å¾—[index,nums.length)çš„å­é›†</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; size; i++) &#123;</span><br><span class="line">        <span class="comment">// è¿™é‡Œè¦å¤åˆ¶ä¸€ä»½ï¼Œä¸ç„¶æœ€åçš„ç»“æœä¼šæœ‰é—®é¢˜</span></span><br><span class="line">        LinkedList&lt;Integer&gt; append = <span class="keyword">new</span> LinkedList&lt;&gt;(subPro.get(i));</span><br><span class="line">        append.add(nums[index]);</span><br><span class="line">        subPro.add(append);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> subPro;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="å›æº¯"><a href="#å›æº¯" class="headerlink" title="å›æº¯"></a>å›æº¯</h4><p>è¿˜å¯ä»¥ä½¿ç”¨å›æº¯çš„æ€æƒ³æ¥è§£å†³è¿™é“é¢˜ï¼Œç›´æ¥å¥—ç”¨å›æº¯çš„æ¨¡æ¿</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> List&lt;List&lt;Integer&gt;&gt; subsets(<span class="keyword">int</span>[] nums) &#123;</span><br><span class="line">    LinkedList&lt;List&lt;Integer&gt;&gt; res = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">    LinkedList&lt;Integer&gt; track = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">    backTrack(nums, <span class="number">0</span>, track, res);</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// è·¯å¾„ï¼štrack</span></span><br><span class="line"><span class="comment">// é€‰æ‹©åˆ—è¡¨ï¼š[start,nums.length)</span></span><br><span class="line"><span class="comment">// ç»“æŸæ¡ä»¶ï¼šæ²¡æœ‰ï¼Œå°±æ˜¯è¦ç©·ä¸¾æ¯ä¸€ç§å¯èƒ½ï¼Œå°†æ¯ä¸€æ¬¡é€‰æ‹©éƒ½è®°å½•ä¸‹æ¥</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">backTrack</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> index, LinkedList&lt;Integer&gt; track, LinkedList&lt;List&lt;Integer&gt;&gt; res)</span> </span>&#123;</span><br><span class="line">    res.add(<span class="keyword">new</span> LinkedList&lt;&gt;(track));</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = index; i &lt; nums.length; i++) &#123;</span><br><span class="line">        track.addLast(nums[i]);</span><br><span class="line">        backTrack(nums, index + <span class="number">1</span>, track, res);</span><br><span class="line">        track.removeLast();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>nums=[1,2,3]</code>çš„å†³ç­–æ ‘å¦‚ä¸‹</p><p>ç»¿è‰²çš„æ•°ç»„ä»£è¡¨çš„æ˜¯é€‰æ‹©åˆ—è¡¨</p><img src="/%E7%AE%97%E6%B3%95/%E6%8A%80%E5%B7%A7%E7%AF%87/2022/10/20/%E7%AE%97%E6%B3%95-%E5%AD%90%E9%9B%86%E3%80%81%E6%8E%92%E5%88%97%E3%80%81%E7%BB%84%E5%90%88%E9%97%AE%E9%A2%98/image-20221020121829600.png" class title="å†³ç­–æ ‘"><h3 id="ç»„åˆ"><a href="#ç»„åˆ" class="headerlink" title="ç»„åˆ"></a>ç»„åˆ</h3><p>è¾“å…¥ä¸¤ä¸ªæ•°å­— <code>n, k</code>ï¼Œç®—æ³•è¾“å‡º <code>[1..n]</code> ä¸­ k ä¸ªæ•°å­—çš„æ‰€æœ‰ç»„åˆï¼Œæ–¹æ³•ç­¾åå¦‚ä¸‹</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">List&lt;List&lt;Integer&gt;&gt; combine(<span class="keyword">int</span> n, <span class="keyword">int</span> k);</span><br></pre></td></tr></table></figure><p>è¿™æ˜¯ä¸€ä¸ªå¾ˆå…¸å‹çš„å›æº¯çš„é—®é¢˜</p><p>né™åˆ¶äº†æ ‘çš„å®½åº¦ï¼Œké™åˆ¶äº†æ ‘çš„é«˜åº¦</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> List&lt;List&lt;Integer&gt;&gt; combine(<span class="keyword">int</span> n, <span class="keyword">int</span> k) &#123;</span><br><span class="line">    List&lt;List&lt;Integer&gt;&gt; res = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">    List&lt;Integer&gt; track = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">    combine(n, k, <span class="number">1</span>, track, res);</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è·¯å¾„ï¼štrack</span></span><br><span class="line"><span class="comment">// é€‰æ‹©åˆ—è¡¨ï¼š[start,n]</span></span><br><span class="line"><span class="comment">// ç»“æŸæ¡ä»¶ï¼šk==track.size()</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">combine</span><span class="params">(<span class="keyword">int</span> n, <span class="keyword">int</span> k, <span class="keyword">int</span> start, List&lt;Integer&gt; track, List&lt;List&lt;Integer&gt;&gt; res)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (k == track.size()) &#123;</span><br><span class="line">        res.add(<span class="keyword">new</span> LinkedList&lt;&gt;(track));</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = start; i &lt;= n; i++) &#123;</span><br><span class="line">        track.add(i);</span><br><span class="line">        combine(n, k, i + <span class="number">1</span>, track, res);</span><br><span class="line">        track.remove(track.size() - <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>n = [1,2,3]</code>çš„æ—¶å€™çš„å†³ç­–æ ‘æ˜¯è¿™æ ·çš„</p><p>ç»¿è‰²çš„æ•°ç»„ä»£è¡¨çš„æ˜¯é€‰æ‹©åˆ—è¡¨</p><img src="/%E7%AE%97%E6%B3%95/%E6%8A%80%E5%B7%A7%E7%AF%87/2022/10/20/%E7%AE%97%E6%B3%95-%E5%AD%90%E9%9B%86%E3%80%81%E6%8E%92%E5%88%97%E3%80%81%E7%BB%84%E5%90%88%E9%97%AE%E9%A2%98/image-20221020145909627.png" class title="å†³ç­–æ ‘"><p>å¯ä»¥å‘ç°è¿™å¼ å†³ç­–æ ‘é•¿å¾—å’Œæ±‚å­é›†çš„æ—¶å€™çš„å†³ç­–æ ‘å¾ˆåƒ</p><p>æ˜¯è¿™æ ·çš„ï¼Œæ±‚å­é›†çš„æ—¶å€™æ˜¯å°†æ¯ä¸€ä¸ªèŠ‚ç‚¹çš„é€‰æ‹©éƒ½è®°å½•ä¸‹æ¥äº†</p><p>è€Œæ±‚ç»„åˆé—®é¢˜çš„æ—¶å€™ï¼Œå…¶å®å°±æ˜¯åªè¦å¶å­èŠ‚ç‚¹çš„é€‰æ‹©</p><h3 id="æ’åˆ—"><a href="#æ’åˆ—" class="headerlink" title="æ’åˆ—"></a>æ’åˆ—</h3><p>è¾“å…¥ä¸€ä¸ªæ•°ç»„<code>nums</code>ï¼Œè¿”å›è¿™ä¸ªæ•°ç»„çš„æ‰€æœ‰æ’åˆ—æ–¹å¼ï¼Œå‡½æ•°ç­¾åå¦‚ä¸‹</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> List&lt;List&lt;Integer&gt;&gt; permute(<span class="keyword">int</span>[] nums);</span><br></pre></td></tr></table></figure><p><code>nums=[1,2,3]</code>çš„å†³ç­–æ ‘å¦‚ä¸‹</p><img src="/%E7%AE%97%E6%B3%95/%E6%8A%80%E5%B7%A7%E7%AF%87/2022/10/20/%E7%AE%97%E6%B3%95-%E5%AD%90%E9%9B%86%E3%80%81%E6%8E%92%E5%88%97%E3%80%81%E7%BB%84%E5%90%88%E9%97%AE%E9%A2%98/image-20221020153446450.png" class title="å†³ç­–æ ‘"><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> List&lt;List&lt;Integer&gt;&gt; permute(<span class="keyword">int</span>[] nums) &#123;</span><br><span class="line">        List&lt;List&lt;Integer&gt;&gt; res = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">        LinkedList&lt;Integer&gt; track = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">        permute(nums, track, res);</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è·¯å¾„ï¼štrackä¸­çš„æ•°å­—</span></span><br><span class="line">    <span class="comment">// é€‰æ‹©åˆ—è¡¨ï¼šé€šè¿‡trackå’Œnumsæ¨å¾—</span></span><br><span class="line">    <span class="comment">// ç»“æŸæ¡ä»¶ï¼štrackçš„é•¿åº¦ç­‰äºnumsçš„é•¿åº¦</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">permute</span><span class="params">(<span class="keyword">int</span>[] nums, LinkedList&lt;Integer&gt; track, List&lt;List&lt;Integer&gt;&gt; res)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (track.size() == nums.length) &#123;</span><br><span class="line">            res.add(<span class="keyword">new</span> LinkedList&lt;&gt;(track));</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; nums.length; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (track.contains(nums[i])) &#123;</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            track.add(nums[i]);</span><br><span class="line">            permute(nums, track, res);</span><br><span class="line">            track.removeLast();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ’åˆ—é—®é¢˜ä¸­é€šè¿‡ <code>contains</code> æ–¹æ³•æ¥æ’é™¤åœ¨ <code>track</code> ä¸­å·²ç»é€‰æ‹©è¿‡çš„æ•°å­—ï¼Œä»è€Œå¾—åˆ°é€‰æ‹©åˆ—è¡¨ï¼Œå› ä¸ºç»´æŠ¤ä¸€ä¸ªé€‰æ‹©åˆ—è¡¨æ¯”è¾ƒéº»çƒ¦ï¼Œæ‰€ä»¥ç”¨äº†è¿™ç§æ¨å¯¼çš„æ–¹å¼</p><p>ç»„åˆé—®é¢˜é€šè¿‡ç»´æŠ¤ä¸€ä¸ª <code>start</code> å‚æ•°ï¼Œæ¥æ’é™¤ <code>start</code> ç´¢å¼•ä¹‹å‰çš„æ•°å­—ï¼Œä»è€Œå¾—åˆ°é€‰æ‹©åˆ—è¡¨ï¼Œå› ä¸ºç»„åˆä¸­<code>[1,2]</code>å’Œ<code>[2,1]</code>æ˜¯ç®—é‡å¤çš„</p>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
          <category> æŠ€å·§ç¯‡ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç®—æ³• </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ã€37-Hardã€‘è§£æ•°ç‹¬</title>
      <link href="/%E7%AE%97%E6%B3%95/%E5%88%B7%E9%A2%98%E7%AF%87/2022/10/20/%E3%80%9037-Hard%E3%80%91%E8%A7%A3%E6%95%B0%E7%8B%AC/"/>
      <url>/%E7%AE%97%E6%B3%95/%E5%88%B7%E9%A2%98%E7%AF%87/2022/10/20/%E3%80%9037-Hard%E3%80%91%E8%A7%A3%E6%95%B0%E7%8B%AC/</url>
      
        <content type="html"><![CDATA[<h2 id="è§£æ•°ç‹¬"><a href="#è§£æ•°ç‹¬" class="headerlink" title="è§£æ•°ç‹¬"></a>è§£æ•°ç‹¬</h2><p>ç¼–å†™ä¸€ä¸ªç¨‹åºï¼Œé€šè¿‡å¡«å……ç©ºæ ¼æ¥è§£å†³æ•°ç‹¬é—®é¢˜ã€‚</p><p>æ•°ç‹¬çš„è§£æ³•éœ€ <strong>éµå¾ªå¦‚ä¸‹è§„åˆ™</strong>ï¼š</p><ol><li>æ•°å­— <code>1-9</code> åœ¨æ¯ä¸€è¡Œåªèƒ½å‡ºç°ä¸€æ¬¡ã€‚</li><li>æ•°å­— <code>1-9</code> åœ¨æ¯ä¸€åˆ—åªèƒ½å‡ºç°ä¸€æ¬¡ã€‚</li><li>æ•°å­— <code>1-9</code> åœ¨æ¯ä¸€ä¸ªä»¥ç²—å®çº¿åˆ†éš”çš„ <code>3x3</code> å®«å†…åªèƒ½å‡ºç°ä¸€æ¬¡ã€‚ï¼ˆè¯·å‚è€ƒç¤ºä¾‹å›¾ï¼‰</li></ol><p>æ•°ç‹¬éƒ¨åˆ†ç©ºæ ¼å†…å·²å¡«å…¥äº†æ•°å­—ï¼Œç©ºç™½æ ¼ç”¨ <code>&#39;.&#39;</code> è¡¨ç¤ºã€‚</p><p><strong>ç¤ºä¾‹ 1ï¼š</strong></p><img src="/%E7%AE%97%E6%B3%95/%E5%88%B7%E9%A2%98%E7%AF%87/2022/10/20/%E3%80%9037-Hard%E3%80%91%E8%A7%A3%E6%95%B0%E7%8B%AC/250px-sudoku-by-l2g-20050714svg.png" class title="img"><figure class="highlight prolog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šboard = [[<span class="string">&quot;5&quot;</span>,<span class="string">&quot;3&quot;</span>,<span class="string">&quot;.&quot;</span>,<span class="string">&quot;.&quot;</span>,<span class="string">&quot;7&quot;</span>,<span class="string">&quot;.&quot;</span>,<span class="string">&quot;.&quot;</span>,<span class="string">&quot;.&quot;</span>,<span class="string">&quot;.&quot;</span>],[<span class="string">&quot;6&quot;</span>,<span class="string">&quot;.&quot;</span>,<span class="string">&quot;.&quot;</span>,<span class="string">&quot;1&quot;</span>,<span class="string">&quot;9&quot;</span>,<span class="string">&quot;5&quot;</span>,<span class="string">&quot;.&quot;</span>,<span class="string">&quot;.&quot;</span>,<span class="string">&quot;.&quot;</span>],[<span class="string">&quot;.&quot;</span>,<span class="string">&quot;9&quot;</span>,<span class="string">&quot;8&quot;</span>,<span class="string">&quot;.&quot;</span>,<span class="string">&quot;.&quot;</span>,<span class="string">&quot;.&quot;</span>,<span class="string">&quot;.&quot;</span>,<span class="string">&quot;6&quot;</span>,<span class="string">&quot;.&quot;</span>],[<span class="string">&quot;8&quot;</span>,<span class="string">&quot;.&quot;</span>,<span class="string">&quot;.&quot;</span>,<span class="string">&quot;.&quot;</span>,<span class="string">&quot;6&quot;</span>,<span class="string">&quot;.&quot;</span>,<span class="string">&quot;.&quot;</span>,<span class="string">&quot;.&quot;</span>,<span class="string">&quot;3&quot;</span>],[<span class="string">&quot;4&quot;</span>,<span class="string">&quot;.&quot;</span>,<span class="string">&quot;.&quot;</span>,<span class="string">&quot;8&quot;</span>,<span class="string">&quot;.&quot;</span>,<span class="string">&quot;3&quot;</span>,<span class="string">&quot;.&quot;</span>,<span class="string">&quot;.&quot;</span>,<span class="string">&quot;1&quot;</span>],[<span class="string">&quot;7&quot;</span>,<span class="string">&quot;.&quot;</span>,<span class="string">&quot;.&quot;</span>,<span class="string">&quot;.&quot;</span>,<span class="string">&quot;2&quot;</span>,<span class="string">&quot;.&quot;</span>,<span class="string">&quot;.&quot;</span>,<span class="string">&quot;.&quot;</span>,<span class="string">&quot;6&quot;</span>],[<span class="string">&quot;.&quot;</span>,<span class="string">&quot;6&quot;</span>,<span class="string">&quot;.&quot;</span>,<span class="string">&quot;.&quot;</span>,<span class="string">&quot;.&quot;</span>,<span class="string">&quot;.&quot;</span>,<span class="string">&quot;2&quot;</span>,<span class="string">&quot;8&quot;</span>,<span class="string">&quot;.&quot;</span>],[<span class="string">&quot;.&quot;</span>,<span class="string">&quot;.&quot;</span>,<span class="string">&quot;.&quot;</span>,<span class="string">&quot;4&quot;</span>,<span class="string">&quot;1&quot;</span>,<span class="string">&quot;9&quot;</span>,<span class="string">&quot;.&quot;</span>,<span class="string">&quot;.&quot;</span>,<span class="string">&quot;5&quot;</span>],[<span class="string">&quot;.&quot;</span>,<span class="string">&quot;.&quot;</span>,<span class="string">&quot;.&quot;</span>,<span class="string">&quot;.&quot;</span>,<span class="string">&quot;8&quot;</span>,<span class="string">&quot;.&quot;</span>,<span class="string">&quot;.&quot;</span>,<span class="string">&quot;7&quot;</span>,<span class="string">&quot;9&quot;</span>]]</span><br><span class="line">è¾“å‡ºï¼š[[<span class="string">&quot;5&quot;</span>,<span class="string">&quot;3&quot;</span>,<span class="string">&quot;4&quot;</span>,<span class="string">&quot;6&quot;</span>,<span class="string">&quot;7&quot;</span>,<span class="string">&quot;8&quot;</span>,<span class="string">&quot;9&quot;</span>,<span class="string">&quot;1&quot;</span>,<span class="string">&quot;2&quot;</span>],[<span class="string">&quot;6&quot;</span>,<span class="string">&quot;7&quot;</span>,<span class="string">&quot;2&quot;</span>,<span class="string">&quot;1&quot;</span>,<span class="string">&quot;9&quot;</span>,<span class="string">&quot;5&quot;</span>,<span class="string">&quot;3&quot;</span>,<span class="string">&quot;4&quot;</span>,<span class="string">&quot;8&quot;</span>],[<span class="string">&quot;1&quot;</span>,<span class="string">&quot;9&quot;</span>,<span class="string">&quot;8&quot;</span>,<span class="string">&quot;3&quot;</span>,<span class="string">&quot;4&quot;</span>,<span class="string">&quot;2&quot;</span>,<span class="string">&quot;5&quot;</span>,<span class="string">&quot;6&quot;</span>,<span class="string">&quot;7&quot;</span>],[<span class="string">&quot;8&quot;</span>,<span class="string">&quot;5&quot;</span>,<span class="string">&quot;9&quot;</span>,<span class="string">&quot;7&quot;</span>,<span class="string">&quot;6&quot;</span>,<span class="string">&quot;1&quot;</span>,<span class="string">&quot;4&quot;</span>,<span class="string">&quot;2&quot;</span>,<span class="string">&quot;3&quot;</span>],[<span class="string">&quot;4&quot;</span>,<span class="string">&quot;2&quot;</span>,<span class="string">&quot;6&quot;</span>,<span class="string">&quot;8&quot;</span>,<span class="string">&quot;5&quot;</span>,<span class="string">&quot;3&quot;</span>,<span class="string">&quot;7&quot;</span>,<span class="string">&quot;9&quot;</span>,<span class="string">&quot;1&quot;</span>],[<span class="string">&quot;7&quot;</span>,<span class="string">&quot;1&quot;</span>,<span class="string">&quot;3&quot;</span>,<span class="string">&quot;9&quot;</span>,<span class="string">&quot;2&quot;</span>,<span class="string">&quot;4&quot;</span>,<span class="string">&quot;8&quot;</span>,<span class="string">&quot;5&quot;</span>,<span class="string">&quot;6&quot;</span>],[<span class="string">&quot;9&quot;</span>,<span class="string">&quot;6&quot;</span>,<span class="string">&quot;1&quot;</span>,<span class="string">&quot;5&quot;</span>,<span class="string">&quot;3&quot;</span>,<span class="string">&quot;7&quot;</span>,<span class="string">&quot;2&quot;</span>,<span class="string">&quot;8&quot;</span>,<span class="string">&quot;4&quot;</span>],[<span class="string">&quot;2&quot;</span>,<span class="string">&quot;8&quot;</span>,<span class="string">&quot;7&quot;</span>,<span class="string">&quot;4&quot;</span>,<span class="string">&quot;1&quot;</span>,<span class="string">&quot;9&quot;</span>,<span class="string">&quot;6&quot;</span>,<span class="string">&quot;3&quot;</span>,<span class="string">&quot;5&quot;</span>],[<span class="string">&quot;3&quot;</span>,<span class="string">&quot;4&quot;</span>,<span class="string">&quot;5&quot;</span>,<span class="string">&quot;2&quot;</span>,<span class="string">&quot;8&quot;</span>,<span class="string">&quot;6&quot;</span>,<span class="string">&quot;1&quot;</span>,<span class="string">&quot;7&quot;</span>,<span class="string">&quot;9&quot;</span>]]</span><br><span class="line">è§£é‡Šï¼šè¾“å…¥çš„æ•°ç‹¬å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œå”¯ä¸€æœ‰æ•ˆçš„è§£å†³æ–¹æ¡ˆå¦‚ä¸‹æ‰€ç¤ºï¼š</span><br></pre></td></tr></table></figure><img src="/%E7%AE%97%E6%B3%95/%E5%88%B7%E9%A2%98%E7%AF%87/2022/10/20/%E3%80%9037-Hard%E3%80%91%E8%A7%A3%E6%95%B0%E7%8B%AC/250px-sudoku-by-l2g-20050714_solutionsvg-16662363114892.png" class title="img"><p><strong>æç¤ºï¼š</strong></p><ul><li><code>board.length == 9</code></li><li><code>board[i].length == 9</code></li><li><code>board[i][j]</code> æ˜¯ä¸€ä½æ•°å­—æˆ–è€… <code>&#39;.&#39;</code></li><li>é¢˜ç›®æ•°æ® <strong>ä¿è¯</strong> è¾“å…¥æ•°ç‹¬ä»…æœ‰ä¸€ä¸ªè§£</li></ul><p>Related Topics</p><ul><li>æ•°ç»„</li><li>å›æº¯</li><li>çŸ©é˜µ</li></ul><h3 id="å›æº¯"><a href="#å›æº¯" class="headerlink" title="å›æº¯"></a>å›æº¯</h3><p>è¿™é‡Œéœ€è¦å…³æ³¨ä¸€ä¸‹é¢˜ç›®ç»™çš„æç¤ºï¼Œæˆ‘ä»¬æ¥ä¸€ä¸€åˆ†æ</p><p>ç¬¬ä¸€æ¡å’Œç¬¬äºŒæ¡å‘Šè¯‰æˆ‘ä»¬ï¼Œä¼ å…¥çš„æ•°ç»„æ˜¯ä¸€ä¸ªå›ºå®š<code>9 * 9</code>çš„çŸ©é˜µ</p><p>ç¬¬ä¸‰æ¡å‘Šè¯‰æˆ‘ä»¬<code>&#39;.&#39;</code>æŒ‡çš„æ˜¯ç©ºä½</p><p>ç¬¬å››æ¡å‘Šè¯‰æˆ‘ä»¬é¢˜ç›®ä¼ å…¥çš„æ•°ç‹¬åªæœ‰ä¸€ä¸ªç­”æ¡ˆï¼Œè¿™å°±ä»£è¡¨ç€æˆ‘æœ€åç©·ä¸¾å‡ºæ¥è§£æ»¡è¶³æ¡ä»¶çš„åªæœ‰ä¸€ä¸ª</p><img src="/%E7%AE%97%E6%B3%95/%E5%88%B7%E9%A2%98%E7%AF%87/2022/10/20/%E3%80%9037-Hard%E3%80%91%E8%A7%A3%E6%95%B0%E7%8B%AC/image-20221023112123141.png" class title="è§„åˆ™"><hr><p>å›æº¯ä¸‰è¦ç´ </p><p>1ã€è·¯å¾„ï¼šå¡«ä¸Šçš„æ•°å­—ï¼Œå°±æ˜¯æ£‹ç›˜ä¸Šçš„æ•°å­—</p><p>2ã€é€‰æ‹©åˆ—è¡¨ï¼š<code>&#39;1&#39;-&#39;9&#39;</code></p><p>3ã€ç»“æŸæ¡ä»¶ï¼šç©·ä¸¾åˆ°æœ€åä¸€ä¸ªæ ¼å­ï¼ˆç”±ç¬¬å››æ¡æç¤ºå¯å¾—ï¼‰</p><p>ä¸‹é¢ç›´æ¥ä¸Šä»£ç </p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">solveSudoku</span><span class="params">(<span class="keyword">char</span>[][] board)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// è¾…åŠ©å‡½æ•°</span></span><br><span class="line">        solveSudoku(board,<span class="number">0</span>,<span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// è·¯å¾„ï¼šå·²ç»è¢«å¡«ä¸Šæ•°å­—çš„æ£‹ç›˜ï¼Œå³rowä¹‹å‰</span></span><br><span class="line"><span class="comment">// å¯¹æ¯ä¸€ä¸ªæ ¼å­çš„é€‰æ‹©åˆ—è¡¨: 1 - 9</span></span><br><span class="line"><span class="comment">// ç»“æŸæ¡ä»¶ï¼šç©·ä¸¾åˆ°æœ€åä¸€è¡Œ</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">solveSudoku</span><span class="params">(<span class="keyword">char</span>[][] board, <span class="keyword">int</span> row, <span class="keyword">int</span> column)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// è¿”å›trueï¼Œç»“æŸé€’å½’</span></span><br><span class="line">        <span class="comment">// åˆ°äº†æœ€åä¸€è¡Œ</span></span><br><span class="line">        <span class="keyword">if</span> (row==board.length)&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// åˆ°äº†è¿™ä¸€è¡Œçš„ç»“å°¾äº†ï¼Œæ¢è¡Œ</span></span><br><span class="line">        <span class="keyword">if</span> (column==board[<span class="number">0</span>].length)&#123;</span><br><span class="line">            <span class="keyword">return</span> solveSudoku(board,row+<span class="number">1</span>,<span class="number">0</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// å¦‚æœå·²ç»æœ‰æ•°å­—äº†ï¼Œç›´æ¥ä¸‹ä¸€åˆ—</span></span><br><span class="line">        <span class="comment">// å› ä¸ºç»™å‡ºçš„æ£‹ç›˜ä¸­æœ‰çš„æ ¼å­ä¸­æ˜¯æœ‰æ•°å­—çš„</span></span><br><span class="line">        <span class="keyword">if</span> (board[row][column]!=<span class="string">&#x27;.&#x27;</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> solveSudoku(board,row,column+<span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// ç©·ä¸¾</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">char</span> ch = <span class="string">&#x27;1&#x27;</span>; ch &lt;= <span class="string">&#x27;9&#x27;</span>; ch++) &#123;</span><br><span class="line">            <span class="comment">// å¦‚æœè¦å¡«å†™çš„æ•°å­—ä¸åˆæ³•ï¼Œç›´æ¥è·³è¿‡æ­¤æ¬¡é€‰æ‹©</span></span><br><span class="line">            <span class="keyword">if</span> (!valid(board,row,column,ch))&#123;</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// åšå‡ºé€‰æ‹©</span></span><br><span class="line">            board[row][column] = ch;</span><br><span class="line">            <span class="comment">// å¦‚æœå·²ç»å¾—åˆ°ç­”æ¡ˆï¼Œç›´æ¥ç»“æŸç©·ä¸¾ï¼Œè¿”å›true</span></span><br><span class="line">            <span class="keyword">if</span>(solveSudoku(board,row,column+<span class="number">1</span>))&#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// æ’¤é”€é€‰æ‹©</span></span><br><span class="line">            board[row][column] = <span class="string">&#x27;.&#x27;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// [row][column]è¿™ä¸ªæ ¼å­å¡«1-9éƒ½ä¸åˆæ³•ï¼Œå›é€€ä¸Šä¸€ä¸ªæ ¼å­ï¼Œæ’¤é”€ä¸Šä¸€æ¬¡çš„é€‰æ‹©</span></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// åˆ¤æ–­è¦å¡«å…¥[row,column]çš„è¿™ä¸ªkeyæ˜¯å¦ç¬¦åˆè§„åˆ™</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">valid</span><span class="params">(<span class="keyword">char</span>[][] board, <span class="keyword">int</span> row, <span class="keyword">int</span> column, <span class="keyword">char</span> key)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; board.length; i++) &#123;</span><br><span class="line">            <span class="comment">// è¿™ä¸€åˆ—ä¸èƒ½æœ‰é‡å¤æ•°å­—</span></span><br><span class="line">            <span class="keyword">if</span> (board[i][column]==key)&#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// è¿™ä¸€è¡Œä¸èƒ½ç”¨é‡å¤æ•°å­—</span></span><br><span class="line">            <span class="keyword">if</span> (board[row][i]==key)&#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// ä¹å®«æ ¼ä¸èƒ½æœ‰é‡å¤æ•°å­—</span></span><br><span class="line">            <span class="comment">// è¿™é‡Œè¦æ–Ÿé…Œä¸€ä¸‹çš„</span></span><br><span class="line">            <span class="keyword">if</span> (board[(row / <span class="number">3</span>) * <span class="number">3</span> + i / <span class="number">3</span>][(column / <span class="number">3</span>) * <span class="number">3</span> + i % <span class="number">3</span>]==key)&#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬æ¥çœ‹ä¸‹è¿™ä¸ª<code>valid</code>å‡½æ•°ä¸­åˆ¤æ–­ä¹å®«æ ¼å†…æ˜¯å¦æœ‰é‡å¤æ•°å­—çš„ä»£ç </p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (board[(row / <span class="number">3</span>) * <span class="number">3</span> + i / <span class="number">3</span>][(column / <span class="number">3</span>) * <span class="number">3</span> + i % <span class="number">3</span>]==key)&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><img src="/%E7%AE%97%E6%B3%95/%E5%88%B7%E9%A2%98%E7%AF%87/2022/10/20/%E3%80%9037-Hard%E3%80%91%E8%A7%A3%E6%95%B0%E7%8B%AC/image-20221023113445365.png" class title="ä¹å®«æ ¼"><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">row/3 å¯ä»¥å°†å…¶æ˜ å°„åˆ°å…¶å¯¹åº”çš„ä¹å®«æ ¼è¡Œ</span><br><span class="line">column/3 å¯ä»¥å°†å…¶æ˜ å°„åˆ°å…¶å¯¹åº”çš„ä¹å®«æ ¼åˆ—</span><br><span class="line">i-&gt;[0,1,2,3,4,5,6,7,8]</span><br><span class="line">i/3-&gt;[0,0,0,1,1,1,2,2,2]</span><br><span class="line">i%3-&gt;[0,1,2,0,1,2,0,1,2]</span><br></pre></td></tr></table></figure><h3 id="è¿›é˜¶"><a href="#è¿›é˜¶" class="headerlink" title="è¿›é˜¶"></a>è¿›é˜¶</h3><p>å¦‚æœæˆ‘å°†æç¤ºçš„ç¬¬å››æ¡ï¼Œå³åªæœ‰ä¸€ä¸ªæ­£ç¡®ç­”æ¡ˆè¿™ä¸ªæ¡ä»¶åˆ é™¤ï¼Œé‚£è¿™é“é¢˜è¯¥æ€ä¹ˆåšï¼Ÿ</p><p>å…¶å®ä¹Ÿä¸éš¾ï¼Œåªè¦æ”¹å˜ç»“æŸæ¡ä»¶å³å¯ï¼Œä¸Šè¿°ä»£ç æ˜¯ç›´æ¥å°†å¯ä»¥ç©·ä¸¾åˆ°æœ€åçš„ç­”æ¡ˆè¿”å›</p><p>å› ä¸ºé¢˜ç›®è¯´äº†åªæœ‰å”¯ä¸€è§£ï¼Œæ‰€ä»¥æˆ‘ä¸éœ€è¦å†å¯¹å…¶è¿›è¡Œåˆ¤æ–­</p><p>æ—¢ç„¶åˆ é™¤äº†åªæœ‰å”¯ä¸€è§£è¿™ä¸ªæ¡ä»¶ï¼Œé‚£æˆ‘å°±è¦å¯¹ç©·ä¸¾åˆ°æœ€åçš„ç­”æ¡ˆè¿›è¡ŒéªŒè¯</p><p>æ€ä¹ˆéªŒè¯å‘¢ï¼Œé‚£å°±æ˜¯éªŒè¯æ¯ä¸€è¡Œæ¯ä¸€åˆ—å¯¹è§’çº¿åŠ èµ·æ¥éƒ½æ˜¯ä¸€æ ·çš„</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">valid</span><span class="params">(<span class="keyword">int</span>[][] board)</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> sum = Arrays.stream(board[<span class="number">0</span>]).sum();</span><br><span class="line">    <span class="keyword">int</span> row = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> column = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> downCatercorner = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> upCatercorner = <span class="number">0</span>;</span><br><span class="line">    <span class="comment">// è®¡ç®—è¡Œåˆ—å’Œå¯¹è§’çº¿çš„å’Œ</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; board.length; i++) &#123;</span><br><span class="line">        row = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; board[<span class="number">0</span>].length; j++) &#123;</span><br><span class="line">            row += board[i][j];</span><br><span class="line">            column += board[j][i];</span><br><span class="line">            <span class="comment">// ä»å·¦ä¸Šè§’åˆ°å³ä¸‹è§’çš„å¯¹è§’çº¿</span></span><br><span class="line">            <span class="keyword">if</span> (i==j)&#123;</span><br><span class="line">                downCatercorner+=board[i][j];</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// ä»å·¦ä¸‹è§’åˆ°å³ä¸Šè§’çš„å¯¹è§’çº¿</span></span><br><span class="line">            <span class="keyword">if</span> (i+j==board.length-<span class="number">1</span>)&#123;</span><br><span class="line">                upCatercorner += board[i][j];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// æ¯ä¸€æ¬¡å¾ªç¯ä¸­å¯¹æ¯”è¡Œå’Œåˆ—çš„å’Œ</span></span><br><span class="line">        <span class="keyword">if</span> (row!=sum||column!=sum)&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        row = <span class="number">0</span>;</span><br><span class="line">        column=<span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// æœ€åå¯¹æ¯”å¯¹è§’çº¿çš„å’Œ</span></span><br><span class="line">    <span class="keyword">return</span> downCatercorner == sum &amp;&amp; upCatercorner == sum;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
          <category> åˆ·é¢˜ç¯‡ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç®—æ³• </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ã€46-Mediumã€‘å…¨æ’åˆ—</title>
      <link href="/%E7%AE%97%E6%B3%95/%E5%88%B7%E9%A2%98%E7%AF%87/2022/10/20/%E3%80%9046-Medium%E3%80%91%E5%85%A8%E6%8E%92%E5%88%97/"/>
      <url>/%E7%AE%97%E6%B3%95/%E5%88%B7%E9%A2%98%E7%AF%87/2022/10/20/%E3%80%9046-Medium%E3%80%91%E5%85%A8%E6%8E%92%E5%88%97/</url>
      
        <content type="html"><![CDATA[<h2 id="å…¨æ’åˆ—"><a href="#å…¨æ’åˆ—" class="headerlink" title="å…¨æ’åˆ—"></a>å…¨æ’åˆ—</h2><p>ç»™å®šä¸€ä¸ªä¸å«é‡å¤æ•°å­—çš„æ•°ç»„ <code>nums</code> ï¼Œè¿”å›å…¶ <em>æ‰€æœ‰å¯èƒ½çš„å…¨æ’åˆ—</em> ã€‚ä½ å¯ä»¥ <strong>æŒ‰ä»»æ„é¡ºåº</strong> è¿”å›ç­”æ¡ˆã€‚</p><p><strong>ç¤ºä¾‹ 1ï¼š</strong></p><figure class="highlight inform7"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šnums = <span class="comment">[1,2,3]</span></span><br><span class="line">è¾“å‡ºï¼š<span class="comment">[<span class="comment">[1,2,3]</span>,<span class="comment">[1,3,2]</span>,<span class="comment">[2,1,3]</span>,<span class="comment">[2,3,1]</span>,<span class="comment">[3,1,2]</span>,<span class="comment">[3,2,1]</span>]</span></span><br></pre></td></tr></table></figure><p><strong>ç¤ºä¾‹ 2ï¼š</strong></p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šnums = [<span class="number">0</span>,<span class="number">1</span>]</span><br><span class="line">è¾“å‡ºï¼š<span class="string">[[0,1],[1,0]]</span></span><br></pre></td></tr></table></figure><p><strong>ç¤ºä¾‹ 3ï¼š</strong></p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šnums = [<span class="number">1</span>]</span><br><span class="line">è¾“å‡ºï¼š<span class="string">[[1]]</span></span><br></pre></td></tr></table></figure><p><strong>æç¤ºï¼š</strong></p><ul><li><code>1 &lt;= nums.length &lt;= 6</code></li><li><code>-10 &lt;= nums[i] &lt;= 10</code></li><li><code>nums</code> ä¸­çš„æ‰€æœ‰æ•´æ•° <strong>äº’ä¸ç›¸åŒ</strong></li></ul><p>Related Topics</p><ul><li>æ•°ç»„</li><li>å›æº¯</li></ul><h3 id="å›æº¯"><a href="#å›æº¯" class="headerlink" title="å›æº¯"></a>å›æº¯</h3><p>å…¨æ’åˆ—ï¼Œè¿™æ˜¯å¾ˆç»å…¸çš„ä¸€é“å›æº¯çš„é—®é¢˜</p><p>å›æº¯ä¸‰è¦ç´ </p><p>1ã€è·¯å¾„ï¼šå·²ç»åšå‡ºäº†å“ªäº›é€‰æ‹©</p><p>2ã€é€‰æ‹©åˆ—è¡¨ï¼šå¯ä»¥é€‰æ‹©çš„å…ƒç´ é›†åˆ</p><p>3ã€ç»“æŸæ¡ä»¶ï¼šåˆ°äº†å†³ç­–æ ‘çš„å¶å­èŠ‚ç‚¹å¤„äº†</p><blockquote><p>å›¾ç¤ºï¼š</p></blockquote><img src="/%E7%AE%97%E6%B3%95/%E5%88%B7%E9%A2%98%E7%AF%87/2022/10/20/%E3%80%9046-Medium%E3%80%91%E5%85%A8%E6%8E%92%E5%88%97/image-20221020153446450.png" class title="image-20221020153446450"><h4 id="ç¤ºä¾‹ä»£ç "><a href="#ç¤ºä¾‹ä»£ç " class="headerlink" title="ç¤ºä¾‹ä»£ç "></a>ç¤ºä¾‹ä»£ç </h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> List&lt;List&lt;Integer&gt;&gt; permute(<span class="keyword">int</span>[] nums) &#123;</span><br><span class="line">        <span class="comment">// è¿™ä¸ªæ˜¯ç»“æœé›†ç”¨æ¥ä¿å­˜ç»“æœçš„</span></span><br><span class="line">        List&lt;List&lt;Integer&gt;&gt; res = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">        <span class="comment">// è·¯å¾„</span></span><br><span class="line">        LinkedList&lt;Integer&gt; track = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">        <span class="comment">// è¾…åŠ©å‡½æ•°</span></span><br><span class="line">        backtrack(nums,track,res);</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// è·¯å¾„ï¼štrackä¸­çš„æ•°å­—</span></span><br><span class="line">    <span class="comment">// é€‰æ‹©åˆ—è¡¨ï¼šé€šè¿‡trackå’Œnumsæ¨å¾—</span></span><br><span class="line">    <span class="comment">// ç»“æŸæ¡ä»¶ï¼štrackçš„é•¿åº¦ç­‰äºnumsçš„é•¿åº¦</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">backtrack</span><span class="params">(<span class="keyword">int</span>[] nums, LinkedList&lt;Integer&gt; track, List&lt;List&lt;Integer&gt;&gt; res)</span></span>&#123;</span><br><span class="line">        <span class="comment">// åˆ°äº†å¶å­èŠ‚ç‚¹å¤„</span></span><br><span class="line">        <span class="keyword">if</span> (track.size()== nums.length)&#123;</span><br><span class="line">            <span class="comment">// å°†å½“å‰è·¯å¾„åŠ å…¥åˆ°ç»“æœé›†</span></span><br><span class="line">            res.add(<span class="keyword">new</span> LinkedList&lt;&gt;(track));</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// éå†é€‰æ‹©åˆ—è¡¨</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; nums.length; i++) &#123;</span><br><span class="line">            <span class="comment">// ç­›é€‰æ‰ä¸ç¬¦åˆè¦æ±‚çš„é€‰æ‹©åˆ—è¡¨</span></span><br><span class="line">            <span class="keyword">if</span> (track.contains(nums[i]))&#123;</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// åšå‡ºé€‰æ‹©</span></span><br><span class="line">            track.add(nums[i]);</span><br><span class="line">            <span class="comment">// å›æº¯</span></span><br><span class="line">            backtrack(nums,track,res);</span><br><span class="line">            <span class="comment">// æ’¤é”€é€‰æ‹©</span></span><br><span class="line">            track.removeLast();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ‰€æœ‰çš„å›æº¯é—®é¢˜ï¼Œå…¶å®å°±æ˜¯ä¸€æ£µå†³ç­–æ ‘çš„éå†è¿‡ç¨‹</p><p>åœ¨å‰åºä½ç½®åšå‡ºé€‰æ‹©ï¼Œåœ¨ååºä½ç½®æ’¤é”€é€‰æ‹©</p>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
          <category> åˆ·é¢˜ç¯‡ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç®—æ³• </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ã€51-Hardã€‘Nçš‡å</title>
      <link href="/%E7%AE%97%E6%B3%95/%E5%88%B7%E9%A2%98%E7%AF%87/2022/10/19/%E3%80%9051-Hard%E3%80%91N%E7%9A%87%E5%90%8E/"/>
      <url>/%E7%AE%97%E6%B3%95/%E5%88%B7%E9%A2%98%E7%AF%87/2022/10/19/%E3%80%9051-Hard%E3%80%91N%E7%9A%87%E5%90%8E/</url>
      
        <content type="html"><![CDATA[<h2 id="Nçš‡å"><a href="#Nçš‡å" class="headerlink" title="Nçš‡å"></a>Nçš‡å</h2><p>æŒ‰ç…§å›½é™…è±¡æ£‹çš„è§„åˆ™ï¼Œçš‡åå¯ä»¥æ”»å‡»ä¸ä¹‹å¤„åœ¨åŒä¸€è¡Œæˆ–åŒä¸€åˆ—æˆ–åŒä¸€æ–œçº¿ä¸Šçš„æ£‹å­ã€‚</p><p><strong>n çš‡åé—®é¢˜</strong> ç ”ç©¶çš„æ˜¯å¦‚ä½•å°† <code>n</code> ä¸ªçš‡åæ”¾ç½®åœ¨ <code>nÃ—n</code> çš„æ£‹ç›˜ä¸Šï¼Œå¹¶ä¸”ä½¿çš‡åå½¼æ­¤ä¹‹é—´ä¸èƒ½ç›¸äº’æ”»å‡»ã€‚</p><p>ç»™ä½ ä¸€ä¸ªæ•´æ•° <code>n</code> ï¼Œè¿”å›æ‰€æœ‰ä¸åŒçš„ <strong>n çš‡åé—®é¢˜</strong> çš„è§£å†³æ–¹æ¡ˆã€‚</p><p>æ¯ä¸€ç§è§£æ³•åŒ…å«ä¸€ä¸ªä¸åŒçš„ <strong>n çš‡åé—®é¢˜</strong> çš„æ£‹å­æ”¾ç½®æ–¹æ¡ˆï¼Œè¯¥æ–¹æ¡ˆä¸­ <code>&#39;Q&#39;</code> å’Œ <code>&#39;.&#39;</code> åˆ†åˆ«ä»£è¡¨äº†çš‡åå’Œç©ºä½ã€‚</p><p><strong>ç¤ºä¾‹ 1ï¼š</strong></p><img src="/%E7%AE%97%E6%B3%95/%E5%88%B7%E9%A2%98%E7%AF%87/2022/10/19/%E3%80%9051-Hard%E3%80%91N%E7%9A%87%E5%90%8E/queens.jpg" class title="img"><figure class="highlight prolog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šn = <span class="number">4</span></span><br><span class="line">è¾“å‡ºï¼š[[<span class="string">&quot;.Q..&quot;</span>,<span class="string">&quot;...Q&quot;</span>,<span class="string">&quot;Q...&quot;</span>,<span class="string">&quot;..Q.&quot;</span>],[<span class="string">&quot;..Q.&quot;</span>,<span class="string">&quot;Q...&quot;</span>,<span class="string">&quot;...Q&quot;</span>,<span class="string">&quot;.Q..&quot;</span>]]</span><br><span class="line">è§£é‡Šï¼šå¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œ<span class="number">4</span> çš‡åé—®é¢˜å­˜åœ¨ä¸¤ä¸ªä¸åŒçš„è§£æ³•ã€‚</span><br></pre></td></tr></table></figure><p><strong>ç¤ºä¾‹ 2ï¼š</strong></p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šn = <span class="number">1</span></span><br><span class="line">è¾“å‡ºï¼š<span class="string">[[&quot;Q&quot;]]</span></span><br></pre></td></tr></table></figure><p><strong>æç¤ºï¼š</strong></p><ul><li><code>1 &lt;= n &lt;= 9</code></li></ul><p>Related Topics</p><ul><li>æ•°ç»„</li><li>å›æº¯</li></ul><h3 id="å›æº¯"><a href="#å›æº¯" class="headerlink" title="å›æº¯"></a>å›æº¯</h3><p><strong>Nçš‡å</strong>é—®é¢˜å’Œ<strong>å…¨æ’åˆ—</strong>é—®é¢˜è¢«ç§°ä¸ºå›æº¯é—®é¢˜çš„ä¸¤å¤§ç»å…¸é—®é¢˜</p><p>ä»Šå¤©æˆ‘ä»¬å°±æ¥ç›˜ä¸€ç›˜<strong>Nçš‡å</strong>é—®é¢˜</p><p>å›æº¯é¢˜ç›®ä¸‰å¤§åŸºæœ¬å…ƒç´ </p><p>è·¯å¾„ã€é€‰æ‹©åˆ—è¡¨ã€ç»“æŸæ¡ä»¶</p><p>æˆ‘ä»¬æ¥ä¸€ ä¸€çœ‹çœ‹åœ¨è¿™é“é¢˜ç›®ä¸­éƒ½å’Œä»€ä¹ˆå¯¹åº”</p><blockquote><p>è·¯å¾„</p></blockquote><p>è·¯å¾„å°±æ˜¯å·²ç»é€‰æ‹©å°†çš‡åæ”¾å“ªåçš„æ£‹ç›˜<code>board</code></p><blockquote><p>é€‰æ‹©åˆ—è¡¨</p></blockquote><p>é€‰æ‹©åˆ—è¡¨å°±æ˜¯æ¯ä¸€è¡Œçš„æ¯ä¸€åˆ—æ”¾<code>QUEUE</code></p><blockquote><p>ç»“æŸæ¡ä»¶</p></blockquote><p>ç»“æŸæ¡ä»¶å°±æ˜¯å½“é€‰æ‹©åˆ°äº†æœ€åä¸€è¡Œï¼Œåˆ™å°†å½“å‰æ£‹ç›˜åŠ å…¥åˆ°ç»“æœé›†ä¸­å»</p><p>ä¸‹é¢ä¸Šä»£ç </p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="comment">// ç©ºä½</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> String EMPTY = <span class="string">&quot;.&quot;</span>;</span><br><span class="line">    <span class="comment">// çš‡å</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> String QUEUE = <span class="string">&quot;Q&quot;</span>;</span><br><span class="line">    <span class="keyword">public</span> List&lt;List&lt;String&gt;&gt; solveNQueens(<span class="keyword">int</span> n) &#123;</span><br><span class="line">        <span class="comment">// ç»“æœé›†ï¼Œç”¨æ¥ä¿å­˜æ‰€æœ‰ç¬¦åˆè¦æ±‚çš„ç»“æœ</span></span><br><span class="line">        List&lt;List&lt;String&gt;&gt; res = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        <span class="comment">// ç”¨nåˆå§‹åŒ–æ£‹ç›˜</span></span><br><span class="line">        String[][] board = <span class="keyword">new</span> String[n][n];</span><br><span class="line">        <span class="comment">// ç”¨ç©ºä½å¡«å……æ¯ä¸€ä¸ªä½ç½®</span></span><br><span class="line">        fillEmpty(board);</span><br><span class="line">        <span class="comment">// è¾…åŠ©å‡½æ•°</span></span><br><span class="line">        solveNQueens(board,<span class="number">0</span>,res);</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// å°†æ£‹ç›˜ç½®ç©º</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">fillEmpty</span><span class="params">(String[][] board)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; board.length; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; board[<span class="number">0</span>].length; j++) &#123;</span><br><span class="line">                board[i][j] = EMPTY;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// è£…é…ç»“æœé›†åˆ°ç¬¦åˆé¢˜ç›®è¦æ±‚çš„æ ¼å¼</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> List&lt;String&gt; <span class="title">assemble</span><span class="params">(String[][] board)</span></span>&#123;</span><br><span class="line">        List&lt;String&gt; res = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        StringBuffer temp = <span class="keyword">new</span> StringBuffer();</span><br><span class="line">        <span class="keyword">for</span> (String[] row : board) &#123;</span><br><span class="line">            <span class="keyword">for</span> (String c : row) &#123;</span><br><span class="line">                temp.append(c);</span><br><span class="line">            &#125;</span><br><span class="line">            res.add(temp.toString());</span><br><span class="line">            temp = <span class="keyword">new</span> StringBuffer();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// å›æº¯å‡½æ•°</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">solveNQueens</span><span class="params">(String[][] board, <span class="keyword">int</span> row, List&lt;List&lt;String&gt;&gt; res)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// ç¬¦åˆé€€å‡ºæ¡ä»¶</span></span><br><span class="line">        <span class="keyword">if</span> (row==board.length)&#123;</span><br><span class="line">            res.add(assemble(board));</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// å¯¹æ¯ä¸€åˆ—è¿›è¡Œé€‰æ‹©</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> column = <span class="number">0</span>; column &lt; board[<span class="number">0</span>].length; column++) &#123;</span><br><span class="line">            <span class="comment">// å¦‚æœé€‰æ‹©ä¸ç¬¦åˆè¦æ±‚ï¼Œç›´æ¥è·³è¿‡æ­¤æ¬¡é€‰æ‹©</span></span><br><span class="line">            <span class="keyword">if</span> (!valid(board,row,column))&#123;</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            board[row][column] = QUEUE;</span><br><span class="line">            solveNQueens(board,row+<span class="number">1</span>,res);</span><br><span class="line">            board[row][column] = EMPTY;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// åˆ¤æ–­æ­¤æ¬¡é€‰æ‹©æ˜¯å¦åˆæ³•</span></span><br><span class="line">    <span class="comment">// æ³¨æ„ï¼šè¿™é‡Œè¿˜æ²¡åšå‡ºé€‰æ‹©ï¼Œåªæ˜¯é¢„åˆ¤æ­¤æ¬¡é€‰æ‹©æ˜¯å¦åˆæ³•</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">valid</span><span class="params">(String[][] board, <span class="keyword">int</span> row, <span class="keyword">int</span> column)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// ä¸Šæ–¹</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> r = <span class="number">0</span>; r &lt; row; r++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (board[r][column].equals(QUEUE))&#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// å·¦è¾¹ä¸éœ€è¦ï¼Œå› ä¸ºæˆ‘æ˜¯å¯¹æ¯ä¸€è¡Œçš„æ¯ä¸€åˆ—è¿›è¡Œé€‰æ‹©ï¼Œå¹¶ä¸”é€‰æ‹©ä¹‹åä¼šæ’¤é”€ï¼Œæ‰€ä»¥ä¸éœ€è¦è¿›è¡Œè¡Œä¸Šçš„åˆ¤æ–­</span></span><br><span class="line"><span class="comment">/*for (int c = 0; c &lt; column; c++) &#123;</span></span><br><span class="line"><span class="comment">            if (board[row][c].equals(QUEUE))&#123;</span></span><br><span class="line"><span class="comment">                return false;</span></span><br><span class="line"><span class="comment">            &#125;</span></span><br><span class="line"><span class="comment">        &#125;*/</span></span><br><span class="line">        <span class="comment">// å·¦ä¸Šæ–¹</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> r = row - <span class="number">1</span>, c = column - <span class="number">1</span>; r &gt;= <span class="number">0</span> &amp;&amp; c &gt;= <span class="number">0</span>; r-- , c--) &#123;</span><br><span class="line">            <span class="keyword">if</span> (board[r][c].equals(QUEUE))&#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// å³ä¸Šæ–¹</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> r = row - <span class="number">1</span>, c = column + <span class="number">1</span>; r &gt;= <span class="number">0</span> &amp;&amp; c &lt;board[<span class="number">0</span>].length; r-- , c++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (board[r][c].equals(QUEUE))&#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä»¥ä¸‹æ˜¯ <code>n=4</code> çš„é€’å½’æ ‘</p><p>é»„è‰²çš„å°æ–¹å—è¡¨ç¤ºæ­¤æ¬¡é€‰æ‹©æ˜¯åˆæ³•çš„</p><p>çº¢è‰²çš„å°æ–¹å—è¡¨ç¤ºæ­¤æ¬¡é€‰æ‹©æ˜¯ä¸åˆæ³•çš„ï¼Œç›´æ¥è·³è¿‡æ­¤æ¬¡é€‰æ‹©</p><p>ç»¿è‰²çš„å±éšœè¡¨ç¤ºçš„æ­¤æ¬¡é€‰æ‹©åˆ°äº†ç»“æŸæ¡ä»¶ï¼Œç›´æ¥å°†å…¶æ”¾å…¥ç»“æœé›†ä¸­</p><img src="/%E7%AE%97%E6%B3%95/%E5%88%B7%E9%A2%98%E7%AF%87/2022/10/19/%E3%80%9051-Hard%E3%80%91N%E7%9A%87%E5%90%8E/image-20221019180651184.png" class title="é€’å½’æ ‘"><p>å›æº¯é—®é¢˜æ— éå°±æ˜¯éå†ä¸€é¢—é€’å½’æ ‘ï¼Œç„¶ååœ¨å‰åºä½ç½®åˆ¤æ–­è¿™æ¬¡é€‰æ‹©æ˜¯å¦åˆæ³•ï¼Œå¦‚æœåˆæ³•å°±è¿›å…¥å­æ ‘ï¼Œç„¶ååœ¨ååºä½ç½®å°†æ­¤æ¬¡é€‰æ‹©æ’¤é”€</p>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
          <category> åˆ·é¢˜ç¯‡ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç®—æ³• </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ã€22-Mediumã€‘æ‹¬å·ç”Ÿæˆ</title>
      <link href="/%E7%AE%97%E6%B3%95/%E5%88%B7%E9%A2%98%E7%AF%87/2022/10/18/%E3%80%9022-Medium%E3%80%91%E6%8B%AC%E5%8F%B7%E7%94%9F%E6%88%90/"/>
      <url>/%E7%AE%97%E6%B3%95/%E5%88%B7%E9%A2%98%E7%AF%87/2022/10/18/%E3%80%9022-Medium%E3%80%91%E6%8B%AC%E5%8F%B7%E7%94%9F%E6%88%90/</url>
      
        <content type="html"><![CDATA[<h2 id="æ‹¬å·ç”Ÿæˆ"><a href="#æ‹¬å·ç”Ÿæˆ" class="headerlink" title="æ‹¬å·ç”Ÿæˆ"></a>æ‹¬å·ç”Ÿæˆ</h2><p>æ•°å­— <code>n</code> ä»£è¡¨ç”Ÿæˆæ‹¬å·çš„å¯¹æ•°ï¼Œè¯·ä½ è®¾è®¡ä¸€ä¸ªå‡½æ•°ï¼Œç”¨äºèƒ½å¤Ÿç”Ÿæˆæ‰€æœ‰å¯èƒ½çš„å¹¶ä¸” <strong>æœ‰æ•ˆçš„</strong> æ‹¬å·ç»„åˆã€‚</p><p><strong>ç¤ºä¾‹ 1ï¼š</strong></p><figure class="highlight excel"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼š<span class="built_in">n</span> = <span class="number">3</span></span><br><span class="line">è¾“å‡ºï¼š[<span class="string">&quot;((()))&quot;</span>,<span class="string">&quot;(()())&quot;</span>,<span class="string">&quot;(())()&quot;</span>,<span class="string">&quot;()(())&quot;</span>,<span class="string">&quot;()()()&quot;</span>]</span><br></pre></td></tr></table></figure><p><strong>ç¤ºä¾‹ 2ï¼š</strong></p><figure class="highlight excel"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼š<span class="built_in">n</span> = <span class="number">1</span></span><br><span class="line">è¾“å‡ºï¼š[<span class="string">&quot;()&quot;</span>]</span><br></pre></td></tr></table></figure><p><strong>æç¤ºï¼š</strong></p><ul><li><code>1 &lt;= n &lt;= 8</code></li></ul><p>Related Topics</p><ul><li>å­—ç¬¦ä¸²</li><li>åŠ¨æ€è§„åˆ’</li><li>å›æº¯</li></ul><h3 id="å›æº¯"><a href="#å›æº¯" class="headerlink" title="å›æº¯"></a>å›æº¯</h3><p>ç›´æ¥ç©·ä¸¾æ‰€æœ‰æƒ…å†µ</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> List&lt;String&gt; <span class="title">generateParenthesis</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// ç»“æœé›†</span></span><br><span class="line">    LinkedList&lt;String&gt; res = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">    <span class="comment">// è·¯å¾„</span></span><br><span class="line">    <span class="keyword">char</span>[] track = <span class="keyword">new</span> <span class="keyword">char</span>[n * <span class="number">2</span>];</span><br><span class="line">    <span class="comment">// å›æº¯</span></span><br><span class="line">    generateParenthesis(track, <span class="number">0</span>, res, n);</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">generateParenthesis</span><span class="params">(<span class="keyword">char</span>[] track, <span class="keyword">int</span> index, LinkedList&lt;String&gt; res, <span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// èµ°åˆ°å¤´äº†</span></span><br><span class="line">    <span class="keyword">if</span> (index == track.length) &#123;</span><br><span class="line">        <span class="comment">// åˆ¤æ–­è·¯å¾„ç»„æˆçš„å­—ç¬¦ä¸²æ˜¯å¦åˆæ³•</span></span><br><span class="line">        <span class="keyword">if</span> (isValid(track)) &#123;</span><br><span class="line">            res.add(<span class="keyword">new</span> String(track));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// åˆ¤æ–­è¿™æ¬¡æ˜¯å¦å¯ä»¥åŠ å…¥å·¦æ‹¬å·</span></span><br><span class="line">    <span class="keyword">if</span> (canAdd(track, index, LEFT_BRACKET)) &#123;</span><br><span class="line">        track[index] = LEFT_BRACKET;</span><br><span class="line">        generateParenthesis(track, index + <span class="number">1</span>, res, n);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// åˆ¤æ–­è¿™æ¬¡æ˜¯å¦å¯ä»¥åŠ å…¥å³æ‹¬å·</span></span><br><span class="line">    <span class="keyword">if</span> (canAdd(track, index, RIGHT_BRACKET)) &#123;</span><br><span class="line">        track[index] = RIGHT_BRACKET;</span><br><span class="line">        generateParenthesis(track, index + <span class="number">1</span>, res, n);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">isValid</span><span class="params">(<span class="keyword">char</span>[] sArray)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// leftä¸ºå‰©ä½™å¤šå°‘å·¦æ‹¬å·æ²¡æœ‰è¢«åŒ¹é…</span></span><br><span class="line">    <span class="keyword">int</span> left = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; sArray.length; i++) &#123;</span><br><span class="line">        <span class="keyword">char</span> curr = sArray[i];</span><br><span class="line">        <span class="keyword">if</span> (curr == LEFT_BRACKET) &#123;</span><br><span class="line">            left++;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (curr == RIGHT_BRACKET) &#123;</span><br><span class="line">            left--;</span><br><span class="line">            <span class="comment">// æ¯å‡ºç°ä¸€ä¸ªå³æ‹¬å·ï¼Œå°±å¯¹åº”ä¸€ä¸ªå·¦æ‹¬å·è¢«åŒ¹é…</span></span><br><span class="line">            <span class="keyword">if</span> (left &lt; <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// å¦‚æœå…¨éƒ¨åŒ¹é…æˆåŠŸï¼Œè¯´æ˜åˆæ³•</span></span><br><span class="line">    <span class="keyword">return</span> left == <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">canAdd</span><span class="params">(<span class="keyword">char</span>[] sArray, <span class="keyword">int</span> index, <span class="keyword">char</span> bracket)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> left = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> right = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; index; i++) &#123;</span><br><span class="line">        <span class="keyword">char</span> curr = sArray[i];</span><br><span class="line">        <span class="keyword">if</span> (curr == LEFT_BRACKET) &#123;</span><br><span class="line">            left++;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (curr == RIGHT_BRACKET) &#123;</span><br><span class="line">            left--;</span><br><span class="line">            right++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// å¦‚æœå³æ‹¬å·æ•°ç›®å·²ç»æ¯”å·¦æ‹¬å·å¤šäº†ï¼Œè¯´æ˜å·²ç»ä¸åˆæ³•äº†</span></span><br><span class="line">        <span class="keyword">if</span> (right &gt; left) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (bracket == RIGHT_BRACKET) &#123;</span><br><span class="line">        right++;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        left++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// å·¦æ‹¬å·æ•°ç›®æ¯”å³æ‹¬å·å¤šå³å¯</span></span><br><span class="line">    <span class="keyword">return</span> left &gt;= right;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™ç§æ–¹æ³•çš„é€’å½’æ ‘ä¼šå¾ˆå¤§</p><p>åŸå› åœ¨äºä¿®å‰ªçš„åŠ›åº¦ä¸å¤Ÿå¤§ï¼Œ<code>canAdd</code>åªèƒ½åˆ¤æ–­å½“å‰çš„<code>index</code>ä½æ˜¯å¦å¯ä»¥åŠ å…¥<code>choice</code></p><p>ä½†æ˜¯æ— æ³•ä¿è¯æœ€åç”Ÿæˆçš„å­—ç¬¦ä¸²æ˜¯ç¬¦åˆå·¦å³æ‹¬å·æ•°ç›®ç›¸ç­‰çš„</p><p>æ‰€ä»¥éœ€è¦åœ¨æ»¡è¶³æ¨å‡ºæ¡ä»¶çš„æ—¶å€™ï¼Œå†æ¬¡åˆ¤æ–­æ˜¯å¦ç¬¦åˆå·¦å³æ‹¬å·æ•°ç›®ä¸€è‡´</p><p>åŸå› åœ¨äºæˆ‘æ— æ³•æ ¹æ®<strong>å·²ä½œå‡ºé€‰æ‹©çš„å·¦å³æ‹¬å·æ•°é‡</strong>æ¥åˆ¤æ–­æœ€åæ˜¯å¦åˆæ³•</p><p>æ¢ä¸‹æ€è·¯ï¼Œç”¨å·¦å³æ‹¬å·çš„å‰©ä½™æ•°é‡å°±å¯ä»¥æ¥åˆ¤æ–­æœ€åæ˜¯å¦åˆæ³•ï¼Œåªè¦<code>right&gt;=left</code>å³å¯</p><blockquote><p>ä»£ç ä¼˜åŒ–</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> List&lt;String&gt; <span class="title">generateParenthesis</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">    LinkedList&lt;String&gt; res = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">    <span class="keyword">char</span>[] track = <span class="keyword">new</span> <span class="keyword">char</span>[n * <span class="number">2</span>];</span><br><span class="line">    <span class="comment">// indexä»0å¼€å§‹</span></span><br><span class="line">    <span class="comment">// è¿˜å‰©ä¸‹nä¸ªå·¦æ‹¬å·</span></span><br><span class="line">    <span class="comment">// è¿˜å‰©ä¸‹nä¸ªå³æ‹¬å·</span></span><br><span class="line">    <span class="comment">// traceç”¨æ¥è®°å½•è·¯å¾„</span></span><br><span class="line">    <span class="comment">// resç”¨æ¥æ”¶é›†ç»“æœ</span></span><br><span class="line">    generateParenthesis(track, <span class="number">0</span>, n, n, res);</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">generateParenthesis</span><span class="params">(<span class="keyword">char</span>[] track, <span class="keyword">int</span> index, <span class="keyword">int</span> leftBract, <span class="keyword">int</span> rightBract, LinkedList&lt;String&gt; res)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// å¦‚æœå‰©ä½™çš„å·¦æ‹¬å·ä¸ªæ•°å°äº0ï¼Œè¯´æ˜å·¦æ‹¬å·å·²ç»è¶…æ ‡äº†</span></span><br><span class="line">    <span class="keyword">if</span> (left &lt; <span class="number">0</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// å¦‚æœå‰©ä¸‹çš„å³æ‹¬å·æ¯”å·¦æ‹¬å·å°‘</span></span><br><span class="line">    <span class="comment">// n = 5 </span></span><br><span class="line">    <span class="comment">// å‰©ä¸‹äº†4ä¸ªå·¦æ‹¬å·ï¼Œ1ä¸ªå³æ‹¬å· ï¼Œè¿™æ˜¯é”™çš„æƒ…å†µ</span></span><br><span class="line">    <span class="comment">// å‰©ä¸‹äº†4ä¸ªå³æ‹¬å·ï¼Œ1ä¸ªå·¦æ‹¬å· ï¼Œè¿™æ˜¯å¯¹çš„æƒ…å†µ</span></span><br><span class="line">    <span class="comment">// å‰©ä¸‹äº†3ä¸ªå³æ‹¬å·ï¼Œ3ä¸ªå·¦æ‹¬å· ï¼Œè¿™æ˜¯å¯¹çš„æƒ…å†µ</span></span><br><span class="line">    <span class="comment">// è¯´æ˜å·¦æ‹¬å·å¤šæ”¾äº†</span></span><br><span class="line">    <span class="keyword">if</span> (rightBract &lt; leftBract) &#123;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// é•¿åº¦åˆ°è¾¾è¦ï¼Œå› ä¸ºä¸ç¬¦åˆè¦æ±‚çš„å­—ç¬¦ä¸²å·²ç»è¢«ä¿®å‰ª</span></span><br><span class="line">    <span class="comment">// æ‰€ä»¥èƒ½èµ°åˆ°è¿™é‡Œçš„è‚¯å®šæ˜¯åˆæ³•çš„å­—ç¬¦ä¸²äº†</span></span><br><span class="line">    <span class="comment">// å°†å…¶åŠ å…¥åˆ°ç»“æœé›†åˆä¸­</span></span><br><span class="line">    <span class="keyword">if</span> (index == track.length) &#123;</span><br><span class="line">        res.add(<span class="keyword">new</span> String(track));</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// é€‰æ‹©å·¦æ‹¬å·</span></span><br><span class="line">    track[index] = LEFT_BRACKET;</span><br><span class="line">    generateParenthesis(track, index + <span class="number">1</span>, leftBract - <span class="number">1</span>, rightBract, res);</span><br><span class="line">    <span class="comment">// é€‰æ‹©å³æ‹¬å·</span></span><br><span class="line">    track[index] = RIGHT_BRACKET;</span><br><span class="line">    generateParenthesis(track, index + <span class="number">1</span>, leftBract, rightBract - <span class="number">1</span>, res);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™é‡Œç»™å‡ºä¼˜åŒ–å <code>n=2</code> çš„é€’å½’æ ‘</p><img src="/%E7%AE%97%E6%B3%95/%E5%88%B7%E9%A2%98%E7%AF%87/2022/10/18/%E3%80%9022-Medium%E3%80%91%E6%8B%AC%E5%8F%B7%E7%94%9F%E6%88%90/image-20221018212632726.png" class title="é€’å½’æ ‘"><p>ä¼˜åŒ–å‰çš„ <code>n=2</code> çš„é€’å½’æ ‘</p><img src="/%E7%AE%97%E6%B3%95/%E5%88%B7%E9%A2%98%E7%AF%87/2022/10/18/%E3%80%9022-Medium%E3%80%91%E6%8B%AC%E5%8F%B7%E7%94%9F%E6%88%90/image-20221018212534912.png" class title="é€’å½’æ ‘"><p><code>n=2</code> çœ‹ä¸å‡ºä¼˜åŒ–åæ˜æ˜¾çš„å¢åŠ ä¿®å‰ªçš„åŠ›åº¦</p><p>æ„Ÿå…´è¶£çš„å¯ä»¥è‡ªå·±ç”»ä¸€ç”» <code>n=3</code> çš„é€’å½’æ ‘ï¼Œä½ å°±ä¼šå‘ç°æœ‰å¾ˆæ˜æ˜¾çš„åŒºåˆ«</p>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
          <category> åˆ·é¢˜ç¯‡ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç®—æ³• </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç®—æ³•-äºŒå‰æ ‘éå†</title>
      <link href="/%E7%AE%97%E6%B3%95/%E6%8A%80%E5%B7%A7%E7%AF%87/2022/10/06/%E7%AE%97%E6%B3%95-%E4%BA%8C%E5%8F%89%E6%A0%91%E9%81%8D%E5%8E%86/"/>
      <url>/%E7%AE%97%E6%B3%95/%E6%8A%80%E5%B7%A7%E7%AF%87/2022/10/06/%E7%AE%97%E6%B3%95-%E4%BA%8C%E5%8F%89%E6%A0%91%E9%81%8D%E5%8E%86/</url>
      
        <content type="html"><![CDATA[<h2 id="äºŒå‰æ ‘éå†"><a href="#äºŒå‰æ ‘éå†" class="headerlink" title="äºŒå‰æ ‘éå†"></a>äºŒå‰æ ‘éå†</h2><p>äºŒå‰æ ‘éå†æœ‰å››ç§é¡ºåºï¼šå‰åºã€ä¸­åºã€ååºå’Œå±‚æ¬¡</p><p>ä¸‹é¢ä½¿ç”¨ä¸åŒçš„æ–¹æ³•å»ä½¿ç”¨è¿™å››ç§é¡ºåºï¼Œè¾“å‡ºäºŒå‰æ ‘éå†çš„ç»“æœ</p><h3 id="å‰åº"><a href="#å‰åº" class="headerlink" title="å‰åº"></a>å‰åº</h3><h4 id="éå†æ¡†æ¶"><a href="#éå†æ¡†æ¶" class="headerlink" title="éå†æ¡†æ¶"></a>éå†æ¡†æ¶</h4><p>ç›´æ¥åˆ©ç”¨æˆ‘ä»¬ä¹‹å‰è¯´è¿‡çš„éå†æ¡†æ¶</p><p>åœ¨å‰åºä½ç½®æ·»åŠ é€»è¾‘å³å¯</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">List&lt;Integer&gt; res;</span><br><span class="line"><span class="function"><span class="keyword">public</span> List&lt;Integer&gt; <span class="title">preOrder</span><span class="params">(TreeNode root)</span></span>&#123;</span><br><span class="line">    res = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    traverse(root);</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">traverse</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(root==<span class="keyword">null</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// å‰åºä½ç½®</span></span><br><span class="line">    <span class="comment">// å°†å½“å‰èŠ‚ç‚¹çš„å€¼æ”¾å…¥é›†åˆä¸­</span></span><br><span class="line">    res.add(root.val);</span><br><span class="line">    traverse(root.left);</span><br><span class="line">    traverse(root.right);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="åˆ†è§£é—®é¢˜"><a href="#åˆ†è§£é—®é¢˜" class="headerlink" title="åˆ†è§£é—®é¢˜"></a>åˆ†è§£é—®é¢˜</h4><p>å‰åºéå†ï¼šæ ¹èŠ‚ç‚¹ + å·¦å­æ ‘ + å³å­æ ‘</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> List&lt;Integer&gt; <span class="title">preOrder</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(root==<span class="keyword">null</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    List&lt;Integer&gt; list = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    <span class="comment">// å…¶å®ä¹Ÿæ˜¯å…ˆåºä½ç½®å°†å€¼æ”¾å…¥é›†åˆä¸­</span></span><br><span class="line">    list.add(root.val);</span><br><span class="line">    <span class="comment">// å°†å·¦å­æ ‘çš„éå†ç»“æœæ”¾å…¥é›†åˆä¸­</span></span><br><span class="line">    list.addAll(traverse(root.left));</span><br><span class="line">    <span class="comment">// å°†å³å­æ ‘çš„éå†ç»“æœæ”¾å…¥é›†åˆä¸­</span></span><br><span class="line">    list.addAll(traverse(root.right));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="ä½¿ç”¨æ ˆ"><a href="#ä½¿ç”¨æ ˆ" class="headerlink" title="ä½¿ç”¨æ ˆ"></a>ä½¿ç”¨æ ˆ</h4><h5 id="æ³•ä¸€"><a href="#æ³•ä¸€" class="headerlink" title="æ³•ä¸€"></a>æ³•ä¸€</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> List&lt;Integer&gt; <span class="title">preOrder</span><span class="params">(TreeNode root)</span></span>&#123;</span><br><span class="line">    <span class="comment">// ç”¨æ¥æš‚å­˜éœ€è¦ä¿å­˜çš„èŠ‚ç‚¹</span></span><br><span class="line">    Stack&lt;TreeNode&gt; stack = <span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line">    <span class="comment">// ç”¨æ¥ä¿å­˜éå†ç»“æœ</span></span><br><span class="line">    List&lt;Integer&gt; list = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    TreeNode cur = root;</span><br><span class="line">    <span class="keyword">while</span> (cur != <span class="keyword">null</span> || !stack.isEmpty())&#123;</span><br><span class="line">        <span class="comment">// å¦‚æœcurä¸ç©ºï¼Œåˆ™ä¸€ç›´å°†èŠ‚ç‚¹æ”¾å…¥stackä¸­</span></span><br><span class="line">        <span class="comment">// å¹¶å°†å…¶ç½®ä¸ºå…¶å·¦èŠ‚ç‚¹</span></span><br><span class="line">        <span class="keyword">while</span> (cur != <span class="keyword">null</span>)&#123;</span><br><span class="line">            list.add(cur.val);</span><br><span class="line">            stack.push(cur);</span><br><span class="line">            cur = cur.left;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// å–å‡ºæ ˆé¡¶å…ƒç´ ï¼Œå¹¶å°†curæŒ‡å‘å…¶å·¦å­æ ‘æ ¹èŠ‚ç‚¹</span></span><br><span class="line">        cur = stack.pop().right;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> list;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="æ³•äºŒ"><a href="#æ³•äºŒ" class="headerlink" title="æ³•äºŒ"></a>æ³•äºŒ</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> List <span class="title">preOrder</span><span class="params">(TreeNode root)</span></span>&#123;</span><br><span class="line">    Stack&lt;TreeNode&gt; stack = <span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line">    List&lt;Integer&gt; list = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    TreeNode cur = root;</span><br><span class="line">    <span class="keyword">while</span> (cur != <span class="keyword">null</span>)&#123;</span><br><span class="line">        <span class="keyword">while</span> (cur != <span class="keyword">null</span>)&#123;</span><br><span class="line">            list.add(cur.val);</span><br><span class="line">            stack.push(cur);</span><br><span class="line">            cur = cur.left;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// å½“æ ˆä¸ºç©ºæˆ–è€…æ ˆé¡¶å…ƒç´ çš„å³å­æ ‘ä¸ä¸ºç©ºçš„æ—¶å€™é€€å‡ºå¾ªç¯</span></span><br><span class="line">        <span class="keyword">while</span> (!stack.isEmpty()&amp;&amp;stack.peek().right==<span class="keyword">null</span>)&#123;</span><br><span class="line">            stack.pop();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// æ ˆä¸ºç©ºçš„æ—¶å€™ï¼Œåˆ™é€€å‡ºå¾ªç¯</span></span><br><span class="line">        <span class="comment">// åä¹‹å°†æ ˆé¡¶å…ƒç´ å‡ºæ ˆï¼Œå¹¶å°†å…¶å³èŠ‚ç‚¹èµ‹å€¼ç»™cur</span></span><br><span class="line">        cur = stack.isEmpty() ? <span class="keyword">null</span> : stack.pop().right;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> list;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™ä¸¤ç§æ–¹æ³•ä½¿ç”¨æ ˆçš„åŒºåˆ«å°±æ˜¯</p><p>å¯¹äºcurçš„æ›´æ–°æ–¹å¼ä¸åŒï¼Œ</p><p>æ³•ä¸€æ˜¯ç›´æ¥å°†æ ˆé¡¶å…ƒç´ çš„<code>right</code>èµ‹å€¼ç»™cur</p><p>æ³•äºŒæ˜¯æ‹¿åˆ°ç¬¬ä¸€ä¸ªå‡ºæ ˆå…ƒç´ çš„<code>right</code>ä¸ä¸ºç©ºçš„å…ƒç´ èµ‹å€¼ç»™cur</p><p>ä¸¤ç§æ–¹æ³•éƒ½å¯ä»¥ï¼Œä½†æ˜¯ç¬¬ä¸€ç§å†™èµ·æ¥æ›´ä¸ºç®€ä¾¿</p><h5 id="æ³•ä¸‰"><a href="#æ³•ä¸‰" class="headerlink" title="æ³•ä¸‰"></a>æ³•ä¸‰</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> List&lt;Integer&gt; <span class="title">preorderTraversal</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (root == <span class="keyword">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> Collections.emptyList();</span><br><span class="line">    &#125;</span><br><span class="line">    Stack&lt;TreeNode&gt; stack = <span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line">    List&lt;Integer&gt; res = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    stack.push(root);</span><br><span class="line">    <span class="keyword">while</span> (!stack.empty()) &#123;</span><br><span class="line">        TreeNode pop = stack.pop();</span><br><span class="line">        res.add(pop.val);</span><br><span class="line">        <span class="keyword">if</span> (pop.right != <span class="keyword">null</span>) &#123;</span><br><span class="line">            stack.push(pop.right);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (pop.left != <span class="keyword">null</span>) &#123;</span><br><span class="line">            stack.push(pop.left);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ä¸­åº"><a href="#ä¸­åº" class="headerlink" title="ä¸­åº"></a>ä¸­åº</h3><h4 id="éå†æ¡†æ¶-1"><a href="#éå†æ¡†æ¶-1" class="headerlink" title="éå†æ¡†æ¶"></a>éå†æ¡†æ¶</h4><p>ç›´æ¥åˆ©ç”¨æˆ‘ä»¬ä¹‹å‰è¯´è¿‡çš„éå†æ¡†æ¶</p><p>åœ¨ä¸­åºä½ç½®æ·»åŠ é€»è¾‘å³å¯</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">List&lt;Integer&gt; res;</span><br><span class="line"><span class="function"><span class="keyword">public</span> List&lt;Integer&gt; <span class="title">inOrder</span><span class="params">(TreeNode root)</span></span>&#123;</span><br><span class="line">    res = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    traverse(root);</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">traverse</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(root==<span class="keyword">null</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    traverse(root.left);</span><br><span class="line">    <span class="comment">// ä¸­åºä½ç½®</span></span><br><span class="line">    <span class="comment">// å°†å½“å‰èŠ‚ç‚¹çš„å€¼æ”¾å…¥é›†åˆä¸­</span></span><br><span class="line">    res.add(root.val);</span><br><span class="line">    traverse(root.right);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="åˆ†è§£é—®é¢˜-1"><a href="#åˆ†è§£é—®é¢˜-1" class="headerlink" title="åˆ†è§£é—®é¢˜"></a>åˆ†è§£é—®é¢˜</h4><p>ä¸­åºéå†ï¼šå·¦å­æ ‘ + æ ¹èŠ‚ç‚¹ + å³å­æ ‘</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> List&lt;Integer&gt; <span class="title">inOrder</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(root==<span class="keyword">null</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    List&lt;Integer&gt; list = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    <span class="comment">// å°†å·¦å­æ ‘çš„éå†ç»“æœæ”¾å…¥é›†åˆä¸­å»</span></span><br><span class="line">    list.addAll(traverse(root.left));</span><br><span class="line">    <span class="comment">// å…¶å®ä¹Ÿå°±æ˜¯ä¸­åºä½ç½®</span></span><br><span class="line">    list.add(root.val);</span><br><span class="line">    <span class="comment">// å°†å³å­æ ‘çš„éå†ç»“æœæ”¾å…¥é›†åˆä¸­å»</span></span><br><span class="line">    list.addAll(traverse(root.right));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="ä½¿ç”¨æ ˆ-1"><a href="#ä½¿ç”¨æ ˆ-1" class="headerlink" title="ä½¿ç”¨æ ˆ"></a>ä½¿ç”¨æ ˆ</h4><h5 id="æ³•ä¸€-1"><a href="#æ³•ä¸€-1" class="headerlink" title="æ³•ä¸€"></a>æ³•ä¸€</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> List <span class="title">inOrder</span><span class="params">(TreeNode root)</span></span>&#123;</span><br><span class="line">    <span class="comment">// æ ˆä¸­å­˜æ”¾éœ€è¦æš‚å­˜çš„èŠ‚ç‚¹</span></span><br><span class="line">    Stack&lt;TreeNode&gt; stack = <span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line">    List&lt;Integer&gt; list = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    TreeNode cur = root;</span><br><span class="line">    <span class="keyword">while</span> (cur != <span class="keyword">null</span> || !stack.isEmpty())&#123;</span><br><span class="line">        <span class="keyword">while</span> (cur != <span class="keyword">null</span>)&#123;</span><br><span class="line">            stack.push(cur);</span><br><span class="line">            cur = cur.left;</span><br><span class="line">        &#125;</span><br><span class="line">        cur = stack.pop();</span><br><span class="line">        <span class="comment">// å°†å‡ºæ ˆå…ƒç´ çš„å€¼æ”¾å…¥éå†ç»“æœé›†ä¸­å»</span></span><br><span class="line">        <span class="comment">// è¿™ä¸ªæ—¶å€™çš„curä¸€å®šæ˜¯å…¶å·¦å­æ ‘éå†å®Œäº†</span></span><br><span class="line">        list.add(cur.val);</span><br><span class="line">        cur = cur.right;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> list;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="æ³•äºŒ-1"><a href="#æ³•äºŒ-1" class="headerlink" title="æ³•äºŒ"></a>æ³•äºŒ</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> List <span class="title">inOrder</span><span class="params">(TreeNode root)</span></span>&#123;</span><br><span class="line">    Stack&lt;TreeNode&gt; stack = <span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line">    List&lt;Integer&gt; list = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    TreeNode cur = root;</span><br><span class="line">    <span class="keyword">while</span> (cur != <span class="keyword">null</span>)&#123;</span><br><span class="line">        <span class="keyword">while</span> (cur != <span class="keyword">null</span>)&#123;</span><br><span class="line">            stack.push(cur);</span><br><span class="line">            cur = cur.left;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// å½“æ ˆä¸ºç©ºæˆ–è€…æ ˆé¡¶å…ƒç´ çš„å³å­æ ‘ä¸ä¸ºç©ºçš„æ—¶å€™é€€å‡ºå¾ªç¯</span></span><br><span class="line">        <span class="comment">// å¾ªç¯ä¸­å°†å‡ºæ ˆçš„æ ˆé¡¶å…ƒç´ çš„å€¼æ”¾å…¥é›†åˆä¸­</span></span><br><span class="line">        <span class="keyword">while</span> (!stack.isEmpty()&amp;&amp;stack.peek().right==<span class="keyword">null</span>)&#123;</span><br><span class="line">            list.add(stack.pop().val);</span><br><span class="line">        &#125;</span><br><span class="line">        cur = stack.isEmpty() ? <span class="keyword">null</span> : stack.pop().right;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> list;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™é‡Œçš„ä¸¤ç§æ–¹æ³•çš„åŒºåˆ«å’Œå‰åºé¡ºåºéå†çš„ä½¿ç”¨æ ˆçš„æ–¹æ³•çš„åŒºåˆ«ç›¸åŒ</p><h3 id="ååº"><a href="#ååº" class="headerlink" title="ååº"></a>ååº</h3><h4 id="éå†æ¡†æ¶-2"><a href="#éå†æ¡†æ¶-2" class="headerlink" title="éå†æ¡†æ¶"></a>éå†æ¡†æ¶</h4><p>ç›´æ¥åˆ©ç”¨æˆ‘ä»¬ä¹‹å‰è¯´è¿‡çš„éå†æ¡†æ¶</p><p>åœ¨ååºä½ç½®æ·»åŠ é€»è¾‘å³å¯</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">List&lt;Integer&gt; res;</span><br><span class="line"><span class="function"><span class="keyword">public</span> List&lt;Integer&gt; <span class="title">postOrder</span><span class="params">(TreeNode root)</span></span>&#123;</span><br><span class="line">    res = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    traverse(root);</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">traverse</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(root==<span class="keyword">null</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    traverse(root.left);</span><br><span class="line">    traverse(root.right);</span><br><span class="line">    <span class="comment">// ååºä½ç½®</span></span><br><span class="line">    <span class="comment">// å°†å½“å‰èŠ‚ç‚¹çš„å€¼æ”¾å…¥é›†åˆä¸­</span></span><br><span class="line">    res.add(root.val);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="åˆ†è§£é—®é¢˜-2"><a href="#åˆ†è§£é—®é¢˜-2" class="headerlink" title="åˆ†è§£é—®é¢˜"></a>åˆ†è§£é—®é¢˜</h4><p>ååºéå†ï¼šå·¦å­æ ‘ + å³å­æ ‘ + æ ¹èŠ‚ç‚¹</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> List&lt;Integer&gt; <span class="title">postOrder</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(root==<span class="keyword">null</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    List&lt;Integer&gt; list = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    <span class="comment">// å°†å·¦å­æ ‘çš„éå†ç»“æœæ”¾å…¥é›†åˆä¸­å»</span></span><br><span class="line">    list.addAll(traverse(root.left));</span><br><span class="line">    <span class="comment">// å°†å³å­æ ‘çš„éå†ç»“æœæ”¾å…¥é›†åˆä¸­å»</span></span><br><span class="line">    list.addAll(traverse(root.right));</span><br><span class="line">    <span class="comment">// å…¶å®ä¹Ÿå°±æ˜¯ååºä½ç½®</span></span><br><span class="line">    list.add(root.val);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="ä½¿ç”¨æ ˆ-2"><a href="#ä½¿ç”¨æ ˆ-2" class="headerlink" title="ä½¿ç”¨æ ˆ"></a>ä½¿ç”¨æ ˆ</h4><p>ååºé¡ºåºæ¯”å…¶ä»–é¡ºåºç‰¹æ®Š</p><p>å®ƒéœ€è¦åœ¨å·¦å³å­æ ‘éƒ½éå†å®Œä¹‹åæ‰å¯ä»¥å°†èŠ‚ç‚¹çš„å€¼æ”¾å…¥é›†åˆä¸­</p><p>å¦‚ä½•çŸ¥é“å·¦å³å­æ ‘éƒ½éå†å®Œäº†</p><p>è¿™å°±æ˜¯ä½¿ç”¨æ ˆå®Œæˆååºé¡ºåºéå†çš„éš¾ç‚¹</p><h5 id="å•æ ˆæ ‡è®°æ³•"><a href="#å•æ ˆæ ‡è®°æ³•" class="headerlink" title="å•æ ˆæ ‡è®°æ³•"></a>å•æ ˆæ ‡è®°æ³•</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> List <span class="title">postOrder</span><span class="params">(TreeNode root)</span></span>&#123;</span><br><span class="line">    Stack&lt;TreeNode&gt; stack = <span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line">    List&lt;Integer&gt; list = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    TreeNode flag = <span class="keyword">null</span>;</span><br><span class="line">    TreeNode cur = root;</span><br><span class="line">    <span class="keyword">while</span> (cur!=<span class="keyword">null</span>||!stack.isEmpty())&#123;</span><br><span class="line">        <span class="keyword">while</span> (cur!=<span class="keyword">null</span>)&#123;</span><br><span class="line">            stack.push(root);</span><br><span class="line">            cur = cur.left;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// ä¸èƒ½ç€æ€¥å‡ºæ ˆï¼Œå› ä¸ºååºä½ç½®æ¯”è¾ƒç‰¹æ®Š</span></span><br><span class="line">        <span class="comment">// éœ€è¦å…ˆå°†å·¦å³å­æ ‘éƒ½å¤„ç†å®Œä¹‹åæ‰å¯ä»¥å¤„ç†æ ¹èŠ‚ç‚¹</span></span><br><span class="line">        cur = stack.peek();</span><br><span class="line">        <span class="comment">// cur.right == null å¯¹åº”å³å­æ ‘ä¸ºç©ºçš„æƒ…å†µ</span></span><br><span class="line">        <span class="comment">// cur.right == flag å¯¹åº”å³å­æ ‘å·²ç»å¤„ç†å®Œæˆçš„æƒ…å†µ</span></span><br><span class="line">        <span class="keyword">if</span>(cur.right == <span class="keyword">null</span> || flag == cur.right)&#123;</span><br><span class="line">            <span class="comment">// å½“å‡ºç°ä»¥ä¸Šä¸¤ç§æƒ…å†µä¹‹åï¼Œåˆ™è¯´æ˜ä¸éœ€è¦å†å¤„ç†å³å­æ ‘äº†ï¼Œåˆ™å‡ºæ ˆ</span></span><br><span class="line">            flag = stack.pop();</span><br><span class="line">            list.add(flag.val);</span><br><span class="line">            cur = <span class="keyword">null</span>;</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        cur = cur.right;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> list;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="åŒæ ˆæ³•"><a href="#åŒæ ˆæ³•" class="headerlink" title="åŒæ ˆæ³•"></a>åŒæ ˆæ³•</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> List <span class="title">postOrder</span><span class="params">(TreeNode root)</span></span>&#123;</span><br><span class="line">    Stack&lt;TreeNode&gt; stack1 = <span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line">    Stack&lt;TreeNode&gt; stack2 = <span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line">    List&lt;Integer&gt; list = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    TreeNode cur = root;</span><br><span class="line">    <span class="keyword">while</span> (cur!=<span class="keyword">null</span> || !stack1.isEmpty())&#123;</span><br><span class="line">        <span class="keyword">while</span> (cur!=<span class="keyword">null</span>)&#123;</span><br><span class="line">            stack1.push(cur);</span><br><span class="line">            stack2.push(cur);</span><br><span class="line">            <span class="comment">// æ³¨æ„ï¼šè¿™é‡Œæ˜¯right</span></span><br><span class="line">            <span class="comment">// æ ¹ + å³ + å·¦ è¿›stack1</span></span><br><span class="line">            <span class="comment">// åˆ™stack2å‡ºæ ˆå°±æ˜¯ å·¦ + å³ + æ ¹</span></span><br><span class="line">            cur = cur.right;</span><br><span class="line">        &#125;</span><br><span class="line">        cur = stack1.pop().right;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span> (!stack2.isEmpty())&#123;</span><br><span class="line">        list.add(stack2.pop().val);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> list;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="å±‚æ¬¡"><a href="#å±‚æ¬¡" class="headerlink" title="å±‚æ¬¡"></a>å±‚æ¬¡</h3><h4 id="é˜Ÿåˆ—"><a href="#é˜Ÿåˆ—" class="headerlink" title="é˜Ÿåˆ—"></a>é˜Ÿåˆ—</h4><p>ä½¿ç”¨é˜Ÿåˆ—æ¥æš‚å­˜èŠ‚ç‚¹ï¼Œåˆ©ç”¨å…¶å…ˆè¿›å…ˆå‡ºçš„ç‰¹æ€§æ¥è¾¾åˆ°å±‚æ¬¡éå†çš„æ•ˆæœ</p><h5 id="æ³•ä¸€-2"><a href="#æ³•ä¸€-2" class="headerlink" title="æ³•ä¸€"></a>æ³•ä¸€</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> List <span class="title">levelOrder</span> <span class="params">(TreeNode root)</span></span>&#123;</span><br><span class="line">    <span class="comment">// ç”¨æ¥æš‚å­˜æ¯ä¸€å±‚çš„èŠ‚ç‚¹</span></span><br><span class="line">    Queue&lt;TreeNode&gt; queue = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">    <span class="comment">// ç”¨æ¥ä¿å­˜ç»“æœé›†</span></span><br><span class="line">    List&lt;Integer&gt; list = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    TreeNode cur = root;</span><br><span class="line">    <span class="keyword">while</span> (cur != <span class="keyword">null</span>)&#123;</span><br><span class="line">        list.add(cur.val);</span><br><span class="line">        <span class="comment">// å¦‚æœcuræœ‰å·¦å­æ ‘ï¼Œåˆ™å°†å·¦å­æ ‘æ ¹èŠ‚ç‚¹æ”¾å…¥queueä¸­</span></span><br><span class="line">        <span class="keyword">if</span>(cur.left != <span class="keyword">null</span>)&#123;</span><br><span class="line">            queue.offer(cur.left);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// å¦‚æœcuræœ‰å³å­æ ‘ï¼Œåˆ™å°†å·¦å­æ ‘æ ¹èŠ‚ç‚¹æ”¾å…¥queueä¸­</span></span><br><span class="line">        <span class="keyword">if</span>(cur.right != <span class="keyword">null</span>)&#123;</span><br><span class="line">            queue.offer(cur.right);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// å¦‚æœé˜Ÿåˆ—ä¸ºç©ºï¼Œåˆ™è¯´æ˜éå†å®Œæ¯•</span></span><br><span class="line">        <span class="comment">// å¦åˆ™å–å‡ºé˜Ÿé¦–å…ƒç´ </span></span><br><span class="line">        cur = queue.isEmpty() ? <span class="keyword">null</span> : queue.poll();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> list;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="æ³•äºŒ-2"><a href="#æ³•äºŒ-2" class="headerlink" title="æ³•äºŒ"></a>æ³•äºŒ</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> List <span class="title">levelOrder</span> <span class="params">(TreeNode root)</span></span>&#123;</span><br><span class="line">    Queue&lt;TreeNode&gt; queue = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">    List&lt;Integer&gt; list = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    queue.offer(root);</span><br><span class="line">    <span class="keyword">while</span> (!queue.isEmpty())&#123;</span><br><span class="line">        <span class="comment">// ç°åœ¨åœ¨é˜Ÿä¼é‡Œé¢çš„å°±æ˜¯ä¸€å±‚çš„æ‰€æœ‰èŠ‚ç‚¹ï¼Œæ‰€ä»¥ç›´æ¥å–å‡ºæ‰€æœ‰çš„èŠ‚ç‚¹</span></span><br><span class="line">        <span class="keyword">int</span> size = queue.size();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; size; i++) &#123;</span><br><span class="line">            TreeNode cur = queue.poll();</span><br><span class="line">            list.add(cur.val);</span><br><span class="line">            <span class="comment">// æŠŠè¯¥èŠ‚ç‚¹çš„ä¸‹ä¸€å±‚èŠ‚ç‚¹æ”¾å…¥é˜Ÿåˆ—</span></span><br><span class="line">            <span class="keyword">if</span>(cur.left!=<span class="keyword">null</span>)&#123;</span><br><span class="line">                queue.offer(cur.left);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(cur.right!=<span class="keyword">null</span>)&#123;</span><br><span class="line">                queue.offer(cur.right);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> list;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="é€’å½’"><a href="#é€’å½’" class="headerlink" title="é€’å½’"></a>é€’å½’</h4><p>ä½¿ç”¨é€’å½’å‡½æ•°æ¥å¾—åˆ°å±‚æ¬¡éå†ç»“æœ</p><h5 id="æ³•ä¸€-3"><a href="#æ³•ä¸€-3" class="headerlink" title="æ³•ä¸€"></a>æ³•ä¸€</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">List&lt;List&lt;Intger&gt;&gt; res;</span><br><span class="line"><span class="keyword">public</span> List&lt;List&lt;Integer&gt;&gt; levelTraverse(TreeNode root)&#123;</span><br><span class="line">    res = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">    <span class="comment">// rootä¸ºç¬¬0å±‚</span></span><br><span class="line">    traverse(root,<span class="number">0</span>);</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">traverse</span><span class="params">(TreeNode root, <span class="keyword">int</span> level)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(root == <span class="keyword">null</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// å¦‚æœæ²¡æœ‰è¿™ä¸€å±‚çš„é›†åˆï¼Œåˆ™æ·»åŠ </span></span><br><span class="line">    <span class="keyword">if</span>(res.get(level) == <span class="keyword">null</span>)&#123;</span><br><span class="line">        res.add(<span class="keyword">new</span> LinkedList&lt;Integer&gt;());</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// å¾—åˆ°å½“å‰å±‚æ¬¡çš„é›†åˆå¹¶å°†å…¶åŠ å…¥åˆ°é›†åˆä¸­</span></span><br><span class="line">    res.get(level).add(root.val);</span><br><span class="line">    traverse(root.left,level+<span class="number">1</span>);</span><br><span class="line">    traverse(root.right,level+<span class="number">1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="æ³•äºŒ-3"><a href="#æ³•äºŒ-3" class="headerlink" title="æ³•äºŒ"></a>æ³•äºŒ</h5><p>è¿™ç§æ–¹æ³•å«å°¾é€’å½’</p><p>å®ƒå¯ä»¥è¢«æ”¹å†™ä¸ºå±‚æ¬¡éå†ä½¿ç”¨é˜Ÿåˆ—çš„æ³•äºŒ</p><p>å®ƒä¸¤æœ¬è´¨æ˜¯ä¸€æ ·çš„</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">List&lt;List&lt;Intger&gt;&gt; res;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> List&lt;List&lt;Integer&gt;&gt; levelTraverse(TreeNode root) &#123;</span><br><span class="line">    res = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">    <span class="comment">// nodesä¿å­˜ç€å½“å‰å±‚æ¬¡çš„æ‰€æœ‰èŠ‚ç‚¹</span></span><br><span class="line">    List&lt;TreeNode&gt; nodes = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">    <span class="comment">// å…ˆå°†ç¬¬ä¸€å±‚æ”¾å…¥é›†åˆä¸­</span></span><br><span class="line">    nodes.push(root);</span><br><span class="line">    traverse(nodes);</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">traverse</span><span class="params">(List&lt;TreeNode&gt; nodes)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (nodes.isEmpty()) &#123;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    List&lt;Integer&gt; curLevel = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    TreeNode temp;</span><br><span class="line">    <span class="keyword">int</span> size = nodes.size();</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; size; i++) &#123;</span><br><span class="line">        temp = nodes.poll();</span><br><span class="line">        curLevel.add(temp.data);</span><br><span class="line">        <span class="keyword">if</span> (temp.left != <span class="keyword">null</span>) &#123;</span><br><span class="line">            nodes.push(temp.left);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (temp.right != <span class="keyword">null</span>) &#123;</span><br><span class="line">            nodes.push(temp.right);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    res.add(curLevel);</span><br><span class="line">    traverse(nodes);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
          <category> æŠ€å·§ç¯‡ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç®—æ³• </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ã€1352-Mediumã€‘æœ€åKä¸ªæ•°çš„ä¹˜ç§¯</title>
      <link href="/%E7%AE%97%E6%B3%95/%E5%88%B7%E9%A2%98%E7%AF%87/2022/09/27/%E3%80%901352-Medium%E3%80%91%E6%9C%80%E5%90%8EK%E4%B8%AA%E6%95%B0%E7%9A%84%E4%B9%98%E7%A7%AF/"/>
      <url>/%E7%AE%97%E6%B3%95/%E5%88%B7%E9%A2%98%E7%AF%87/2022/09/27/%E3%80%901352-Medium%E3%80%91%E6%9C%80%E5%90%8EK%E4%B8%AA%E6%95%B0%E7%9A%84%E4%B9%98%E7%A7%AF/</url>
      
        <content type="html"><![CDATA[<h2 id="æœ€åKä¸ªæ•°çš„ä¹˜ç§¯"><a href="#æœ€åKä¸ªæ•°çš„ä¹˜ç§¯" class="headerlink" title="æœ€åKä¸ªæ•°çš„ä¹˜ç§¯"></a>æœ€åKä¸ªæ•°çš„ä¹˜ç§¯</h2><p>è¯·ä½ å®ç°ä¸€ä¸ªã€Œæ•°å­—ä¹˜ç§¯ç±»ã€<code>ProductOfNumbers</code>ï¼Œè¦æ±‚æ”¯æŒä¸‹è¿°ä¸¤ç§æ–¹æ³•ï¼š</p><p>1.<code> add(int num)</code></p><ul><li>å°†æ•°å­— <code>num</code> æ·»åŠ åˆ°å½“å‰æ•°å­—åˆ—è¡¨çš„æœ€åé¢ã€‚</li></ul><p>2.<code> getProduct(int k)</code></p><ul><li>è¿”å›å½“å‰æ•°å­—åˆ—è¡¨ä¸­ï¼Œæœ€å <code>k</code> ä¸ªæ•°å­—çš„ä¹˜ç§¯ã€‚</li><li>ä½ å¯ä»¥å‡è®¾å½“å‰åˆ—è¡¨ä¸­å§‹ç»ˆ <strong>è‡³å°‘</strong> åŒ…å« <code>k</code> ä¸ªæ•°å­—ã€‚</li></ul><p>é¢˜ç›®æ•°æ®ä¿è¯ï¼šä»»ä½•æ—¶å€™ï¼Œä»»ä¸€è¿ç»­æ•°å­—åºåˆ—çš„ä¹˜ç§¯éƒ½åœ¨ 32-bit æ•´æ•°èŒƒå›´å†…ï¼Œä¸ä¼šæº¢å‡ºã€‚</p><p><strong>ç¤ºä¾‹ï¼š</strong></p><figure class="highlight processing"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼š</span><br><span class="line">[<span class="string">&quot;ProductOfNumbers&quot;</span>,<span class="string">&quot;add&quot;</span>,<span class="string">&quot;add&quot;</span>,<span class="string">&quot;add&quot;</span>,<span class="string">&quot;add&quot;</span>,<span class="string">&quot;add&quot;</span>,<span class="string">&quot;getProduct&quot;</span>,<span class="string">&quot;getProduct&quot;</span>,<span class="string">&quot;getProduct&quot;</span>,<span class="string">&quot;add&quot;</span>,<span class="string">&quot;getProduct&quot;</span>]</span><br><span class="line">[[],[<span class="number">3</span>],[<span class="number">0</span>],[<span class="number">2</span>],[<span class="number">5</span>],[<span class="number">4</span>],[<span class="number">2</span>],[<span class="number">3</span>],[<span class="number">4</span>],[<span class="number">8</span>],[<span class="number">2</span>]]</span><br><span class="line"></span><br><span class="line">è¾“å‡ºï¼š</span><br><span class="line">[<span class="keyword">null</span>,<span class="keyword">null</span>,<span class="keyword">null</span>,<span class="keyword">null</span>,<span class="keyword">null</span>,<span class="keyword">null</span>,<span class="number">20</span>,<span class="number">40</span>,<span class="number">0</span>,<span class="keyword">null</span>,<span class="number">32</span>]</span><br><span class="line"></span><br><span class="line">è§£é‡Šï¼š</span><br><span class="line">ProductOfNumbers productOfNumbers = <span class="keyword">new</span> ProductOfNumbers();</span><br><span class="line">productOfNumbers.<span class="built_in">add</span>(<span class="number">3</span>);        <span class="comment">// [3]</span></span><br><span class="line">productOfNumbers.<span class="built_in">add</span>(<span class="number">0</span>);        <span class="comment">// [3,0]</span></span><br><span class="line">productOfNumbers.<span class="built_in">add</span>(<span class="number">2</span>);        <span class="comment">// [3,0,2]</span></span><br><span class="line">productOfNumbers.<span class="built_in">add</span>(<span class="number">5</span>);        <span class="comment">// [3,0,2,5]</span></span><br><span class="line">productOfNumbers.<span class="built_in">add</span>(<span class="number">4</span>);        <span class="comment">// [3,0,2,5,4]</span></span><br><span class="line">productOfNumbers.getProduct(<span class="number">2</span>); <span class="comment">// è¿”å› 20 ã€‚æœ€å 2 ä¸ªæ•°å­—çš„ä¹˜ç§¯æ˜¯ 5 * 4 = 20</span></span><br><span class="line">productOfNumbers.getProduct(<span class="number">3</span>); <span class="comment">// è¿”å› 40 ã€‚æœ€å 3 ä¸ªæ•°å­—çš„ä¹˜ç§¯æ˜¯ 2 * 5 * 4 = 40</span></span><br><span class="line">productOfNumbers.getProduct(<span class="number">4</span>); <span class="comment">// è¿”å›  0 ã€‚æœ€å 4 ä¸ªæ•°å­—çš„ä¹˜ç§¯æ˜¯ 0 * 2 * 5 * 4 = 0</span></span><br><span class="line">productOfNumbers.<span class="built_in">add</span>(<span class="number">8</span>);        <span class="comment">// [3,0,2,5,4,8]</span></span><br><span class="line">productOfNumbers.getProduct(<span class="number">2</span>); <span class="comment">// è¿”å› 32 ã€‚æœ€å 2 ä¸ªæ•°å­—çš„ä¹˜ç§¯æ˜¯ 4 * 8 = 32 </span></span><br></pre></td></tr></table></figure><p><strong>æç¤ºï¼š</strong></p><ul><li><code>add</code> å’Œ <code>getProduct</code> ä¸¤ç§æ“ä½œåŠ èµ·æ¥æ€»å…±ä¸ä¼šè¶…è¿‡ <code>40000</code> æ¬¡ã€‚</li><li><code>0 &lt;= num &lt;= 100</code></li><li><code>1 &lt;= k &lt;= 40000</code></li></ul><p>Related Topics</p><ul><li>è®¾è®¡</li><li>é˜Ÿåˆ—</li><li>æ•°ç»„</li><li>æ•°å­¦</li><li>æ•°æ®æµ</li></ul><h3 id="æ³•ä¸€ï¼šæš´åŠ›"><a href="#æ³•ä¸€ï¼šæš´åŠ›" class="headerlink" title="æ³•ä¸€ï¼šæš´åŠ›"></a>æ³•ä¸€ï¼šæš´åŠ›</h3><p>è¿™é¢˜å¾ˆå¥½ç†è§£ï¼Œä½†æ˜¯å¦‚æœæƒ³è¦å†™å‡ºä¸€ä¸ªå¤æ‚åº¦ä½çš„ç®—æ³•ä¸æ˜¯ä¸€ä»¶ç®€å•çš„äº‹æƒ…</p><p>ä¸‹é¢æˆ‘ä»¬å…ˆæ¥ç”¨æœ€ç®€å•æœ€é€šä¿—æ˜“æ‡‚çš„æ–¹æ³•æ¥å®ç°</p><p>å› ä¸ºæ•°ç»„é•¿åº¦ä¸å®šï¼Œæ‰€ä»¥ä½¿ç”¨<code>source</code>ç”¨æ¥å­˜å‚¨åŸæ•°ç»„</p><p>è¿”å›æœ€åkä¸ªæ•°å­—çš„ä¹˜ç§¯<code>getProduct</code>ï¼Œé‚£æˆ‘åªéœ€è¦éå†<code>source</code>çš„æœ€åkä¸ªæ•°å­—å¹¶å°†å…¶ç›¸ä¹˜è¿”å›å³å¯</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ProductOfNumbers</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> List&lt;Integer&gt; source;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">ProductOfNumbers</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        source = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> num)</span> </span>&#123;</span><br><span class="line">        source.add(num);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getProduct</span><span class="params">(<span class="keyword">int</span> k)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> res = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = k; i &gt; <span class="number">0</span>; i--) &#123;</span><br><span class="line">            res *= source.get(source.size() - i);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><img src="/%E7%AE%97%E6%B3%95/%E5%88%B7%E9%A2%98%E7%AF%87/2022/09/27/%E3%80%901352-Medium%E3%80%91%E6%9C%80%E5%90%8EK%E4%B8%AA%E6%95%B0%E7%9A%84%E4%B9%98%E7%A7%AF/image-20220927172451217.png" class title="æ•°æ®æµ‹è¯•"><p>å¥½ï¼Œæ²¡æœ‰é—®é¢˜ï¼Œæäº¤ï¼</p><p>ä½†æ˜¯<strong>Medium</strong>çš„é¢˜ç›®ä¼šè¿™ä¹ˆç®€å•å—ï¼ŸNOï¼</p><p>åªæœ‰é€šè¿‡å¤§æµ‹è¯•æ•°æ®ï¼Œç®—æ³•æ‰ç®—é€šè¿‡</p><img src="/%E7%AE%97%E6%B3%95/%E5%88%B7%E9%A2%98%E7%AF%87/2022/09/27/%E3%80%901352-Medium%E3%80%91%E6%9C%80%E5%90%8EK%E4%B8%AA%E6%95%B0%E7%9A%84%E4%B9%98%E7%A7%AF/image-20220927172040049.png" class title="å¤§æ•°æ®"><img src="/%E7%AE%97%E6%B3%95/%E5%88%B7%E9%A2%98%E7%AF%87/2022/09/27/%E3%80%901352-Medium%E3%80%91%E6%9C%80%E5%90%8EK%E4%B8%AA%E6%95%B0%E7%9A%84%E4%B9%98%E7%A7%AF/image-20220927172112067.png" class title="å¤§æ•°æ®"><img src="/%E7%AE%97%E6%B3%95/%E5%88%B7%E9%A2%98%E7%AF%87/2022/09/27/%E3%80%901352-Medium%E3%80%91%E6%9C%80%E5%90%8EK%E4%B8%AA%E6%95%B0%E7%9A%84%E4%B9%98%E7%A7%AF/image-20220927172133092.png" class title="å¤§æ•°æ®"><p>è¿™ç§ç®€å•çš„ç®—æ³•ï¼Œè™½ç„¶å¥½æƒ³ï¼Œä½†æ˜¯æ‰›ä¸ä½å¤§æ•°æ®ï¼Œæ¥ä¸‹æ¥ä»‹ç»ä¸€ç§æ–°è§£æ³•</p><h3 id="æ³•äºŒï¼šå‰ç¼€ç§¯"><a href="#æ³•äºŒï¼šå‰ç¼€ç§¯" class="headerlink" title="æ³•äºŒï¼šå‰ç¼€ç§¯"></a>æ³•äºŒï¼šå‰ç¼€ç§¯</h3><p>åœ¨çœ‹è¿™ä¸ªä¹‹å‰ï¼Œæœ€å¥½å…ˆäº†è§£è¿‡å‰ç¼€å’Œçš„çŸ¥è¯†ï¼Œå¯ä»¥ç§»æ­¥è¿™ç¯‡æ–‡ç« <a href>ã€303-Easyã€‘åŒºåŸŸå’Œæ£€ç´¢-æ•°ç»„ä¸å¯å˜</a></p><p>ä¸”å¬æˆ‘è§£é‡Šå„å˜é‡çš„ä½œç”¨ï¼Œå†çœ‹ä»£ç </p><p><code>source</code>å’Œä¹‹å‰çš„ä½œç”¨æ˜¯ä¸€æ ·çš„ï¼Œæ˜¯ç”¨æ¥å­˜å‚¨åŸæ•°ç»„çš„</p><p><code>size</code>å°±æ˜¯åŸæ•°ç»„çš„é•¿åº¦</p><p><code>zeroIndex</code>ä»£è¡¨çš„æ˜¯ 0 æœ€åä¸€æ¬¡å‡ºç°çš„ä½ç½®</p><p><code>preMultiply</code>çš„ä½œç”¨æ˜¯å­˜å‚¨å‰ç¼€ç§¯çš„ç»“æœçš„ï¼Œä½†æ˜¯è¿™é‡Œçš„<code>preMultiply</code>å’Œä¹‹å‰çš„å‰ç¼€å’Œçš„å®šä¹‰ç•¥æœ‰ä¸åŒ</p><p>è¿™é‡Œ<code>preMultiply.get(i)</code>çš„å®šä¹‰æ˜¯</p><blockquote><p>i  &gt;  zeroIndex</p></blockquote><p>åŸæ•°ç»„åœ¨<code>[zeroIndex+1,i]</code>çš„ç´¯ä¹˜</p><blockquote><p>i  &lt;  zeroIndex</p></blockquote><p>æ— å®šä¹‰</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ProductOfNumbers</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> List&lt;Integer&gt; source;</span><br><span class="line">    <span class="keyword">private</span> List&lt;Integer&gt; preMultiply;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> size;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> zeroIndex;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">ProductOfNumbers</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        size = <span class="number">0</span>;</span><br><span class="line">        zeroIndex = -<span class="number">1</span>;</span><br><span class="line">        source = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        preMultiply = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        preMultiply.add(<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> num)</span> </span>&#123;</span><br><span class="line">        source.add(num);</span><br><span class="line">        <span class="keyword">if</span> (num == <span class="number">0</span>) &#123;</span><br><span class="line">            preMultiply.clear();</span><br><span class="line">            preMultiply.add(<span class="number">1</span>);</span><br><span class="line">            zeroIndex = size;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            preMultiply.add(preMultiply.get(size - zeroIndex - <span class="number">1</span>) * num);</span><br><span class="line">        &#125;</span><br><span class="line">        size++;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getProduct</span><span class="params">(<span class="keyword">int</span> k)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (k &gt; size - zeroIndex - <span class="number">1</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> preMultiply.get(size - zeroIndex - <span class="number">1</span>) / preMultiply.get(size - zeroIndex - k - <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="å›¾è§£"><a href="#å›¾è§£" class="headerlink" title="å›¾è§£"></a>å›¾è§£</h4><img src="/%E7%AE%97%E6%B3%95/%E5%88%B7%E9%A2%98%E7%AF%87/2022/09/27/%E3%80%901352-Medium%E3%80%91%E6%9C%80%E5%90%8EK%E4%B8%AA%E6%95%B0%E7%9A%84%E4%B9%98%E7%A7%AF/image-20220927174257766.png" class title="åˆå§‹çŠ¶æ€"><img src="/%E7%AE%97%E6%B3%95/%E5%88%B7%E9%A2%98%E7%AF%87/2022/09/27/%E3%80%901352-Medium%E3%80%91%E6%9C%80%E5%90%8EK%E4%B8%AA%E6%95%B0%E7%9A%84%E4%B9%98%E7%A7%AF/image-20220927174435740.png" class title="process-1"><img src="/%E7%AE%97%E6%B3%95/%E5%88%B7%E9%A2%98%E7%AF%87/2022/09/27/%E3%80%901352-Medium%E3%80%91%E6%9C%80%E5%90%8EK%E4%B8%AA%E6%95%B0%E7%9A%84%E4%B9%98%E7%A7%AF/image-20220927174526463.png" class title="process-2"><p>è¿™ä¸€æ­¥æ¯”è¾ƒç‰¹æ®Šï¼Œå½“æˆ‘å‡ºç°äº† 0 çš„æ—¶å€™æ‰€æœ‰çš„å‰ç¼€ç§¯éƒ½æ— æ•ˆäº†ï¼Œæ‰€ä»¥ç›´æ¥æ¸…é™¤ï¼Œç„¶åè®°å½• 0 å‡ºç°çš„ä½ç½®</p> <img src="/%E7%AE%97%E6%B3%95/%E5%88%B7%E9%A2%98%E7%AF%87/2022/09/27/%E3%80%901352-Medium%E3%80%91%E6%9C%80%E5%90%8EK%E4%B8%AA%E6%95%B0%E7%9A%84%E4%B9%98%E7%A7%AF/image-20220927174812462.png" class title="process-3"><img src="/%E7%AE%97%E6%B3%95/%E5%88%B7%E9%A2%98%E7%AF%87/2022/09/27/%E3%80%901352-Medium%E3%80%91%E6%9C%80%E5%90%8EK%E4%B8%AA%E6%95%B0%E7%9A%84%E4%B9%98%E7%A7%AF/image-20220927174901058.png" class title="process-4"><img src="/%E7%AE%97%E6%B3%95/%E5%88%B7%E9%A2%98%E7%AF%87/2022/09/27/%E3%80%901352-Medium%E3%80%91%E6%9C%80%E5%90%8EK%E4%B8%AA%E6%95%B0%E7%9A%84%E4%B9%98%E7%A7%AF/image-20220927174955875.png" class title="process-5"><img src="/%E7%AE%97%E6%B3%95/%E5%88%B7%E9%A2%98%E7%AF%87/2022/09/27/%E3%80%901352-Medium%E3%80%91%E6%9C%80%E5%90%8EK%E4%B8%AA%E6%95%B0%E7%9A%84%E4%B9%98%E7%A7%AF/image-20220927175028685.png" class title="process-6"><p>æ¥ä¸‹æ¥è§£é‡Šä¸€ä¸‹ä»£ç </p><h4 id="1ã€æ„é€ å‡½æ•°"><a href="#1ã€æ„é€ å‡½æ•°" class="headerlink" title="1ã€æ„é€ å‡½æ•°"></a>1ã€æ„é€ å‡½æ•°</h4><img src="/%E7%AE%97%E6%B3%95/%E5%88%B7%E9%A2%98%E7%AF%87/2022/09/27/%E3%80%901352-Medium%E3%80%91%E6%9C%80%E5%90%8EK%E4%B8%AA%E6%95%B0%E7%9A%84%E4%B9%98%E7%A7%AF/image-20220927175228763.png" class title="æ„é€ å‡½æ•°"><p>æ„é€ å‡½æ•°åšçš„äº‹å°±æ˜¯åˆå§‹åŒ–ä¸€äº›å˜é‡ï¼Œè¿™äº›å˜é‡çš„æ„ä¹‰å‰é¢è®²è¿°è¿‡äº†è¿™é‡Œå°±ä¸èµ˜è¿°äº†</p><h4 id="2ã€addå‡½æ•°"><a href="#2ã€addå‡½æ•°" class="headerlink" title="2ã€addå‡½æ•°"></a>2ã€addå‡½æ•°</h4><img src="/%E7%AE%97%E6%B3%95/%E5%88%B7%E9%A2%98%E7%AF%87/2022/09/27/%E3%80%901352-Medium%E3%80%91%E6%9C%80%E5%90%8EK%E4%B8%AA%E6%95%B0%E7%9A%84%E4%B9%98%E7%A7%AF/image-20220927175459338.png" class title="addå‡½æ•°"><p>é¦–å…ˆå°†å…¶ç›´æ¥æ”¾å…¥sourceé›†åˆä¸­</p><p>æ¥ä¸‹æ¥å¯¹äºä¸åŒçš„<code>num</code>åšå‡ºä¸åŒçš„å¤„ç†</p><blockquote><p><code>num</code>ä¸º 0 </p></blockquote><p>é‡ç½®å‰ç¼€ç§¯é›†åˆï¼Œå³æ¸…ç©ºé›†åˆï¼Œå¹¶æ”¾å…¥ 1 </p><p>æ›´æ–°<code>zeroIndex</code></p><p>ï¼ˆè¿™é‡Œç›´æ¥å°†<code>size</code>èµ‹å€¼ç»™<code>zeroIndex</code>çš„åŸå› æ˜¯<code>size</code>æ˜¯æ–¹æ³•ç»“æŸä¹‹åæ‰è‡ªå¢çš„ï¼Œè‡ªå¢å‰çš„sizeè¡¨ç¤ºçš„å°±æ˜¯å½“å‰å…ƒç´ çš„ç´¢å¼•ï¼‰</p><blockquote><p><code>num</code>ä¸ä¸º0</p></blockquote><p>æ›´æ–°å‰ç¼€ç§¯é›†åˆï¼Œè¿™é‡Œçš„<code>size-zeroIndex-1</code>éœ€è¦ç†è§£ï¼ˆè¿™é‡Œæˆ‘å½“æ—¶æ˜¯é€šè¿‡ç”»å›¾æ¨æ•²å¾—çŸ¥ï¼‰</p><p>æˆ‘çš„ç†è§£å°±æ˜¯å°†å½“å‰å€¼ä¹˜ä»¥åŸæ•°ç»„ 0 ä¹‹åçš„æ‰€æœ‰æ•°çš„ä¹˜ç§¯å¾—åˆ°çš„å€¼æ”¾å…¥å‰ç¼€ç§¯</p><h4 id="3ã€getProductå‡½æ•°"><a href="#3ã€getProductå‡½æ•°" class="headerlink" title="3ã€getProductå‡½æ•°"></a>3ã€getProductå‡½æ•°</h4><img src="/%E7%AE%97%E6%B3%95/%E5%88%B7%E9%A2%98%E7%AF%87/2022/09/27/%E3%80%901352-Medium%E3%80%91%E6%9C%80%E5%90%8EK%E4%B8%AA%E6%95%B0%E7%9A%84%E4%B9%98%E7%A7%AF/image-20220927180404538.png" class title="getProductå‡½æ•°"><p><code>size-zeroIndex-1</code>å°±æ˜¯åŸæ•°ç»„ 0 ä¹‹åæœ‰å‡ ä¸ªæ•°å­—</p><p>å¦‚æœè¿™ä¸ªæ•°å­—æ¯” k å°ï¼Œåˆ™å¯ä»¥ç›´æ¥è¿”å› 0 </p><p>ä¸ç„¶ï¼Œåˆ™è¿”å›<code>preMultiply.get(size-zeroIndex-1)/preMultiply.get(size-zeroIndex-k-1);</code></p><p><code>preMultiply.get(size-zeroIndex-1)</code>æ˜¯åŸæ•°ç»„åœ¨ 0 ä¹‹åæ‰€æœ‰æ•°å­—çš„ä¹˜ç§¯</p><p><code>preMultiply.get(size-zeroIndex-k-1)</code>æ˜¯åŸæ•°ç»„åœ¨ 0 ä¹‹åæ‰€æœ‰æ•°å­—ï¼Œå€’æ•°ç¬¬ k ä¸ªæ•°åˆ° 0 åç¬¬ä¸€ä¸ªæ•°çš„ä¹˜ç§¯</p><blockquote><p>æ³¨ï¼šå¦‚æœ<code>size-zeroIndex-k-1</code>ä¸º 0 ï¼Œåˆ™æ²¡æœ‰æ„ä¹‰ï¼Œå°±æ˜¯ 1 ï¼Œå ä½ç”¨çš„</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
          <category> åˆ·é¢˜ç¯‡ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç®—æ³• </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¹¶å‘ä¸­Interruptçš„ç›¸å…³çŸ¥è¯†</title>
      <link href="/javaEE/JUC/2022/07/25/%E5%B9%B6%E5%8F%91%E4%B8%ADInterrupt%E7%9A%84%E7%9B%B8%E5%85%B3%E7%9F%A5%E8%AF%86/"/>
      <url>/javaEE/JUC/2022/07/25/%E5%B9%B6%E5%8F%91%E4%B8%ADInterrupt%E7%9A%84%E7%9B%B8%E5%85%B3%E7%9F%A5%E8%AF%86/</url>
      
        <content type="html"><![CDATA[<h2 id="Interrupt"><a href="#Interrupt" class="headerlink" title="Interrupt"></a>Interrupt</h2><p><code>interrupt()</code>æ˜¯çº¿ç¨‹ç±»çš„æˆå‘˜æ–¹æ³•ï¼Œä½œç”¨æ˜¯æ‰“æ–­çº¿ç¨‹</p><p>ä¸ä¹‹æœ‰å…³çš„è¿˜æœ‰<code>isInterrupted()</code>å’Œ<code>interrupted()</code></p><p><code>interrupt()</code>çš„ä½œç”¨æ˜¯åˆ†æƒ…å†µçš„</p><blockquote><p>å½“çº¿ç¨‹è¢«<code>join()</code>ã€<code>sleep()</code>ã€<code>wait()</code>é˜»å¡çš„æ—¶å€™</p></blockquote><p>ä½¿ç”¨æ­¤æ–¹æ³•ï¼Œä¼šè®¾ç½®æ‰“æ–­æ ‡è®°ä¸º<code>false</code>ï¼Œå¹¶ä¸”æŠ›å‡ºå¼‚å¸¸<code>InterruptedException</code></p><blockquote><p>å½“çº¿ç¨‹æ­£åœ¨è¿è¡Œçš„æ—¶å€™</p></blockquote><p>ä½¿ç”¨æ­¤æ–¹æ³•ï¼Œä¼šè®¾ç½®æ‰“æ–­æ ‡è®°ä¸º<code>true</code>ï¼Œä½†æ˜¯ä¸ä¼šå½±å“çº¿ç¨‹ç»§ç»­è¿è¡Œ</p><blockquote><p>å½“çº¿ç¨‹ä½¿ç”¨<code>LockSupport.park()</code>æŒ‚èµ·</p></blockquote><p>ä½¿ç”¨æ­¤æ–¹æ³•ï¼Œä¼šè®¾ç½®æ‰“æ–­æ ‡è®°ä¸º<code>true</code>ï¼Œä½†æ˜¯ä¸ä¼šæŠ›å‡ºå¼‚å¸¸</p><blockquote><p>Tipsï¼šåœ¨æ‰“æ–­çŠ¶æ€ä¸‹ï¼Œæ— æ³•ä½¿ç”¨<code>LockSupport.park()</code>æŒ‚èµ·å½“å‰çº¿ç¨‹</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Interrupts this thread.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * &lt;p&gt; Unless the current thread is interrupting itself, which is</span></span><br><span class="line"><span class="comment"> * always permitted, the &#123;<span class="doctag">@link</span> #checkAccess() checkAccess&#125; method</span></span><br><span class="line"><span class="comment"> * of this thread is invoked, which may cause a &#123;<span class="doctag">@link</span></span></span><br><span class="line"><span class="comment"> * SecurityException&#125; to be thrown.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * &lt;p&gt; If this thread is blocked in an invocation of the &#123;<span class="doctag">@link</span></span></span><br><span class="line"><span class="comment"> * Object#wait() wait()&#125;, &#123;<span class="doctag">@link</span> Object#wait(long) wait(long)&#125;, or &#123;<span class="doctag">@link</span></span></span><br><span class="line"><span class="comment"> * Object#wait(long, int) wait(long, int)&#125; methods of the &#123;<span class="doctag">@link</span> Object&#125;</span></span><br><span class="line"><span class="comment"> * class, or of the &#123;<span class="doctag">@link</span> #join()&#125;, &#123;<span class="doctag">@link</span> #join(long)&#125;, &#123;<span class="doctag">@link</span></span></span><br><span class="line"><span class="comment"> * #join(long, int)&#125;, &#123;<span class="doctag">@link</span> #sleep(long)&#125;, or &#123;<span class="doctag">@link</span> #sleep(long, int)&#125;,</span></span><br><span class="line"><span class="comment"> * methods of this class, then its interrupt status will be cleared and it</span></span><br><span class="line"><span class="comment"> * will receive an &#123;<span class="doctag">@link</span> InterruptedException&#125;.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * &lt;p&gt; If this thread is blocked in an I/O operation upon an &#123;<span class="doctag">@link</span></span></span><br><span class="line"><span class="comment"> * java.nio.channels.InterruptibleChannel InterruptibleChannel&#125;</span></span><br><span class="line"><span class="comment"> * then the channel will be closed, the thread&#x27;s interrupt</span></span><br><span class="line"><span class="comment"> * status will be set, and the thread will receive a &#123;<span class="doctag">@link</span></span></span><br><span class="line"><span class="comment"> * java.nio.channels.ClosedByInterruptException&#125;.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * &lt;p&gt; If this thread is blocked in a &#123;<span class="doctag">@link</span> java.nio.channels.Selector&#125;</span></span><br><span class="line"><span class="comment"> * then the thread&#x27;s interrupt status will be set and it will return</span></span><br><span class="line"><span class="comment"> * immediately from the selection operation, possibly with a non-zero</span></span><br><span class="line"><span class="comment"> * value, just as if the selector&#x27;s &#123;<span class="doctag">@link</span></span></span><br><span class="line"><span class="comment"> * java.nio.channels.Selector#wakeup wakeup&#125; method were invoked.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * &lt;p&gt; If none of the previous conditions hold then this thread&#x27;s interrupt</span></span><br><span class="line"><span class="comment"> * status will be set. &lt;/p&gt;</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * &lt;p&gt; Interrupting a thread that is not alive need not have any effect.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@throws</span>  SecurityException</span></span><br><span class="line"><span class="comment"> *          if the current thread cannot modify this thread</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@revised</span> 6.0</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@spec</span> JSR-51</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">interrupt</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">this</span> != Thread.currentThread()) &#123;</span><br><span class="line">        checkAccess();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// thread may be blocked in an I/O operation</span></span><br><span class="line">        <span class="keyword">synchronized</span> (blockerLock) &#123;</span><br><span class="line">            Interruptible b = blocker;</span><br><span class="line">            <span class="keyword">if</span> (b != <span class="keyword">null</span>) &#123;</span><br><span class="line">                interrupt0();  <span class="comment">// set interrupt status</span></span><br><span class="line">                b.interrupt(<span class="keyword">this</span>);</span><br><span class="line">                <span class="keyword">return</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// set interrupt status</span></span><br><span class="line">    interrupt0();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="isInterrupted"><a href="#isInterrupted" class="headerlink" title="isInterrupted"></a>isInterrupted</h2><p>æ­¤æ–¹æ³•ä¹Ÿæ˜¯çº¿ç¨‹ç±»çš„æˆå‘˜æ–¹æ³•ï¼Œä½œç”¨æ˜¯è¿”å›æ‰“æ–­æ ‡è®°</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Tests whether this thread has been interrupted.  The &lt;i&gt;interrupted</span></span><br><span class="line"><span class="comment"> * status&lt;/i&gt; of the thread is unaffected by this method.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * &lt;p&gt;A thread interruption ignored because a thread was not alive</span></span><br><span class="line"><span class="comment"> * at the time of the interrupt will be reflected by this method</span></span><br><span class="line"><span class="comment"> * returning false.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span>  &#123;<span class="doctag">@code</span> true&#125; if this thread has been interrupted;</span></span><br><span class="line"><span class="comment"> *          &#123;<span class="doctag">@code</span> false&#125; otherwise.</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@see</span>     #interrupted()</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@revised</span> 6.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isInterrupted</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> isInterrupted(<span class="keyword">false</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="interrupted"><a href="#interrupted" class="headerlink" title="interrupted"></a>interrupted</h2><p>æ­¤æ–¹æ³•æ˜¯Threadçš„é™æ€æ–¹æ³•ï¼Œä½œç”¨æ˜¯é‡ç½®<strong>å½“å‰è¿è¡Œçº¿ç¨‹çš„æ‰“æ–­æ ‡è®°ï¼ˆå°±æ˜¯å°†æ‰“æ–­æ ‡è®°ç½®ä¸ºfalseï¼‰</strong>ï¼Œå¹¶è¿”å›ä¹‹å‰çš„æ‰“æ–­æ ‡è®°</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Tests whether the current thread has been interrupted.  The</span></span><br><span class="line"><span class="comment">     * &lt;i&gt;interrupted status&lt;/i&gt; of the thread is cleared by this method.  In</span></span><br><span class="line"><span class="comment">     * other words, if this method were to be called twice in succession, the</span></span><br><span class="line"><span class="comment">     * second call would return false (unless the current thread were</span></span><br><span class="line"><span class="comment">     * interrupted again, after the first call had cleared its interrupted</span></span><br><span class="line"><span class="comment">     * status and before the second call had examined it).</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * &lt;p&gt;A thread interruption ignored because a thread was not alive</span></span><br><span class="line"><span class="comment">     * at the time of the interrupt will be reflected by this method</span></span><br><span class="line"><span class="comment">     * returning false.</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span>  &#123;<span class="doctag">@code</span> true&#125; if the current thread has been interrupted;</span></span><br><span class="line"><span class="comment">     *          &#123;<span class="doctag">@code</span> false&#125; otherwise.</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@see</span> #isInterrupted()</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@revised</span> 6.0</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">boolean</span> <span class="title">interrupted</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> currentThread().isInterrupted(<span class="keyword">true</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> javaEE </category>
          
          <category> JUC </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å¹¶å‘ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Docker-åŸºç¡€</title>
      <link href="/javaEE/Docker/2022/07/13/Docker-%E5%9F%BA%E7%A1%80/"/>
      <url>/javaEE/Docker/2022/07/13/Docker-%E5%9F%BA%E7%A1%80/</url>
      
        <content type="html"><![CDATA[<h1 id="Docker-åŸºç¡€"><a href="#Docker-åŸºç¡€" class="headerlink" title="Docker-åŸºç¡€"></a>Docker-åŸºç¡€</h1><h2 id="å›é¡¾hello-world"><a href="#å›é¡¾hello-world" class="headerlink" title="å›é¡¾hello-world"></a>å›é¡¾hello-world</h2><p>æˆ‘ä»¬å…ˆæ¥å›é¡¾ä¸€ä¸‹hello-worldçš„æ¡ˆä¾‹</p><img src="/javaEE/Docker/2022/07/13/Docker-%E5%9F%BA%E7%A1%80/image-20220713205248995.png" class title="hello-world"><p>ä¸‹é¢æ˜¯å®Œæ•´çš„æµç¨‹å›¾</p><img src="/javaEE/Docker/2022/07/13/Docker-%E5%9F%BA%E7%A1%80/image-20220713205925422.png" class title="hello-worldæµç¨‹å›¾"><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">å…ˆåœ¨æœ¬åœ°æŸ¥æ‰¾æ˜¯å¦å­˜åœ¨hello-worldé•œåƒ</span><br><span class="line">æœ‰åˆ™ç›´æ¥ä½¿ç”¨æ­¤é•œåƒåˆ›å»ºä¸€ä¸ªå®¹å™¨å¹¶è¿è¡Œ</span><br><span class="line"></span><br><span class="line">æ²¡æœ‰åˆ™è¿æ¥é•œåƒæœåŠ¡å™¨æŸ¥æ‰¾æ˜¯å¦å­˜åœ¨hello-worldé•œåƒ</span><br><span class="line"></span><br><span class="line">å¦‚æœåœ¨é•œåƒæœåŠ¡å™¨æŸ¥æ‰¾åˆ°äº†è¯¥é•œåƒï¼Œåˆ™å°†è¯¥é•œåƒä¸‹è½½åˆ°æœ¬åœ°ï¼Œç„¶åå»ºä¸€ä¸ªå®¹å™¨å¹¶è¿è¡Œ</span><br><span class="line"></span><br><span class="line">å¦‚æœæ²¡æœ‰ï¼Œåˆ™æŠ¥é”™</span><br></pre></td></tr></table></figure><p>ä¸‹é¢ä»‹ç»å…³äºé•œåƒå’Œå®¹å™¨çš„å‘½ä»¤</p><h2 id="Dockeré•œåƒå‘½ä»¤"><a href="#Dockeré•œåƒå‘½ä»¤" class="headerlink" title="Dockeré•œåƒå‘½ä»¤"></a>Dockeré•œåƒå‘½ä»¤</h2><h3 id="æœç´¢é•œåƒ"><a href="#æœç´¢é•œåƒ" class="headerlink" title="æœç´¢é•œåƒ"></a>æœç´¢é•œåƒ</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">[root@zhima ~]<span class="comment"># docker search --help</span></span><br><span class="line"><span class="comment"># ä½¿ç”¨è¯´æ˜</span></span><br><span class="line">Usage:  docker search [OPTIONS] TERM</span><br><span class="line"><span class="comment"># åœ¨docker hubä¸Šæœç´¢TERMé•œåƒ</span></span><br><span class="line">Search the Docker Hub <span class="keyword">for</span> images</span><br><span class="line"><span class="comment"># å¯é€‰å‚æ•°</span></span><br><span class="line">Options:</span><br><span class="line"><span class="comment"># è¿‡æ»¤</span></span><br><span class="line"><span class="comment"># æ —å­ -f=STARS=3000æ„æ€çš„ç­›é€‰å‡ºSTARSå¤§äº3000çš„</span></span><br><span class="line">  -f, --filter filter   Filter output based on conditions provided</span><br><span class="line"><span class="comment"># æ ¼å¼åŒ–è¾“å‡ºï¼Œä½¿ç”¨goè¯­è¨€çš„æ¨¡æ¿</span></span><br><span class="line">      --format string   Pretty-print search using a Go template</span><br><span class="line"><span class="comment"># é™åˆ¶æ•°é‡</span></span><br><span class="line">      --<span class="built_in">limit</span> int       Max number of search results (default 25)</span><br><span class="line">      --no-trunc        Don<span class="string">&#x27;t truncate output</span></span><br></pre></td></tr></table></figure><h3 id="æ‹‰å–é•œåƒ"><a href="#æ‹‰å–é•œåƒ" class="headerlink" title="æ‹‰å–é•œåƒ"></a>æ‹‰å–é•œåƒ</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">[root@zhima ~]<span class="comment"># docker pull --help</span></span><br><span class="line"></span><br><span class="line">Usage:  docker pull [OPTIONS] NAME[:TAG|@DIGEST]</span><br><span class="line"><span class="comment"># ä»ä»“åº“æ‹‰å–ä¸€ä¸ªé•œåƒæˆ–è€…ä¸€ä¸ªä»“åº“</span></span><br><span class="line">Pull an image or a repository from a registry</span><br><span class="line"><span class="comment"># å¯é€‰é¡¹</span></span><br><span class="line">Options:</span><br><span class="line"><span class="comment"># ä¸‹è½½å…¨éƒ¨çš„ç‰ˆæœ¬</span></span><br><span class="line">  -a, --all-tags                Download all tagged images <span class="keyword">in</span> the repository</span><br><span class="line"><span class="comment"># è·³è¿‡é•œåƒè®¤è¯ï¼Œé»˜è®¤å¼€å¯</span></span><br><span class="line">      --disable-content-trust   Skip image verification (default <span class="literal">true</span>)</span><br><span class="line">      --platform string         Set platform <span class="keyword">if</span> server is multi-platform capable</span><br><span class="line"><span class="comment"># è·³è¿‡å†—é•¿çš„è¾“å‡ºï¼Œç­‰åˆ°ä¸‹è½½ç»“æŸåå†è¾“å‡ºé•œåƒid</span></span><br><span class="line">  -q, --quiet                   Suppress verbose output</span><br></pre></td></tr></table></figure><h3 id="æŸ¥çœ‹æœ¬åœ°é•œåƒ"><a href="#æŸ¥çœ‹æœ¬åœ°é•œåƒ" class="headerlink" title="æŸ¥çœ‹æœ¬åœ°é•œåƒ"></a>æŸ¥çœ‹æœ¬åœ°é•œåƒ</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">[root@zhima ~]<span class="comment"># docker images --help</span></span><br><span class="line"></span><br><span class="line">Usage:  docker images [OPTIONS] [REPOSITORY[:TAG]]</span><br><span class="line"><span class="comment"># åˆ—ä¸¾é•œåƒ</span></span><br><span class="line">List images</span><br><span class="line"></span><br><span class="line">Options:</span><br><span class="line"><span class="comment"># å±•ç¤ºå…¨éƒ¨çš„é•œåƒï¼Œé»˜è®¤æ·»åŠ </span></span><br><span class="line">  -a, --all             Show all images (default hides intermediate images)</span><br><span class="line"><span class="comment"># æ˜¾ç¤ºå®Œæ•´çš„é•œåƒid</span></span><br><span class="line">      --digests         Show digests</span><br><span class="line"><span class="comment"># è¿‡æ»¤</span></span><br><span class="line">  -f, --filter filter   Filter output based on conditions provided</span><br><span class="line"><span class="comment"># æ ¼å¼åŒ–è¾“å‡º</span></span><br><span class="line">      --format string   Pretty-print images using a Go template</span><br><span class="line">      --no-trunc        Don<span class="string">&#x27;t truncate output</span></span><br><span class="line"><span class="string"># åªæ˜¾ç¤ºé•œåƒç®€å†™id</span></span><br><span class="line"><span class="string">  -q, --quiet           Only show image IDs</span></span><br></pre></td></tr></table></figure><h3 id="åˆ é™¤æœ¬åœ°é•œåƒ"><a href="#åˆ é™¤æœ¬åœ°é•œåƒ" class="headerlink" title="åˆ é™¤æœ¬åœ°é•œåƒ"></a>åˆ é™¤æœ¬åœ°é•œåƒ</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[root@zhima ~]<span class="comment"># docker rmi --help</span></span><br><span class="line"></span><br><span class="line">Usage:  docker rmi [OPTIONS] IMAGE [IMAGE...]</span><br><span class="line"><span class="comment"># åˆ é™¤é•œåƒ</span></span><br><span class="line">Remove one or more images</span><br><span class="line"></span><br><span class="line">Options:</span><br><span class="line"><span class="comment"># å¼ºåˆ¶åˆ é™¤</span></span><br><span class="line">  -f, --force      Force removal of the image</span><br><span class="line">      --no-prune   Do not delete untagged parents</span><br></pre></td></tr></table></figure><h3 id="æŸ¥çœ‹é•œåƒå±‚çº§æ„å»ºä¿¡æ¯"><a href="#æŸ¥çœ‹é•œåƒå±‚çº§æ„å»ºä¿¡æ¯" class="headerlink" title="æŸ¥çœ‹é•œåƒå±‚çº§æ„å»ºä¿¡æ¯"></a>æŸ¥çœ‹é•œåƒå±‚çº§æ„å»ºä¿¡æ¯</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">[root@zhima ~]<span class="comment"># docker history --help</span></span><br><span class="line"></span><br><span class="line">Usage:  docker <span class="built_in">history</span> [OPTIONS] IMAGE</span><br><span class="line"><span class="comment"># å±•ç¤ºé•œåƒçš„å†å²ï¼ˆæ„å»ºä¿¡æ¯ï¼‰</span></span><br><span class="line">Show the <span class="built_in">history</span> of an image</span><br><span class="line"></span><br><span class="line">Options:</span><br><span class="line"><span class="comment"># æ ¼å¼åŒ–è¾“å‡º</span></span><br><span class="line">      --format string   Pretty-print images using a Go template</span><br><span class="line"><span class="comment"># ä»¥å¯è¯»åŒ–å¥½çš„æ–¹å¼å±•ç¤º</span></span><br><span class="line">  -H, --human           Print sizes and dates <span class="keyword">in</span> human readable format (default <span class="literal">true</span>)</span><br><span class="line">      --no-trunc        Don<span class="string">&#x27;t truncate output</span></span><br><span class="line"><span class="string"># åªæ˜¾ç¤ºé•œåƒid</span></span><br><span class="line"><span class="string">  -q, --quiet           Only show image IDs</span></span><br></pre></td></tr></table></figure><h3 id="æ‰“æ ‡ç­¾"><a href="#æ‰“æ ‡ç­¾" class="headerlink" title="æ‰“æ ‡ç­¾"></a>æ‰“æ ‡ç­¾</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@zhima ~]<span class="comment"># docker tag --help</span></span><br><span class="line"></span><br><span class="line">Usage:  docker tag SOURCE_IMAGE[:TAG] TARGET_IMAGE[:TAG]</span><br><span class="line"><span class="comment"># ç»™SOURCE_IMAGEæ‰“ä¸Šæ–°çš„æ ‡ç­¾ï¼Œå¹¶ä½¿ç”¨TARGET_IMAGEä¿å­˜</span></span><br><span class="line">Create a tag TARGET_IMAGE that refers to SOURCE_IMAGE</span><br></pre></td></tr></table></figure><h2 id="Dockerå®¹å™¨å‘½ä»¤"><a href="#Dockerå®¹å™¨å‘½ä»¤" class="headerlink" title="Dockerå®¹å™¨å‘½ä»¤"></a>Dockerå®¹å™¨å‘½ä»¤</h2><h3 id="åˆ›å»ºä¸€ä¸ªå®¹å™¨"><a href="#åˆ›å»ºä¸€ä¸ªå®¹å™¨" class="headerlink" title="åˆ›å»ºä¸€ä¸ªå®¹å™¨"></a>åˆ›å»ºä¸€ä¸ªå®¹å™¨</h3><blockquote><p>è¿™é‡Œå› ä¸ºå¯é€‰é¡¹å¤ªå¤šï¼Œæˆ‘åªæ”¾ä¸€äº›å¸¸ç”¨çš„</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">[root@zhima ~]<span class="comment"># docker run --help</span></span><br><span class="line"></span><br><span class="line">Usage:  docker run [OPTIONS] IMAGE [COMMAND] [ARG...]</span><br><span class="line"><span class="comment"># åˆ›å»ºå¹¶ä½¿ç”¨COMMANDè¿è¡Œä¸€ä¸ªå®¹å™¨</span></span><br><span class="line">Run a <span class="built_in">command</span> <span class="keyword">in</span> a new container</span><br><span class="line"></span><br><span class="line">Options:</span><br><span class="line"><span class="comment"># åå°å¯åŠ¨å®¹å™¨</span></span><br><span class="line">  -d, --detach                         Run container <span class="keyword">in</span> background and <span class="built_in">print</span> container ID</span><br><span class="line"><span class="comment"># ä¿æŒæ ‡å‡†è¾“å‡ºæµæ‰“å¼€</span></span><br><span class="line">  -i, --interactive                    Keep STDIN open even <span class="keyword">if</span> not attached</span><br><span class="line"><span class="comment"># æŒ‚è½½å®¿ä¸»æœºæ–‡ä»¶ç³»ç»Ÿ</span></span><br><span class="line">      --mount mount                    Attach a filesystem mount to the container</span><br><span class="line"><span class="comment"># æŒ‡å®šå®¹å™¨åå­—</span></span><br><span class="line">      --name string                    Assign a name to the container</span><br><span class="line"><span class="comment"># æŒ‡å®šå®¹å™¨æ‰€åœ¨ç½‘ç»œ</span></span><br><span class="line">      --network network                Connect a container to a network</span><br><span class="line"><span class="comment"># ç»™å®¹å™¨ç™»å½•ç”¨æˆ·çš„ç‰¹æƒ</span></span><br><span class="line">      --privileged                     Give extended privileges to this container</span><br><span class="line"><span class="comment"># æŒ‡å®šç«¯å£æ˜ å°„ -p å®¿ä¸»æœºç«¯å£:å®¹å™¨æš´éœ²ç«¯å£</span></span><br><span class="line">  -p, --publish list                   Publish a container<span class="string">&#x27;s port(s) to the host</span></span><br><span class="line"><span class="string"># éšæœºæŒ‡å®šç«¯å£æ˜ å°„</span></span><br><span class="line"><span class="string">  -P, --publish-all                    Publish all exposed ports to random ports</span></span><br><span class="line"><span class="string"># å®¹å™¨çš„æ ¹æ–‡ä»¶ç³»ç»Ÿåªè¯»</span></span><br><span class="line"><span class="string">      --read-only                      Mount the container&#x27;</span>s root filesystem as <span class="built_in">read</span> only</span><br><span class="line"><span class="comment"># æ¨å‡ºå®¹å™¨çš„æ—¶å€™ï¼Œè‡ªåŠ¨åˆ é™¤å®¹å™¨</span></span><br><span class="line">  --rm   Automatically remove the container when it exits</span><br><span class="line"><span class="comment"># åˆ†é…ä¸€ä¸ªä¼ªç»ˆç«¯å¹¶ç»‘å®šåˆ°å®¹å™¨çš„æ ‡å‡†è¾“å…¥ä¸Š</span></span><br><span class="line">  -t, --tty                            Allocate a pseudo-TTY</span><br><span class="line"><span class="comment"># æ•°æ®å·ï¼Œå°†å®¹å™¨å†…çš„ç›®å½•æŒ‚è½½åˆ°å®¿ä¸»æœºçš„ç›®å½•</span></span><br><span class="line">  -v, --volume list                    Bind mount a volume</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[root@zhima ~]<span class="comment"># docker create --help</span></span><br><span class="line"></span><br><span class="line">Usage:  docker create [OPTIONS] IMAGE [COMMAND] [ARG...]</span><br><span class="line"><span class="comment"># åˆ›å»ºä¸€ä¸ªå®¹å™¨ï¼Œä½†æ˜¯ä¸è¿è¡Œ</span></span><br><span class="line">Create a new container</span><br><span class="line"></span><br><span class="line">Options: </span><br><span class="line"><span class="comment"># ä¸docker run ä¸€è‡´ï¼Œè¿™é‡Œä¸é‡å¤äº†</span></span><br></pre></td></tr></table></figure><h3 id="åˆ é™¤ä¸€ä¸ªå®¹å™¨"><a href="#åˆ é™¤ä¸€ä¸ªå®¹å™¨" class="headerlink" title="åˆ é™¤ä¸€ä¸ªå®¹å™¨"></a>åˆ é™¤ä¸€ä¸ªå®¹å™¨</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">[root@zhima ~]<span class="comment"># docker rm --help</span></span><br><span class="line"></span><br><span class="line">Usage:  docker rm [OPTIONS] CONTAINER [CONTAINER...]</span><br><span class="line"><span class="comment"># åˆ é™¤ä¸€ä¸ªæˆ–è€…å¤šä¸ªå®¹å™¨</span></span><br><span class="line">Remove one or more containers</span><br><span class="line"></span><br><span class="line">Options:</span><br><span class="line"><span class="comment"># å¼ºåˆ¶åˆ é™¤ï¼Œå³ä½¿å®ƒåœ¨è¿è¡ŒçŠ¶æ€</span></span><br><span class="line">  -f, --force     Force the removal of a running container (uses SIGKILL)</span><br><span class="line"><span class="comment"># åˆ é™¤æŒ‚è½½çš„å®¿ä¸»æœºç›®å½•</span></span><br><span class="line">  -v, --volumes   Remove anonymous volumes associated with the container</span><br></pre></td></tr></table></figure><h3 id="æŸ¥çœ‹å®¹å™¨"><a href="#æŸ¥çœ‹å®¹å™¨" class="headerlink" title="æŸ¥çœ‹å®¹å™¨"></a>æŸ¥çœ‹å®¹å™¨</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">[root@zhima ~]<span class="comment"># docker ps --help</span></span><br><span class="line"></span><br><span class="line">Usage:  docker ps [OPTIONS]</span><br><span class="line"><span class="comment"># å±•ç¤ºå®¹å™¨</span></span><br><span class="line">List containers</span><br><span class="line"></span><br><span class="line">Options:</span><br><span class="line"><span class="comment"># å±•ç¤ºæ‰€æœ‰çš„å®¹å™¨</span></span><br><span class="line">  -a, --all             Show all containers (default shows just running)</span><br><span class="line"><span class="comment"># æ¡ä»¶è¿‡æ»¤</span></span><br><span class="line">  -f, --filter filter   Filter output based on conditions provided</span><br><span class="line"><span class="comment"># æ ¼å¼åŒ–è¾“å‡º</span></span><br><span class="line">      --format string   Pretty-print containers using a Go template</span><br><span class="line"><span class="comment"># æ§åˆ¶æ˜¾ç¤ºä¸ªæ•°ï¼ŒåŒ…æ‹¬åœæ­¢çš„å®¹å™¨</span></span><br><span class="line">  -n, --last int        Show n last created containers (includes all states) (default -1)</span><br><span class="line"><span class="comment"># æ˜¾ç¤ºæœ€è¿‘åˆ›å»ºçš„å®¹å™¨ï¼ŒåŒ…æ‹¬åœæ­¢çš„å®¹å™¨</span></span><br><span class="line">  -l, --latest          Show the latest created container (includes all states)</span><br><span class="line">      --no-trunc        Don<span class="string">&#x27;t truncate output</span></span><br><span class="line"><span class="string"># åªæ˜¾ç¤ºå®¹å™¨id</span></span><br><span class="line"><span class="string">  -q, --quiet           Only display container IDs</span></span><br><span class="line"><span class="string"># æ˜¾ç¤ºå®¹å™¨å ç”¨å†…å­˜</span></span><br><span class="line"><span class="string">  -s, --size            Display total file sizes</span></span><br></pre></td></tr></table></figure><h3 id="åœæ­¢å®¹å™¨"><a href="#åœæ­¢å®¹å™¨" class="headerlink" title="åœæ­¢å®¹å™¨"></a>åœæ­¢å®¹å™¨</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[root@zhima ~]<span class="comment"># docker stop --help</span></span><br><span class="line"></span><br><span class="line">Usage:  docker stop [OPTIONS] CONTAINER [CONTAINER...]</span><br><span class="line"><span class="comment"># åœæ­¢ä¸€ä¸ªæˆ–è€…å¤šä¸ªå®¹å™¨</span></span><br><span class="line">Stop one or more running containers</span><br><span class="line"></span><br><span class="line">Options:</span><br><span class="line"><span class="comment"># åœ¨intsååœæ­¢å®¹å™¨</span></span><br><span class="line">  -t, --time int   Seconds to <span class="built_in">wait</span> <span class="keyword">for</span> stop before killing it (default 10)</span><br></pre></td></tr></table></figure><h3 id="è¿è¡Œå®¹å™¨"><a href="#è¿è¡Œå®¹å™¨" class="headerlink" title="è¿è¡Œå®¹å™¨"></a>è¿è¡Œå®¹å™¨</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">[root@zhima ~]<span class="comment"># docker start --help</span></span><br><span class="line"></span><br><span class="line">Usage:  docker start [OPTIONS] CONTAINER [CONTAINER...]</span><br><span class="line"><span class="comment"># å¯åŠ¨ä¸€ä¸ªæˆ–è€…å¤šä¸ªå·²ç»åœæ­¢çš„å®¹å™¨</span></span><br><span class="line">Start one or more stopped containers</span><br><span class="line"></span><br><span class="line">Options:</span><br><span class="line"><span class="comment"># å¯åŠ¨å¹¶è¿›å…¥å®¹å™¨</span></span><br><span class="line">  -a, --attach               Attach STDOUT/STDERR and forward signals</span><br><span class="line"><span class="comment"># å¯åŠ¨å¹¶è¿›å…¥å®¹å™¨çš„æ ‡å‡†è¾“å‡ºè®¾å¤‡</span></span><br><span class="line">  -i, --interactive          Attach container<span class="string">&#x27;s STDIN</span></span><br></pre></td></tr></table></figure><h3 id="é‡å¯å®¹å™¨"><a href="#é‡å¯å®¹å™¨" class="headerlink" title="é‡å¯å®¹å™¨"></a>é‡å¯å®¹å™¨</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[root@zhima ~]<span class="comment"># docker restart --help</span></span><br><span class="line"></span><br><span class="line">Usage:  docker restart [OPTIONS] CONTAINER [CONTAINER...]</span><br><span class="line"></span><br><span class="line">Restart one or more containers</span><br><span class="line"></span><br><span class="line">Options:</span><br><span class="line">  -t, --time int   Seconds to <span class="built_in">wait</span> <span class="keyword">for</span> stop before killing the container (default 10)</span><br></pre></td></tr></table></figure><h3 id="æš‚åœå®¹å™¨"><a href="#æš‚åœå®¹å™¨" class="headerlink" title="æš‚åœå®¹å™¨"></a>æš‚åœå®¹å™¨</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@zhima ~]<span class="comment"># docker pause --help</span></span><br><span class="line"></span><br><span class="line">Usage:  docker pause CONTAINER [CONTAINER...]</span><br><span class="line"></span><br><span class="line">Pause all processes within one or more containers</span><br></pre></td></tr></table></figure><h3 id="å–æ¶ˆæš‚åœå®¹å™¨"><a href="#å–æ¶ˆæš‚åœå®¹å™¨" class="headerlink" title="å–æ¶ˆæš‚åœå®¹å™¨"></a>å–æ¶ˆæš‚åœå®¹å™¨</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@zhima ~]<span class="comment"># docker unpause --help</span></span><br><span class="line"></span><br><span class="line">Usage:  docker unpause CONTAINER [CONTAINER...]</span><br><span class="line"></span><br><span class="line">Unpause all processes within one or more containers</span><br></pre></td></tr></table></figure><h3 id="æŸ¥çœ‹å®¹å™¨çš„æºæ•°æ®"><a href="#æŸ¥çœ‹å®¹å™¨çš„æºæ•°æ®" class="headerlink" title="æŸ¥çœ‹å®¹å™¨çš„æºæ•°æ®"></a>æŸ¥çœ‹å®¹å™¨çš„æºæ•°æ®</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">[root@zhima ~]<span class="comment"># docker inspect --help</span></span><br><span class="line"></span><br><span class="line">Usage:  docker inspect [OPTIONS] NAME|ID [NAME|ID...]</span><br><span class="line"></span><br><span class="line">Return low-level information on Docker objects</span><br><span class="line"></span><br><span class="line">Options:</span><br><span class="line"><span class="comment"># æ ¼å¼åŒ–è¾“å‡º</span></span><br><span class="line">  -f, --format string   Format the output using the given Go template</span><br><span class="line"><span class="comment"># å±•ç¤ºå®¹å™¨çš„å ç”¨å†…å­˜</span></span><br><span class="line">  -s, --size            Display total file sizes <span class="keyword">if</span> the <span class="built_in">type</span> is container</span><br><span class="line"><span class="comment"># å°†JSONæ•°æ®è½¬åŒ–ä¸ºç‰¹æ®Šç±»å‹</span></span><br><span class="line">      --<span class="built_in">type</span> string     Return JSON <span class="keyword">for</span> specified <span class="built_in">type</span></span><br></pre></td></tr></table></figure><h3 id="æŸ¥çœ‹å®¹å™¨æ—¥å¿—"><a href="#æŸ¥çœ‹å®¹å™¨æ—¥å¿—" class="headerlink" title="æŸ¥çœ‹å®¹å™¨æ—¥å¿—"></a>æŸ¥çœ‹å®¹å™¨æ—¥å¿—</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">[root@zhima ~]<span class="comment"># docker logs --help</span></span><br><span class="line"></span><br><span class="line">Usage:  docker logs [OPTIONS] CONTAINER</span><br><span class="line"></span><br><span class="line">Fetch the logs of a container</span><br><span class="line"></span><br><span class="line">Options:</span><br><span class="line"><span class="comment"># æ˜¾ç¤ºè¯¦ç»†çš„æ•°æ®</span></span><br><span class="line">      --details        Show extra details provided to logs</span><br><span class="line"><span class="comment"># æ—¥å¿—ç»§ç»­è¾“å‡º</span></span><br><span class="line">  -f, --follow         Follow <span class="built_in">log</span> output</span><br><span class="line"><span class="comment"># åªå±•ç¤ºå°¾éƒ¨næ¡æ•°æ®</span></span><br><span class="line">  -n, --tail string    Number of lines to show from the end of the logs (default <span class="string">&quot;all&quot;</span>)</span><br><span class="line"><span class="comment"># å±•ç¤ºæ—¶é—´æˆ³</span></span><br><span class="line">  -t, --timestamps     Show timestamps</span><br></pre></td></tr></table></figure><h3 id="è¿›å…¥å®¹å™¨å†…éƒ¨"><a href="#è¿›å…¥å®¹å™¨å†…éƒ¨" class="headerlink" title="è¿›å…¥å®¹å™¨å†…éƒ¨"></a>è¿›å…¥å®¹å™¨å†…éƒ¨</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@zhima ~]<span class="comment"># docker attach --help</span></span><br><span class="line"></span><br><span class="line">Usage:  docker attach [OPTIONS] CONTAINER</span><br><span class="line"><span class="comment"># ç›´æ¥è¿›å…¥å®¹å™¨å½“å‰æ­£åœ¨è¿è¡Œçš„æ ‡å‡†è¾“å‡º</span></span><br><span class="line">Attach <span class="built_in">local</span> standard input, output, and error streams to a running container</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">[root@zhima ~]<span class="comment"># docker exec --help</span></span><br><span class="line"></span><br><span class="line">Usage:  docker <span class="built_in">exec</span> [OPTIONS] CONTAINER COMMAND [ARG...]</span><br><span class="line"><span class="comment"># åœ¨è¿è¡Œçš„å®¹å™¨ä¸­è¿è¡Œä¸€ä¸ªæ–°çš„command</span></span><br><span class="line">Run a <span class="built_in">command</span> <span class="keyword">in</span> a running container</span><br><span class="line"></span><br><span class="line">Options:</span><br><span class="line"><span class="comment"># åœ¨åå°è¿è¡Œcommand</span></span><br><span class="line">  -d, --detach               Detached mode: run <span class="built_in">command</span> <span class="keyword">in</span> the background</span><br><span class="line"><span class="comment"># è®¾ç½®ç¯å¢ƒå˜é‡</span></span><br><span class="line">  -e, --env list             Set environment variables</span><br><span class="line"><span class="comment"># è¯»å–æ–‡ä»¶ä¸­çš„ç¯å¢ƒå˜é‡</span></span><br><span class="line">      --env-file list        Read <span class="keyword">in</span> a file of environment variables</span><br><span class="line"><span class="comment"># ä¿æŒè¾“å‡ºæµå¼€å¯</span></span><br><span class="line">  -i, --interactive          Keep STDIN open even <span class="keyword">if</span> not attached</span><br><span class="line"><span class="comment"># ç»™äºˆæ­¤commandç™»å½•ç”¨æˆ·çš„æƒåŠ›</span></span><br><span class="line">      --privileged           Give extended privileges to the <span class="built_in">command</span></span><br><span class="line"><span class="comment"># åˆ†é…ä¸€ä¸ªä¼ªç»ˆç«¯</span></span><br><span class="line">  -t, --tty                  Allocate a pseudo-TTY</span><br></pre></td></tr></table></figure><p>ä¸€èˆ¬æˆ‘ä»¬éƒ½ä¼šä½¿ç”¨<code>docker exec -it containerId|containerName /bin/bash</code>è¿›å…¥å®¹å™¨</p><h3 id="é€€å‡ºå®¹å™¨"><a href="#é€€å‡ºå®¹å™¨" class="headerlink" title="é€€å‡ºå®¹å™¨"></a>é€€å‡ºå®¹å™¨</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å…³é—­å½“å‰çš„è¾“å‡ºæµï¼Œå¦‚æœå®¹å™¨ä¸­æ²¡æœ‰å…¶ä»–è¾“å‡ºæµï¼Œå®¹å™¨å°±ä¼šè‡ªå·±å…³é—­</span></span><br><span class="line"><span class="built_in">exit</span></span><br><span class="line"><span class="comment"># ä¿æŒå½“å‰è¾“å‡ºæµå¼€å¯</span></span><br><span class="line">Ctrl+p+q</span><br></pre></td></tr></table></figure><p>å¦‚æœå®¹å™¨ä¸­æ²¡æœ‰å‰å°è¿è¡Œçš„commandï¼Œåˆ™ä¼šè‡ªåŠ¨å…³é—­å®¹å™¨</p><h3 id="æŸ¥çœ‹å®¹å™¨å¼€æ”¾ç«¯å£"><a href="#æŸ¥çœ‹å®¹å™¨å¼€æ”¾ç«¯å£" class="headerlink" title="æŸ¥çœ‹å®¹å™¨å¼€æ”¾ç«¯å£"></a>æŸ¥çœ‹å®¹å™¨å¼€æ”¾ç«¯å£</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@zhima ~]<span class="comment"># docker port --help</span></span><br><span class="line"></span><br><span class="line">Usage:  docker port CONTAINER [PRIVATE_PORT[/PROTO]]</span><br><span class="line"></span><br><span class="line">List port mappings or a specific mapping <span class="keyword">for</span> the container</span><br></pre></td></tr></table></figure><h3 id="æŸ¥çœ‹å®¹å™¨å†…è¿›ç¨‹ä¿¡æ¯"><a href="#æŸ¥çœ‹å®¹å™¨å†…è¿›ç¨‹ä¿¡æ¯" class="headerlink" title="æŸ¥çœ‹å®¹å™¨å†…è¿›ç¨‹ä¿¡æ¯"></a>æŸ¥çœ‹å®¹å™¨å†…è¿›ç¨‹ä¿¡æ¯</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@zhima ~]<span class="comment"># docker top --help</span></span><br><span class="line"></span><br><span class="line">Usage:  docker top CONTAINER [ps OPTIONS]</span><br><span class="line"></span><br><span class="line">Display the running processes of a container</span><br></pre></td></tr></table></figure><h3 id="å®¿ä¸»æœºå’Œå®¹å™¨å†…çš„æ–‡ä»¶å¤åˆ¶"><a href="#å®¿ä¸»æœºå’Œå®¹å™¨å†…çš„æ–‡ä»¶å¤åˆ¶" class="headerlink" title="å®¿ä¸»æœºå’Œå®¹å™¨å†…çš„æ–‡ä»¶å¤åˆ¶"></a>å®¿ä¸»æœºå’Œå®¹å™¨å†…çš„æ–‡ä»¶å¤åˆ¶</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">[root@zhima ~]<span class="comment"># docker cp --help</span></span><br><span class="line"></span><br><span class="line">Usage:  </span><br><span class="line"><span class="comment"># å°†å®¹å™¨å†…çš„æ–‡ä»¶å¤åˆ¶åˆ°å®¿ä¸»æœºå†…</span></span><br><span class="line">docker cp [OPTIONS] CONTAINER:SRC_PATH DEST_PATH|-</span><br><span class="line"><span class="comment"># å°†å®¿ä¸»æœºä¸­çš„æ–‡ä»¶å¤åˆ¶åˆ°å®¹å™¨å†…</span></span><br><span class="line">docker cp [OPTIONS] SRC_PATH|- CONTAINER:DEST_PATH</span><br><span class="line"></span><br><span class="line">Copy files/folders between a container and the <span class="built_in">local</span> filesystem</span><br><span class="line"></span><br><span class="line">Use <span class="string">&#x27;-&#x27;</span> as the <span class="built_in">source</span> to <span class="built_in">read</span> a tar archive from stdin</span><br><span class="line">and extract it to a directory destination <span class="keyword">in</span> a container.</span><br><span class="line"></span><br><span class="line">Use <span class="string">&#x27;-&#x27;</span> as the destination to stream a tar archive of a</span><br><span class="line">container <span class="built_in">source</span> to stdout.</span><br></pre></td></tr></table></figure><h2 id="å‘½ä»¤æ€»ç»“"><a href="#å‘½ä»¤æ€»ç»“" class="headerlink" title="å‘½ä»¤æ€»ç»“"></a>å‘½ä»¤æ€»ç»“</h2><img src="/javaEE/Docker/2022/07/13/Docker-%E5%9F%BA%E7%A1%80/image-20220713123408178.png" class title="æ€»ç»“å›¾"><h2 id="é•œåƒçš„ç†è§£"><a href="#é•œåƒçš„ç†è§£" class="headerlink" title="é•œåƒçš„ç†è§£"></a>é•œåƒçš„ç†è§£</h2><h3 id="ä»€ä¹ˆæ˜¯é•œåƒ"><a href="#ä»€ä¹ˆæ˜¯é•œåƒ" class="headerlink" title="ä»€ä¹ˆæ˜¯é•œåƒ"></a>ä»€ä¹ˆæ˜¯é•œåƒ</h3><p>é•œåƒæ˜¯ä¸€ç§è½»é‡çº§ã€å¯æ‰§è¡Œçš„ç‹¬ç«‹è½¯ä»¶åŒ…</p><p>å®ƒåŒ…å«è¿è¡ŒæŸä¸ªè½¯ä»¶æ‰€éœ€è¦çš„æ‰€æœ‰å†…å®¹ï¼ŒåŒ…æ‹¬ä»£ç ï¼Œè¿è¡Œæ—¶ï¼ˆä¸€ä¸ªç¨‹åºåœ¨è¿è¡Œæˆ–è€…åœ¨è¢«æ‰§è¡Œçš„ä¾èµ–ï¼‰ã€åº“ï¼Œç¯å¢ƒå˜é‡å’Œé…ç½®æ–‡ä»¶ã€‚</p><h3 id="é•œåƒåŠ è½½åŸç†"><a href="#é•œåƒåŠ è½½åŸç†" class="headerlink" title="é•œåƒåŠ è½½åŸç†"></a>é•œåƒåŠ è½½åŸç†</h3><blockquote><p>UnionFS</p></blockquote><p>UnionFS (è”åˆæ–‡ä»¶ç³»ç»Ÿ) æ˜¯ä¸€ç§<strong>åˆ†å±‚</strong>ã€è½»é‡çº§å¹¶ä¸”é«˜æ€§èƒ½çš„æ–‡ä»¶ç³»ç»Ÿ</p><p>å®ƒæ”¯æŒå¯¹æ–‡ä»¶ç³»ç»Ÿçš„ä¿®æ”¹ä½œä¸ºä¸€æ¬¡ä¸€æ¬¡çš„æäº¤åšä¸€å±‚å±‚çš„å åŠ </p><p>è”åˆåŠ è½½ä¼šæŠŠå„å±‚æ–‡ä»¶ç³»ç»Ÿå åŠ èµ·æ¥,è¿™æ ·æœ€ç»ˆçš„æ–‡ä»¶ç³»ç»Ÿä¼šåŒ…å«æ‰€æœ‰åº•å±‚çš„æ–‡ä»¶å’Œç›®å½•</p><blockquote><p>BootFS</p></blockquote><p>BootFS(Boot file system)ä¸»è¦åŒ…å«Bootloaderå’ŒKernel</p><p>Bootloaderä¸»è¦æ˜¯å¼•å¯¼åŠ è½½Kernelå†…æ ¸ï¼ŒLinuxåˆšå¯åŠ¨æ—¶ä¼šåŠ è½½Bootfsæ–‡ä»¶ç³»ç»Ÿ</p><p>å½“BootloaderåŠ è½½å®Œæˆä¹‹åæ•´ä¸ªå†…æ ¸å°±éƒ½åœ¨å†…å­˜ä¸­äº†</p><p>æ­¤æ—¶å†…å­˜çš„ä½¿ç”¨æƒå·²ç”±Bootfsè½¬äº¤ç»™å†…æ ¸ï¼Œç³»ç»Ÿä¹Ÿä¼šå¸è½½BootFS</p><blockquote><p>RootFS</p></blockquote><p>RootFS (root file system) ï¼Œåœ¨Bootfsä¹‹ä¸Šã€‚åŒ…å«çš„å°±æ˜¯å…¸å‹Linuxç³»ç»Ÿä¸­çš„&#x2F;dev, &#x2F;proc, &#x2F;bin, &#x2F;etcç­‰æ ‡å‡†ç›®å½•å’Œæ–‡ä»¶ã€‚Rootfså°±æ˜¯<br>å„ç§ä¸åŒçš„æ“ä½œç³»ç»Ÿå‘è¡Œç‰ˆ,æ¯”å¦‚Ubuntu , Centosç­‰ç­‰ã€‚</p><blockquote><p>dockerçš„centosé•œåƒä¸ºä»€ä¹ˆé‚£ä¹ˆå°ï¼Ÿ</p></blockquote><p>å¯¹äºä¸€ä¸ªç²¾ç®€çš„OSï¼ŒRootFSå¯ä»¥å¾ˆå°ï¼ŒåªåŒ…å«ä¸€äº›æœ€åŸºæœ¬çš„å‘½ä»¤ã€å·¥å…·ã€åº“å°±å¯ä»¥äº†</p><p>å½“æˆ‘ä»¬å¯åŠ¨äº†ä¸€ä¸ªå®¹å™¨ï¼Œå®ƒåº•å±‚å¯ä»¥ç›´æ¥ä½¿ç”¨å®¿ä¸»æœºå·²ç»åŠ è½½å¥½çš„Kernel</p><p>å°±ä¸éœ€è¦è‡ªå·±å†è™šæ‹Ÿä¸€å¥—ç¯å¢ƒï¼Œé‡æ–°ä½¿ç”¨BootFSåŠ è½½ä¸€ä¸ªæ–°çš„å†…æ ¸ï¼Œå¤§å¤§èŠ‚çœäº†å¼€é”€</p><hr><p>Union æ–‡ä»¶ç³»ç»Ÿæ˜¯Dockeré•œåƒçš„åŸºç¡€ã€‚</p><p>é•œåƒå¯ä»¥é€šè¿‡åˆ†å±‚æ¥è¿›è¡Œç»§æ‰¿,åŸºäºåŸºç¡€é•œåƒ(æ²¡æœ‰çˆ¶é•œåƒ) , å¯ä»¥åˆ¶ä½œå„ç§å…·ä½“çš„åº”ç”¨é•œåƒã€‚</p><p>å½“æˆ‘ä»¬æ‹‰å–ä¸€ä¸ªé•œåƒ</p><img src="/javaEE/Docker/2022/07/13/Docker-%E5%9F%BA%E7%A1%80/image-20220714104335032.png" class title="æ‹‰å–é•œåƒ"><p>æˆ‘ä»¬å¯ä»¥å‘ç°</p><p>è¯¥é•œåƒæ˜¯ä¸€å±‚ä¸€å±‚ä¸‹è½½çš„è€Œä¸æ˜¯ä¸€æ•´ä¸ªä¸‹è½½çš„</p><p>è¿™å°±ç¬¦åˆäº†UnionFSçš„ç‰¹æ€§</p><p>å‰é¢å‡ å±‚æ˜¯åœ¨æˆ‘ä¸‹è½½å…¶ä»–é•œåƒçš„æ—¶å€™å·²ç»ä¸‹è½½è¿‡äº†</p><p>å°±å¯ä»¥ç›´æ¥æ‹¿æ¥ä½¿ç”¨ï¼Œä¸éœ€è¦å†æ¬¡ä¸‹è½½ï¼Œå®ç°äº†<strong>èµ„æºå…±äº«</strong>ï¼Œæå¤§çš„èŠ‚çœäº†å†…å­˜</p><h4 id="æŸ¥çœ‹é•œåƒåˆ†å±‚"><a href="#æŸ¥çœ‹é•œåƒåˆ†å±‚" class="headerlink" title="æŸ¥çœ‹é•œåƒåˆ†å±‚"></a>æŸ¥çœ‹é•œåƒåˆ†å±‚</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker image inspect imageId|imageName</span><br></pre></td></tr></table></figure><img src="/javaEE/Docker/2022/07/13/Docker-%E5%9F%BA%E7%A1%80/image-20220714104702049.png" class title="æŸ¥çœ‹é•œåƒåˆ†å±‚"><h4 id="ç‰¹ç‚¹"><a href="#ç‰¹ç‚¹" class="headerlink" title="ç‰¹ç‚¹"></a>ç‰¹ç‚¹</h4><p>Dockeré•œåƒéƒ½æ˜¯åªè¯»çš„</p><p>å½“ä½¿ç”¨å‘½ä»¤å¯åŠ¨äº†ä¸€ä¸ªæ–°çš„å®¹å™¨çš„æ—¶å€™</p><p>è¯¥é•œåƒå…ˆè¢«å¤åˆ¶</p><p>æ¥ç€ä¸€ä¸ªæ–°çš„å¯å†™å±‚è¢«æ·»åŠ åˆ°è¯¥å¤åˆ¶åçš„é•œåƒçš„é¡¶å±‚</p><p>è¿™ä¸€å±‚å°±æ˜¯å®¹å™¨å±‚</p><p>æ‰€ä»¥å½“æˆ‘ä»¬æ–°å»ºäº†ä¸€ä¸ªå®¹å™¨åï¼Œå¦‚æœæƒ³å°†æœ¬æ¬¡ä¿®æ”¹åçš„å®¹å™¨æ‰“åŒ…æˆä¸€ä¸ªæ–°çš„é•œåƒï¼Œå°±éœ€è¦ä½¿ç”¨<code>docker commit</code>å‘½ä»¤</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">[root@zhima volumes]<span class="comment"># docker commit --help</span></span><br><span class="line"></span><br><span class="line">Usage:  docker commit [OPTIONS] CONTAINER [REPOSITORY[:TAG]]</span><br><span class="line"></span><br><span class="line">Create a new image from a container<span class="string">&#x27;s changes</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Options:</span></span><br><span class="line"><span class="string">  -a, --author string    Author (e.g., &quot;John Hannibal Smith &lt;hannibal@a-team.com&gt;&quot;)</span></span><br><span class="line"><span class="string">  -c, --change list      Apply Dockerfile instruction to the created image</span></span><br><span class="line"><span class="string">  -m, --message string   Commit message</span></span><br><span class="line"><span class="string">  -p, --pause            Pause container during commit (default true)</span></span><br></pre></td></tr></table></figure><h3 id="æ•°æ®å·"><a href="#æ•°æ®å·" class="headerlink" title="æ•°æ®å·"></a>æ•°æ®å·</h3><p>æ•°æ®å·æŠ€æœ¯ï¼Œè¯´ç™½äº†ï¼Œå…¶å®å°±æ˜¯æ–‡ä»¶çš„åŒæ­¥</p><p>æˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªMySQLçš„å®¹å™¨ï¼Œæˆ‘ä»¬ä¸å¯¹å…¶åšä»»ä½•æªæ–½</p><p>å¦‚æœæˆ‘ä»¬è¯¯åˆ é™¤æˆ–è€…æœ‰äººæ¶æ„åˆ é™¤äº†è¯¥å®¹å™¨</p><p>é‚£ä¹ˆé‡Œé¢ä¿å­˜çš„æ•°æ®ä¹Ÿå°±éšä¹‹ä¸¢å¤±äº†</p><p>è¿™æ˜¯ä¸€ä»¶ååˆ†æ¶åŠ£çš„äº‹æƒ…</p><p>æ‰€ä»¥ä¸ºäº†é˜²æ­¢è¿™ç§äº‹æƒ…</p><p>æˆ‘ä»¬å°±éœ€è¦ä½¿ç”¨ä¸€ç§æŠ€æœ¯ï¼Œå°†å®¹å™¨å†…ä¿å­˜æ•°æ®çš„ç›®å½•æŒ‚è½½åˆ°å®¿ä¸»æœºä¸Š</p><p>è¿™ç§æŠ€æœ¯å°±æ˜¯æ•°æ®å·æŠ€æœ¯</p><h4 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h4><p>è¿™é‡Œæˆ‘ä»¬éƒ¨ç½²ä¸€ä¸ªMySQLæ¥è®©å¤§å®¶æ˜ç™½å¦‚ä½•ä½¿ç”¨å·æŠ€æœ¯</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -v å®¿ä¸»æœºç›®å½•:å®¹å™¨å†…ç›®å½•</span></span><br><span class="line"><span class="comment"># -p å®¿ä¸»æœºçŸ­è£¤:å®¹å™¨ç«¯å£</span></span><br><span class="line"><span class="comment"># -d åå°å¯åŠ¨</span></span><br><span class="line"><span class="comment"># -e è®¾ç½®ç¯å¢ƒå˜é‡</span></span><br><span class="line">[root@zhima home]<span class="comment"># docker run --name mysql01 -v /home/mysql:/usr/share/mysql -v /home/mysql/conf:/etc/mysql/conf.d -p 49102:3306  -d -e MYSQL_ROOT_PASSWORD=123456  mysql</span></span><br><span class="line"></span><br><span class="line">[root@zhima home]<span class="comment"># docker ps</span></span><br><span class="line">CONTAINER ID   IMAGE          COMMAND                  CREATED         STATUS         PORTS                                NAMES</span><br><span class="line">d49309c0ab18   mysql          <span class="string">&quot;docker-entrypoint.sâ€¦&quot;</span>   6 seconds ago   Up 4 seconds   33060/tcp, 0.0.0.0:49102-&gt;3306/tcp   mysql01</span><br><span class="line">[root@zhima conf]<span class="comment"># cd /home/mysql/data/</span></span><br><span class="line">[root@zhima data]<span class="comment"># ls</span></span><br><span class="line">auto.cnf       binlog.000002  ca-key.pem  client-cert.pem  <span class="comment">#ib_16384_0.dblwr  ib_buffer_pool  ib_logfile0  ibtmp1        mysql      performance_schema  public_key.pem   server-key.pem  undo_001</span></span><br><span class="line">binlog.000001  binlog.index   ca.pem      client-key.pem   <span class="comment">#ib_16384_1.dblwr  ibdata1         ib_logfile1  #innodb_temp  mysql.ibd  private_key.pem     server-cert.pem  sys             undo_002</span></span><br></pre></td></tr></table></figure><img src="/javaEE/Docker/2022/07/13/Docker-%E5%9F%BA%E7%A1%80/image-20220714115412356.png" class title="æµ‹è¯•è¿æ¥"><p>åˆ é™¤å®¹å™¨ä¹‹åï¼Œå®¿ä¸»æœºä¸­ä»ç„¶ä¿å­˜ç€å®¹å™¨å†…çš„æ•°æ®</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@zhima data]<span class="comment"># docker stop mysql01</span></span><br><span class="line">mysql01</span><br><span class="line">[root@zhima data]<span class="comment"># ls</span></span><br><span class="line">auto.cnf       binlog.000002  ca-key.pem  client-cert.pem  <span class="comment">#ib_16384_0.dblwr  ib_buffer_pool  ib_logfile0  #innodb_temp  mysql.ibd           private_key.pem  server-cert.pem  sys       undo_002</span></span><br><span class="line">binlog.000001  binlog.index   ca.pem      client-key.pem   <span class="comment">#ib_16384_1.dblwr  ibdata1         ib_logfile1  mysql         performance_schema  public_key.pem   server-key.pem   undo_001</span></span><br></pre></td></tr></table></figure><h4 id="å…·åæŒ‚è½½å’ŒåŒ¿åæŒ‚è½½"><a href="#å…·åæŒ‚è½½å’ŒåŒ¿åæŒ‚è½½" class="headerlink" title="å…·åæŒ‚è½½å’ŒåŒ¿åæŒ‚è½½"></a>å…·åæŒ‚è½½å’ŒåŒ¿åæŒ‚è½½</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åŒ¿åæŒ‚è½½ï¼Œæˆ‘ä¸æŒ‡å®šå®¿ä¸»å¥çš„è·¯å¾„ï¼ŒæŒ‡å®šå®¹å™¨å†…çš„è·¯å¾„</span></span><br><span class="line">[root@zhima home]<span class="comment"># docker run --name mysql01 -v /usr/share/mysql -v /etc/mysql/conf.d -p 49102:3306  -d -e MYSQL_ROOT_PASSWORD=123456  mysql</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å…·åæŒ‚è½½ï¼Œæˆ‘ä¸æŒ‡å®šå®¿ä¸»å¥çš„è·¯å¾„ï¼Œä½†æ˜¯æŒ‡å®šä¸€ä¸ªåå­—ï¼Œå¹¶æŒ‡å®šå®¹å™¨å†…çš„è·¯å¾„</span></span><br><span class="line">[root@zhima home]<span class="comment"># docker run --name mysql01 -v mysql_data:/usr/share/mysql -v mysql_config:/etc/mysql/conf.d -p 49102:3306  -d -e MYSQL_ROOT_PASSWORD=123456  mysql</span></span><br></pre></td></tr></table></figure><p>ä¸ç®¡æ˜¯å…·åæŒ‚è½½è¿˜æ˜¯åŒ¿åæŒ‚è½½éƒ½æ˜¯dockerè‡ªåŠ¨åœ¨<code>/var/lib/docker/volumes</code>ç›®å½•ä¸‹åˆ›å»ºæ–‡ä»¶å¤¹</p><p>åªä¸è¿‡å…·åæŒ‚è½½å¯ä»¥è‡ªå·±æŒ‡å®šè¯¥æ–‡ä»¶å¤¹çš„åå­—</p><h4 id="æ•°æ®å·å®¹å™¨"><a href="#æ•°æ®å·å®¹å™¨" class="headerlink" title="æ•°æ®å·å®¹å™¨"></a>æ•°æ®å·å®¹å™¨</h4><p>å¦‚ä½•åšåˆ°å¤šä¸ªå®¹å™¨é—´æ•°æ®å…±äº«å‘¢ï¼Ÿ </p><p>é‚£å°±éœ€è¦ä½¿ç”¨æ•°æ®å·å®¹å™¨æŠ€æœ¯ï¼Œå…¶å®å°±æ˜¯ä¸€ä¸ªå¯é€‰é¡¹ï¼Œä¸‹é¢çœ‹ä½¿ç”¨</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@zhima home]<span class="comment"># docker run --name mysql01 -v mysql_data:/usr/share/mysql -v mysql_config/etc/mysql/conf.d -p 49102:3306  -d -e MYSQL_ROOT_PASSWORD=123456  mysql</span></span><br><span class="line">[root@zhima home]<span class="comment"># docker run --name mysql02 --volumes-from mysql01 -p 49103:3306  -d -e MYSQL_ROOT_PASSWORD=123456  mysql</span></span><br><span class="line">[root@zhima home]<span class="comment"># docker run --name mysql03 --volumes-from mysql01 -p 49103:3306  -d -e MYSQL_ROOT_PASSWORD=123456  mysql</span></span><br></pre></td></tr></table></figure><p>mysql01å°±å«æ•°æ®å·å®¹å™¨</p><p>mysql02ã€mysql03å°±ä¼šå’Œmysql01çš„æŒ‚è½½æ˜¯ä¸€æ ·çš„</p><p>å³mysql02å’Œmysql03éƒ½å’Œmysql01ä¸€æ ·æŒ‚è½½åˆ°äº†å®¿ä¸»æœºçš„åŒä¸ªç›®å½•</p><p><code>/var/lib/docker/volumes/mysql_data</code>å’Œ<code>/var/lib/docker/volumes/mysql_cofig</code></p><h4 id="å¯¹æ•°æ®å·çš„æ“ä½œ"><a href="#å¯¹æ•°æ®å·çš„æ“ä½œ" class="headerlink" title="å¯¹æ•°æ®å·çš„æ“ä½œ"></a>å¯¹æ•°æ®å·çš„æ“ä½œ</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å¯¹å·çš„æ“ä½œ</span></span><br><span class="line">[root@zhima etc]<span class="comment"># docker volume --help</span></span><br><span class="line"></span><br><span class="line">Usage:  docker volume COMMAND</span><br><span class="line"></span><br><span class="line">Manage volumes</span><br><span class="line"></span><br><span class="line">Commands:</span><br><span class="line">  create      Create a volume</span><br><span class="line">  inspect     Display detailed information on one or more volumes</span><br><span class="line">  ls          List volumes</span><br><span class="line">  prune       Remove all unused <span class="built_in">local</span> volumes</span><br><span class="line">  rm          Remove one or more volumes</span><br></pre></td></tr></table></figure><h2 id="Dockerfile"><a href="#Dockerfile" class="headerlink" title="Dockerfile"></a>Dockerfile</h2><p>Dockerfileå°±æ˜¯ç”¨æ¥æ„å»ºdockeré•œåƒçš„æ–‡ä»¶</p><p>1ã€Dockerfileä¸­çš„ä¿ç•™å…³é”®è¯ä½¿ç”¨çš„æ—¶å€™éƒ½å¿…é¡»æ˜¯å¤§å†™</p><p>2ã€æŒ‡ä»¤æ˜¯ä»ä¸Šåˆ°ä¸‹æ‰§è¡Œçš„</p><p>3ã€#è¡¨ç¤ºæ³¨é‡Š</p><p>4ã€æ¯ä¸€ä¸ªæŒ‡ä»¤éƒ½ä¼šåˆ›å»ºå¹¶æäº¤ä¸€å±‚é•œåƒå±‚</p><h3 id="æŒ‡ä»¤"><a href="#æŒ‡ä»¤" class="headerlink" title="æŒ‡ä»¤"></a>æŒ‡ä»¤</h3><p>Dockerfileä¸­çš„æŒ‡ä»¤</p><table><thead><tr><th align="center">æŒ‡ä»¤</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td align="center">FROM</td><td>è¯´æ˜é•œåƒä½¿ç”¨çš„åŸºç¡€é•œåƒ</td></tr><tr><td align="center">MAINTAINER</td><td>è®¾ç½®é•œåƒçš„ä½œè€…</td></tr><tr><td align="center">ADD</td><td>æ„å»ºé•œåƒçš„æ—¶å€™å¤åˆ¶æ–‡ä»¶åˆ°å®¹å™¨å†…</td></tr><tr><td align="center">COPY</td><td>æ„å»ºé•œåƒçš„æ—¶å€™å¤åˆ¶æ–‡ä»¶åˆ°å®¹å™¨å†…</td></tr><tr><td align="center">RUN</td><td>è®¾ç½®å®¹å™¨çš„å¯åŠ¨å‘½ä»¤</td></tr><tr><td align="center">ONBUILD</td><td>è®¾ç½®é•œåƒçš„ONBUILDæŒ‡ä»¤</td></tr><tr><td align="center">WORKDIR</td><td>è®¾ç½®è¿è¡ŒRUN CMD ENTRYPOINT COPY ADDæŒ‡ä»¤çš„å·¥ä½œç›®å½•</td></tr><tr><td align="center">USER</td><td>è®¾ç½®è¿è¡ŒRUN CMD ENTRYPOINTçš„ç”¨æˆ·å</td></tr><tr><td align="center">STOPSIGNAL</td><td>è®¾ç½®å®¹å™¨é€€å‡ºçš„æ—¶å€™çš„ä¿¡å·é‡</td></tr><tr><td align="center">ARG</td><td>è®¾ç½®ç¼–è¯‘é•œåƒçš„æ—¶å€™åŠ å…¥çš„å‚æ•°</td></tr><tr><td align="center">LABEL</td><td>è®¾ç½®é•œåƒçš„æ ‡ç­¾</td></tr><tr><td align="center">CMD</td><td>ç¼–è¯‘é•œåƒçš„æ—¶å€™è¿è¡Œçš„è„šæœ¬</td></tr><tr><td align="center">ENV</td><td>è®¾ç½®å®¹å™¨çš„ç¯å¢ƒå˜é‡</td></tr><tr><td align="center">EXPOSE</td><td>è®¾ç½®é•œåƒæš´éœ²çš„ç«¯å£</td></tr><tr><td align="center">ENTRYPOINT</td><td>è®¾ç½®å®¹å™¨çš„å…¥å£ç¨‹åº</td></tr><tr><td align="center">VOLUME</td><td>è®¾ç½®å®¹å™¨çš„æŒ‚è½½å·</td></tr></tbody></table><h3 id="å°è¯•ç‰›åˆ€"><a href="#å°è¯•ç‰›åˆ€" class="headerlink" title="å°è¯•ç‰›åˆ€"></a>å°è¯•ç‰›åˆ€</h3><p>è‡ªå·±åˆ¶ä½œä¸€ä¸ªå¸¦ç½‘ç»œé…ç½®å’Œvimçš„centosé•œåƒ</p><figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">FROM</span> centos</span><br><span class="line"></span><br><span class="line"><span class="keyword">MAINTAINER</span> zhima&lt;<span class="number">1158778689</span>@qq.com&gt;</span><br><span class="line"></span><br><span class="line"><span class="keyword">ENV</span> MYPATH /usr/local</span><br><span class="line"></span><br><span class="line"><span class="keyword">WORKDIR</span><span class="bash"> <span class="variable">$MYPATH</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ä¸‹é¢ä¸‰è¡ŒRUNå‘½ä»¤æ˜¯ä¸ºäº†è§£å†³ä»¥ä¸‹è¿™ä¸ªé”™è¯¯çš„</span></span><br><span class="line"><span class="comment"># Error: Failed to download metadata for repo &#x27;appstream&#x27;: Cannot prepare internal mirrorlist: No URLs in mirrorlist</span></span><br><span class="line"><span class="keyword">RUN</span><span class="bash"> <span class="built_in">cd</span> /etc/yum.repos.d/</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">RUN</span><span class="bash"> sed -i <span class="string">&#x27;s/mirrorlist/#mirrorlist/g&#x27;</span> /etc/yum.repos.d/CentOS-*</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">RUN</span><span class="bash"> sed -i <span class="string">&#x27;s|#baseurl=http://mirror.centos.org|baseurl=http://vault.centos.org|g&#x27;</span> /etc/yum.repos.d/CentOS-*</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">RUN</span><span class="bash"> yum -y install vim</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">RUN</span><span class="bash"> yum -y install net-tools</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">EXPOSE</span> <span class="number">80</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">CMD</span><span class="bash"> <span class="built_in">echo</span> <span class="variable">$MYPATH</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">CMD</span><span class="bash"> [<span class="string">&quot;ls&quot;</span>,<span class="string">&quot;-l&quot;</span>]</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">CMD</span><span class="bash"> /bin/bash</span></span><br></pre></td></tr></table></figure><h3 id="æ„å»º"><a href="#æ„å»º" class="headerlink" title="æ„å»º"></a>æ„å»º</h3><p>æ„å»ºå‘½ä»¤</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">[root@zhima home]<span class="comment"># docker build --help</span></span><br><span class="line"></span><br><span class="line">Usage:  docker build [OPTIONS] PATH | URL | -</span><br><span class="line"></span><br><span class="line">Build an image from a Dockerfile</span><br><span class="line"></span><br><span class="line">Options:</span><br><span class="line"><span class="comment"># Dockerfileçš„åå­—</span></span><br><span class="line">  -f, --file string             Name of the Dockerfile (Default is <span class="string">&#x27;PATH/Dockerfile&#x27;</span>)</span><br><span class="line"><span class="comment"># ç”Ÿæˆçš„é•œåƒçš„æ ‡ç­¾</span></span><br><span class="line">  -t, --tag list                Name and optionally a tag <span class="keyword">in</span> the <span class="string">&#x27;name:tag&#x27;</span> format</span><br><span class="line">  </span><br><span class="line">docker build -f Dockerfile -t myImageName:tag ./</span><br></pre></td></tr></table></figure><p>æ„å»ºé•œåƒ</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@zhima lizhi]<span class="comment"># docker build -t mycentos:1.0 .</span></span><br></pre></td></tr></table></figure><h3 id="å¯åŠ¨å®¹å™¨"><a href="#å¯åŠ¨å®¹å™¨" class="headerlink" title="å¯åŠ¨å®¹å™¨"></a>å¯åŠ¨å®¹å™¨</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@zhima lizhi]<span class="comment"># docker run -it --name centos1  mycentos:1.0</span></span><br><span class="line">[root@49ea92e17942 <span class="built_in">local</span>]<span class="comment"># </span></span><br></pre></td></tr></table></figure><h3 id="CMDå’ŒENTRYPOINT"><a href="#CMDå’ŒENTRYPOINT" class="headerlink" title="CMDå’ŒENTRYPOINT"></a>CMDå’ŒENTRYPOINT</h3><p>æˆ‘ä»¬æ¥è¯•ä¸€ä¸‹æ„å»ºè¿™ä¸ªDockerfileï¼Œå¹¶è¿è¡Œ</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">FROM centos</span><br><span class="line"></span><br><span class="line">CMD [<span class="string">&quot;ls&quot;</span>,<span class="string">&quot;-a&quot;</span>]</span><br></pre></td></tr></table></figure><p>æ„å»º</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[root@zhima lizhi]<span class="comment"># docker build -t mycentos .</span></span><br><span class="line">Sending build context to Docker daemon  17.92kB</span><br><span class="line">Step 1/2 : FROM centos</span><br><span class="line"> ---&gt; 5d0da3dc9764</span><br><span class="line">Step 2/2 : CMD [<span class="string">&quot;ls&quot;</span>,<span class="string">&quot;-a&quot;</span>]</span><br><span class="line"> ---&gt; Running <span class="keyword">in</span> a1e70a05d8dd</span><br><span class="line">Removing intermediate container a1e70a05d8dd</span><br><span class="line"> ---&gt; 00433fd4c299</span><br><span class="line">Successfully built 00433fd4c299</span><br><span class="line">Successfully tagged mycentos:latest</span><br></pre></td></tr></table></figure><p>è¿è¡Œ</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@zhima lizhi]<span class="comment"># docker run -it --name &quot;centos1&quot; mycentos</span></span><br><span class="line">.   .dockerenvdev  home  lib64       media  opt   root  sbinsys  usr</span><br><span class="line">..  binetc  lib   lost+found  mnt    proc  run   srvtmp  var</span><br></pre></td></tr></table></figure><p>å¯ä»¥å‘ç°ï¼Œè¿›å…¥å®¹å™¨ä¹‹åï¼Œå°±æ‰§è¡Œäº†<code>ls -a</code>å‘½ä»¤</p><p>æˆ‘ä»¬å°è¯•ä¸€ä¸‹åœ¨å¯åŠ¨çš„æ—¶å€™åŠ å…¥ä¸€äº›å‚æ•°</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@zhima lizhi]<span class="comment"># docker run -it --name &quot;centos2&quot; mycentos -l</span></span><br><span class="line">docker: Error response from daemon: OCI runtime create failed: container_linux.go:380: starting container process caused: <span class="built_in">exec</span>: <span class="string">&quot;-l&quot;</span>: executable file not found <span class="keyword">in</span> <span class="variable">$PATH</span>: unknown.</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬å‘ç°å®¹å™¨å¹¶æ²¡æœ‰æ‰§è¡Œ<code>ls -al</code>ï¼Œè€Œæ˜¯ç›´æ¥æŠ¥é”™äº†</p><p>å…¶å®è¿™å°±æ˜¯CMDçš„ç‰¹æ€§ï¼Œå½“æˆ‘åœ¨å¯åŠ¨å®¹å™¨çš„æ—¶å€™æ·»åŠ äº†ä¸€ä¸ªCMDå</p><p>é•œåƒä¸­å®šä¹‰çš„CMDå°±è¢«è¦†ç›–æ‰äº†</p><p>å•ç‹¬çš„<code>-l</code>å½“ç„¶ä¼šæŠ¥é”™äº†</p><hr><p>æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹ä½¿ç”¨ENTRYPOINTä¼šæ€ä¹ˆæ ·</p><p>ä¿®æ”¹Dockerfile</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">FROM centos</span><br><span class="line"></span><br><span class="line">ENTRYPOINT [<span class="string">&quot;ls&quot;</span>,<span class="string">&quot;-a&quot;</span>]</span><br></pre></td></tr></table></figure><p>é‡æ–°æ„å»º</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[root@zhima lizhi]<span class="comment"># docker build -t mycentos .</span></span><br><span class="line">Sending build context to Docker daemon  17.92kB</span><br><span class="line">Step 1/2 : FROM centos</span><br><span class="line"> ---&gt; 5d0da3dc9764</span><br><span class="line">Step 2/2 : ENTRYPOINT [<span class="string">&quot;ls&quot;</span>,<span class="string">&quot;-a&quot;</span>]</span><br><span class="line"> ---&gt; Running <span class="keyword">in</span> 22ef40dea625</span><br><span class="line">Removing intermediate container 22ef40dea625</span><br><span class="line"> ---&gt; 73a3d51b4d84</span><br><span class="line">Successfully built 73a3d51b4d84</span><br><span class="line">Successfully tagged mycentos:latest</span><br></pre></td></tr></table></figure><p>è¿è¡Œå®¹å™¨</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">[root@zhima lizhi]<span class="comment"># docker run -it --name &quot;centos1&quot; mycentos -l</span></span><br><span class="line">total 56</span><br><span class="line">drwxr-xr-x   1 root root 4096 Jul 14 08:52 .</span><br><span class="line">drwxr-xr-x   1 root root 4096 Jul 14 08:52 ..</span><br><span class="line">-rwxr-xr-x   1 root root    0 Jul 14 08:52 .dockerenv</span><br><span class="line">lrwxrwxrwx   1 root root    7 Nov  3  2020 bin -&gt; usr/bin</span><br><span class="line">drwxr-xr-x   5 root root  360 Jul 14 08:52 dev</span><br><span class="line">drwxr-xr-x   1 root root 4096 Jul 14 08:52 etc</span><br><span class="line">drwxr-xr-x   2 root root 4096 Nov  3  2020 home</span><br><span class="line">lrwxrwxrwx   1 root root    7 Nov  3  2020 lib -&gt; usr/lib</span><br><span class="line">lrwxrwxrwx   1 root root    9 Nov  3  2020 lib64 -&gt; usr/lib64</span><br><span class="line">drwx------   2 root root 4096 Sep 15  2021 lost+found</span><br><span class="line">drwxr-xr-x   2 root root 4096 Nov  3  2020 media</span><br><span class="line">drwxr-xr-x   2 root root 4096 Nov  3  2020 mnt</span><br><span class="line">drwxr-xr-x   2 root root 4096 Nov  3  2020 opt</span><br><span class="line">dr-xr-xr-x 191 root root    0 Jul 14 08:52 proc</span><br><span class="line">dr-xr-x---   2 root root 4096 Sep 15  2021 root</span><br><span class="line">drwxr-xr-x  11 root root 4096 Sep 15  2021 run</span><br><span class="line">lrwxrwxrwx   1 root root    8 Nov  3  2020 sbin -&gt; usr/sbin</span><br><span class="line">drwxr-xr-x   2 root root 4096 Nov  3  2020 srv</span><br><span class="line">dr-xr-xr-x  13 root root    0 Jan 29 10:27 sys</span><br><span class="line">drwxrwxrwt   7 root root 4096 Sep 15  2021 tmp</span><br><span class="line">drwxr-xr-x  12 root root 4096 Sep 15  2021 usr</span><br><span class="line">drwxr-xr-x  20 root root 4096 Sep 15  2021 var</span><br></pre></td></tr></table></figure><p>å¯ä»¥å‘ç°ï¼Œå®¹å™¨æ‰§è¡Œçš„æ˜¯<code>ls -al</code>ï¼Œ<code>-l</code>æŒ‡ä»¤è¢«è¿½åŠ ç»™äº†ENTRYPOINTå®šä¹‰çš„è¯­å¥</p>]]></content>
      
      
      <categories>
          
          <category> javaEE </category>
          
          <category> Docker </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Docker </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Docker-å¯¼è¨€</title>
      <link href="/javaEE/Docker/2022/07/13/Docker-%E5%AF%BC%E8%A8%80/"/>
      <url>/javaEE/Docker/2022/07/13/Docker-%E5%AF%BC%E8%A8%80/</url>
      
        <content type="html"><![CDATA[<h1 id="Docker-å¯¼è¨€"><a href="#Docker-å¯¼è¨€" class="headerlink" title="Docker-å¯¼è¨€"></a>Docker-å¯¼è¨€</h1><h2 id="Dockerå‡ºç°çš„åŸå› "><a href="#Dockerå‡ºç°çš„åŸå› " class="headerlink" title="Dockerå‡ºç°çš„åŸå› "></a>Dockerå‡ºç°çš„åŸå› </h2><p>æ¯ä¸€æ¬¾äº§å“çš„å‡ºç¤ºéƒ½æ˜¯ä¸ºäº†è§£å†³ä¸€äº›ç—›ç‚¹é—®é¢˜</p><p>ç›¸ä¿¡æˆ‘ä»¬éƒ½ç»å†è¿‡è¿™ç§åœºæ™¯</p><p>æˆ‘ä»¬çš„é¡¹ç›®åœ¨æœ¬åœ°è·‘èµ·æ¥ä¸€ç‚¹æ¯›ç—…éƒ½æ²¡æœ‰</p><p>å¼€å¿ƒåœ°å°†jaråŒ…åˆ†äº«ç»™åŒå­¦</p><p>è¿‡äº†ä¸€ä¼šï¼ŒåŒå­¦ä¸€è„¸å«Œå¼ƒåœ°æ‰¾ä½ å»çœ‹ä»–åœ¨æœåŠ¡å™¨ä¸Šè¿è¡Œåé½åˆ·åˆ·çš„æŠ¥é”™ä¿¡æ¯ï¼Œè§‰å¾—ä½ å†™çš„ä»£ç ä¸è¡Œï¼Œè·‘éƒ½è·‘ä¸èµ·æ¥</p><p>çœ‹äº†æŠ¥é”™ï¼Œå‘ç°ä»–æ²¡æœ‰å®‰è£…redisï¼Œæ²¡æœ‰å®‰è£…esï¼Œæ²¡æœ‰å®‰è£…mysqlç­‰ç­‰è½¯ä»¶</p><p>è¿™æ—¶å€™å°±å¾ˆæ— å¥ˆäº†ï¼Œåªèƒ½å¸®å…¶ä¸€æ­¥æ­¥è¿›è¡Œå®‰è£…ï¼Œè¿›è¡Œé…ç½®</p><p>å®‰è£…å®Œæˆåï¼Œå¯èƒ½è¿˜è¦è°ƒä¸€å †çš„bugï¼Œæµªè´¹äº†å¤§é‡çš„æ—¶é—´</p><hr><p>æˆ‘ä»¬ç°åœ¨çš„ç»“æ„æ˜¯(Linux + jar + Redisç¯å¢ƒ + ESç¯å¢ƒ + Mysqlç¯å¢ƒâ€¦ )</p><p>è¿™å°±ä¼šå¯¼è‡´ä¸Šé¢å‡ºç°çš„é—®é¢˜ï¼Œå°±ç®—ä»–æ—©å°±å®‰è£…äº†è¿™äº›è½¯ä»¶ï¼Œå¦‚æœç‰ˆæœ¬å’Œä½ ä½¿ç”¨çš„ä¸ä¸€è‡´ï¼Œé‚£ä¹ˆä¹Ÿæœ‰å¯èƒ½æŠ¥é”™</p><p>è¿™æ—¶å€™ï¼Œå°±å¸Œæœ›æœ‰æ ·ä¸œè¥¿å¯ä»¥å¸®æˆ‘ä»¬è§£å†³è¿™ä¸ªé—®é¢˜</p><p>é‚£ä¹ˆè¿™ä¸ªä¸œè¥¿å°±æ˜¯<strong>Docker</strong></p><p>åœ¨ä½¿ç”¨Dockerä¹‹åï¼Œç»“æ„å°±å˜æˆäº†(Linux+ï¼ˆjar + Redisç¯å¢ƒ + ESç¯å¢ƒ + Mysqlç¯å¢ƒâ€¦ ï¼‰)</p><p>å°†jaråŒ…å’Œç¯å¢ƒä¸€èµ·æ‰“åŒ…ï¼Œå°±ä¸ä¼šå‡ºç°å¼€å¤´å‡ºç°çš„é—®é¢˜å•¦</p><p>ä¸‹é¢è®©æˆ‘ä»¬æ¥å­¦ä¹ Dockerå§</p><h2 id="è®¤è¯†Docker"><a href="#è®¤è¯†Docker" class="headerlink" title="è®¤è¯†Docker"></a>è®¤è¯†Docker</h2><p>ä¼ ç»Ÿè¿è¡Œåº”ç”¨</p><p>æ‰€æœ‰çš„åº”ç”¨éƒ½æ˜¯è·‘åœ¨åŒä¸€ä¸ªå®¿ä¸»æœºä¸Š</p><p>ä½¿ç”¨å…±åŒçš„ç±»åº“ï¼ˆLibï¼‰</p><p>æ‰€ä»¥è¯·ä½ æƒ³è±¡è¿™ç§åœºæ™¯ï¼š</p><p>APP1(å°†å…¶æ¯”ä½œæ”¾å°„ç‰©è´¨)+APP2(å°†å…¶æ¯”ä½œé£Ÿç‰©)</p><p>é‚£ä¹ˆè¿™ç§æƒ…å†µä¸‹ï¼ŒAPP2ä¼šè¢«APP1ç ´å</p><p>å¦‚æœæœ‰äº›åº”ç”¨åˆä¾èµ–APP1ï¼Œé‚£ä¹ˆå°±ä¼šç‰µæ‰¯å¾ˆå¤šåº”ç”¨æ— æ•…èººæª</p><p>å¯¼è‡´Linuxå¤§ç¯å¢ƒç‰µè¿å—æŸï¼Œå¾ˆéš¾å¤„ç†</p><img src="/javaEE/Docker/2022/07/13/Docker-%E5%AF%BC%E8%A8%80/image-20220713201412305.png" class title="ä¼ ç»Ÿå®‰è£…åº”ç”¨"><p>å½“æˆ‘ä»¬ä½¿ç”¨äº†DockeræŠ€æœ¯ä¹‹å</p><p>æ‰€æœ‰çš„åº”ç”¨éƒ½æ˜¯åœ¨Dockerçš„ç®¡ç†ä¸‹è¿è¡Œçš„</p><p>è¿™é‡Œçš„åº”ç”¨å°±è¦æ¢ä¸ªåå­—äº†ï¼Œå«å®¹å™¨</p><p>æ¯ä¸€ä¸ªå®¹å™¨éƒ½æœ‰ä¸€å¥—è‡ªå·±çš„ç¯å¢ƒï¼Œå¹¶ä¸”ä¸ä¼šå—åˆ°å…¶ä»–å®¹å™¨ç¯å¢ƒçš„å½±å“ï¼Œå®¹å™¨ä¹‹é—´æ˜¯ç›¸äº’éš”ç»çš„</p><p>å°±ç®—æœ‰ä¸¤ä¸ªæ°´ç«ä¸å®¹çš„åº”ç”¨å‡ºç°åœ¨äº†åŒä¸€ä¸ªå®¹å™¨ä¸­ï¼Œä¹Ÿä¸ä¼šå½±å“åˆ°å…¶ä»–å®¹å™¨çš„ç¯å¢ƒ</p><img src="/javaEE/Docker/2022/07/13/Docker-%E5%AF%BC%E8%A8%80/image-20220713202043674.png" class title="ä½¿ç”¨Docker"><p>ä¸‹é¢çœ‹ä¸€ä¸‹Dockerå®˜æ–¹ç»™å‡ºçš„ä¸€å¼ ä½“ç³»æ¶æ„å›¾</p><img src="/javaEE/Docker/2022/07/13/Docker-%E5%AF%BC%E8%A8%80/image-20220713203453022.png" class title="Dockerä½“ç³»æ¶æ„"><h2 id="ä¼˜åŠ¿"><a href="#ä¼˜åŠ¿" class="headerlink" title="ä¼˜åŠ¿"></a>ä¼˜åŠ¿</h2><p>ä¼ ç»Ÿè™šæ‹ŸæœºæŠ€æœ¯ VS Dockerå®¹å™¨æŠ€æœ¯</p><p>è™šæ‹Ÿæœºå®ç°èµ„æºéš”ç¦»çš„æ–¹æ³•æ˜¯åˆ©ç”¨ç‹¬ç«‹çš„OSï¼Œå¹¶åˆ©ç”¨Hypervisorè™šæ‹ŸåŒ–CPUã€å†…å­˜ã€IOè®¾å¤‡ç­‰å®ç°çš„</p><p>Dockeræ¯”è™šæ‹Ÿæœºæœ‰æ›´å°‘çš„æŠ½è±¡å±‚ï¼Œä¸éœ€è¦Hypervisorå®ç°ç¡¬ä»¶èµ„æºè™šæ‹ŸåŒ–ï¼Œè¿è¡Œåœ¨dockerå®¹å™¨ä¸Šçš„ç¨‹åºç›´æ¥ä½¿ç”¨çš„éƒ½æ˜¯å®é™…ç‰©ç†æœºçš„ç¡¬ä»¶èµ„æº</p><p>è€Œè™šæ‹ŸæœºåŠ è½½GuestOsæ˜¯åˆ†é’Ÿçº§å¯åŠ¨çš„</p><p>dockeråˆ©ç”¨çš„æ˜¯å®¿ä¸»æœºçš„å†…æ ¸ï¼Œè€Œä¸éœ€è¦Guest OSã€‚</p><p>å› æ­¤ï¼ŒDockeré€šè¿‡é•œåƒæ–°å»ºä¸€ä¸ªå®¹å™¨çš„æ—¶å€™ï¼Œä¸éœ€è¦åƒè™šæ‹Ÿæœºä¸€æ ·é‡æ–°åŠ è½½ä¸€ä¸ªè™šæ‹Ÿæœºå†…æ ¸</p><p>æˆ‘ä»¬çŸ¥é“ï¼Œå¼•å¯¼ã€åŠ è½½æ“ä½œç³»ç»Ÿå†…æ ¸æ˜¯ä¸€ä¸ªæ¯”è¾ƒè´¹æ—¶è´¹èµ„æºçš„è¿‡ç¨‹ï¼Œå½“æ–°å»ºä¸€ä¸ªè™šæ‹Ÿæœºæ—¶ï¼Œè™šæ‹Ÿæœºè½¯ä»¶éœ€è¦åŠ è½½Guest OSï¼Œè¿™ä¸ªæ–°å»ºè¿‡ç¨‹æ˜¯åˆ†é’Ÿçº§åˆ«çš„ã€‚</p><p>è€Œdockerç”±äºç›´æ¥åˆ©ç”¨å®¿ä¸»æœºçš„æ“ä½œç³»ç»Ÿï¼Œåˆ™çœç•¥äº†è¿™ä¸ªè¿‡ç¨‹ï¼Œå› æ­¤æ–°å»ºä¸€ä¸ªdockerå®¹å™¨åªéœ€è¦å‡ ç§’é’Ÿã€‚</p><p>å¦å¤–ï¼Œç°ä»£æ“ä½œç³»ç»Ÿæ˜¯å¤æ‚çš„ç³»ç»Ÿï¼Œåœ¨ä¸€å°ç‰©ç†æœºä¸Šæ–°å¢åŠ ä¸€ä¸ªæ“ä½œç³»ç»Ÿçš„èµ„æºå¼€é”€æ˜¯æ¯”è¾ƒå¤§çš„</p><p>æ‰€ä»¥dockerå¯¹æ¯”è™šæ‹Ÿæœºåœ¨èµ„æºæ¶ˆè€—ä¸Šä¹Ÿå æœ‰æ¯”è¾ƒå¤§çš„ä¼˜åŠ¿ã€‚</p><p>åœ¨ä¸€å°ç‰©ç†æœºä¸Šæˆ‘ä»¬å¯ä»¥å¾ˆå®¹æ˜“å»ºç«‹æˆç™¾ä¸Šåƒçš„å®¹å™¨ï¼Œè€Œåªèƒ½å»ºç«‹å‡ ä¸ªè™šæ‹Ÿæœº</p><h2 id="å®‰è£…Docker"><a href="#å®‰è£…Docker" class="headerlink" title="å®‰è£…Docker"></a>å®‰è£…Docker</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#å¸è½½ä¹‹å‰çš„Docker</span></span><br><span class="line">sudo yum remove docker \</span><br><span class="line">                  docker-client \</span><br><span class="line">                  docker-client-latest \</span><br><span class="line">                  docker-common \</span><br><span class="line">                  docker-latest \</span><br><span class="line">                  docker-latest-logrotate \</span><br><span class="line">                  docker-logrotate \</span><br><span class="line">                  docker-engine</span><br><span class="line"><span class="comment">#ä¸‹è½½éœ€è¦çš„å®‰è£…åŒ…</span></span><br><span class="line">sudo yum install -y yum-utils</span><br><span class="line"></span><br><span class="line"><span class="comment">#è®¾ç½®é•œåƒä»“åº“</span></span><br><span class="line"> sudo yum-config-manager \</span><br><span class="line">    --add-repo \</span><br><span class="line">    https:\\download.docker.com\linux\centos\docker-ce.repo<span class="comment">#é»˜è®¤æ˜¯å›½å¤–çš„</span></span><br><span class="line">    </span><br><span class="line"> sudo yum-config-manager \</span><br><span class="line">    --add-repo \</span><br><span class="line">    https:\\mirrors.aliyun.com\docker-ce\linux\centos\docker-ce.repo<span class="comment">#é˜¿é‡Œäº‘çš„</span></span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line"><span class="comment"># æ›´æ–°yumè½¯ä»¶åŒ…ç´¢å¼•</span></span><br><span class="line">sudo yum makecache fast</span><br><span class="line"></span><br><span class="line"><span class="comment">#å®‰è£…Dockerå¼•æ“ docker-ce  docker-ee</span></span><br><span class="line"> sudo yum install docker-ce docker-ce-cli containerd.io</span><br><span class="line"></span><br><span class="line"><span class="comment">#å¯åŠ¨docker</span></span><br><span class="line"> sudo systemctl start docker</span><br><span class="line"> </span><br><span class="line"><span class="comment">#æµ‹è¯•æ˜¯å¦å¯åŠ¨æˆåŠŸ</span></span><br><span class="line">docker version</span><br></pre></td></tr></table></figure><img src="/javaEE/Docker/2022/07/13/Docker-%E5%AF%BC%E8%A8%80/image-20220713204346903.png" class title="æµ‹è¯•æ˜¯å¦å®‰è£…æˆåŠŸ"><p>å¦‚æœä½ è´­ä¹°äº†é˜¿é‡Œäº‘ã€ç™¾åº¦äº‘ã€è…¾è®¯äº‘çš„æœåŠ¡å™¨ï¼Œå¯ä»¥é…ç½®ä¸€ä¸ªå®¹å™¨é•œåƒåŠ é€Ÿ</p><img src="/javaEE/Docker/2022/07/13/Docker-%E5%AF%BC%E8%A8%80/image-20220713204713156.png" class title="å®¹å™¨é•œåƒæœåŠ¡"><img src="/javaEE/Docker/2022/07/13/Docker-%E5%AF%BC%E8%A8%80/image-20220713204734931.png" class title="ç‚¹å‡»é•œåƒåŠ é€Ÿå™¨"><img src="/javaEE/Docker/2022/07/13/Docker-%E5%AF%BC%E8%A8%80/image-20220713204809382.png" class title="å‚è€ƒå‘½ä»¤"><blockquote><p>è¿™ä¸ªé•œåƒåŠ é€Ÿèµ°çš„æ˜¯æœåŠ¡å™¨å†…ç½‘ï¼Œå†™æˆ‘çš„ä¹Ÿæ²¡æœ‰ç”¨å“¦</p></blockquote><h2 id="å¸è½½Docker"><a href="#å¸è½½Docker" class="headerlink" title="å¸è½½Docker"></a>å¸è½½Docker</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#å¸è½½dockerä¾èµ–</span></span><br><span class="line">sudo yum remove docker-ce docker-ce-cli containerd.io</span><br><span class="line"></span><br><span class="line"><span class="comment">#åˆ é™¤èµ„æº</span></span><br><span class="line">sudo rm -rf /var/lib/docker</span><br><span class="line">sudo rm -rf /var/lib/containerd</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> javaEE </category>
          
          <category> Docker </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Docker </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ­£åˆ™è¡¨è¾¾å¼</title>
      <link href="/%E7%90%90%E7%A2%8E%E7%9A%84%E7%9F%A5%E8%AF%86/2022/07/09/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/"/>
      <url>/%E7%90%90%E7%A2%8E%E7%9A%84%E7%9F%A5%E8%AF%86/2022/07/09/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/</url>
      
        <content type="html"><![CDATA[<h1 id="æ­£åˆ™è¡¨è¾¾å¼"><a href="#æ­£åˆ™è¡¨è¾¾å¼" class="headerlink" title="æ­£åˆ™è¡¨è¾¾å¼"></a>æ­£åˆ™è¡¨è¾¾å¼</h1><h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>ç›¸ä¿¡å¤§å®¶å¯¹æ­£åˆ™çš„æ€åº¦å°±æ˜¯</p><img src="/%E7%90%90%E7%A2%8E%E7%9A%84%E7%9F%A5%E8%AF%86/2022/07/09/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/image-20220709110059981.png" alt="å°±è¿™å°±è¿™" style="zoom:67%;"><p>ä½†æ˜¯å½“æ¯æ¬¡åœ¨éœ€è¦åšæ ¡éªŒæˆ–è€…çš„æ—¶å€™ï¼Œéƒ½ä¼šååˆ†ç‹¼ç‹ˆçš„å»ç™¾åº¦ï¼Œå»CSDN</p><p>å°†æ‰¾åˆ°çš„æ­£åˆ™è¡¨è¾¾å¼ç›´æ¥copyè¿‡æ¥ï¼Œä¹Ÿä¸ä¼šå»çœ‹é‡Œé¢å†™çš„å•¥</p><p>ç›´æ¥å°±ä¿¡å¿ƒæ»¡æ»¡çš„å»è¿è¡Œ</p><p>ç„¶åå°±<strong>è¦ä¹ˆæŠ¥é”™ï¼Œè¦ä¹ˆå•¥ä¹Ÿæ²¡åŒ¹é…åˆ°</strong></p><img src="/%E7%90%90%E7%A2%8E%E7%9A%84%E7%9F%A5%E8%AF%86/2022/07/09/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/image-20220709110315322.png" class title="ç”Ÿæ°”"><p>çœ‹åˆ«äººå†™çš„javaä»£ç ï¼Œæˆ‘ä»¬æ˜¯ç—›è‹¦çš„</p><p>çœ‹åˆ«äººå†™çš„æ­£åˆ™è¡¨è¾¾å¼ï¼Œæˆ‘ä»¬æ„Ÿå—ä¸åˆ°ç—›è‹¦ï¼Œæ˜¯ç»æœ›çš„ï¼Œç›´æ¥æ”¾å¼ƒäº†</p><img src="/%E7%90%90%E7%A2%8E%E7%9A%84%E7%9F%A5%E8%AF%86/2022/07/09/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/image-20220709105729959.png" class title="çœŸå®"><p>å®åœ¨å—ä¸äº†è¿™ç§<strong>ä»»äººå®°å‰²</strong>çš„æ„Ÿè§‰ï¼Œæ‰€ä»¥å°±èŠ±äº†å‡ å¤©å½»å½»åº•åº•åœ°å°†æ­£åˆ™å­¦äº†ä¸€é</p><p>æœ€çœŸå®åœ°æ„Ÿè§‰å°±æ˜¯ï¼Œæ­£åˆ™ä¸ç®€å•ï¼Œå¾—æŠŠå®ƒå½“ä½œä¸€ç§è¯­è¨€å»å­¦</p><p>è¿™æ ·æ‰å¯ä»¥æ‹¿å‡ºæ€åº¦å»æ¥å—å®ƒ</p><p>ä¸‹é¢æ˜¯å­¦ä¹ ç¬”è®°</p><h2 id="ä»‹ç»"><a href="#ä»‹ç»" class="headerlink" title="ä»‹ç»"></a>ä»‹ç»</h2><p>æ­£åˆ™è¡¨è¾¾å¼æ˜¯ç”±æ™®é€šå­—ç¬¦ï¼ˆå¦‚è‹±æ–‡å­—æ¯ï¼‰ä»¥åŠç‰¹æ®Šå­—ç¬¦ï¼ˆä¹Ÿç§°ä¸ºå…ƒå­—ç¬¦ï¼‰ç»„æˆçš„æ–‡å­—æ¨¡å¼</p><p>è¯¥æ¨¡å¼å¯¹æ–‡æœ¬æŸ¥æ‰¾æ—¶éœ€è¦åŒ¹é…çš„ä¸€ä¸ªæˆ–å¤šä¸ªå­—ç¬¦ä¸²æè¿°ï¼Œç»™å‡ºä¸€ä¸ªåŒ¹é…æ¨¡æ¿ã€‚</p><p>å®ƒå¯ä»¥å¤§å¤§ç®€åŒ–æ–‡æœ¬è¯†åˆ«å·¥ä½œï¼Œç°å·²è¶…å‡ºäº†æŸç§è¯­è¨€æˆ–æŸä¸ªç³»ç»Ÿçš„å±€é™ï¼Œæˆä¸ºè¢«äººä»¬å¹¿ä¸ºä½¿ç”¨çš„å·¥å…·ã€‚</p><p>å…ˆç»™å¤§å®¶ä»‹ç»ä¸€ä¸ªåœ¨çº¿æ£€æµ‹æ­£åˆ™è¡¨è¾¾å¼çš„ç½‘ç«™ï¼Œååˆ†å¥½ç”¨ï¼</p><p>é“¾æ¥å¦‚ä¸‹ï¼š<strong><a href="https://regex101.com/">https://regex101.com</a></strong></p><blockquote><p>å£°æ˜ï¼šä»¥ä¸‹æˆ‘ä½¿ç”¨çš„æŸäº›æ¦‚å¿µåœ¨ä¸åŒç½‘ç«™ä¸Šï¼Œä¸åŒè§†é¢‘ä¸­ï¼Œéƒ½ä¼šæœ‰ä¸åŒçš„å«æ³•ï¼Œæˆ‘ä¼šå°½é‡å°†æ‰€æœ‰çš„è®²æ³•éƒ½æ ‡æ³¨</p></blockquote><h2 id="ä¿®é¥°ç¬¦"><a href="#ä¿®é¥°ç¬¦" class="headerlink" title="ä¿®é¥°ç¬¦"></a>ä¿®é¥°ç¬¦</h2><p>ä¸‹é¢åœ¨å¼€å§‹æ­£é¢˜ä¹‹å‰ï¼Œæˆ‘è¦å…ˆç»™å¤§å®¶è®²ä¸€ä¸ªä¿®é¥°ç¬¦çš„æ¦‚å¿µã€‚</p><p>æˆ‘è‡ªå·±åœ¨å­¦è¿™ä¸ªçš„æ—¶å€™ï¼Œæ²¡æœ‰å“ªä¸€ä¸ªè§†é¢‘æˆ–è€…æ•™ç¨‹ä¼šå°†ä¿®é¥°ç¬¦æ”¾åˆ°æœ€å‰é¢</p><p>ä½†æ˜¯åœ¨æˆ‘å­¦ä¸‹æ¥ï¼Œæˆ‘è§‰å¾—å¦‚æœå°†è¿™ä¸ªçŸ¥è¯†ç‚¹æ”¾åœ¨æœ€å‰é¢ï¼Œè€Œä¸”è¿™ä¸ªçŸ¥è¯†ç‚¹ä¹Ÿä¸éš¾ï¼Œåªæ˜¯ä¸€ä¸ªæ¦‚å¿µ</p><p>è¿™å¯èƒ½ä¼šæœ‰åˆ©äºå¤§å®¶çš„å­¦ä¹ ï¼Œæ‰€ä»¥æˆ‘å°±å°è¯•å°†æ­¤çŸ¥è¯†ç‚¹å‰ç½®</p><p>åœ¨æ­£åˆ™è¡¨è¾¾å¼ä¸­æœ‰å¾ˆå¤šä¿®é¥°ç¬¦</p><img src="/%E7%90%90%E7%A2%8E%E7%9A%84%E7%9F%A5%E8%AF%86/2022/07/09/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/image-20220709110411805.png" class title="æ­£åˆ™ä¿®é¥°ç¬¦"><p>æˆ‘ä»¬åªçœ‹å¸¸ç”¨çš„å››ä¸ª</p><blockquote><p>å¤§å®¶æ³¨æ„è¿™ä¸ªåœ°æ–¹ï¼Œè¿™ä¸ªåœ°æ–¹æ˜¾ç¤ºçš„å°±æ˜¯å½“å‰å¼€å¯çš„ä¿®é¥°ç¬¦</p></blockquote><img src="/%E7%90%90%E7%A2%8E%E7%9A%84%E7%9F%A5%E8%AF%86/2022/07/09/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/image-20220709111834078.png" class title="å½“å‰å¼€å¯çš„ä¿®é¥°ç¬¦"><h3 id="global"><a href="#global" class="headerlink" title="global"></a>global</h3><img src="/%E7%90%90%E7%A2%8E%E7%9A%84%E7%9F%A5%E8%AF%86/2022/07/09/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/image-20220709110835523.png" class title="ä¸å¼€å¯globalä¿®é¥°ç¬¦"><img src="/%E7%90%90%E7%A2%8E%E7%9A%84%E7%9F%A5%E8%AF%86/2022/07/09/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/image-20220709110914277.png" class title="å¼€å¯globalä¿®é¥°ç¬¦"><p>å¯ä»¥çœ‹åˆ°è¿™å…¶ä¸­çš„åŒºåˆ«å°±æ˜¯</p><p>éå…¨å±€æ¨¡å¼åªåŒ¹é…äº†ç¬¬ä¸€ä¸ªåŒ¹é…æˆåŠŸçš„</p><p>è€Œå…¨å±€æ¨¡å¼åˆ™åŒ¹é…äº†æ‰€æœ‰åŒ¹é…æˆåŠŸçš„</p><h3 id="multi-line"><a href="#multi-line" class="headerlink" title="multi line"></a>multi line</h3><p>è¿™é‡Œåªæ¼”ç¤º<code>^</code>çš„æƒ…å†µ</p><img src="/%E7%90%90%E7%A2%8E%E7%9A%84%E7%9F%A5%E8%AF%86/2022/07/09/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/image-20220709111131932.png" class title="ä¸å¼€å¯multi line"><img src="/%E7%90%90%E7%A2%8E%E7%9A%84%E7%9F%A5%E8%AF%86/2022/07/09/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/image-20220709111247270.png" class title="å¼€å¯multi line"><p>è¿™é‡Œè¦æœ‰ä¸ªå‰ç½®çŸ¥è¯†ï¼Œå°±æ˜¯</p><p><code>^</code>åŒ¹é…æ–‡æœ¬å¼€å¤´</p><p><code>$</code>åŒ¹é…æ–‡æœ¬ç»“å°¾</p><p>æˆ‘ä»¬éƒ½çŸ¥é“æ–‡æœ¬åªæœ‰ä¸€ä¸ªå¼€å¤´å’Œä¸€ä¸ªç»“å°¾</p><p>ä½†æ˜¯å¼€å¯äº†multi lineä¹‹å</p><p><code>^</code>ä¸ä»…å¯ä»¥åŒ¹é…<strong>æ–‡æœ¬å¼€å¤´</strong>è€Œä¸”å¯ä»¥åŒ¹é…<strong>è¡Œé¦–</strong></p><p><code>$</code>ä¸ä»…å¯ä»¥åŒ¹é…<strong>æ–‡æœ¬ç»“å°¾</strong>è€Œä¸”å¯ä»¥åŒ¹é…<strong>è¡Œå°¾</strong></p><h3 id="single-line"><a href="#single-line" class="headerlink" title="single line"></a>single line</h3><img src="/%E7%90%90%E7%A2%8E%E7%9A%84%E7%9F%A5%E8%AF%86/2022/07/09/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/image-20220709111551979.png" class title="ä¸å¼€å¯single line"><img src="/%E7%90%90%E7%A2%8E%E7%9A%84%E7%9F%A5%E8%AF%86/2022/07/09/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/image-20220709111620815.png" class title="å¼€å¯single line"><p>è¿™é‡Œä¹Ÿéœ€è¦æœ‰å‰ç½®çŸ¥è¯†</p><p><code>.</code>å¯ä»¥åŒ¹é…é™¤äº†<code>\n</code>ä¹‹å¤–çš„æ‰€æœ‰å­—ç¬¦</p><p>å¼€å¯äº†single lineä¹‹å</p><p><code>.</code>å¯ä»¥åŒ¹é…æ‰€æœ‰çš„å­—ç¬¦ï¼ŒåŒ…æ‹¬<code>\n</code></p><h3 id="insensitive"><a href="#insensitive" class="headerlink" title="insensitive"></a>insensitive</h3><img src="/%E7%90%90%E7%A2%8E%E7%9A%84%E7%9F%A5%E8%AF%86/2022/07/09/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/image-20220709111934100.png" class title="ä¸å¼€å¯insensitiveä¿®é¥°ç¬¦"><img src="/%E7%90%90%E7%A2%8E%E7%9A%84%E7%9F%A5%E8%AF%86/2022/07/09/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/image-20220709111959810.png" class title="å¼€å¯insensitiveä¿®é¥°ç¬¦"><p>è¯¥ä¿®é¥°ç¬¦å°±æ˜¯å…³é—­å¤§å°å†™æ•æ„Ÿ</p><p>å³<code>a</code>å’Œ<code>A</code>æ˜¯ä¸€æ ·çš„</p><h2 id="ç®€å•åŒ¹é…"><a href="#ç®€å•åŒ¹é…" class="headerlink" title="ç®€å•åŒ¹é…"></a>ç®€å•åŒ¹é…</h2><h3 id="å›ºå®šå­—ç¬¦ä¸²"><a href="#å›ºå®šå­—ç¬¦ä¸²" class="headerlink" title="å›ºå®šå­—ç¬¦ä¸²"></a>å›ºå®šå­—ç¬¦ä¸²</h3><p>å‡å¦‚æˆ‘è¦åœ¨ä¸‹åˆ—æ–‡æœ¬ä¸­åŒ¹é…exportå­—ç¬¦ä¸²ï¼Œæˆ‘ä»¬å¯ä»¥è¿™ä¹ˆå†™</p><img src="/%E7%90%90%E7%A2%8E%E7%9A%84%E7%9F%A5%E8%AF%86/2022/07/09/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/image-20220709104329725.png" class title="åŒ¹é…exportå­—ç¬¦ä¸²"><p>è¿™å°±æ˜¯å¯¹å›ºå®šå­—ç¬¦ä¸²çš„åŒ¹é…ï¼Œè¿™å¾ˆç®€å•</p><h3 id="èŒƒå›´å­—ç¬¦"><a href="#èŒƒå›´å­—ç¬¦" class="headerlink" title="èŒƒå›´å­—ç¬¦"></a>èŒƒå›´å­—ç¬¦</h3><blockquote><p>åˆå«å…ƒå­—ç¬¦</p></blockquote><p>åœ¨æ­£åˆ™è¡¨è¾¾å¼ä¸­ï¼Œæˆ‘ä»¬æœ‰ä»¥ä¸‹è¡¨ç¤ºä¸€å®šèŒƒå›´çš„å­—ç¬¦</p><table><thead><tr><th align="center">ç¬¦å·</th><th align="center">åç§°</th></tr></thead><tbody><tr><td align="center">.</td><td align="center">åŒ¹é…é™¤ \n ä»¥å¤–çš„ä»»ä½•ä¸€ä¸ªå­—ç¬¦</td></tr><tr><td align="center">\d</td><td align="center">åŒ¹é…å•ä¸ªæ•°å­—å­—ç¬¦ï¼Œç›¸å½“äº<code>[0-9]</code></td></tr><tr><td align="center">\D</td><td align="center">åŒ¹é…å•ä¸ªéæ•°å­—å­—ç¬¦ï¼Œç›¸å½“äº<code>[^0-9]</code></td></tr><tr><td align="center">\w</td><td align="center">åŒ¹é…å•ä¸ªæ•°å­—ã€å¤§å°å†™å­—æ¯ã€ä¸‹åˆ’çº¿å­—ç¬¦ï¼Œç›¸å½“äº<code>[0-9a-zA-Z_]</code></td></tr><tr><td align="center">\W</td><td align="center">åŒ¹é…å•ä¸ªéæ•°å­—ã€éå¤§å°å†™å­—æ¯å­—ç¬¦ï¼Œéä¸‹åˆ’çº¿ï¼Œç›¸å½“äº<code>[^0-9a-zA-Z_]</code></td></tr><tr><td align="center">\s</td><td align="center">åŒ¹é…ä»»æ„ä¸€ä¸ª\nã€ç©ºæ ¼ã€tab</td></tr><tr><td align="center">\S</td><td align="center">ä¸\såŒ¹é…çš„ç›¸å</td></tr><tr><td align="center">\b</td><td align="center">åŒ¹é…æ¯ä¸€ä¸ªå•è¯çš„å‰å’Œå</td></tr><tr><td align="center">\B</td><td align="center">ä¸\båŒ¹é…çš„ç›¸å</td></tr></tbody></table><blockquote><p>æ³¨æ„ï¼šä¸€ä¸ªèŒƒå›´å­—ç¬¦åªå¯ä»¥åŒ¹é…<strong>ä¸€ä¸ª</strong>å±äºè¯¥èŒƒå›´çš„å­—ç¬¦</p><p>â€‹<strong>ä¸€ä¸ª</strong>ï¼<strong>ä¸€ä¸ª</strong>ï¼<strong>ä¸€ä¸ª</strong>ï¼</p><p>â€‹è¾“å…¥.å‘ç°é™¤äº†\nå…¨äº®äº†æ˜¯å› ä¸ºå¼€å¯äº†globalä¿®é¥°ç¬¦ï¼</p></blockquote><p>è¿™é‡Œæ²¡ä»€ä¹ˆå¥½è¯´çš„ï¼ŒèƒŒä¸‹ï¼Œä¸‹é¢ç»™ä¸€å¼ å›¾å¸®åŠ©è®°å¿†</p><img src="/%E7%90%90%E7%A2%8E%E7%9A%84%E7%9F%A5%E8%AF%86/2022/07/09/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/image-20220709164727111.png" class title="èŒƒå›´å­—ç¬¦"><h3 id="è‡ªå®šä¹‰èŒƒå›´å­—ç¬¦"><a href="#è‡ªå®šä¹‰èŒƒå›´å­—ç¬¦" class="headerlink" title="è‡ªå®šä¹‰èŒƒå›´å­—ç¬¦"></a>è‡ªå®šä¹‰èŒƒå›´å­—ç¬¦</h3><p>å¯¹äºåå…­è¿›åˆ¶çš„é¢œè‰²ï¼Œ#åé¢åªèƒ½å‡ºç°æ•°å­—å’Œ<code>a-f</code>çš„å­—ç¬¦</p><p>æˆ‘ä»¬å‘ç°å†…ç½®çš„è¿™äº›èŒƒå›´å­—ç¬¦éƒ½ä¸å¤ªå¥½ç”¨</p><p>è¿™æ—¶å€™å°±éœ€è¦ä½¿ç”¨è‡ªå®šä¹‰èŒƒå›´å­—ç¬¦</p><p>æƒ³è¦å®šä¹‰è‡ªå®šä¹‰èŒƒå›´å­—ç¬¦ï¼Œå°±éœ€è¦ä½¿ç”¨<code>[]</code></p><p>ä¸‹é¢æˆ‘ä»¬æ¥å†™åŒ¹é…åå…­è¿›åˆ¶çš„è‡ªå®šä¹‰èŒƒå›´å­—ç¬¦</p><ul><li>è‡ªå·±å†™å…¨<ul><li><code>[0123456789abcdef]</code></li></ul></li><li>ä½¿ç”¨<code>-</code>è¿æ¥ç¬¦<ul><li><code>[0-9a-f]</code></li></ul></li></ul><p><code>[]</code>è¿˜æœ‰å‡ ç§å†™æ³•ï¼Œæˆ‘ä»¬ä½¿ç”¨æ¡ˆä¾‹æ¥è¯´æ˜</p><h4 id="æ —ä¸€"><a href="#æ —ä¸€" class="headerlink" title="æ —ä¸€"></a>æ —ä¸€</h4><p>æ•°æ®å¦‚ä¸‹ï¼ŒåŒ¹é…80å¹´ä»£å’Œ90å¹´ä»£ä»¥å¤–çš„</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">å§“å  ç”Ÿæ—¥</span><br><span class="line">èŠéº» 2001-05-22</span><br><span class="line">ç« ä¸€ 1993-08-09</span><br><span class="line">æ²ˆå®¶æ€¡ 1999-05-22</span><br><span class="line">é™†åŠ›ä¸¹ 1989-02-19</span><br><span class="line">ç‹å­æ€¡ 2002-12-15</span><br></pre></td></tr></table></figure><img src="/%E7%90%90%E7%A2%8E%E7%9A%84%E7%9F%A5%E8%AF%86/2022/07/09/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/image-20220709113707311.png" class title="åŒ¹é…80å¹´ä»£å’Œ90å¹´ä»£ä»¥å¤–çš„"><p>åœ¨<code>[]</code>å†…éƒ¨çš„å¼€å¤´å†™<code>^</code>è¡¨ç¤ºåŒ¹é…<strong>é™¤äº†</strong>æ–¹æ‹¬å·é‡Œé¢å‡ºç°çš„å­—ç¬¦</p><h4 id="æ —äºŒ"><a href="#æ —äºŒ" class="headerlink" title="æ —äºŒ"></a>æ —äºŒ</h4><p>åŒ¹é…ç‰¹æ®Šå­—ç¬¦<code>^</code>æˆ–è€…<code>$</code>æˆ–è€…<code>.</code></p><img src="/%E7%90%90%E7%A2%8E%E7%9A%84%E7%9F%A5%E8%AF%86/2022/07/09/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/image-20220709113846798.png" class title="åŒ¹é…ç‰¹æ®Šå­—ç¬¦"><p>ä½†æ˜¯å°ä¼™ä¼´å¯èƒ½å†™çš„é¡ºåºä¸æ˜¯è¿™æ ·çš„ï¼Œä½ å¯èƒ½æ˜¯è¿™æ ·å†™çš„<code>[^$.]</code></p><img src="/%E7%90%90%E7%A2%8E%E7%9A%84%E7%9F%A5%E8%AF%86/2022/07/09/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/image-20220709114004098.png" class title="é¡ºåºä¸åŒçš„åŒ¹é…ç»“æœ"><p>è¿™é‡Œå¦‚æœ<code>^</code>æ”¾åœ¨ç¬¬ä¸€ä½ï¼Œä»–å°±ä¼šä½¿ç”¨æ —ä¸€ç§çš„åŠŸèƒ½</p><p>å¦‚æœæˆ‘å°±æ˜¯æƒ³è¦ç”¨è¿™ç§é¡ºåºå†™ï¼Œä½†æ˜¯è¿˜æƒ³åŒ¹é…<code>^</code>ç‰¹æ®Šå­—ç¬¦æœ¬èº«ï¼Œå¯ä¸å¯ä»¥å‘¢ï¼Ÿ</p><p>å½“ç„¶å¯ä»¥å•¦ï¼Œè¿™é‡Œéœ€è¦ä½¿ç”¨è½¬ä¹‰å­—ç¬¦<code>\</code>ç™»åœºäº†</p><img src="/%E7%90%90%E7%A2%8E%E7%9A%84%E7%9F%A5%E8%AF%86/2022/07/09/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/image-20220709114240202.png" class title="è½¬ä¹‰å­—ç¬¦ç™»åœº"><h4 id="æ —ä¸‰"><a href="#æ —ä¸‰" class="headerlink" title="æ —ä¸‰"></a>æ —ä¸‰</h4><p>è¿™ä¸ªæ¡ˆä¾‹å°±æœ‰ç‚¹éš¾äº†ï¼Œæˆ‘ä»¬æ¥åŒ¹é…æ­£ç¡®çš„è½¦ç‰Œå·ï¼ŒåŒ¹é…è§„åˆ™å¦‚ä¸‹</p><p>æ™®é€šè½¦ç‰Œç‰¹å¾ï¼š</p><ol><li>ç¬¬1ä½æ˜¯è¡¨ç±è´¯çš„æ±‰å­—</li><li>ç¬¬2ä½æ˜¯è¡¨åŸå¸‚çš„å¤§å†™å­—æ¯ï¼Œ<strong>ä¸åŒ…æ‹¬</strong>Iå’ŒOã€‚å› ä¸ºå®¹æ˜“å’Œæ•°å­—0å’Œ1æ··æ·†</li><li>å5ä½æ˜¯å­—æ¯åŠ æ•°å­—ï¼Œä¹Ÿ<strong>ä¸åŒ…æ‹¬</strong>Iå’ŒO</li></ol><p>æµ‹è¯•æ•°æ®å¦‚ä¸‹</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">æ¹˜C4ASF7</span><br><span class="line">æ¹˜G9AWSE</span><br><span class="line">æ¹˜O392LEY</span><br><span class="line">é²E2S1EF</span><br><span class="line">æ¹˜D219U5</span><br><span class="line">æ¹˜AS2BKN</span><br><span class="line">çš–91L2IZ</span><br><span class="line">é²I0H8F</span><br><span class="line">é²R10Y2F</span><br><span class="line">Aæ¹˜1R9GJ3</span><br><span class="line">é²REF02H</span><br><span class="line">é²2319G7</span><br><span class="line">é²3RGN90</span><br><span class="line">Né²23G90K</span><br></pre></td></tr></table></figure><img src="/%E7%90%90%E7%A2%8E%E7%9A%84%E7%9F%A5%E8%AF%86/2022/07/09/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/image-20220709115429109.png" class title="æµ‹è¯•"><h3 id="åŸºæœ¬é€»è¾‘æ§åˆ¶"><a href="#åŸºæœ¬é€»è¾‘æ§åˆ¶" class="headerlink" title="åŸºæœ¬é€»è¾‘æ§åˆ¶"></a>åŸºæœ¬é€»è¾‘æ§åˆ¶</h3><p>åœ¨æ­£åˆ™è¡¨è¾¾å¼ä¸­åªæœ‰<strong>ä¸”</strong>å’Œ<strong>æˆ–</strong>è¿™ä¸¤ç§é€»è¾‘å…³ç³»ï¼Œæˆ‘ä»¬è¿™é‡Œç”¨ä¸€ä¸ªæ¡ˆä¾‹æ¥å¼•å‡º<strong>æˆ–</strong></p><p>åŒ¹é…è§„åˆ™ï¼šåŒ¹é…æ‰€æœ‰çš„httpçŠ¶æ€ç </p><ul><li>401ï¼šæœªæˆæƒ</li><li>403ï¼šæ— æƒé™è®¿é—®</li><li>404ï¼šæ‰¾ä¸åˆ°èµ„æº</li><li>500ï¼šæœåŠ¡å†…éƒ¨é”™è¯¯</li></ul><p>æµ‹è¯•æ•°æ®å¦‚ä¸‹</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">404</span><br><span class="line">500</span><br><span class="line">309</span><br><span class="line">403</span><br><span class="line">230</span><br><span class="line">401</span><br><span class="line">400</span><br><span class="line">234</span><br><span class="line">325</span><br><span class="line">401</span><br><span class="line">923</span><br><span class="line">482</span><br><span class="line">340</span><br><span class="line">325</span><br></pre></td></tr></table></figure><img src="/%E7%90%90%E7%A2%8E%E7%9A%84%E7%9F%A5%E8%AF%86/2022/07/09/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/image-20220709120108767.png" class title="åŸºæœ¬é€»è¾‘æ§åˆ¶"><p>é‚£ä¸”å‘¢ï¼Ÿ</p><p>å…¶å®æˆ‘ä»¬æ—©å°±ä½¿ç”¨è¿‡<code>ä¸”</code>äº†</p><p>å°±æ¯”å¦‚æˆ‘ä»¬è¿™ä¸ªæ¡ˆä¾‹ä¸­ï¼Œ<code>404</code>ä¸å°±æ˜¯<code>ä¸”</code>ä¹ˆï¼Ÿ</p><p>4å¹¶ä¸”0å¹¶ä¸”4</p><p>è¿™ä¸‰ä¸ªæ•°å­—åŒæ—¶æ»¡è¶³ï¼Œæ‰åŒ¹é…å‡ºæ¥404</p><h3 id="æ•°é‡æ§åˆ¶"><a href="#æ•°é‡æ§åˆ¶" class="headerlink" title="æ•°é‡æ§åˆ¶"></a>æ•°é‡æ§åˆ¶</h3><p>æˆ‘ä»¬å›é¡¾ä¸€ä¸‹ä¹‹å‰çš„åŒ¹é…åå…­è¿›åˆ¶é¢œè‰²çš„æ¡ˆä¾‹</p><p>æµ‹è¯•æ•°æ®å¦‚ä¸‹ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.el-header</span> &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#BC0D13</span></span><br><span class="line">  color: <span class="number">#CCCCCC</span></span><br><span class="line">  line-height: <span class="number">60px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.el-aside</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#5fe3a1</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.active</span> &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#0086b3</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><img src="/%E7%90%90%E7%A2%8E%E7%9A%84%E7%9F%A5%E8%AF%86/2022/07/09/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/image-20220709121650160.png" class title="åŒ¹é…åå…­è¿›åˆ¶é¢œè‰²"><p><code>&#123;&#125;</code>å°±æ˜¯æ•°é‡æ§åˆ¶çš„è¯­æ³•ï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹ä¸ä½¿ç”¨æ•°é‡æ§åˆ¶çš„æ—¶å€™åº”è¯¥æ€ä¹ˆå†™</p><img src="/%E7%90%90%E7%A2%8E%E7%9A%84%E7%9F%A5%E8%AF%86/2022/07/09/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/image-20220709121716520.png" class title="ä¸ä½¿ç”¨æ•°é‡æ§åˆ¶çš„è¯­æ³•"><p><code>&#123;n&#125;</code>æŒ‡å®šå‡ºç°å›ºå®šæ¬¡æ•°</p><p><code>&#123;n,&#125;</code>æŒ‡å®šè‡³å°‘å‡ºç°næ¬¡</p><p><code>&#123;n,m&#125;</code>æŒ‡å®šå‡ºç°nåˆ°mæ¬¡</p><h4 id="ç®€å†™å½¢å¼"><a href="#ç®€å†™å½¢å¼" class="headerlink" title="ç®€å†™å½¢å¼"></a>ç®€å†™å½¢å¼</h4><table><thead><tr><th>ç¬¦å·</th><th>ç­‰ä»·</th></tr></thead><tbody><tr><td>*</td><td><code>&#123;0,&#125;</code></td></tr><tr><td>+</td><td><code>&#123;1,&#125;</code></td></tr><tr><td>?</td><td><code>&#123;0,1&#125;</code></td></tr></tbody></table><h4 id="æ‡’æƒ°åŒ¹é…å’Œè´ªå©ªåŒ¹é…"><a href="#æ‡’æƒ°åŒ¹é…å’Œè´ªå©ªåŒ¹é…" class="headerlink" title="æ‡’æƒ°åŒ¹é…å’Œè´ªå©ªåŒ¹é…"></a>æ‡’æƒ°åŒ¹é…å’Œè´ªå©ªåŒ¹é…</h4><p>è¯¥çŸ¥è¯†ç‚¹æˆ‘ä»¬é…åˆæ¡ˆä¾‹æ¥é£Ÿç”¨</p><p>åŒ¹é…æ‰€æœ‰çš„<code>span</code>æ ‡ç­¾</p><p>æµ‹è¯•æ•°æ®</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">span</span>&gt;</span>span1<span class="tag">&lt;/<span class="name">span</span>&gt;</span>kongge<span class="tag">&lt;<span class="name">span</span>&gt;</span>span2<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬å…ˆæ¥å°è¯•ä¸€ä¸‹</p><img src="/%E7%90%90%E7%A2%8E%E7%9A%84%E7%9F%A5%E8%AF%86/2022/07/09/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/image-20220709122414472.png" class title="å°è¯•"><p>æˆ‘ä»¬å‘ç°ï¼Œå®ƒç«Ÿç„¶<strong>å…¨åŒ¹é…</strong>äº†ï¼Œè¿™æ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿ</p><blockquote><p>è§£é‡Š</p></blockquote><p>+ä¼šå°½é‡ä¸€ç›´å¾€ååŒ¹é…ï¼Œä¸€ç›´åˆ°æ— æ³•åŒ¹é…<code>.</code>ä¸ºæ­¢</p><p>æœ¬æ¥åŒ¹é…åˆ°span1åé¢çš„<code>&lt;</code>ç¬¦å·çš„æ—¶å€™ï¼Œå°±å¯ä»¥åœæ­¢åŒ¹é…äº†</p><p>ä½†æ˜¯å› ä¸ºé»˜è®¤å¼€å¯çš„æ˜¯è´ªå©ªåŒ¹é…ï¼Œå•¥æ„æ€å‘¢ï¼Ÿ</p><p>å°±æ˜¯<code>&lt;</code>è¿˜æ˜¯ç¬¦åˆ<code>.</code>çš„å§ï¼Œé‚£å°±ç»§ç»­åŒ¹é…</p><p>ç›´åˆ°åŒ¹é…åˆ°span2åé¢çš„<code>&lt;</code>çš„æ—¶å€™ï¼Œå‘ç°å¦‚æœå†åŒ¹é…span2åé¢çš„<code>&lt;</code>äº†</p><p>é‚£ä¹ˆæˆ‘ä»¬æ­£åˆ™è¡¨è¾¾å¼ä¸­æœ€åçš„<code>&lt;/span&gt;</code>å°±æ²¡æ³•åŒ¹é…äº†ï¼Œæ‰€ä»¥<code>.</code>å°±åŒ¹é…åˆ°span2ä¸­çš„2ä¸ºæ­¢</p><p>é‚£è®©æˆ‘ä»¬å¼€å¯æ‡’æƒ°æ¨¡å¼çœ‹çœ‹ç»“æœ</p><img src="/%E7%90%90%E7%A2%8E%E7%9A%84%E7%9F%A5%E8%AF%86/2022/07/09/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/image-20220709122836416.png" class title="å¼€å¯æ‡’æƒ°æ¨¡å¼"><blockquote><p>è§£é‡Š</p></blockquote><p>+ä¼šå°½é‡ä¸€ç›´å¾€ååŒ¹é…ï¼Œä¸€ç›´åˆ°æ— æ³•åŒ¹é…ä¸ºæ­¢</p><p>åŒ¹é…åˆ°span1åé¢çš„<code>&lt;</code>ç¬¦å·çš„æ—¶å€™</p><p>å‘ç°å…¶å®è¿™ä¸ª<code>&lt;</code>å·²ç»å¯ä»¥åŒ¹é…æ­£åˆ™æœ€åçš„<code>&lt;</code>äº†</p><p>é‚£å°±ç»“æŸåŒ¹é…å§ï¼Œæ‰€ä»¥å°±åŒ¹é…å‡ºäº†ç¬¬ä¸€ç»„<code>span</code>æ ‡ç­¾</p><blockquote><p>æ³¨æ„ç‚¹ï¼š</p></blockquote><p>å¼€å¯æ‡’æƒ°æ¨¡å¼ä¸­çš„<code>?</code>å’Œæˆ‘ä»¬åœ¨æ•°é‡æ§åˆ¶ä¸­çš„<code>?</code>æ˜¯<strong>ä¸ä¸€æ ·</strong>çš„</p><p>æ‡’æƒ°æ¨¡å¼ä¸­çš„<code>?</code>åªèƒ½å†™åœ¨æ•°é‡æ§åˆ¶<code>&#123;&#125;</code>åé¢</p><p>æ•°é‡æ§åˆ¶<code>&#123;&#125;</code>åªå¯ä»¥å†™åœ¨èŒƒå›´å­—ç¬¦åé¢<code>[a-f]</code>æˆ–è€…<code>\d</code>è¿™ç§</p><p>è¿™é‡Œéœ€è¦å¥½å¥½ç†è§£ä¸€ä¸‹</p><h4 id="åˆ é™¤æ‰€æœ‰çš„HTMLæ³¨é‡Š"><a href="#åˆ é™¤æ‰€æœ‰çš„HTMLæ³¨é‡Š" class="headerlink" title="åˆ é™¤æ‰€æœ‰çš„HTMLæ³¨é‡Š"></a>åˆ é™¤æ‰€æœ‰çš„HTMLæ³¨é‡Š</h4><p>æµ‹è¯•æ•°æ®å¦‚ä¸‹</p><p>æœ‰ä¸‰ç§æ³¨é‡Šå“¦</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--&lt;div&gt;&lt;/div&gt;--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-model:value</span>=<span class="string">&quot;test&quot;</span>/&gt;</span></span><br><span class="line"><span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">        &#123;&#123;test&#125;&#125;</span></span><br><span class="line"><span class="comment">        --&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.jsdelivr.net/npm/vue/dist/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript"><span class="keyword">let</span> app = <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript"><span class="attr">el</span>: <span class="string">&#x27;#app&#x27;</span>,</span></span><br><span class="line"><span class="javascript"><span class="attr">data</span>: &#123;</span></span><br><span class="line"><span class="javascript"><span class="attr">test</span>: <span class="string">&#x27;&#x27;</span></span></span><br><span class="line"><span class="javascript">&#125;,</span></span><br><span class="line"><span class="javascript"><span class="comment">/*methods: &#123;</span></span></span><br><span class="line"><span class="comment"><span class="javascript"></span></span></span><br><span class="line"><span class="comment"><span class="javascript">                &#125;,*/</span></span></span><br><span class="line"><span class="javascript"><span class="attr">watch</span>: &#123;</span></span><br><span class="line"><span class="javascript"><span class="attr">test</span>: &#123;</span></span><br><span class="line"><span class="javascript"><span class="attr">handler</span>: <span class="function"><span class="keyword">function</span> (<span class="params">newData,oldData</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript"><span class="built_in">console</span>.log(newData);</span></span><br><span class="line"><span class="javascript"><span class="built_in">console</span>.log(oldData);</span></span><br><span class="line"><span class="javascript">&#125;,</span></span><br><span class="line"><span class="javascript"><span class="comment">// immediate: true</span></span></span><br><span class="line"><span class="javascript">&#125;</span></span><br><span class="line"><span class="javascript">&#125;</span></span><br><span class="line"><span class="javascript">&#125;);</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><img src="/%E7%90%90%E7%A2%8E%E7%9A%84%E7%9F%A5%E8%AF%86/2022/07/09/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/image-20220709160510209.png" class title="åŒ¹é…HTMLæ³¨é‡Š"><h2 id="è¿›é˜¶"><a href="#è¿›é˜¶" class="headerlink" title="è¿›é˜¶"></a>è¿›é˜¶</h2><h3 id="åˆ†ç»„"><a href="#åˆ†ç»„" class="headerlink" title="åˆ†ç»„"></a>åˆ†ç»„</h3><p>åˆ†ç»„æŒ‡å°†åŒ¹é…çš„å†…å®¹ï¼Œä½¿ç”¨<code>()</code>åˆ’åˆ†æˆå¤šä¸ªç»„å—ï¼Œåˆ†å¥½çš„ç»„å¯ç”¨äºåœ¨åŒ¹é…å<strong>æå–</strong>ã€åå‘<strong>å¼•ç”¨</strong>ä»¥åŠ<strong>æ›¿æ¢</strong>æ“ä½œã€‚</p><p>ä¸‹é¢ä½¿ç”¨ä¸¤ä¸ªæ¡ˆä¾‹æ¥åšè¯´æ˜</p><h4 id="æå–ä¿¡æ¯è½¬sql"><a href="#æå–ä¿¡æ¯è½¬sql" class="headerlink" title="æå–ä¿¡æ¯è½¬sql"></a>æå–ä¿¡æ¯è½¬sql</h4><p>ä»€ä¹ˆæ„æ€å‘¢ï¼Ÿå°±æ˜¯å°†æå–å‡ºæ¥çš„æ•°æ®è½¬åŒ–ä¸ºDMLè¯­å¥</p><p>æ —ï¼š<code>insert into user(name,age,sex,birthday) values(&#39;èŠéº»&#39;,&#39;19&#39;,&#39;ç”·&#39;,&#39;2001-05-22&#39;)</code></p><p>æµ‹è¯•æ•°æ®å¦‚ä¸‹</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">èŠéº»   2001/05/22 19å²  ç”·</span><br><span class="line">ç« ä¸€   1993-08-09 20å²  å¥³</span><br><span class="line">æ²ˆå®¶æ€¡ 1999.05.22  21å² å¥³</span><br><span class="line">é™†åŠ›ä¸¹ 1989-02-19  19å² ç”·</span><br><span class="line">ç‹å­æ€¡ 2002-12-15  19å² ç”·</span><br></pre></td></tr></table></figure><img src="/%E7%90%90%E7%A2%8E%E7%9A%84%E7%9F%A5%E8%AF%86/2022/07/09/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/image-20220709161650300.png" class title="è½¬sql"><p><code>$ç»„å·</code>å¯ä»¥æ‹¿åˆ°æ‹¬å·ä¸­åŒ¹é…çš„å†…å®¹</p><h4 id="åŒ¹é…æ­£ç¡®çš„è‡ªé—­å’Œæ ‡ç­¾"><a href="#åŒ¹é…æ­£ç¡®çš„è‡ªé—­å’Œæ ‡ç­¾" class="headerlink" title="åŒ¹é…æ­£ç¡®çš„è‡ªé—­å’Œæ ‡ç­¾"></a>åŒ¹é…æ­£ç¡®çš„è‡ªé—­å’Œæ ‡ç­¾</h4><p>æµ‹è¯•æ•°æ®å¦‚ä¸‹</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">span</span>&gt;</span>span1<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>h22<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>h23<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h3</span>&gt;</span>h32<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>h11<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span>d iv1<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">span</span>&gt;</span>wrong<span class="tag">&lt;/<span class="name">dspan</span>&gt;</span></span><br></pre></td></tr></table></figure><img src="/%E7%90%90%E7%A2%8E%E7%9A%84%E7%9F%A5%E8%AF%86/2022/07/09/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/image-20220709162550488.png" class title="æ­£ç¡®çš„è‡ªé—­å’Œæ ‡ç­¾"><p>åœ¨æ­£åˆ™è¡¨è¾¾å¼ä¸­ä½¿ç”¨<code>\ç»„å·</code>æ¥<strong>åå‘å¼•ç”¨</strong>å‰é¢åŒ¹é…çš„ç»„</p><p><code>$0</code>è¡¨ç¤ºæ•´ä¸ªåŒ¹é…çš„å­—ç¬¦ä¸²</p><p>æ³¨æ„åå‘å¼•ç”¨åªç”¨åœ¨è¡¨è¾¾å¼ä¸­å¼•ç”¨<strong>ä¹‹å‰</strong>çš„åˆ†ç»„</p><h4 id="åŒ¹é…æ‰€æœ‰çš„JavaScriptä¸­çš„å­—ç¬¦ä¸²"><a href="#åŒ¹é…æ‰€æœ‰çš„JavaScriptä¸­çš„å­—ç¬¦ä¸²" class="headerlink" title="åŒ¹é…æ‰€æœ‰çš„JavaScriptä¸­çš„å­—ç¬¦ä¸²"></a>åŒ¹é…æ‰€æœ‰çš„JavaScriptä¸­çš„å­—ç¬¦ä¸²</h4><p>JavaScriptä¸­æœ‰ä¸‰ç§å­—ç¬¦ä¸²</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>ã€<span class="string">&#x27;&#x27;</span></span><br><span class="line"><span class="number">2</span>ã€<span class="string">&quot;&quot;</span></span><br><span class="line"><span class="number">3</span>ã€<span class="string">``</span></span><br></pre></td></tr></table></figure><p>æµ‹è¯•æ–‡æœ¬</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">const http = require(<span class="string">&#x27;http&#x27;</span>);</span><br><span class="line">const fs = require(<span class="string">&#x27;fs&#x27;</span>);</span><br><span class="line">const path = require(<span class="string">&#x27;path&#x27;</span>);</span><br><span class="line">const server = http.createServer();</span><br><span class="line"></span><br><span class="line">server.on(<span class="string">&quot;request&quot;</span>,(req,resp)=&gt;&#123;</span><br><span class="line">    <span class="built_in">let</span> url = req.url;</span><br><span class="line">    <span class="keyword">if</span>(url===<span class="string">&#x27;/favicon.ico&#x27;</span>)&#123;</span><br><span class="line">        resp.end();</span><br><span class="line">        <span class="built_in">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    resp.setHeader(<span class="string">&#x27;Content-type&#x27;</span>,<span class="string">&#x27;text/html;charset=utf-8&#x27;</span>);</span><br><span class="line">    console.log(`è®¿é—®çš„ç½‘å€çš„<span class="variable">$&#123;url&#125;</span>ï¼Œè®¿é—®æ–¹æ³•æ˜¯<span class="variable">$&#123;req.method&#125;</span>`);</span><br><span class="line">    <span class="built_in">let</span> data = fs.readFileSync(path.join(__dirname,url));</span><br><span class="line">    resp.end(data);</span><br><span class="line">&#125;)</span><br><span class="line">server.listen(<span class="string">&#x27;80&#x27;</span>,()=&gt;&#123;</span><br><span class="line">    console.log(<span class="string">&#x27;æœåŠ¡å¯åŠ¨\&quot;æˆåŠŸ\&quot;ï¼Œ80ç«¯å£&#x27;</span>);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><img src="/%E7%90%90%E7%A2%8E%E7%9A%84%E7%9F%A5%E8%AF%86/2022/07/09/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/image-20220709173204055.png" class title="åŒ¹é…æ‰€æœ‰çš„JavaScriptå­—ç¬¦ä¸²"><h4 id="ä¸‹é¢åšä¸ªæ‹“å±•"><a href="#ä¸‹é¢åšä¸ªæ‹“å±•" class="headerlink" title="ä¸‹é¢åšä¸ªæ‹“å±•"></a>ä¸‹é¢åšä¸ªæ‹“å±•</h4><p>åˆ†ç»„è¿˜æœ‰ä»¥ä¸‹å››ç§æƒ…å†µ</p><ol><li><code>?&lt;åç§°&gt;</code>å‘½ååˆ†ç»„</li><li><code>(?:)</code>ç§»é™¤åˆ†ç»„</li><li><code>(())</code>åµŒå¥—åˆ†ç»„</li><li><code>(\d)+</code>åˆ†ç»„ä¸­ä½¿ç”¨é‡è¯</li></ol><h5 id="å‘½ååˆ†ç»„"><a href="#å‘½ååˆ†ç»„" class="headerlink" title="å‘½ååˆ†ç»„"></a>å‘½ååˆ†ç»„</h5><p>é»˜è®¤æƒ…å†µä¸‹é€šè¿‡<strong>ç»„å·</strong>æ¥å–å€¼ï¼Œæ­¤å¤–ä¹Ÿå¯ä»¥è‡ªå®šä¹‰å‘½åç»„ï¼Œè¯­æ³•æ˜¯<code>(?&lt;åç§°&gt; )</code></p><p>ç„¶ååœ¨ç¨‹åºä¸­å°±å¯ä»¥é€šè¿‡<code>&lt;&gt;</code>ä¸­çš„<code>åç§°</code>æ¥å–å€¼ã€‚</p><p>å¦‚ï¼š<code>&lt;(?&lt;title&gt;(\S+?))&gt;.*&lt;\/\1&gt;</code> è¯¥è¡¨è¾¾å¼å°±å‘½åäº†ä¸€ä¸ª<strong>title</strong>çš„ç»„ï¼Œåœ¨jsçš„ç»“æœä¸­å°±å¯é€šè¿‡<strong>title</strong>å±æ€§å–å€¼ã€‚</p><blockquote><p>æ³¨æ„ï¼š</p><p>è¿™ç§å‘½åç»„åªèƒ½ç”¨äºåœ¨ç¨‹åºä¸­æå–æ“ä½œï¼Œä¸èƒ½è¿›è¡Œåå‘å¼•ç”¨ï¼Œä¹Ÿä¸èƒ½ç”¨åœ¨æ›¿æ¢æ“ä½œä¸­ã€‚</p><p>ä¹Ÿæ­£å› ä¸ºè¿™ç§å±€é™æ€§æ‰€ä»¥å‘½åç»„ä½¿ç”¨çš„å¾ˆå°‘ã€‚</p></blockquote><h5 id="ç§»é™¤åˆ†ç»„"><a href="#ç§»é™¤åˆ†ç»„" class="headerlink" title="ç§»é™¤åˆ†ç»„"></a>ç§»é™¤åˆ†ç»„</h5><p><code>()</code>å³ç”¨äºå­è¡¨è¾¾å¼ï¼ŒåŒæ—¶ä¹Ÿæ˜¯ä¸€ä¸ªåˆ†ç»„ã€‚</p><p>å¦‚æœåªæƒ³ç”¨ä½œå­è¡¨è¾¾å¼ï¼Œè€Œä¸æƒ³ç”¨äºåˆ†ç»„å°±å¯ä»¥ä½¿ç”¨<code>(?: )</code>ä»åˆ†ç»„åˆ—è¡¨ä¸­ç§»é™¤ã€‚</p><p>æ¯”å¦‚<code>(?:\d&#123;4&#125;)-(\d&#123;2&#125;)-(\d&#123;2&#125;)</code> è¯¥è¡¨è¾¾å¼å°±åªå­˜åœ¨ä¸¤ä¸ªç»„ï¼Œæœˆ<code>$1</code>å’Œæ—¥<code>$2</code>ã€‚</p><h5 id="åµŒå¥—åˆ†ç»„"><a href="#åµŒå¥—åˆ†ç»„" class="headerlink" title="åµŒå¥—åˆ†ç»„"></a>åµŒå¥—åˆ†ç»„</h5><p>æ¯”å¦‚ï¼š<code>((\d&#123;4&#125;)-(\d&#123;2&#125;)-(\d&#123;2&#125;))</code> å…¶ç»„å·çš„å‘½åé¡ºåºæ˜¯ä»¥<strong>å¼€æ‹¬å·</strong>å‡ºç°é¡ºåºä¸ºå‡†ã€‚</p><p><code>$1</code>æŒ‡çš„æ˜¯ä¸€ä¸ªæ•´ä½“</p><p><code>$2</code>æŒ‡çš„æ˜¯å¹´</p><p><code>$3</code>æŒ‡çš„æ˜¯æœˆ</p><p><code>$4</code>æŒ‡çš„æ˜¯æ—¥</p><p>æŒ‰ç…§<code>(</code>çš„é¡ºåºè¿›è¡Œç¼–ç»„</p><h5 id="å¤§å°å†™è½¬æ¢"><a href="#å¤§å°å†™è½¬æ¢" class="headerlink" title="å¤§å°å†™è½¬æ¢"></a>å¤§å°å†™è½¬æ¢</h5><p>åœ¨Ideaã€VS Codeã€Sublimeã€Notepad++ç­‰å·¥å…·è¿›è¡Œæ›¿æ¢æ“ä½œæ—¶ï¼Œè¿˜å¯ä»¥ä½¿ç”¨ä¸‹è¡¨ä¸­æ“ä½œç¬¦è¿›è¡Œå¤§å°å†™è½¬æ¢</p><table><thead><tr><th align="left">æ“ä½œç¬¦</th><th align="left">æè¿°</th></tr></thead><tbody><tr><td align="left">\u å•ä¸ªè½¬å¤§å†™</td><td align="left">è½¬æ¢ä¸‹ä¸€ä¸ªå­—ç¬¦ä¸º<strong>å¤§</strong>å†™</td></tr><tr><td align="left">\U å…¨éƒ¨è½¬å¤§å†™</td><td align="left">è½¬æ¢<code>\U</code>åæ‰€æœ‰å­—ç¬¦è½¬<strong>å¤§</strong>å†™</td></tr><tr><td align="left">\Uâ€¦\E åŒºé—´è½¬å¤§å†™</td><td align="left"><code>\U</code>ä¸<code>\E</code>åŒºé—´çš„å†…å®¹è½¬<strong>å¤§</strong>å†™</td></tr><tr><td align="left">\l å•ä¸ªè½¬å°å†™</td><td align="left">è½¬æ¢ä¸€ä¸‹ä¸ªå­—ç¬¦ä¸ºå°å†™</td></tr><tr><td align="left">\L å…¨éƒ¨è½¬å°å†™</td><td align="left">è½¬æ¢<code>\L</code>åæ‰€æœ‰å­—ç¬¦è½¬å°å†™</td></tr><tr><td align="left">\Lâ€¦\E åŒºé—´è½¬å°å†™</td><td align="left"><code>\L</code>ä¸<code>\U</code>åŒºé—´çš„å†…å®¹è½¬å°å†™</td></tr></tbody></table><img src="/%E7%90%90%E7%A2%8E%E7%9A%84%E7%9F%A5%E8%AF%86/2022/07/09/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/image-20220709173819679.png" class title="vscodeä½¿ç”¨æ­£åˆ™æŸ¥æ‰¾"><img src="/%E7%90%90%E7%A2%8E%E7%9A%84%E7%9F%A5%E8%AF%86/2022/07/09/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/image-20220709173840070.png" class title="æ›¿æ¢"><h3 id="è¾¹ç•Œæ–­è¨€"><a href="#è¾¹ç•Œæ–­è¨€" class="headerlink" title="è¾¹ç•Œæ–­è¨€"></a>è¾¹ç•Œæ–­è¨€</h3><h4 id="ä»‹ç»-1"><a href="#ä»‹ç»-1" class="headerlink" title="ä»‹ç»"></a>ä»‹ç»</h4><p>æ˜¯è¾¹ç•Œæ–­è¨€è®©æ­£åˆ™è¡¨è¾¾å¼æœ‰äº†<strong>æ¡ä»¶</strong>åˆ¤æ–­çš„èƒ½åŠ›</p><p>å…ˆæ¥çœ‹ä¸ªæ —å­æ„Ÿå—ä¸€ä¸‹</p><p>åŒ¹é…æ‰€ä»¥å§“åï¼Œä¸èƒ½å¸¦ç€è¡¨å¤´ä¸­çš„å§“å</p><p>æµ‹è¯•æ•°æ®</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">å§“åç”Ÿæ—¥å¹´é¾„ æ€§åˆ«</span><br><span class="line">èŠéº»   2001/05/22 19å²  ç”·</span><br><span class="line">ç« ä¸€   1993-08-09 20å²  å¥³</span><br><span class="line">æ²ˆå®¶æ€¡ 1999.05.22  21å² å¥³</span><br><span class="line">é™†åŠ›ä¸¹ 1989-02-19  19å² ç”·</span><br><span class="line">ç‹å­æ€¡ 2002-12-15  19å² ç”·</span><br></pre></td></tr></table></figure><img src="/%E7%90%90%E7%A2%8E%E7%9A%84%E7%9F%A5%E8%AF%86/2022/07/09/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/image-20220709163732036.png" class title="ä¸å¸¦è¡¨å¤´çš„å§“å"><p>è¿™é‡Œé¢çš„<code>(?!)</code>å°±æ˜¯å‰ç½®å¦å®šæ–­è¨€</p><p>åœ¨æ–­è¨€è¿™é‡Œï¼Œç½‘ä¸Šçš„ï¼Œè§†é¢‘çš„æ•™ç¨‹å¯¹å…¶çš„ç§°å‘¼çœŸçš„æ˜¯å±‚å‡ºä¸ç©·ï¼Œ</p><table><thead><tr><th align="left">è¡¨è¾¾å¼</th><th align="left">ç¯è§†</th><th align="left">é¢„æŸ¥</th><th align="left">è¾¹ç•Œæ–­è¨€</th><th align="left">é›¶å®½æ–­è¨€</th></tr></thead><tbody><tr><td align="left"><code>(?= )</code></td><td align="left">å‘å‰è‚¯å®šç¯è§†</td><td align="left">æ­£å‘è‚¯å®šé¢„æŸ¥</td><td align="left">è¾¹ç•Œå‰ç½®è‚¯å®šæ–­è¨€</td><td align="left">é›¶å®½åº¦æ­£é¢„æµ‹å…ˆè¡Œæ–­è¨€</td></tr><tr><td align="left"><code>(?! )</code></td><td align="left">å‘å‰å¦å®šç¯è§†</td><td align="left">æ­£å‘å¦å®šé¢„æŸ¥</td><td align="left">è¾¹ç•Œå‰ç½®å¦å®šæ–­è¨€</td><td align="left">é›¶å®½åº¦è´Ÿé¢„æµ‹å…ˆè¡Œæ–­è¨€</td></tr><tr><td align="left"><code>(?&lt;= )</code></td><td align="left">å‘åè‚¯å®šç¯è§†</td><td align="left">åå‘è‚¯å®šé¢„æŸ¥</td><td align="left">è¾¹ç•Œåç½®è‚¯å®šæ–­è¨€</td><td align="left">é›¶å®½åº¦æ­£å›é¡¾åå‘æ–­è¨€</td></tr><tr><td align="left"><code>(?&lt;! )</code></td><td align="left">å‘åå¦å®šç¯è§†</td><td align="left">åå‘å¦å®šé¢„æŸ¥</td><td align="left">è¾¹ç•Œåç½®å¦å®šæ–­è¨€</td><td align="left">é›¶å®½åº¦è´Ÿå›é¡¾åå‘æ–­è¨€</td></tr></tbody></table><p>ç®¡ä»–å«ä»€ä¹ˆå‘¢ï¼Œåæ­£æˆ‘ä»¬åªè¦çŸ¥é“å®ƒæ˜¯æ–­è¨€ï¼Œç„¶åæ€ä¹ˆä½¿ç”¨å°±è¡Œäº†</p><p>è¿™é‡Œåªéœ€è¦å››ç»„å›¾å°±å¯ä»¥è®°ä½è¿™å››ä¸ªæ–­è¨€çš„ä½œç”¨äº†</p><img src="/%E7%90%90%E7%A2%8E%E7%9A%84%E7%9F%A5%E8%AF%86/2022/07/09/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/image-20220709165118860.png" class title="å‘å‰è‚¯å®šç¯è§†"><img src="/%E7%90%90%E7%A2%8E%E7%9A%84%E7%9F%A5%E8%AF%86/2022/07/09/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/image-20220709165144128.png" class title="å‘å‰å¦å®šç¯è§†"><img src="/%E7%90%90%E7%A2%8E%E7%9A%84%E7%9F%A5%E8%AF%86/2022/07/09/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/image-20220709165353187.png" class title="å‘åè‚¯å®šç¯è§†"><img src="/%E7%90%90%E7%A2%8E%E7%9A%84%E7%9F%A5%E8%AF%86/2022/07/09/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/image-20220709165336692.png" class title="å‘åå¦å®šç¯è§†"><p><code>(?=èŠ)</code>å°±æ˜¯èŠå‰é¢çš„é‚£ä¸ªåœ°æ–¹</p><p><code>(?!èŠ)</code>å°±æ˜¯é™¤äº†èŠå‰é¢åœ°æ–¹çš„å…¶ä»–æ‰€æœ‰åœ°æ–¹</p><p><code>(?=èŠ)</code>å°±æ˜¯èŠåé¢çš„é‚£ä¸ªåœ°æ–¹</p><p><code>(?!èŠ)</code>å°±æ˜¯é™¤äº†èŠåé¢åœ°æ–¹çš„å…¶ä»–æ‰€æœ‰åœ°æ–¹</p><p>è™½ç„¶æ¡ˆä¾‹å¾ˆç®€é™‹ï¼Œä½†æ˜¯åªè¦ç†è§£äº†è¿™å››å¥è¯ï¼Œè¾¹ç•Œæ–­è¨€å°±è½»è½»æ¾æ¾æ‹¿ä¸‹</p><h4 id="åŒ¹é…é”™è¯¯çš„åå…­è¿›åˆ¶é¢œè‰²"><a href="#åŒ¹é…é”™è¯¯çš„åå…­è¿›åˆ¶é¢œè‰²" class="headerlink" title="åŒ¹é…é”™è¯¯çš„åå…­è¿›åˆ¶é¢œè‰²"></a>åŒ¹é…é”™è¯¯çš„åå…­è¿›åˆ¶é¢œè‰²</h4><p>æµ‹è¯•æ•°æ®å¦‚ä¸‹</p><p>æ­£ç¡®çš„16è¿›åˆ¶é¢œè‰²è§„åˆ™</p><p>1ã€#å¼€å¤´</p><p>2ã€6ä¸ª16è¿›åˆ¶æ•°å­—æˆ–è€…3ä¸ª</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#BC0D13</span></span><br><span class="line"><span class="comment">#a3e32d</span></span><br><span class="line"><span class="comment">#a656e3</span></span><br><span class="line"><span class="comment">#e00</span></span><br><span class="line"><span class="comment">#91e376</span></span><br><span class="line"><span class="comment">#as</span></span><br><span class="line">sdas<span class="comment">#</span></span><br><span class="line"><span class="comment">#14e3ce</span></span><br></pre></td></tr></table></figure><img src="/%E7%90%90%E7%A2%8E%E7%9A%84%E7%9F%A5%E8%AF%86/2022/07/09/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/image-20220709170751838.png" class title="åŒ¹é…é”™è¯¯æ ¼å¼çš„é¢œè‰²"><p>å®ç°è¿™ç§é¢˜ç›®çš„æ­¥éª¤å°±æ˜¯</p><p>å…ˆæ‰¾åˆ°ç¬¦åˆè¦æ±‚çš„16è¿›åˆ¶é¢œè‰²</p><p>ç„¶åä½¿ç”¨å‘å‰å¦å®šç¯è§†</p><p>å³å¯æ‰¾åˆ°ä¸ç¬¦åˆè¦æ±‚çš„16è¿›åˆ¶é¢œè‰²</p><h4 id="æ‰¾å‡ºæ‰€æœ‰ç¬¦åˆæ¡ä»¶çš„å¯†ç "><a href="#æ‰¾å‡ºæ‰€æœ‰ç¬¦åˆæ¡ä»¶çš„å¯†ç " class="headerlink" title="æ‰¾å‡ºæ‰€æœ‰ç¬¦åˆæ¡ä»¶çš„å¯†ç "></a>æ‰¾å‡ºæ‰€æœ‰ç¬¦åˆæ¡ä»¶çš„å¯†ç </h4><ol><li>å¯†ç é•¿åº¦æ˜¯8-20ä½</li><li>å¤§å°å†™å­—æ¯ä»¥åŠæ•°å­—å¿…é¡»éƒ½æœ‰ä¸€ä¸ªã€‚</li></ol><p>æµ‹è¯•æ•°æ®</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">e3c3d2D3223</span><br><span class="line">86e374W2</span><br><span class="line">e3a34fDas</span><br><span class="line">213498h9</span><br><span class="line">4DIOJ239830239ur23u90asdasasd</span><br><span class="line">5fe362IKds</span><br><span class="line">2ab93F</span><br><span class="line">bf45bbaSd9</span><br></pre></td></tr></table></figure><img src="/%E7%90%90%E7%A2%8E%E7%9A%84%E7%9F%A5%E8%AF%86/2022/07/09/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/image-20220709171629176.png" class title="åŒ¹é…ç¬¦åˆè¦æ±‚çš„å¯†ç "><h4 id="æå–JavaScriptä¸­çš„åˆæ³•å˜é‡å"><a href="#æå–JavaScriptä¸­çš„åˆæ³•å˜é‡å" class="headerlink" title="æå–JavaScriptä¸­çš„åˆæ³•å˜é‡å"></a>æå–JavaScriptä¸­çš„åˆæ³•å˜é‡å</h4><p>æµ‹è¯•æ•°æ®</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> http = <span class="built_in">require</span>(<span class="string">&#x27;http&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> fs = <span class="built_in">require</span>(<span class="string">&#x27;fs&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&#x27;path&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> 1server = http.createServer();</span><br><span class="line"></span><br><span class="line">server.on(<span class="string">&#x27;request&#x27;</span>,<span class="function">(<span class="params">req,resp</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> url = req.url;</span><br><span class="line">    <span class="keyword">if</span>(url===<span class="string">&#x27;/favicon.ico&#x27;</span>)&#123;</span><br><span class="line">        resp.end();</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    resp.setHeader(<span class="string">&#x27;Content-type&#x27;</span>,<span class="string">&#x27;text/html;charset=utf-8&#x27;</span>);</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">`è®¿é—®çš„ç½‘å€çš„<span class="subst">$&#123;url&#125;</span>ï¼Œè®¿é—®æ–¹æ³•æ˜¯<span class="subst">$&#123;req.method&#125;</span>`</span>);</span><br><span class="line">    <span class="keyword">let</span> _data = fs.readFileSync(path.join(__dirname,url));</span><br><span class="line">    resp.end(data);</span><br><span class="line">&#125;)</span><br><span class="line">server.listen(<span class="string">&#x27;80&#x27;</span>,<span class="function">()=&gt;</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;æœåŠ¡å¯åŠ¨æˆåŠŸï¼Œ80ç«¯å£&#x27;</span>);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><img src="/%E7%90%90%E7%A2%8E%E7%9A%84%E7%9F%A5%E8%AF%86/2022/07/09/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/image-20220709172624342.png" class title="åŒ¹é…åˆæ³•JavaScriptå˜é‡"><h4 id="æ·»åŠ åƒåˆ†å·"><a href="#æ·»åŠ åƒåˆ†å·" class="headerlink" title="æ·»åŠ åƒåˆ†å·"></a>æ·»åŠ åƒåˆ†å·</h4><p>æ¯ä¸‰ä½åŠ å…¥ä¸€ä¸ª<code>,</code>åšåˆ†å‰²</p><p>æµ‹è¯•æ•°æ®</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">12349978</span><br><span class="line">13241230981240941270</span><br><span class="line">4912771</span><br><span class="line">240912470</span><br><span class="line">143874131299</span><br><span class="line">329087234</span><br><span class="line">51972</span><br></pre></td></tr></table></figure><img src="/%E7%90%90%E7%A2%8E%E7%9A%84%E7%9F%A5%E8%AF%86/2022/07/09/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/image-20220709174523626.png" class title="æ·»åŠ åƒåˆ†å·"><h2 id="JAVAä¸­çš„æ­£åˆ™"><a href="#JAVAä¸­çš„æ­£åˆ™" class="headerlink" title="JAVAä¸­çš„æ­£åˆ™"></a>JAVAä¸­çš„æ­£åˆ™</h2><p><code>java.util.regex </code>æ˜¯ä¸€ä¸ªç”¨æ­£åˆ™è¡¨è¾¾å¼æ‰€å®šåˆ¶çš„æ¨¡å¼æ¥å¯¹å­—ç¬¦ä¸²è¿›è¡ŒåŒ¹é…å·¥ä½œçš„ç±»åº“åŒ…</p><p>å®ƒä¸»è¦åŒ…æ‹¬ä¸¤ä¸ªç±»ï¼š<code>Pattern</code> å’Œ <code>Matcher</code> ã€‚</p><ul><li>Patternï¼š <strong>ä¸€ä¸ª Pattern æ˜¯ä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼ç»ç¼–è¯‘åçš„è¡¨ç°æ¨¡å¼ã€‚</strong></li><li>Matcherï¼š<strong>ä¸€ä¸ª Matcher å¯¹è±¡æ˜¯ä¸€ä¸ªçŠ¶æ€æœºå™¨ï¼Œå®ƒä¾æ® Pattern å¯¹è±¡åšä¸ºåŒ¹é…æ¨¡å¼å¯¹å­—ç¬¦ä¸²å±•å¼€åŒ¹é…æ£€æŸ¥ã€‚</strong></li></ul><p>é¦–å…ˆä¸€ä¸ª <code>Pattern</code> å®ä¾‹å®šåˆ¶äº†ä¸€ä¸ªæ‰€ç”¨è¯­æ³•ä¸ <code>PERL</code> ç±»ä¼¼çš„æ­£åˆ™è¡¨è¾¾å¼ç»ç¼–è¯‘åçš„æ¨¡å¼</p><p>ç„¶åä¸€ä¸ª <code>Matcher</code> å®ä¾‹åœ¨è¿™ä¸ªç»™å®šçš„ <code>Pattern</code> å®ä¾‹çš„æ¨¡å¼æ§åˆ¶ä¸‹è¿›è¡Œå­—ç¬¦ä¸²åŒ¹é…åçš„åç»­å·¥ä½œï¼Œæ¯”å¦‚æ›¿æ¢å•Š</p><h4 id="Pattern"><a href="#Pattern" class="headerlink" title="Pattern"></a>Pattern</h4><p>Pattern çš„ä¸»è¦æ–¹æ³•å¦‚ä¸‹</p><table><thead><tr><th>æ–¹æ³•åç§°</th><th>è§£é‡Š</th></tr></thead><tbody><tr><td>static Pattern compile(String regex)</td><td>å°†ç»™å®šçš„æ­£åˆ™è¡¨è¾¾å¼ç¼–è¯‘å¹¶èµ‹äºˆç»™ <code>Pattern</code> ç±»</td></tr><tr><td>static Pattern compile(String regex, int flags)</td><td>å¯¹æŒ‡å®šå­—ç¬¦ä¸²çš„æˆªå–ï¼Œå‚æ•°é…ç½®å¦‚ä¸‹</td></tr><tr><td>int flags()</td><td>è¿”å›å½“å‰ <code>Pattern</code> çš„åŒ¹é… <code>flag</code> å‚æ•°</td></tr><tr><td>Matcher matcher(CharSequence input)</td><td>ç”Ÿæˆä¸€ä¸ªç»™å®šå‘½åçš„ <code>Matcher</code> å¯¹è±¡</td></tr><tr><td>static boolean matches(String regex, CharSequence input)</td><td>ç¼–è¯‘ç»™å®šçš„æ­£åˆ™è¡¨è¾¾å¼å¹¶å¯¹è¾“å…¥çš„å­—ä¸²ä»¥è¯¥æ­£åˆ™è¡¨è¾¾å¼ä¸ºæ¨¡å¼€å±•åŒ¹é…</td></tr><tr><td>String pattern()</td><td>è¿”å›è¯¥Patterå¯¹è±¡æ‰€ç¼–è¯‘çš„æ­£åˆ™è¡¨è¾¾å¼</td></tr></tbody></table><p>ä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼ï¼Œä¹Ÿå°±æ˜¯ä¸€ä¸²æœ‰ç‰¹å®šæ„ä¹‰çš„å­—ç¬¦</p><p>å¯ä»¥é¦–å…ˆè¦ç¼–è¯‘æˆä¸ºä¸€ä¸ª <code>Pattern</code> ç±»çš„å®ä¾‹</p><p>è¿™ä¸ª <code>Pattern</code> å¯¹è±¡å¯ä»¥ä½¿ç”¨ <code>matcher(String str)</code> æ–¹æ³•æ¥ç”Ÿæˆä¸€ä¸ª <code>Matcher</code> å®ä¾‹</p><p>æ¥ç€ä¾¿å¯ä»¥ä½¿ç”¨è¯¥ <code>Matcher</code> å®ä¾‹å¯¹ç›®æ ‡å­—ç¬¦ä¸²è¿›è¡ŒåŒ¹é…åçš„åç»­å·¥ä½œ</p><p>ç°åœ¨æˆ‘ä»¬å…ˆæ¥çœ‹ä¸€ä¸ªç®€å•çš„ä¾‹å­</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ç”Ÿæˆä¸€ä¸ª Patternï¼ŒåŒæ—¶ç¼–è¯‘ä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼</span></span><br><span class="line">Pattern p = Pattern.compile(<span class="string">&quot;[/\\]+&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//ç”¨ Pattern çš„ split() æ–¹æ³•æŠŠå­—ç¬¦ä¸²æŒ‰ &quot;/&quot; å’Œ &quot;\&quot;åˆ†å‰²</span></span><br><span class="line">String[] result = p.split(</span><br><span class="line">    <span class="string">&quot;Kevin has seenã€ŠLEONã€‹seveal times,because it is a good film.&quot;</span></span><br><span class="line">    +<span class="string">&quot;/ å‡¯æ–‡å·²ç»çœ‹è¿‡ã€Šè¿™ä¸ªæ€æ‰‹ä¸å¤ªå†·ã€‹å‡ æ¬¡äº†\å› ä¸ºå®ƒæ˜¯ä¸€éƒ¨&quot;</span></span><br><span class="line">    +<span class="string">&quot;å¥½ç”µå½±ã€‚/åè¯:å‡¯æ–‡ã€‚&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; result.length; i++)&#123;</span><br><span class="line">    System.out.println(result[i]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>ä¸Šè¿°ä»£ç çš„è¿è¡Œç»“æœä¸ºï¼š</p><p>Kevin has seenã€ŠLEONã€‹seveal times,because it is a good film.<br>å‡¯æ–‡å·²ç»çœ‹è¿‡ã€Šè¿™ä¸ªæ€æ‰‹ä¸å¤ªå†·ã€‹å‡ æ¬¡äº†ï¼Œå› ä¸ºå®ƒæ˜¯ä¸€éƒ¨å¥½ç”µå½±ã€‚<br>åè¯:å‡¯æ–‡ã€‚</p></blockquote><h4 id="Matcher"><a href="#Matcher" class="headerlink" title="Matcher"></a>Matcher</h4><p><code>Matcher</code> å¯¹è±¡æ˜¯ä¸€ä¸ªçŠ¶æ€æœºå™¨ï¼Œå®ƒ<strong>ä¾æ® Pattern å¯¹è±¡åšä¸ºåŒ¹é…æ¨¡å¼å¯¹å­—ç¬¦ä¸²å±•å¼€åŒ¹é…æ£€æŸ¥</strong>ã€‚</p><blockquote><p>ä¾‹ï¼šä¸‹é¢æ˜¯ä¸€ä¸ªå¯¹å•è¯ <code>dog</code> å‡ºç°åœ¨è¾“å…¥å­—ç¬¦ä¸²ä¸­å‡ºç°æ¬¡æ•°è¿›è¡Œè®¡æ•°çš„ä¾‹å­ï¼š</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">String regex = <span class="string">&quot;\\bdog\\b&quot;</span>;</span><br><span class="line">String input = <span class="string">&quot;dog dog dogtie&quot;</span>;</span><br><span class="line">Pattern p = Pattern.compile(regex);</span><br><span class="line">Matcher m = p.matcher(input); <span class="comment">// è·å– matcher å¯¹è±¡</span></span><br><span class="line"><span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> (m.find()) &#123;</span><br><span class="line">    count++;</span><br><span class="line">    System.out.println(<span class="string">&quot;Match number &quot;</span> + count);</span><br><span class="line">    System.out.println(<span class="string">&quot;start(): &quot;</span> + m.start());</span><br><span class="line">    System.out.println(<span class="string">&quot;end(): &quot;</span> + m.end());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>ä¸Šè¿°ä»£ç çš„æ‰§è¡Œç»“æœä¸ºï¼š</p><p>Match number 1     &#x2F;&#x2F; ç¬¬ä¸€æ¬¡å‡ºç° ï¼ˆä¸‹æ ‡ 0-2ï¼‰<br>start(): 0            &#x2F;&#x2F; å¼€å§‹ä¸‹æ ‡ 0<br>end(): 3            &#x2F;&#x2F; ç»“æŸä¸‹æ ‡ 3<br>Match number 2     &#x2F;&#x2F; ç¬¬äºŒæ¬¡å‡ºç°ï¼ˆä¸‹æ ‡ 4-6ï¼‰<br>start(): 4            &#x2F;&#x2F; å¼€å§‹ä¸‹æ ‡ 4<br>end(): 7            &#x2F;&#x2F; ç»“æŸä¸‹æ ‡ 7</p></blockquote><p><code>dogtie</code>ä¸­çš„dogæ²¡æœ‰è¢«åŒ¹é…æ˜¯å› ä¸ºæˆ‘ä»¬è¦çš„æ˜¯å•ç‹¬çš„å•è¯<code>dog</code>è€Œä¸æ˜¯åœ¨å…¶ä»–å•è¯ä¸­çš„<code>dog</code></p><blockquote><p><code>matches</code> å’Œ <code>lookingAt</code> </p></blockquote><p>è¿™ä¸¤ä¸ªæ–¹æ³•éƒ½ç”¨æ¥å°è¯•åŒ¹é…ä¸€ä¸ªè¾“å…¥åºåˆ—æ¨¡å¼ã€‚</p><p>å®ƒä»¬çš„ä¸åŒæ˜¯ <code>matches</code> è¦æ±‚æ•´ä¸ªåºåˆ—éƒ½åŒ¹é…</p><p>è€Œ<code>lookingAt</code> æ–¹æ³•è™½ç„¶ä¸éœ€è¦æ•´å¥éƒ½åŒ¹é…ï¼Œä½†æ˜¯éœ€è¦ä»ç¬¬ä¸€ä¸ªå­—ç¬¦å¼€å§‹åŒ¹é…ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">String regex = <span class="string">&quot;foo&quot;</span>;</span><br><span class="line">String input = <span class="string">&quot;fooooooooooooooooo&quot;</span>;</span><br><span class="line">String input2 = <span class="string">&quot;ooooofoooooooooooo&quot;</span>;</span><br><span class="line"></span><br><span class="line">Pattern pattern = Pattern.compile(regex);</span><br><span class="line">Matcher matcher = pattern.matcher(input);</span><br><span class="line">Matcher matcher2 = pattern.matcher(input2);</span><br><span class="line"></span><br><span class="line">System.out.println(<span class="string">&quot;lookingAt(): &quot;</span> + matcher.lookingAt());</span><br><span class="line">System.out.println(<span class="string">&quot;matches(): &quot;</span> + matcher.matches());</span><br><span class="line">System.out.println(<span class="string">&quot;lookingAt(): &quot;</span> + matcher2.lookingAt());</span><br></pre></td></tr></table></figure><blockquote><p>ä¸Šè¿°ä»£ç çš„æ‰§è¡Œç»“æœä¸ºï¼š</p><p>lookingAt(): true<br>matches(): false<br>lookingAt(): false</p></blockquote><blockquote><p><code>replaceFirst</code> å’Œ <code>replaceAll</code> </p></blockquote><p>è¿™ä¸¤ä¸ªæ–¹æ³•ç”¨æ¥æ›¿æ¢åŒ¹é…æ­£åˆ™è¡¨è¾¾å¼çš„æ–‡æœ¬ã€‚</p><p>ä¸åŒçš„æ˜¯ï¼Œ<code>replaceFirst</code> åªä¼šæ›¿æ¢ç¬¬ä¸€æ¬¡åŒ¹é…</p><p><code>replaceAll</code> æ›¿æ¢æ‰€æœ‰åŒ¹é…ã€‚</p><blockquote><p>ä¸‹é¢çš„ä¾‹å­æ¥è§£é‡Šè¿™ä¸ªåŠŸèƒ½ï¼š</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">String regex = <span class="string">&quot;dog&quot;</span>;</span><br><span class="line">String input1 = <span class="string">&quot;The dog says meow. All dogs say meow.&quot;</span>;</span><br><span class="line">String input2 = <span class="string">&quot;The dog says meow. All dogs say meow.&quot;</span>;</span><br><span class="line">String replace = <span class="string">&quot;cat&quot;</span>;</span><br><span class="line"></span><br><span class="line">Pattern p = Pattern.compile(regex);</span><br><span class="line"></span><br><span class="line">Matcher m1 = p.matcher(input1);</span><br><span class="line">Matcher m2 = p.matcher(input2);</span><br><span class="line"></span><br><span class="line">input1 = m1.replaceAll(replace);</span><br><span class="line">input2 = m2.replaceFirst(replace);</span><br><span class="line"></span><br><span class="line">System.out.println(input1);</span><br><span class="line">System.out.println(input2);</span><br></pre></td></tr></table></figure><blockquote><p>ä¸Šè¿°ä»£ç çš„æ‰§è¡Œç»“æœä¸ºï¼š</p><p>The cat says meow. All cats say meow.<br>The cat says meow. All dogs say meow.</p></blockquote><p>ä»ä¸Šé¢çš„ç»“æœï¼Œæˆ‘ä»¬å¯ä»¥å‘ç°ï¼Œ<code>replaceFirst</code> æ–¹æ³•åªå°†ç¬¬ä¸€ä¸ª <code>dog</code> æ›¿æ¢æˆäº† <code>cat</code>ã€‚è€Œ <code>replaceAll</code> æ–¹æ³•å´å°†ä¸¤ä¸ª <code>dog</code> éƒ½æ›¿æ¢æˆäº† <code>cat</code>ã€‚</p><p>å¥½å•¦ï¼Œç»“æŸäº†</p><p>æ­£åˆ™å·®ä¸å¤šå°±è¿™äº›å†…å®¹äº†</p><p>å¦‚æœä½ å‘ç°äº†é”™è¯¯</p><p>æœ›ç•™è¨€æ‰¹è¯„æŒ‡æ­£ï¼</p>]]></content>
      
      
      <categories>
          
          <category> çç¢çš„çŸ¥è¯† </category>
          
      </categories>
      
      
        <tags>
            
            <tag> çç¢çš„çŸ¥è¯† </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Vue2-åŸºç¡€5</title>
      <link href="/%E5%89%8D%E7%AB%AF/Vue2/2022/07/01/Vue2-%E5%9F%BA%E7%A1%805/"/>
      <url>/%E5%89%8D%E7%AB%AF/Vue2/2022/07/01/Vue2-%E5%9F%BA%E7%A1%805/</url>
      
        <content type="html"><![CDATA[<h2 id="Vue2-åŸºç¡€5"><a href="#Vue2-åŸºç¡€5" class="headerlink" title="Vue2-åŸºç¡€5"></a>Vue2-åŸºç¡€5</h2><h3 id="åŠ¨ç”»æ•ˆæœ"><a href="#åŠ¨ç”»æ•ˆæœ" class="headerlink" title="åŠ¨ç”»æ•ˆæœ"></a>åŠ¨ç”»æ•ˆæœ</h3><p>åœ¨éšè—å…ƒç´ ä¹‹å‰æ‰§è¡Œä¸€æ®µåŠ¨ç”»</p><p>åœ¨æ˜¾ç¤ºå…ƒç´ ä¹‹å‰æ˜¾ç¤ºä¸€æ®µåŠ¨ç”»</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;show=!show&quot;</span>&gt;</span>æ˜¾ç¤º/éšè—<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">transition</span> <span class="attr">name</span>=<span class="string">&quot;come&quot;</span> <span class="attr">appear</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">h2</span> <span class="attr">v-show</span>=<span class="string">&quot;show&quot;</span>&gt;</span>Helloï¼ŒWorldï¼<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">transition</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="javascript">  <span class="attr">name</span>: <span class="string">&quot;Test&quot;</span>,</span></span><br><span class="line"><span class="javascript">  <span class="function"><span class="title">data</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="javascript">      <span class="attr">show</span>: <span class="literal">true</span></span></span><br><span class="line"><span class="javascript">    &#125;</span></span><br><span class="line"><span class="javascript">  &#125;,</span></span><br><span class="line"><span class="javascript">&#125;</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span>&gt;</span><span class="css"></span></span><br><span class="line"><span class="css"></span></span><br><span class="line"><span class="css"><span class="selector-class">.come-enter-active</span> &#123;</span></span><br><span class="line"><span class="css">  <span class="attribute">animation</span>: move <span class="number">1s</span> linear;</span></span><br><span class="line"><span class="css">&#125;</span></span><br><span class="line"><span class="css"></span></span><br><span class="line"><span class="css"><span class="selector-class">.come-leave-active</span> &#123;</span></span><br><span class="line"><span class="css">  <span class="attribute">animation</span>: move <span class="number">1s</span> linear reverse;</span></span><br><span class="line"><span class="css">&#125;</span></span><br><span class="line"><span class="css"></span></span><br><span class="line"><span class="css"><span class="keyword">@keyframes</span> move &#123;</span></span><br><span class="line"><span class="css">  <span class="selector-tag">from</span> &#123;</span></span><br><span class="line"><span class="css">    <span class="attribute">transform</span>: <span class="built_in">translateX</span>(-<span class="number">100%</span>);</span></span><br><span class="line"><span class="css">  &#125;</span></span><br><span class="line"><span class="css">  <span class="selector-tag">to</span> &#123;</span></span><br><span class="line"><span class="css">    <span class="attribute">transform</span>: <span class="built_in">translateX</span>(<span class="number">0px</span>);</span></span><br><span class="line"><span class="css">  &#125;</span></span><br><span class="line"><span class="css">&#125;</span></span><br><span class="line"><span class="css"><span class="selector-tag">h2</span> &#123;</span></span><br><span class="line"><span class="css">  <span class="attribute">background</span>: greenyellow;</span></span><br><span class="line"><span class="css">  <span class="attribute">width</span>: <span class="number">300px</span></span></span><br><span class="line"><span class="css">&#125;</span></span><br><span class="line"><span class="css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="è¿‡æ¸¡æ•ˆæœ"><a href="#è¿‡æ¸¡æ•ˆæœ" class="headerlink" title="è¿‡æ¸¡æ•ˆæœ"></a>è¿‡æ¸¡æ•ˆæœ</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;show = !isShow&quot;</span>&gt;</span>æ˜¾ç¤º/éšè—<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">transition-group</span> <span class="attr">name</span>=<span class="string">&quot;hello&quot;</span> <span class="attr">appear</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">h1</span> <span class="attr">v-show</span>=<span class="string">&quot;!show&quot;</span> <span class="attr">key</span>=<span class="string">&quot;1&quot;</span>&gt;</span>Helloï¼<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">h1</span> <span class="attr">v-show</span>=<span class="string">&quot;show&quot;</span> <span class="attr">key</span>=<span class="string">&quot;2&quot;</span>&gt;</span>World!<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">transition-group</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript"> <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="javascript">  <span class="attr">name</span>:<span class="string">&#x27;Test&#x27;</span>,</span></span><br><span class="line"><span class="javascript">  <span class="function"><span class="title">data</span>(<span class="params"></span>)</span> &#123;</span></span><br><span class="line"><span class="javascript">   <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="javascript">    <span class="attr">show</span>:<span class="literal">true</span></span></span><br><span class="line"><span class="javascript">   &#125;</span></span><br><span class="line"><span class="javascript">  &#125;,</span></span><br><span class="line"><span class="javascript"> &#125;</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span>&gt;</span><span class="css"></span></span><br><span class="line"><span class="css"> <span class="selector-tag">h1</span>&#123;</span></span><br><span class="line"><span class="css">  <span class="attribute">background-color</span>: orange;</span></span><br><span class="line"><span class="css"> &#125;</span></span><br><span class="line"><span class="css"> <span class="comment">/* è¿›å…¥çš„èµ·ç‚¹ã€ç¦»å¼€çš„ç»ˆç‚¹ */</span></span></span><br><span class="line"><span class="css"> <span class="selector-class">.hello-enter</span>,<span class="selector-class">.hello-leave-to</span>&#123;</span></span><br><span class="line"><span class="css">  <span class="attribute">transform</span>: <span class="built_in">translateX</span>(-<span class="number">100%</span>);</span></span><br><span class="line"><span class="css"> &#125;</span></span><br><span class="line"><span class="css"> <span class="selector-class">.hello-enter-active</span>,<span class="selector-class">.hello-leave-active</span>&#123;</span></span><br><span class="line"><span class="css">  <span class="attribute">transition</span>: <span class="number">0.5s</span> linear;</span></span><br><span class="line"><span class="css"> &#125;</span></span><br><span class="line"><span class="css"> <span class="comment">/* è¿›å…¥çš„ç»ˆç‚¹ã€ç¦»å¼€çš„èµ·ç‚¹ */</span></span></span><br><span class="line"><span class="css"> <span class="selector-class">.hello-enter-to</span>,<span class="selector-class">.hello-leave</span>&#123;</span></span><br><span class="line"><span class="css">  <span class="attribute">transform</span>: <span class="built_in">translateX</span>(<span class="number">0</span>);</span></span><br><span class="line"><span class="css"> &#125;</span></span><br><span class="line"><span class="css"></span></span><br><span class="line"><span class="css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="é…ç½®ä»£ç†"><a href="#é…ç½®ä»£ç†" class="headerlink" title="é…ç½®ä»£ç†"></a>é…ç½®ä»£ç†</h3><p>å‘èµ·ç½‘ç»œè¯·æ±‚æˆ‘ä»¬æœ‰ä»¥ä¸‹å››ç§æ–¹å¼</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">1.xhrwindowä¸Šçš„å¯¹è±¡ï¼ŒåŸç”Ÿ</span><br><span class="line">2.jQueryå†…ç½®äº†ajaxè¯·æ±‚ï¼Œä½†æ˜¯æœ¬èº«æ³¨é‡çš„æ˜¯DOMèŠ‚ç‚¹æ“ä½œ</span><br><span class="line">3.axioså°è£…äº†chrï¼Œååˆ†è½»é‡ï¼Œpromiseé£æ ¼</span><br><span class="line">4.fetchwindowä¸Šçš„å¯¹è±¡ï¼ŒåŸç”Ÿï¼ŒåŒ…è£…äº†ä¸¤å±‚promise</span><br></pre></td></tr></table></figure><p>è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨<code>axios</code>æ¥åšç½‘ç»œè¯·æ±‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i axios</span><br></pre></td></tr></table></figure><blockquote><p>CORS(Cross-Origin Resource Sharing )</p></blockquote><p>å‰ç«¯ä¸­å‘å‡ºajaxè¯·æ±‚çš„æ—¶å€™ç»å¸¸ä¼šå‡ºç°çš„ä¸€ç§é”™è¯¯ï¼Œå«åšè·¨åŸŸè¯·æ±‚</p><p>è¿™æ˜¯å› ä¸ºè¿èƒŒäº†åŒæºç­–ç•¥</p><p>1ã€åŒåè®®</p><p>2ã€ä¸»æœºå</p><p>3ã€ç«¯å£å·</p><blockquote><p>è§£å†³æ–¹æ¡ˆ</p></blockquote><p>1ã€åç«¯è¿”å›æ•°æ®çš„æ—¶å€™ï¼ŒåŠ ä¸Šä¸€äº›ç‰¹æ®Šçš„å“åº”å¤´å³å¯</p><p>2ã€é…ç½®ä»£ç†æœåŠ¡å™¨</p><p>æœåŠ¡å™¨ä¹‹é—´äº’ç›¸è®¿é—®æ˜¯ä¸å—åŒæºç­–ç•¥çš„é™åˆ¶çš„</p><p>æ‰€ä»¥æˆ‘ä»¬å¯ä»¥é…ç½®ä¸€ä¸ªå’Œæˆ‘ä»¬è‡ªå·±çš„ç«¯å£å·ä¸€è‡´çš„ä»£ç†æœåŠ¡å™¨</p><p>å°†è¯·æ±‚è½¬å‘ç»™å®ƒ</p><p>è®©å®ƒå»è¯·æ±‚å…¶ä»–ç«¯å£ä¸Šçš„æœåŠ¡å™¨å¾—åˆ°æ•°æ®åå†å°†å…¶è¿”å›</p><p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨nginxæˆ–è€…å€ŸåŠ©vue-cliæ¥é…ç½®ä¸€ä¸ªä»£ç†æœåŠ¡å™¨</p><p>è¿™é‡Œæˆ‘ä»¬å€ŸåŠ©vue-cli</p><blockquote><p>å¼€å¯ä»£ç†æœåŠ¡å™¨ï¼ˆæ–¹å¼ä¸€ï¼‰</p></blockquote><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">module.exports = &#123;</span><br><span class="line">    devServer: &#123;</span><br><span class="line">        proxy: &#x27;http:<span class="comment">//localhost:5000&#x27;</span></span><br><span class="line">    &#125;, </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol><li>ä¼˜ç‚¹ï¼šé…ç½®ç®€å•ï¼Œè¯·æ±‚èµ„æºæ—¶ç›´æ¥å‘ç»™å‰ç«¯ï¼ˆ8080ï¼‰å³å¯ã€‚</li><li>ç¼ºç‚¹ï¼šä¸èƒ½é…ç½®å¤šä¸ªä»£ç†ï¼Œä¸èƒ½çµæ´»çš„æ§åˆ¶è¯·æ±‚æ˜¯å¦èµ°ä»£ç†ã€‚</li><li>å·¥ä½œæ–¹å¼ï¼šè‹¥æŒ‰ç…§ä¸Šè¿°é…ç½®ä»£ç†ï¼Œå½“è¯·æ±‚äº†å‰ç«¯ä¸å­˜åœ¨çš„èµ„æºæ—¶ï¼Œé‚£ä¹ˆè¯¥è¯·æ±‚ä¼šè½¬å‘ç»™æœåŠ¡å™¨ ï¼ˆä¼˜å…ˆåŒ¹é…å‰ç«¯èµ„æºï¼‰</li></ol><blockquote><p>å¼€å¯ä»£ç†æœåŠ¡å™¨ï¼ˆæ–¹å¼äºŒï¼‰</p></blockquote><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">module.exports = &#123;</span><br><span class="line">devServer: &#123;</span><br><span class="line">proxy: &#123;</span><br><span class="line">&#x27;/hello&#x27;: &#123;</span><br><span class="line">target: &#x27;http:<span class="comment">//localhost:5000&#x27;,</span></span><br><span class="line"><span class="comment">// ws: true, //ç”¨äºæ”¯æŒwebsocket</span></span><br><span class="line"><span class="comment">// changeOrigin: true //ç”¨äºæ§åˆ¶è¯·æ±‚å¤´ä¸­çš„hostå€¼</span></span><br><span class="line">&#125;,</span><br><span class="line">&#x27;/demo&#x27;: &#123;</span><br><span class="line">target: &#x27;http:<span class="comment">//localhost:5001&#x27;,</span></span><br><span class="line"><span class="comment">// ws: true, //ç”¨äºæ”¯æŒwebsocket</span></span><br><span class="line"><span class="comment">// changeOrigin: true //ç”¨äºæ§åˆ¶è¯·æ±‚å¤´ä¸­çš„hostå€¼</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol><li>ä¼˜ç‚¹ï¼šå¯ä»¥é…ç½®å¤šä¸ªä»£ç†ï¼Œä¸”å¯ä»¥çµæ´»çš„æ§åˆ¶è¯·æ±‚æ˜¯å¦èµ°ä»£ç†ã€‚</li><li>ç¼ºç‚¹ï¼šé…ç½®ç•¥å¾®ç¹çï¼Œè¯·æ±‚èµ„æºæ—¶å¿…é¡»åŠ å‰ç¼€ã€‚</li></ol><h3 id="æ’æ§½"><a href="#æ’æ§½" class="headerlink" title="æ’æ§½"></a>æ’æ§½</h3><p>è®©çˆ¶ç»„ä»¶å¯ä»¥å‘å­ç»„ä»¶æŒ‡å®šä½ç½®æ’å…¥htmlç»“æ„ï¼Œä¹Ÿæ˜¯ä¸€ç§ç»„ä»¶é—´é€šä¿¡çš„æ–¹å¼ï¼Œé€‚ç”¨äº <strong style="color:red">çˆ¶ç»„ä»¶ &#x3D;&#x3D;&#x3D;&gt; å­ç»„ä»¶</strong> ã€‚</p><h4 id="é»˜è®¤æ’æ§½"><a href="#é»˜è®¤æ’æ§½" class="headerlink" title="é»˜è®¤æ’æ§½"></a>é»˜è®¤æ’æ§½</h4><p>çˆ¶ç»„ä»¶ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">Category</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span>htmlç»“æ„1<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">Category</span>&gt;</span></span><br></pre></td></tr></table></figure><p>å­ç»„ä»¶ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- å®šä¹‰æ’æ§½ --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">slot</span>&gt;</span>æ’æ§½é»˜è®¤å†…å®¹...<span class="tag">&lt;/<span class="name">slot</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="å…·åæ’æ§½"><a href="#å…·åæ’æ§½" class="headerlink" title="å…·åæ’æ§½"></a>å…·åæ’æ§½</h4><p>çˆ¶ç»„ä»¶ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">Category</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">template</span> <span class="attr">slot</span>=<span class="string">&quot;center&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span>&gt;</span>htmlç»“æ„1<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">template</span> <span class="attr">v-slot:footer</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span>&gt;</span>htmlç»“æ„2<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">Category</span>&gt;</span></span><br></pre></td></tr></table></figure><p>å­ç»„ä»¶ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- å®šä¹‰æ’æ§½ --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">slot</span> <span class="attr">name</span>=<span class="string">&quot;center&quot;</span>&gt;</span>æ’æ§½é»˜è®¤å†…å®¹...<span class="tag">&lt;/<span class="name">slot</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">slot</span> <span class="attr">name</span>=<span class="string">&quot;footer&quot;</span>&gt;</span>æ’æ§½é»˜è®¤å†…å®¹...<span class="tag">&lt;/<span class="name">slot</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="ä½œç”¨åŸŸæ’æ§½"><a href="#ä½œç”¨åŸŸæ’æ§½" class="headerlink" title="ä½œç”¨åŸŸæ’æ§½"></a>ä½œç”¨åŸŸæ’æ§½</h4><p>ä½œç”¨ï¼šæ•°æ®åœ¨ç»„ä»¶çš„è‡ªèº«ï¼Œä½†æ ¹æ®æ•°æ®ç”Ÿæˆçš„ç»“æ„éœ€è¦ç»„ä»¶çš„ä½¿ç”¨è€…æ¥å†³å®šã€‚</p><p>çˆ¶ç»„ä»¶ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;Category&gt;</span><br><span class="line">   &lt;template scope=&quot;scopeData&quot;&gt;</span><br><span class="line">      &lt;!-- ç”Ÿæˆçš„æ˜¯ulåˆ—è¡¨ --&gt;</span><br><span class="line">      &lt;ul&gt;</span><br><span class="line">         &lt;li v-for=&quot;g in scopeData.games&quot; :key=&quot;g&quot;&gt;&#123;&#123;g&#125;&#125;&lt;/li&gt;</span><br><span class="line">      &lt;/ul&gt;</span><br><span class="line">   &lt;/template&gt;</span><br><span class="line">&lt;/Category&gt;</span><br><span class="line"></span><br><span class="line">&lt;Category&gt;</span><br><span class="line">   &lt;template slot-scope=&quot;scopeData&quot;&gt;</span><br><span class="line">      &lt;!-- ç”Ÿæˆçš„æ˜¯h4æ ‡é¢˜ --&gt;</span><br><span class="line">      &lt;h4 v-for=&quot;g in scopeData.games&quot; :key=&quot;g&quot;&gt;&#123;&#123;g&#125;&#125;&lt;/h4&gt;</span><br><span class="line">   &lt;/template&gt;</span><br><span class="line">&lt;/Category&gt;</span><br></pre></td></tr></table></figure><p>å­ç»„ä»¶ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">slot</span> <span class="attr">:games</span>=<span class="string">&quot;games&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">slot</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">    <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="javascript">        <span class="attr">name</span>:<span class="string">&#x27;Category&#x27;</span>,</span></span><br><span class="line"><span class="javascript">        <span class="attr">props</span>:[<span class="string">&#x27;title&#x27;</span>],</span></span><br><span class="line"><span class="javascript">        <span class="comment">//æ•°æ®åœ¨å­ç»„ä»¶è‡ªèº«</span></span></span><br><span class="line"><span class="javascript">        <span class="function"><span class="title">data</span>(<span class="params"></span>)</span> &#123;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="javascript">                <span class="attr">games</span>:[<span class="string">&#x27;çº¢è‰²è­¦æˆ’&#x27;</span>,<span class="string">&#x27;ç©¿è¶Šç«çº¿&#x27;</span>,<span class="string">&#x27;åŠ²èˆå›¢&#x27;</span>,<span class="string">&#x27;è¶…çº§ç›ä¸½&#x27;</span>]</span></span><br><span class="line"><span class="javascript">            &#125;</span></span><br><span class="line"><span class="javascript">        &#125;,</span></span><br><span class="line"><span class="javascript">    &#125;</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="è·¯ç”±"><a href="#è·¯ç”±" class="headerlink" title="è·¯ç”±"></a>è·¯ç”±</h3><p>æ¯ä¸€ä¸ªVueçš„å¤§å‹é¡¹ç›®éƒ½ä¼šç”¨åˆ°è·¯ç”±ï¼Œæ‰€ä»¥è¿™éƒ¨åˆ†ååˆ†é‡è¦</p><p>æ— è·¯ç”±ï¼Œæ— SPAåº”ç”¨</p><hr><p>æˆ‘ä»¬å›é¡¾ä¸€ä¸‹ä»¥å‰å†™çš„webåº”ç”¨çš„ç»“æ„</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">- index.html</span><br><span class="line">- user.html</span><br><span class="line">- pay.html</span><br><span class="line">- category.html</span><br></pre></td></tr></table></figure><p>ç„¶åæ¯ä¸ªé¡µé¢ä¸­åˆæœ‰é“¾æ¥å¯ä»¥å®ç°äº’ç›¸è·³è½¬ï¼Œè¿™å°±æ˜¯å…¸å‹çš„å¤šé¡µé¢åº”ç”¨</p><h4 id="SPAåº”ç”¨"><a href="#SPAåº”ç”¨" class="headerlink" title="SPAåº”ç”¨"></a>SPAåº”ç”¨</h4><p>ï¼ˆSingle page web applicationï¼‰ï¼šå•é¡µé¢åº”ç”¨</p><img src="/%E5%89%8D%E7%AB%AF/Vue2/2022/07/01/Vue2-%E5%9F%BA%E7%A1%805/image-20220703114758168.png" class title="å•é¡µé¢åº”ç”¨"><p>åªè¦ç‚¹å‡»ä¾§è¾¹æ çš„ç›®å½•ï¼ŒåŠŸèƒ½åŒºå°±ä¼š<strong>åˆ‡æ¢</strong>åˆ°ç‰¹å®šçš„é¡µé¢ï¼Œä¸ä¼šåˆ·æ–°é¡µé¢ï¼Œå®ç°å±€éƒ¨åˆ·æ–°ï¼Œè¿™å°±æ˜¯å•é¡µé¢åº”ç”¨</p><p>è·¯ç”±å°±æ˜¯ç”¨æ¥å®ç°è¿™ä¸ªåˆ‡æ¢ï¼Œè·¯ç”±å™¨å°±æ˜¯ç”¨æ¥ç®¡ç†è¿™äº›è·¯ç”±çš„</p><h4 id="æ¦‚å¿µ"><a href="#æ¦‚å¿µ" class="headerlink" title="æ¦‚å¿µ"></a>æ¦‚å¿µ</h4><p>è·¯ç”±å°±æ˜¯ä¸€ç»„key-valueçš„å¯¹åº”å…³ç³»</p><p>å¤šä¸ªè·¯ç”±ï¼Œç”±ä¸€ä¸ªè·¯ç”±å™¨ç»Ÿä¸€ç®¡ç†</p><h4 id="è·¯ç”±åˆ†ç±»"><a href="#è·¯ç”±åˆ†ç±»" class="headerlink" title="è·¯ç”±åˆ†ç±»"></a>è·¯ç”±åˆ†ç±»</h4><blockquote><p>åç«¯è·¯ç”±</p></blockquote><p>keyå°±æ˜¯è·¯å¾„</p><p>valueå°±æ˜¯å‡½æ•°ï¼Œå‡½æ•°è¿”å›å¯¹è¿™æ¬¡è¯·æ±‚å“åº”çš„æ•°æ®</p><blockquote><p>å‰ç«¯è·¯ç”±</p></blockquote><p>keyå°±æ˜¯ç†è§£</p><p>valueå°±æ˜¯ç»„ä»¶ï¼Œä»€ä¹ˆæ ·çš„è·¯å¾„ï¼Œå±•ç¤ºä»€ä¹ˆæ ·çš„ç»„ä»¶</p><h4 id="åŸºæœ¬è·¯ç”±"><a href="#åŸºæœ¬è·¯ç”±" class="headerlink" title="åŸºæœ¬è·¯ç”±"></a>åŸºæœ¬è·¯ç”±</h4><p>å®ç°ä»¥ä¸‹åŠŸèƒ½</p><ol><li>é»˜è®¤æ˜¾ç¤º<code>pageA</code>ç»„ä»¶</li><li>ç‚¹å‡»<code>pageA</code>æŒ‰é’®ï¼Œåˆ‡æ¢<code>pageA</code>ç»„ä»¶</li><li>ç‚¹å‡»<code>pageB</code>æŒ‰é’®åˆ‡æ¢<code>pageB</code>ç»„ä»¶</li></ol><img src="/%E5%89%8D%E7%AB%AF/Vue2/2022/07/01/Vue2-%E5%9F%BA%E7%A1%805/image-20220703122000210.png" class title="æ¡ˆä¾‹"><p>å®‰è£…Vue-router</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i vue-router</span><br></pre></td></tr></table></figure><p>å®‰è£…æ’ä»¶</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> App <span class="keyword">from</span> <span class="string">&#x27;./App.vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> VueRouter <span class="keyword">from</span> <span class="string">&#x27;vue-router&#x27;</span></span><br><span class="line"><span class="keyword">import</span> router <span class="keyword">from</span> <span class="string">&#x27;./router&#x27;</span></span><br><span class="line"></span><br><span class="line">Vue.config.productionTip = <span class="literal">false</span></span><br><span class="line">Vue.use(VueRouter)</span><br><span class="line"><span class="keyword">new</span> Vue(&#123;</span><br><span class="line"><span class="attr">render</span>: <span class="function"><span class="params">h</span> =&gt;</span> h(App),</span><br><span class="line">router</span><br><span class="line">&#125;).$mount(<span class="string">&quot;#app&quot;</span>)</span><br></pre></td></tr></table></figure><p>åˆ›å»ºpageAå’ŒpageBç»„ä»¶</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    æˆ‘æ˜¯pageAçš„å†…å®¹</span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="javascript">  <span class="attr">name</span>: <span class="string">&quot;PageA&quot;</span></span></span><br><span class="line"><span class="javascript">&#125;</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    æˆ‘æ˜¯pageBçš„å†…å®¹</span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="javascript">  <span class="attr">name</span>: <span class="string">&quot;PageB&quot;</span></span></span><br><span class="line"><span class="javascript">&#125;</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><p>åˆ›å»º<code>/router</code>æ–‡ä»¶å¤¹å¹¶åˆ›å»º<code>index.js</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è¯¥æ–‡ä»¶ä¸“é—¨ç”¨äºåˆ›å»ºæ•´ä¸ªåº”ç”¨çš„è·¯ç”±å™¨</span></span><br><span class="line"><span class="keyword">import</span> VueRouter <span class="keyword">from</span> <span class="string">&#x27;vue-router&#x27;</span></span><br><span class="line"><span class="comment">//å¼•å…¥ç»„ä»¶</span></span><br><span class="line"><span class="keyword">import</span> PageA <span class="keyword">from</span> <span class="string">&quot;@/components/PageA&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> PageB <span class="keyword">from</span> <span class="string">&quot;@/components/PageB&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//åˆ›å»ºå¹¶æš´éœ²ä¸€ä¸ªè·¯ç”±å™¨</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> VueRouter(&#123;</span><br><span class="line">    <span class="attr">routes</span>:[</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">path</span>: <span class="string">&quot;/&quot;</span>,</span><br><span class="line">            <span class="attr">component</span>: PageA</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">path</span>:<span class="string">&#x27;/pageA&#x27;</span>,</span><br><span class="line">            <span class="attr">component</span>:PageA</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">path</span>:<span class="string">&#x27;/pageB&#x27;</span>,</span><br><span class="line">            <span class="attr">component</span>:PageB</span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬å…ˆå†™<strong>å£°æ˜å¼è·¯ç”±</strong></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;container&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h3</span>&gt;</span>ç‚¹ä»¥ä¸‹æŒ‰é’®åˆ‡æ¢é¡µé¢<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&quot;margin-bottom: 30px;display: flex;width: 120px;justify-content: space-between&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">router-link</span> <span class="attr">class</span>=<span class="string">&quot;item&quot;</span> <span class="attr">active-class</span>=<span class="string">&quot;active&quot;</span> <span class="attr">to</span>=<span class="string">&quot;/pageA&quot;</span>&gt;</span>PageA<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">router-link</span> <span class="attr">class</span>=<span class="string">&quot;item&quot;</span> <span class="attr">active-class</span>=<span class="string">&quot;active&quot;</span> <span class="attr">to</span>=<span class="string">&quot;/pageB&quot;</span>&gt;</span>PageB<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">router-view</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="javascript">  <span class="attr">name</span>: <span class="string">&#x27;App&#x27;</span></span></span><br><span class="line"><span class="javascript">&#125;</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span>&gt;</span><span class="css"></span></span><br><span class="line"><span class="css"><span class="selector-class">.container</span> &#123;</span></span><br><span class="line"><span class="css">  <span class="attribute">padding</span>: <span class="number">30px</span>;</span></span><br><span class="line"><span class="css">&#125;</span></span><br><span class="line"><span class="css"><span class="selector-class">.active</span> &#123;</span></span><br><span class="line"><span class="css">  <span class="attribute">color</span>: red;</span></span><br><span class="line"><span class="css">  <span class="attribute">text-decoration</span>: none;</span></span><br><span class="line"><span class="css">&#125;</span></span><br><span class="line"><span class="css"><span class="selector-class">.item</span> &#123;</span></span><br><span class="line"><span class="css">  <span class="attribute">text-decoration</span>: none;</span></span><br><span class="line"><span class="css">&#125;</span></span><br><span class="line"><span class="css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><p>æ€»ç»“ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">1.è¢«åˆ‡æ¢èµ°çš„ç»„ä»¶å®é™…ä¸Šæ˜¯è¢«é”€æ¯äº†</span><br><span class="line"></span><br><span class="line">2.router-linkç»è¿‡ç¼–è¯‘åï¼Œå®é™…ä¸Šç”Ÿæˆçš„æ˜¯aæ ‡ç­¾ï¼Œè¿™æ˜¯å£°æ˜å¼è·¯ç”±çš„ä¸€ä¸ªå°å¼Šç«¯</span><br><span class="line">æˆ‘ä»¬åé¢ä¼šä½¿ç”¨ç¼–ç¨‹å¼è·¯ç”±æ¥å®ç°è·³è½¬åŠŸèƒ½ï¼Œä¼šæ›´åŠ çµæ´»</span><br><span class="line"></span><br><span class="line">3.pageAå’ŒpageBçš„å®ä¾‹ä¸Šéƒ½å¤šäº†ä¸¤ä¸ªå±æ€§<span class="variable">$route</span>å’Œ<span class="variable">$router</span></span><br><span class="line"><span class="variable">$route</span>æŒ‡çš„æ˜¯è‡ªèº«çš„è·¯ç”±è§„åˆ™å’ŒçŠ¶å†µ</span><br><span class="line"><span class="variable">$router</span>æ˜¯å…¨å±€çš„è·¯ç”±å™¨</span><br><span class="line"></span><br><span class="line">4.è·¯ç”±ç»„ä»¶ï¼ˆpageAå’ŒpageBè¿™ç§éœ€è¦è·¯ç”±è§„åˆ™æ‰ä¼šæ˜¾ç¤ºçš„ç»„ä»¶ï¼‰ä¸€èˆ¬æ”¾åœ¨pagesæ–‡ä»¶å¤¹ä¸‹</span><br><span class="line">ä¸€èˆ¬ç»„ä»¶æ”¾åœ¨componentsæ–‡ä»¶å¤¹ä¸‹</span><br></pre></td></tr></table></figure><h4 id="åµŒå¥—è·¯ç”±"><a href="#åµŒå¥—è·¯ç”±" class="headerlink" title="åµŒå¥—è·¯ç”±"></a>åµŒå¥—è·¯ç”±</h4><img src="/%E5%89%8D%E7%AB%AF/Vue2/2022/07/01/Vue2-%E5%9F%BA%E7%A1%805/image-20220703132208207.png" class title="æ•ˆæœå›¾"><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è¯¥æ–‡ä»¶ä¸“é—¨ç”¨äºåˆ›å»ºæ•´ä¸ªåº”ç”¨çš„è·¯ç”±å™¨</span></span><br><span class="line"><span class="keyword">import</span> VueRouter <span class="keyword">from</span> <span class="string">&#x27;vue-router&#x27;</span></span><br><span class="line"><span class="comment">//å¼•å…¥ç»„ä»¶</span></span><br><span class="line"><span class="keyword">import</span> PageA <span class="keyword">from</span> <span class="string">&quot;@/components/PageA&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> PageB <span class="keyword">from</span> <span class="string">&quot;@/components/PageB&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> PageAA <span class="keyword">from</span> <span class="string">&quot;@/components/PageAA&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> PageAB <span class="keyword">from</span> <span class="string">&quot;@/components/PageAB&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//åˆ›å»ºå¹¶æš´éœ²ä¸€ä¸ªè·¯ç”±å™¨</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> VueRouter(&#123;</span><br><span class="line">    <span class="attr">routes</span>:[</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">path</span>: <span class="string">&quot;/&quot;</span>,</span><br><span class="line">            <span class="attr">component</span>: PageA</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">path</span>:<span class="string">&#x27;/pageA&#x27;</span>,</span><br><span class="line">            <span class="attr">component</span>:PageA,</span><br><span class="line">            <span class="attr">children</span>: [</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="attr">path</span>: <span class="string">&quot;pageAA&quot;</span>,<span class="comment">//è¿™é‡Œåƒä¸‡ä¸è¦åŠ ä¸Š/</span></span><br><span class="line">                    <span class="attr">component</span>: PageAA</span><br><span class="line">                &#125;,</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="attr">path</span>: <span class="string">&quot;pageAB&quot;</span>,</span><br><span class="line">                    <span class="attr">component</span>: PageAB</span><br><span class="line">                &#125;,</span><br><span class="line">            ]</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">path</span>:<span class="string">&#x27;/pageB&#x27;</span>,</span><br><span class="line">            <span class="attr">component</span>:PageB</span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>PageA.vue</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    æˆ‘æ˜¯pageAçš„å†…å®¹</span><br><span class="line">    <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--è¿™é‡Œè¦å†™å®Œæ•´çš„è·¯å¾„ï¼Œå› ä¸ºæˆ‘ä»¬æœ‰å¯èƒ½ä¼šè·³è½¬åˆ°å…¶ä»–é¡µé¢å»ï¼Œæ‰€ä»¥æˆ‘ä»¬å¿…é¡»å¾—å†™å®Œæ•´çš„è·¯å¾„--&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">router-link</span> <span class="attr">to</span>=<span class="string">&quot;/pageA/pageAA&quot;</span>&gt;</span>pageAA<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">router-link</span> <span class="attr">to</span>=<span class="string">&quot;/pageA/pageAB&quot;</span>&gt;</span>pageAB<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">router-view</span>&gt;</span><span class="tag">&lt;/<span class="name">router-view</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="javascript">  <span class="attr">name</span>: <span class="string">&quot;PageA&quot;</span></span></span><br><span class="line"><span class="javascript">&#125;</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="å‘½åè·¯ç”±"><a href="#å‘½åè·¯ç”±" class="headerlink" title="å‘½åè·¯ç”±"></a>å‘½åè·¯ç”±</h4><p>åœ¨åˆ›å»ºè·¯ç”±å™¨çš„æ—¶å€™ï¼Œä¸ºè·¯ç”±èµ·åå­—</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è¯¥æ–‡ä»¶ä¸“é—¨ç”¨äºåˆ›å»ºæ•´ä¸ªåº”ç”¨çš„è·¯ç”±å™¨</span></span><br><span class="line"><span class="keyword">import</span> VueRouter <span class="keyword">from</span> <span class="string">&#x27;vue-router&#x27;</span></span><br><span class="line"><span class="comment">//å¼•å…¥ç»„ä»¶</span></span><br><span class="line"><span class="keyword">import</span> PageA <span class="keyword">from</span> <span class="string">&quot;@/components/PageA&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> PageB <span class="keyword">from</span> <span class="string">&quot;@/components/PageB&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> PageAA <span class="keyword">from</span> <span class="string">&quot;@/components/PageAA&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> PageAB <span class="keyword">from</span> <span class="string">&quot;@/components/PageAB&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> PageContent <span class="keyword">from</span> <span class="string">&quot;@/components/PageContent&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//åˆ›å»ºå¹¶æš´éœ²ä¸€ä¸ªè·¯ç”±å™¨</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> VueRouter(&#123;</span><br><span class="line">    <span class="attr">routes</span>:[</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">path</span>: <span class="string">&quot;/&quot;</span>,</span><br><span class="line">            <span class="attr">component</span>: PageA</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">path</span>:<span class="string">&#x27;/pageA&#x27;</span>,</span><br><span class="line">            <span class="attr">component</span>:PageA,</span><br><span class="line">            <span class="attr">children</span>: [</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="attr">path</span>: <span class="string">&quot;pageAA&quot;</span>,</span><br><span class="line">                    <span class="attr">component</span>: PageAA,</span><br><span class="line">                &#125;,</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="attr">path</span>: <span class="string">&quot;pageAB&quot;</span>,</span><br><span class="line">                    <span class="attr">component</span>: PageAB,</span><br><span class="line">                    <span class="attr">children</span>: [</span><br><span class="line">                        &#123;</span><br><span class="line">                            <span class="comment">//èµ·å</span></span><br><span class="line">                            <span class="attr">name</span>: <span class="string">&quot;detailRoute&quot;</span>,</span><br><span class="line">                            <span class="attr">path</span>: <span class="string">&quot;pageContent&quot;</span>,</span><br><span class="line">                            <span class="attr">component</span>: PageContent</span><br><span class="line">                        &#125;</span><br><span class="line">                    ]</span><br><span class="line">                &#125;,</span><br><span class="line">            ]</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">path</span>:<span class="string">&#x27;/pageB&#x27;</span>,</span><br><span class="line">            <span class="attr">component</span>:PageB</span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>é‚£ä¹ˆåœ¨åˆ‡æ¢çš„æ—¶å€™ï¼Œå°±å¯ä»¥ä½¿ç”¨åå­—æ¥é€‰æ‹©è·¯ç”±äº†</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">router-link</span> <span class="attr">:to</span>=<span class="string">&quot;&#123;</span></span></span><br><span class="line"><span class="string"><span class="tag">  name: &#x27;detailRoute&#x27;,</span></span></span><br><span class="line"><span class="string"><span class="tag">  query: &#123;</span></span></span><br><span class="line"><span class="string"><span class="tag">    pageDetail: p</span></span></span><br><span class="line"><span class="string"><span class="tag">  &#125;</span></span></span><br><span class="line"><span class="string"><span class="tag">&#125;&quot;</span>&gt;</span></span><br><span class="line">&#123;&#123;p.title&#125;&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="queryå‚æ•°"><a href="#queryå‚æ•°" class="headerlink" title="queryå‚æ•°"></a>queryå‚æ•°</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    æˆ‘æ˜¯pageABçš„å†…å®¹</span><br><span class="line">    <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;p in pageList&quot;</span> <span class="attr">:key</span>=<span class="string">&quot;p.id&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">router-link</span> <span class="attr">:to</span>=<span class="string">&quot;&#123;</span></span></span><br><span class="line"><span class="string"><span class="tag">          path: &#x27;/pageA/pageAB/pageContent&#x27;,</span></span></span><br><span class="line"><span class="string"><span class="tag">          query: &#123;</span></span></span><br><span class="line"><span class="string"><span class="tag">            pageDetail: p</span></span></span><br><span class="line"><span class="string"><span class="tag">          &#125;</span></span></span><br><span class="line"><span class="string"><span class="tag">        &#125;&quot;</span>&gt;</span></span><br><span class="line">        &#123;&#123;p.title&#125;&#125;</span><br><span class="line">        <span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">router-view</span>&gt;</span><span class="tag">&lt;/<span class="name">router-view</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="javascript">  <span class="attr">name</span>: <span class="string">&quot;PageAB&quot;</span>,</span></span><br><span class="line"><span class="javascript">  <span class="function"><span class="title">data</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="javascript">      <span class="attr">pageList</span>: [</span></span><br><span class="line"><span class="javascript">        &#123;</span></span><br><span class="line"><span class="javascript">          <span class="attr">id</span>: <span class="string">&#x27;001&#x27;</span>,</span></span><br><span class="line"><span class="javascript">          <span class="attr">content</span>: <span class="string">&#x27;æˆ‘æ˜¯pageABAçš„å†…å®¹&#x27;</span>,</span></span><br><span class="line"><span class="javascript">          <span class="attr">title</span>: <span class="string">&#x27;pageABA&#x27;</span>,</span></span><br><span class="line"><span class="javascript">        &#125;,</span></span><br><span class="line"><span class="javascript">        &#123;</span></span><br><span class="line"><span class="javascript">          <span class="attr">id</span>: <span class="string">&#x27;002&#x27;</span>,</span></span><br><span class="line"><span class="javascript">          <span class="attr">content</span>: <span class="string">&#x27;æˆ‘æ˜¯pageABBçš„å†…å®¹&#x27;</span>,</span></span><br><span class="line"><span class="javascript">          <span class="attr">title</span>: <span class="string">&#x27;pageABB&#x27;</span>,</span></span><br><span class="line"><span class="javascript">        &#125;,</span></span><br><span class="line"><span class="javascript">        &#123;</span></span><br><span class="line"><span class="javascript">          <span class="attr">id</span>: <span class="string">&#x27;003&#x27;</span>,</span></span><br><span class="line"><span class="javascript">          <span class="attr">content</span>: <span class="string">&#x27;æˆ‘æ˜¯pageABCçš„å†…å®¹&#x27;</span>,</span></span><br><span class="line"><span class="javascript">          <span class="attr">title</span>: <span class="string">&#x27;pageABC&#x27;</span>,</span></span><br><span class="line"><span class="javascript">        &#125;</span></span><br><span class="line"><span class="javascript">      ]</span></span><br><span class="line"><span class="javascript">    &#125;</span></span><br><span class="line"><span class="javascript">  &#125;</span></span><br><span class="line"><span class="javascript">&#125;</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span>&gt;</span>&#123;&#123;$route.query.pageDetail.id&#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span>&gt;</span>&#123;&#123;$route.query.pageDetail.title&#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span>&gt;</span>&#123;&#123;$route.query.pageDetail.content&#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="javascript">  <span class="attr">name</span>: <span class="string">&quot;PageContent&quot;</span></span></span><br><span class="line"><span class="javascript">&#125;</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="paramså‚æ•°"><a href="#paramså‚æ•°" class="headerlink" title="paramså‚æ•°"></a>paramså‚æ•°</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&lt;li v-for=&quot;p in pageList&quot; :key=&quot;p.id&quot;&gt;</span><br><span class="line">    &lt;router-link exact-active-class=&quot;active&quot;</span><br><span class="line">                 :to=&quot;`/pageA/pageAB/pageContent/$&#123;p.id&#125;/$&#123;p.title&#125;/$&#123;p.content&#125;`&quot;&gt;</span><br><span class="line">        &#123;&#123;p.title&#125;&#125;</span><br><span class="line">    &lt;/router-link&gt;</span><br><span class="line">&lt;/li&gt;</span><br><span class="line"></span><br><span class="line">&lt;!--æˆ–è€…è¿™æ ·å†™--&gt;</span><br><span class="line">&lt;li v-for=&quot;p in pageList&quot; :key=&quot;p.id&quot;&gt;</span><br><span class="line">    &lt;!--è¿™é‡Œå¿…é¡»ä½¿ç”¨nameå‚æ•°æ¥æŒ‡å®šè·¯ç”±ï¼Œä¸ç„¶ä¼šå¤±æ•ˆ--&gt;</span><br><span class="line">    &lt;router-link :to=&quot;&#123;</span><br><span class="line">                      name: &#x27;detailRoute&#x27;,</span><br><span class="line">                      params: &#123;</span><br><span class="line">                          id: p.id,</span><br><span class="line">                          title: p.title,</span><br><span class="line">                          content: p.title</span><br><span class="line">                      &#125;</span><br><span class="line">                     &#125;&quot;&gt;</span><br><span class="line">        &#123;&#123;p.title&#125;&#125;</span><br><span class="line">    &lt;/router-link&gt;</span><br><span class="line">&lt;/li&gt;</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è¯¥æ–‡ä»¶ä¸“é—¨ç”¨äºåˆ›å»ºæ•´ä¸ªåº”ç”¨çš„è·¯ç”±å™¨</span></span><br><span class="line"><span class="keyword">import</span> VueRouter <span class="keyword">from</span> <span class="string">&#x27;vue-router&#x27;</span></span><br><span class="line"><span class="comment">//å¼•å…¥ç»„ä»¶</span></span><br><span class="line"><span class="keyword">import</span> PageA <span class="keyword">from</span> <span class="string">&quot;@/components/PageA&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> PageB <span class="keyword">from</span> <span class="string">&quot;@/components/PageB&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> PageAA <span class="keyword">from</span> <span class="string">&quot;@/components/PageAA&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> PageAB <span class="keyword">from</span> <span class="string">&quot;@/components/PageAB&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> PageContent <span class="keyword">from</span> <span class="string">&quot;@/components/PageContent&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//åˆ›å»ºå¹¶æš´éœ²ä¸€ä¸ªè·¯ç”±å™¨</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> VueRouter(&#123;</span><br><span class="line">    <span class="attr">routes</span>:[</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">path</span>: <span class="string">&quot;/&quot;</span>,</span><br><span class="line">            <span class="attr">component</span>: PageA</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">path</span>:<span class="string">&#x27;/pageA&#x27;</span>,</span><br><span class="line">            <span class="attr">component</span>:PageA,</span><br><span class="line">            <span class="attr">children</span>: [</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="attr">path</span>: <span class="string">&quot;pageAA&quot;</span>,</span><br><span class="line">                    <span class="attr">component</span>: PageAA,</span><br><span class="line">                &#125;,</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="attr">path</span>: <span class="string">&quot;pageAB&quot;</span>,</span><br><span class="line">                    <span class="attr">component</span>: PageAB,</span><br><span class="line">                    <span class="attr">children</span>: [</span><br><span class="line">                        &#123;</span><br><span class="line">                            <span class="attr">name</span>: <span class="string">&quot;detailRoute&quot;</span>,</span><br><span class="line">                            <span class="attr">path</span>: <span class="string">&quot;pageContent/:id/:title/:content&quot;</span>,</span><br><span class="line">                            <span class="attr">component</span>: PageContent,</span><br><span class="line">                        &#125;</span><br><span class="line">                    ]</span><br><span class="line">                &#125;,</span><br><span class="line">            ]</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">path</span>:<span class="string">&#x27;/pageB&#x27;</span>,</span><br><span class="line">            <span class="attr">component</span>:PageB</span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span>&gt;</span>&#123;&#123;$route.params.id&#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span>&gt;</span>&#123;&#123;$route.params.title&#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span>&gt;</span>&#123;&#123;$route.params.content&#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="javascript">  <span class="attr">name</span>: <span class="string">&quot;PageContent&quot;</span></span></span><br><span class="line"><span class="javascript">&#125;</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><blockquote><p>queryå’Œparamsçš„åŒºåˆ«</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">1.queryçš„å¯¹è±¡å†™æ³•ä¸­ï¼Œpathå¯ä»¥æ˜¯è·¯å¾„ä¹Ÿå¯ä»¥æ˜¯è·¯ç”±å</span><br><span class="line">ä½†æ˜¯paramså¿…é¡»æ˜¯è·¯ç”±å</span><br><span class="line"></span><br><span class="line">2.paramséœ€è¦åœ¨è·¯ç”±å™¨çš„é…ç½®æ–‡ä»¶ä¸­æå‰å£°æ˜</span><br></pre></td></tr></table></figure><h4 id="propsé…ç½®"><a href="#propsé…ç½®" class="headerlink" title="propsé…ç½®"></a>propsé…ç½®</h4><p>æˆ‘ä»¬å‘ç°è¯»å–<code>query</code>å’Œ<code>params</code>ä¼ è¿‡æ¥çš„å‚æ•°çš„æ—¶å€™</p><p>éœ€è¦ä¸æ–­ä½¿ç”¨<code>$route.query.xxx</code>æˆ–è€…<code>$route.params.xxx</code>ï¼Œååˆ†ç¹ç</p><p>å¦‚æœéœ€è¦ç®€åŒ–ï¼Œåˆ™éœ€è¦ä½¿ç”¨<code>props</code>é…ç½®é¡¹</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    path: <span class="string">&quot;pageAB&quot;</span>,</span><br><span class="line">    component: PageAB,</span><br><span class="line">    children: [</span><br><span class="line">        &#123;</span><br><span class="line">            name: <span class="string">&quot;detailRoute&quot;</span>,</span><br><span class="line">            path: <span class="string">&quot;pageContent/:id/:title/:content&quot;</span>,</span><br><span class="line">            component: PageContent,</span><br><span class="line">            <span class="comment">//ç¬¬ä¸€ç§å†™æ³•ï¼Œè¯¥å¯¹è±¡çš„æ‰€æœ‰kvéƒ½ä¼šä»¥propsçš„å½¢å¼ä¼ ç»™è¯¥ç»„ä»¶</span></span><br><span class="line">            <span class="comment">// props: &#123;</span></span><br><span class="line">            <span class="comment">//     a: &#x27;a&#x27;,</span></span><br><span class="line">            <span class="comment">//     b: &#x27;b&#x27;,</span></span><br><span class="line">            <span class="comment">// &#125;</span></span><br><span class="line">            </span><br><span class="line">            <span class="comment">//propsçš„ç¬¬äºŒç§å†™æ³•ï¼Œå€¼ä¸ºå¸ƒå°”å€¼ï¼Œè‹¥å¸ƒå°”å€¼ä¸ºçœŸï¼Œå°±ä¼šæŠŠè¯¥è·¯ç”±ç»„ä»¶æ”¶åˆ°çš„æ‰€æœ‰paramså‚æ•°ï¼Œä»¥propsçš„å½¢å¼ä¼ ç»™è¯¥ç»„ä»¶ã€‚</span></span><br><span class="line">            <span class="comment">//props: true,</span></span><br><span class="line">            </span><br><span class="line">            <span class="comment">//propsçš„ç¬¬ä¸‰ç§å†™æ³•ï¼Œå€¼ä¸ºå‡½æ•°,æ¨è</span></span><br><span class="line">            props($route)&#123;</span><br><span class="line">                return &#123;</span><br><span class="line">                    id:$route.query.id,</span><br><span class="line">                    title:$route.query.title,</span><br><span class="line">                    content:$route.query.content</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="replaceå±æ€§"><a href="#replaceå±æ€§" class="headerlink" title="replaceå±æ€§"></a>replaceå±æ€§</h4><p>ä½¿ç”¨router-linkæ ‡ç­¾å®ç°è·³è½¬ï¼Œæµè§ˆå™¨å¯¹äºå†å²è®°å½•çš„å­˜å‚¨æ˜¯è¿™æ ·çš„</p><img src="/%E5%89%8D%E7%AB%AF/Vue2/2022/07/01/Vue2-%E5%9F%BA%E7%A1%805/image-20220703163112143.png" class title="pushæ¨¡å¼"><p>è¿™ç§æ¨¡å¼å«pushæ¨¡å¼</p><p>å®ƒå°†ä¸€æ¡æ¡è®°å½•å‹å…¥æ ˆä¸­</p><hr><p>å¦‚æœæˆ‘ä»¬æƒ³å®ç°ä»¥ä¸‹è¿™ç§æ¨¡å¼</p><img src="/%E5%89%8D%E7%AB%AF/Vue2/2022/07/01/Vue2-%E5%9F%BA%E7%A1%805/image-20220703163419925.png" class title="replaceæ¨¡å¼"><p>è¿™ç§æ¨¡å¼å«replaceæ¨¡å¼</p><p>å®ƒå°†ä¸Šä¸€æ¡è®°å½•è¦†ç›–ä¸‹ä¸€æ¡è®°å½•</p><hr><p>router-linké»˜è®¤æ˜¯pushæ¨¡å¼</p><p>å¢åŠ replaceå±æ€§ä»¥ä½¿ç”¨replaceæ¨¡å¼</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">router-link</span> <span class="attr">class</span>=<span class="string">&quot;item&quot;</span> <span class="attr">replace</span> <span class="attr">active-class</span>=<span class="string">&quot;active&quot;</span> <span class="attr">to</span>=<span class="string">&quot;/pageA&quot;</span>&gt;</span>PageA<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="ç¼–ç¨‹å¼è·¯ç”±"><a href="#ç¼–ç¨‹å¼è·¯ç”±" class="headerlink" title="ç¼–ç¨‹å¼è·¯ç”±"></a>ç¼–ç¨‹å¼è·¯ç”±</h4><p>ä¿®æ”¹ä»¥ä¸Šæ¡ˆä¾‹</p><p>1ã€åˆ‡æ¢pageAã€pageBçš„aæ”¹ä¸ºbutton</p><p>2ã€ä»¥pushæ¨¡å¼åˆ‡æ¢pageA</p><p>3ã€ä»¥replaceæ¨¡å¼åˆ‡æ¢pageB</p><p>4ã€å‰è¿›ã€åé€€</p><img src="/%E5%89%8D%E7%AB%AF/Vue2/2022/07/01/Vue2-%E5%9F%BA%E7%A1%805/image-20220703164316248.png" class title="æ•ˆæœå›¾"><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;container&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h3</span>&gt;</span>ç‚¹ä»¥ä¸‹æŒ‰é’®åˆ‡æ¢é¡µé¢<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;buttons&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;goBack&quot;</span>&gt;</span>åé€€<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;goForward&quot;</span>&gt;</span>å‰è¿›<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;buttons&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;gotoPageA&quot;</span>&gt;</span>PageA<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;gotoPageB&quot;</span>&gt;</span>PageB<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--      &lt;router-link class=&quot;item&quot; replace active-class=&quot;active&quot; to=&quot;/pageA&quot;&gt;PageA&lt;/router-link&gt;--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--      &lt;router-link class=&quot;item&quot; active-class=&quot;active&quot; to=&quot;/pageB&quot;&gt;PageB&lt;/router-link&gt;--&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">router-view</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="javascript">  <span class="attr">name</span>: <span class="string">&#x27;App&#x27;</span>,</span></span><br><span class="line"><span class="javascript">  <span class="attr">methods</span>:&#123;</span></span><br><span class="line"><span class="javascript">    <span class="function"><span class="title">gotoPageA</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">      <span class="built_in">this</span>.$router.push(<span class="string">&quot;/pageA&quot;</span>)</span></span><br><span class="line"><span class="javascript">    &#125;,</span></span><br><span class="line"><span class="javascript">    <span class="function"><span class="title">gotoPageB</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">      <span class="built_in">this</span>.$router.replace(<span class="string">&quot;/pageB&quot;</span>)</span></span><br><span class="line"><span class="javascript">    &#125;,</span></span><br><span class="line"><span class="javascript">    <span class="function"><span class="title">goBack</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">      <span class="built_in">this</span>.$router.back();</span></span><br><span class="line"><span class="javascript">    &#125;,</span></span><br><span class="line"><span class="javascript">    <span class="function"><span class="title">goForward</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">      <span class="built_in">this</span>.$router.forward();</span></span><br><span class="line"><span class="javascript">    &#125;,</span></span><br><span class="line"><span class="javascript">  &#125;</span></span><br><span class="line"><span class="javascript">&#125;</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="css"></span></span><br><span class="line"><span class="css"><span class="selector-class">.container</span> &#123;</span></span><br><span class="line"><span class="css">  <span class="attribute">padding</span>: <span class="number">30px</span>;</span></span><br><span class="line"><span class="css">&#125;</span></span><br><span class="line"><span class="css"><span class="selector-class">.active</span> &#123;</span></span><br><span class="line"><span class="css">  <span class="attribute">color</span>: red;</span></span><br><span class="line"><span class="css">  <span class="attribute">text-decoration</span>: none;</span></span><br><span class="line"><span class="css">&#125;</span></span><br><span class="line"><span class="css"><span class="selector-class">.item</span> &#123;</span></span><br><span class="line"><span class="css">  <span class="attribute">text-decoration</span>: none;</span></span><br><span class="line"><span class="css">&#125;</span></span><br><span class="line"><span class="css"><span class="selector-class">.buttons</span> &#123;</span></span><br><span class="line"><span class="css">  <span class="attribute">margin-bottom</span>: <span class="number">30px</span>;</span></span><br><span class="line"><span class="css">  <span class="attribute">display</span>: flex;</span></span><br><span class="line"><span class="css">  <span class="attribute">width</span>: <span class="number">120px</span>;</span></span><br><span class="line"><span class="css">  <span class="attribute">justify-content</span>: space-between;</span></span><br><span class="line"><span class="css">&#125;</span></span><br><span class="line"><span class="css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><p>ç¼–ç¨‹å¼è·¯ç”±å¯¼èˆªå°±æ˜¯ä¸é€šè¿‡router-linkå®ç°</p><p>è€Œæ˜¯æ‰‹åŠ¨ä½¿ç”¨routeræ§åˆ¶çš„è·¯ç”±è·³è½¬</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">1. å¦‚æœè¦ä¼ å…¥å‚æ•°ï¼Œå°±ä¸èƒ½ä½¿ç”¨å­—ç¬¦ä¸²äº†ï¼Œè€Œæ˜¯è¦ä½¿ç”¨å¯¹è±¡å†™æ³•</span><br><span class="line">gotoDetail(p)&#123;</span><br><span class="line">    this.<span class="variable">$router</span>.push(&#123;</span><br><span class="line">        name: <span class="string">&#x27;detailRoute&#x27;</span>,</span><br><span class="line">        params: &#123;</span><br><span class="line">            id: p.id,</span><br><span class="line">            title: p.title,</span><br><span class="line">            content: p.title</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">2. ç¼–ç¨‹å¼è·¯ç”±ä¼šæ›´åŠ çµæ´»ï¼Œä¸æ˜¯è¯´router-linkä¸å¥½</span><br></pre></td></tr></table></figure><h4 id="ç¼“å­˜è·¯ç”±ç»„ä»¶"><a href="#ç¼“å­˜è·¯ç”±ç»„ä»¶" class="headerlink" title="ç¼“å­˜è·¯ç”±ç»„ä»¶"></a>ç¼“å­˜è·¯ç”±ç»„ä»¶</h4><p>ç°åœ¨å†åŠ ä¸€ä¸ªéœ€æ±‚åœ¨ä¸‹å›¾å‡ºåŠ å…¥ä¸€ä¸ªinputç»„ä»¶ï¼Œç„¶åå†pageAAå’ŒpageABä¹‹é—´è·³è½¬çš„æ—¶å€™ï¼Œinputä¸­çš„æ•°æ®ä¸ä¼šä¸¢å¤±</p><img src="/%E5%89%8D%E7%AB%AF/Vue2/2022/07/01/Vue2-%E5%9F%BA%E7%A1%805/image-20220703165658585.png" class title="åŠ å…¥inputç»„ä»¶"><p>ä¹‹å‰æˆ‘ä»¬è¯´è¿‡ï¼Œç»„ä»¶è¢«åˆ‡æ¢èµ°åï¼Œä¼šè¢«é”€æ¯</p><p>é‚£ä¹ˆæˆ‘ä»¬å¦‚ä½•é˜»æ­¢è¿™æ¬¡çš„é”€æ¯å‘¢</p><p>åªè¦åœ¨pageAçš„ç»„ä»¶ä¸­å°†router-viewç”¨keep-aliveåŒ…è£¹å³å¯</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">        æˆ‘æ˜¯pageAçš„å†…å®¹</span><br><span class="line">        <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">router-link</span> <span class="attr">to</span>=<span class="string">&quot;/pageA/pageAA&quot;</span> <span class="attr">active-class</span>=<span class="string">&quot;active&quot;</span>&gt;</span>pageAA<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">router-link</span> <span class="attr">to</span>=<span class="string">&quot;/pageA/pageAB&quot;</span> <span class="attr">active-class</span>=<span class="string">&quot;active&quot;</span>&gt;</span>pageAB<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">keep-alive</span> <span class="attr">include</span>=<span class="string">&quot;PageAB&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">router-view</span>&gt;</span><span class="tag">&lt;/<span class="name">router-view</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">keep-alive</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">        è¿™é‡Œä¹Ÿå¯ä»¥è¿™æ ·å†™ï¼Œç¼“å­˜è¿™ä¸ªè·¯ç”±è§†å›¾ä¸­çš„PageABç»„ä»¶</span></span><br><span class="line"><span class="comment">            &lt;keep-alive :include=&quot;[&#x27;PageAB&#x27;]&quot;&gt;</span></span><br><span class="line"><span class="comment">            &lt;router-view&gt;&lt;/router-view&gt;</span></span><br><span class="line"><span class="comment">            &lt;/keep-alive&gt;</span></span><br><span class="line"><span class="comment">        --&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">        è¿™é‡Œä¸å†™inclueå±æ€§çš„è¯ï¼Œè¿™ä¸ªè§†å›¾ä¸­æ‰€æœ‰çš„ç»„ä»¶éƒ½ä¼šè¢«ç¼“å­˜</span></span><br><span class="line"><span class="comment">            &lt;keep-alive&gt;</span></span><br><span class="line"><span class="comment">            &lt;router-view&gt;&lt;/router-view&gt;</span></span><br><span class="line"><span class="comment">            &lt;/keep-alive&gt;</span></span><br><span class="line"><span class="comment">        --&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">    <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="javascript">        <span class="attr">name</span>: <span class="string">&quot;PageA&quot;</span></span></span><br><span class="line"><span class="javascript">    &#125;</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="æ–°çš„ç”Ÿå‘½å‘¨æœŸé’©å­"><a href="#æ–°çš„ç”Ÿå‘½å‘¨æœŸé’©å­" class="headerlink" title="æ–°çš„ç”Ÿå‘½å‘¨æœŸé’©å­"></a>æ–°çš„ç”Ÿå‘½å‘¨æœŸé’©å­</h4><p>åœ¨è¿™ä¸ªåœ°æ–¹å±•ç¤ºä¸€ä¸ªé€æ˜åº¦ä¸€ç›´å‘ç”Ÿæ”¹å˜çš„æ–‡å­—</p><img src="/%E5%89%8D%E7%AB%AF/Vue2/2022/07/01/Vue2-%E5%9F%BA%E7%A1%805/image-20220703170854860.png" class title="æ¡ˆä¾‹"><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">li</span> <span class="attr">:style</span>=<span class="string">&quot;&#123;opacity&#125;&quot;</span>&gt;</span></span><br><span class="line">  åŠ æ²¹ï¼ï¼ï¼</span><br><span class="line"><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br></pre></td></tr></table></figure><p>ç„¶åå¼€å¯ä¸€ä¸ªå®šæ—¶å™¨ï¼Œå¯¹opacityçš„å€¼è¿›è¡Œæ“ä½œ</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">mounted</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">  <span class="built_in">this</span>.timer = <span class="built_in">setInterval</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">    <span class="built_in">this</span>.opacity-=<span class="number">0.01</span>;</span><br><span class="line">    <span class="keyword">if</span>(<span class="built_in">this</span>.opacity&lt;=<span class="number">0</span>) <span class="built_in">this</span>.opacity=<span class="number">1</span></span><br><span class="line">  &#125;,<span class="number">16</span>);</span><br><span class="line">&#125;,</span><br><span class="line"><span class="function"><span class="title">beforeDestroy</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">  <span class="built_in">clearInterval</span>(<span class="built_in">this</span>.timer);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™é‡Œå…¶å®å°±å‡ºç°äº†é—®é¢˜</p><p>æˆ‘ä»¬å·²ç»å°†å…¶è®¾ç½®ä¸ºäº†ç¼“å­˜è·¯ç”±</p><p>é‚£ä¹ˆå½“æˆ‘ä»¬åˆ‡æ¢åˆ°å…¶ä»–ç»„ä»¶çš„æ—¶å€™</p><p>è¯¥å®šæ—¶å™¨è¿˜åœ¨å‘¨è€Œå¤å§‹çš„è·‘ï¼Œè¿™æ˜¯ä¸å¯¹çš„</p><p>è¿™æ—¶å€™å°±éœ€è¦ä¸¤ä¸ªæ–°çš„è·¯ç”±é’©å­</p><p>è¿™æ˜¯è·¯ç”±ç‹¬æœ‰çš„ä¸¤ä¸ªé’©å­</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">activated</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="comment">// å½“åˆ‡æ¢åˆ°è¯¥ç»„ä»¶ï¼Œåˆ™è¯¥å›è°ƒè¢«è°ƒç”¨</span></span><br><span class="line">  <span class="built_in">this</span>.timer = <span class="built_in">setInterval</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">    <span class="built_in">this</span>.opacity-=<span class="number">0.01</span>;</span><br><span class="line">    <span class="keyword">if</span>(<span class="built_in">this</span>.opacity&lt;=<span class="number">0</span>) <span class="built_in">this</span>.opacity=<span class="number">1</span></span><br><span class="line">  &#125;,<span class="number">16</span>);</span><br><span class="line">&#125;,</span><br><span class="line"><span class="function"><span class="title">deactivated</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="comment">// å½“è¯¥ç»„ä»¶è¢«åˆ‡æ¢èµ°ï¼Œåˆ™è°ƒç”¨è¯¥å›è°ƒ</span></span><br><span class="line">  <span class="built_in">clearInterval</span>(<span class="built_in">this</span>.timer);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="è·¯ç”±å®ˆå«"><a href="#è·¯ç”±å®ˆå«" class="headerlink" title="è·¯ç”±å®ˆå«"></a>è·¯ç”±å®ˆå«</h4><h5 id="å…¨å±€è·¯ç”±å®ˆå«"><a href="#å…¨å±€è·¯ç”±å®ˆå«" class="headerlink" title="å…¨å±€è·¯ç”±å®ˆå«"></a>å…¨å±€è·¯ç”±å®ˆå«</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å…¨å±€å‰ç½®è·¯ç”±å®ˆå«â€”â€”â€”â€”åˆå§‹åŒ–çš„æ—¶å€™è¢«è°ƒç”¨ã€æ¯æ¬¡è·¯ç”±åˆ‡æ¢ä¹‹å‰è¢«è°ƒç”¨ï¼Œä½¿ç”¨next()æ”¾è¡Œ</span></span><br><span class="line"><span class="comment">// toå’Œfroméƒ½æ˜¯routeä¿¡æ¯</span></span><br><span class="line">router.beforeEach(<span class="function">(<span class="params">to,<span class="keyword">from</span>,next</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;å‰ç½®è·¯ç”±å®ˆå«&#x27;</span>,to,<span class="keyword">from</span>,next)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">//å…¨å±€åç½®è·¯ç”±å®ˆå«â€”â€”â€”â€”åˆå§‹åŒ–çš„æ—¶å€™è¢«è°ƒç”¨ã€æ¯æ¬¡è·¯ç”±åˆ‡æ¢ä¹‹åè¢«è°ƒç”¨</span></span><br><span class="line">router.afterEach(<span class="function">(<span class="params">to,<span class="keyword">from</span></span>)=&gt;</span>&#123;</span><br><span class="line">   <span class="built_in">console</span>.log(<span class="string">&#x27;åç½®è·¯ç”±å®ˆå«&#x27;</span>,to,<span class="keyword">from</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h5 id="ç‹¬äº«è·¯ç”±å®ˆå«"><a href="#ç‹¬äº«è·¯ç”±å®ˆå«" class="headerlink" title="ç‹¬äº«è·¯ç”±å®ˆå«"></a>ç‹¬äº«è·¯ç”±å®ˆå«</h5><p>åœ¨è·¯ç”±å™¨çš„è·¯ç”±è§„åˆ™ä¸­é…ç½®ä»¥ä¸‹é€»è¾‘</p><p><strong>ç‹¬äº«è·¯ç”±å®ˆå«æ²¡æœ‰åç½®çš„å®ˆå«</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">   <span class="attr">name</span>:<span class="string">&#x27;detailRoute&#x27;</span>,</span><br><span class="line">   <span class="attr">path</span>:<span class="string">&#x27;pageContent&#x27;</span>,</span><br><span class="line">   <span class="attr">component</span>:News,</span><br><span class="line">   <span class="attr">beforeEnter</span>: <span class="function">(<span class="params">to, <span class="keyword">from</span>, next</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">&#x27;ç‹¬äº«å‰ç½®è·¯ç”±å®ˆå«&#x27;</span>,to,<span class="keyword">from</span>)</span><br><span class="line">   &#125;</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure><h5 id="ç»„ä»¶è·¯ç”±å®ˆå«"><a href="#ç»„ä»¶è·¯ç”±å®ˆå«" class="headerlink" title="ç»„ä»¶è·¯ç”±å®ˆå«"></a>ç»„ä»¶è·¯ç”±å®ˆå«</h5><p>åœ¨ç»„ä»¶ä¸­åŠ å…¥ä»¥ä¸‹é€»è¾‘</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//é€šè¿‡è·¯ç”±è§„åˆ™ï¼Œè¿›å…¥è¯¥ç»„ä»¶æ—¶è¢«è°ƒç”¨</span></span><br><span class="line">beforeRouteEnter (to, <span class="keyword">from</span>, next) &#123;</span><br><span class="line"> <span class="built_in">console</span>.log(<span class="string">&#x27;beforeRouteEnter&#x27;</span>,to,<span class="keyword">from</span>)</span><br><span class="line">&#125;,</span><br><span class="line"></span><br><span class="line"><span class="comment">//é€šè¿‡è·¯ç”±è§„åˆ™ï¼Œç¦»å¼€è¯¥ç»„ä»¶æ—¶è¢«è°ƒç”¨</span></span><br><span class="line">beforeRouteLeave (to, <span class="keyword">from</span>, next) &#123;</span><br><span class="line"> <span class="built_in">console</span>.log(<span class="string">&#x27;beforeRouteLeave&#x27;</span>,to,<span class="keyword">from</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸‰ä¸ªè·¯ç”±å®ˆå«å¯ä»¥é…åˆä½¿ç”¨å“¦</p><h4 id="historyæ¨¡å¼å’Œhashæ¨¡å¼"><a href="#historyæ¨¡å¼å’Œhashæ¨¡å¼" class="headerlink" title="historyæ¨¡å¼å’Œhashæ¨¡å¼"></a>historyæ¨¡å¼å’Œhashæ¨¡å¼</h4><p>æˆ‘ä»¬çœ‹åˆ°åœ°å€æ ä¸­å§‹ç»ˆæœ‰#å·</p><p>#åé¢çš„è·¯å¾„éƒ½ä¸ä¼šå‘é€ç»™æœåŠ¡å™¨</p><p>è‹¥ä»¥åå°†åœ°å€é€šè¿‡ç¬¬ä¸‰æ–¹æ‰‹æœºappåˆ†äº«ï¼Œè‹¥appæ ¡éªŒä¸¥æ ¼ï¼Œåˆ™åœ°å€ä¼šè¢«æ ‡è®°ä¸ºä¸åˆæ³•ã€‚</p><p>é‚£ä¹ˆå¦‚ä½•åˆ‡æ¢æ¨¡å¼å‘¢ï¼Ÿ</p><p>vue-routeré»˜è®¤å¼€å¯çš„æ˜¯hashæ¨¡å¼ï¼Œå¦‚æœæƒ³è¦åˆ‡æ¢æ¨¡å¼ï¼Œåªéœ€è¦åœ¨åˆ›å»ºè·¯ç”±å™¨çš„æ—¶å€™ï¼Œä¼ å…¥ä¸€ä¸ªé…ç½®é¡¹<code>mode: &#39;history&#39;</code></p><img src="/%E5%89%8D%E7%AB%AF/Vue2/2022/07/01/Vue2-%E5%9F%BA%E7%A1%805/image-20220703183849938.png" class title="historyæ¨¡å¼"><p>è¿™æ—¶å€™ä½ ä¼šå‘ç°åœ°å€æ çš„#éƒ½ä¸è§äº†</p><p>è®²åˆ°è¿™é‡Œï¼Œæœ‰çš„å°ä¼™ä¼´è‚¯å®šè¦è¯´äº†ï¼Œé‚£æˆ‘è‚¯å®šè¦ä½¿ç”¨historyæ¨¡å¼ï¼Œè¿™æ ·çš„è·¯å¾„çœ‹ç€æ‰èˆ’æœ</p><p>historyæ¨¡å¼ä¸‹ï¼Œè·¯å¾„ç¡®å®èˆ’æœï¼Œä½†æ˜¯hashæ¨¡å¼çš„å…¼å®¹æ€§æ¯”è¾ƒå¥½ï¼Œhistoryæ¶‰åŠåˆ°ä¸€ä¸ªé¡¹ç›®ä¸Šçº¿çš„é—®é¢˜</p><p>æˆ‘ä»¬ä½¿ç”¨<code>npm run build</code>æ‰“åŒ…</p><p>ç„¶åä½ å°±å‘ç°äº†å‡ºç°äº†ä¸€ä¸ªç‰¹æ®Šçš„æ–‡ä»¶å¤¹</p><img src="/%E5%89%8D%E7%AB%AF/Vue2/2022/07/01/Vue2-%E5%9F%BA%E7%A1%805/image-20220703184315610.png" class title="distæ–‡ä»¶å¤¹"><h5 id="historyæ¨¡å¼éƒ¨ç½²ä¸Šçº¿"><a href="#historyæ¨¡å¼éƒ¨ç½²ä¸Šçº¿" class="headerlink" title="historyæ¨¡å¼éƒ¨ç½²ä¸Šçº¿"></a>historyæ¨¡å¼éƒ¨ç½²ä¸Šçº¿</h5><p>æˆ‘ä»¬ä½¿ç”¨expressæ­å»ºä¸€ä¸ªå¾®å‹çš„æœåŠ¡å™¨æ¥éƒ¨ç½²æˆ‘ä»¬çš„å‰ç«¯é¡¹ç›®</p><p>1ã€æ–°å»ºæ–‡ä»¶å¤¹</p><p><code>mkdir server</code></p><p>2ã€åˆå§‹åŒ–é¡¹ç›®</p><p><code>npm init</code></p><p>3ã€å®‰è£…express</p><p><code>npm i express</code></p><p>4ã€åˆ›å»ºstaticæ–‡ä»¶å¤¹å°†distç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶æ”¾åˆ°å…¶ä¸­</p><p>5ã€åˆ›å»º<code>server.js</code>å¹¶ç¼–å†™æœåŠ¡å™¨ç«¯ä»£ç </p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> express = <span class="built_in">require</span>(<span class="string">&#x27;express&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> app = express();</span><br><span class="line"></span><br><span class="line">app.use(express.static(__dirname+<span class="string">&#x27;/static&#x27;</span>));</span><br><span class="line"></span><br><span class="line">app.listen(<span class="number">5005</span>,<span class="function">(<span class="params">err</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(!err)&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">&#x27;æœåŠ¡å™¨å¯åŠ¨æˆåŠŸ&#x27;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>6ã€å¯åŠ¨æœåŠ¡å™¨</p><p><code>node server.js</code></p><p>7ã€è®¿é—®<code>localhost:5005</code>å¹¶ç‚¹å‡»</p><img src="/%E5%89%8D%E7%AB%AF/Vue2/2022/07/01/Vue2-%E5%9F%BA%E7%A1%805/image-20220703185204295.png" class title="image-20220703185204295"><h5 id="å‡ºç°é—®é¢˜"><a href="#å‡ºç°é—®é¢˜" class="headerlink" title="å‡ºç°é—®é¢˜"></a>å‡ºç°é—®é¢˜</h5><p>è¿™æ—¶å€™è¿™ä¸ªå¤§é—®é¢˜å°±å‡ºç°äº†ï¼Œæˆ‘ä»¬åˆ·æ–°é¡µé¢</p><img src="/%E5%89%8D%E7%AB%AF/Vue2/2022/07/01/Vue2-%E5%9F%BA%E7%A1%805/image-20220703185253092.png" class width="404"><p>æˆ‘ä»¬å‘ç°äº†404é”™è¯¯ï¼Œè¿™æ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿå› ä¸ºæœåŠ¡å™¨å¹¶æ²¡æœ‰è¯¥èµ„æº</p><h5 id="hashæ¨¡å¼éƒ¨ç½²ä¸Šçº¿"><a href="#hashæ¨¡å¼éƒ¨ç½²ä¸Šçº¿" class="headerlink" title="hashæ¨¡å¼éƒ¨ç½²ä¸Šçº¿"></a>hashæ¨¡å¼éƒ¨ç½²ä¸Šçº¿</h5><p>é‚£æˆ‘ä»¬ä½¿ç”¨hashæ¨¡å¼å†æ¬¡buildï¼Œè®¿é—®å°è¯•</p><img src="/%E5%89%8D%E7%AB%AF/Vue2/2022/07/01/Vue2-%E5%9F%BA%E7%A1%805/image-20220703185441610.png" class title="hashæ¨¡å¼å†æ¬¡éƒ¨ç½²"><p>å†æ¬¡åˆ·æ–°ï¼Œå‘ç°å¹¶æ²¡æœ‰å‡ºç°404</p><h5 id="è§£å†³historyæ¨¡å¼çš„é—®é¢˜"><a href="#è§£å†³historyæ¨¡å¼çš„é—®é¢˜" class="headerlink" title="è§£å†³historyæ¨¡å¼çš„é—®é¢˜"></a>è§£å†³historyæ¨¡å¼çš„é—®é¢˜</h5><p>æˆ‘ä»¬å†æ¬¡å›åˆ°historyæ¨¡å¼ï¼Œæ¥è§£å†³è¯¥é—®é¢˜</p><p>è¿™ä¸ªé—®é¢˜éœ€è¦åç«¯æ¥é…åˆ</p><p>æˆ‘ä»¬è¿™é‡Œä½¿ç”¨nodejsåšåç«¯ï¼Œæ‰€ä»¥æˆ‘ä»¬ä½¿ç”¨nodejsçš„æŠ€æœ¯æ¥è§£å†³é—®é¢˜</p><p>å®‰è£…ä¸€ä¸ªåº“<code>npm install --save connect-history-api-fallback </code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> express = <span class="built_in">require</span>(<span class="string">&#x27;express&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> history = <span class="built_in">require</span>(<span class="string">&#x27;connect-history-api-fallback&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> app = express();</span><br><span class="line">app.use(history())</span><br><span class="line">app.use(express.static(__dirname+<span class="string">&#x27;/static&#x27;</span>));</span><br><span class="line"></span><br><span class="line">app.listen(<span class="number">5005</span>,<span class="function">(<span class="params">err</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(!err)&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">&#x27;æœåŠ¡å™¨å¯åŠ¨æˆåŠŸ&#x27;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h3 id="ç»„ä»¶åº“"><a href="#ç»„ä»¶åº“" class="headerlink" title="ç»„ä»¶åº“"></a>ç»„ä»¶åº“</h3><p>æˆ‘ä»¬çœŸæ­£å¼€å‘é¡¹ç›®çš„æ—¶å€™ï¼Œæˆ‘ä»¬ä¸ä¼šæ‰€æœ‰çš„é¡µé¢ç»“æ„éƒ½æ˜¯è‡ªå·±å†™ï¼Œæˆ‘ä»¬ä¼šä½¿ç”¨ç¬¬ä¸‰æ–¹çš„ç»„ä»¶åº“ï¼Œæ¥ä¸‹æ¥æˆ‘æ¥ä»‹ç»å‡ ä¸ªæ¯”è¾ƒå¸¸ç”¨çš„ç»„ä»¶åº“</p><ul><li>ç§»åŠ¨ç«¯<ul><li>Vant<a href="https://2x.antdv.com/components/overview-cn">https://2x.antdv.com/components/overview-cn</a></li><li>CubeUI   <a href="https://didi.github.io/cube-ui/#/zh-CN">https://didi.github.io/cube-ui/#/zh-CN</a></li><li>MintUI    <a href="http://mint-ui.github.io/#!/zh-cn">http://mint-ui.github.io/#!/zh-cn</a></li><li>nutUI      <a href="https://nutui.jd.com/#/zh-CN/component/button">https://nutui.jd.com/#/zh-CN/component/button</a>               äº¬ä¸œæ‰“é€ </li></ul></li><li>PCç«¯<ul><li>Ant Design <a href="https://2x.antdv.com/components/overview-cn">https://2x.antdv.com/components/overview-cn</a>               èš‚èšé‡‘æœæ‰“é€ </li><li>ElementUI <a href="https://element.eleme.cn/#/zh-CN">https://element.eleme.cn/#/zh-CN</a>                                      é¥¿äº†ä¹ˆæ‰“é€ </li></ul></li></ul><p>å¦‚æœæƒ³ä½¿ç”¨è¿™äº›ç»„ä»¶åº“ï¼Œæˆ‘ä»¬åªéœ€è¦å»è¿™äº›å®˜ç½‘æŸ¥çœ‹å®˜æ–¹æ–‡æ¡£å³å¯</p>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
          <category> Vue2 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Vue </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Vue2-åŸºç¡€4</title>
      <link href="/%E5%89%8D%E7%AB%AF/Vue2/2022/06/28/Vue2-%E5%9F%BA%E7%A1%804/"/>
      <url>/%E5%89%8D%E7%AB%AF/Vue2/2022/06/28/Vue2-%E5%9F%BA%E7%A1%804/</url>
      
        <content type="html"><![CDATA[<h2 id="Vue2åŸºç¡€4"><a href="#Vue2åŸºç¡€4" class="headerlink" title="Vue2åŸºç¡€4"></a>Vue2åŸºç¡€4</h2><h3 id="ä¿®æ”¹é»˜è®¤é…ç½®"><a href="#ä¿®æ”¹é»˜è®¤é…ç½®" class="headerlink" title="ä¿®æ”¹é»˜è®¤é…ç½®"></a>ä¿®æ”¹é»˜è®¤é…ç½®</h3><p>é€šè¿‡<code>vue inspect &gt; output.js</code>å¯ä»¥æŸ¥çœ‹Vueè„šæ‰‹æ¶çš„é»˜è®¤é…ç½®</p><p>åˆ›å»º<code>vue.config.js</code></p><p>å¯é€‰é…ç½®é¡¹å¯ä»¥å»<a href="https://cli.vuejs.org/zh/config/">å®˜ç½‘</a>æŸ¥çœ‹</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">    <span class="attr">pages</span>: &#123;</span><br><span class="line">        <span class="attr">index</span>: &#123;</span><br><span class="line">            <span class="comment">// page çš„å…¥å£</span></span><br><span class="line">            <span class="attr">entry</span>: <span class="string">&#x27;src/main.js&#x27;</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">lintOnSave</span>: <span class="literal">false</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="refå±æ€§"><a href="#refå±æ€§" class="headerlink" title="refå±æ€§"></a>refå±æ€§</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">button</span> <span class="attr">ref</span>=<span class="string">&quot;btn&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;showDOM&quot;</span>&gt;</span>ç‚¹æˆ‘è¾“å‡ºæŒ‰é’®çš„DOMå…ƒç´ å’ŒSchoolçš„Vcå¯¹è±¡<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">School</span> <span class="attr">ref</span>=<span class="string">&quot;sch&quot;</span>/&gt;</span></span><br><span class="line"> <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript"> <span class="keyword">import</span> School <span class="keyword">from</span> <span class="string">&#x27;./components/School&#x27;</span></span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript"> <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="javascript">  <span class="attr">name</span>:<span class="string">&#x27;App&#x27;</span>,</span></span><br><span class="line"><span class="javascript">  <span class="attr">components</span>:&#123;School&#125;,</span></span><br><span class="line"><span class="javascript">  <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="javascript">   <span class="function"><span class="title">showDOM</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">    <span class="built_in">console</span>.log(<span class="built_in">this</span>.$refs.btn) <span class="comment">//çœŸå®DOMå…ƒç´ </span></span></span><br><span class="line"><span class="javascript">    <span class="built_in">console</span>.log(<span class="built_in">this</span>.$refs.sch) <span class="comment">//Schoolç»„ä»¶çš„å®ä¾‹å¯¹è±¡ï¼ˆvcï¼‰</span></span></span><br><span class="line"><span class="javascript">   &#125;</span></span><br><span class="line"><span class="javascript">  &#125;</span></span><br><span class="line"><span class="javascript"> &#125;</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>è¢«ç”¨æ¥ç»™å…ƒç´ æˆ–å­ç»„ä»¶æ³¨å†Œå¼•ç”¨ä¿¡æ¯ï¼ˆidçš„æ›¿ä»£è€…ï¼‰</p><p>åº”ç”¨åœ¨htmlæ ‡ç­¾ä¸Šè·å–çš„æ˜¯çœŸå®DOMå…ƒç´ </p><p>åº”ç”¨åœ¨ç»„ä»¶æ ‡ç­¾ä¸Šæ˜¯ç»„ä»¶å®ä¾‹å¯¹è±¡ï¼ˆvcï¼‰</p><h3 id="propsé…ç½®é¡¹"><a href="#propsé…ç½®é¡¹" class="headerlink" title="propsé…ç½®é¡¹"></a>propsé…ç½®é¡¹</h3><p>çˆ¶ç»„ä»¶æƒ³ç»™å­ç»„ä»¶ä¼ æ•°æ®ï¼Œå³å¯é€šè¿‡propsé…ç½®é¡¹æ¥å®ç°</p><blockquote><p>Student.vue</p></blockquote><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h2</span>&gt;</span>å­¦ç”Ÿå§“åï¼š&#123;&#123;name&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h2</span>&gt;</span>å­¦ç”Ÿæ€§åˆ«ï¼š&#123;&#123;sex&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h2</span>&gt;</span>å­¦ç”Ÿå¹´é¾„ï¼š&#123;&#123;age&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">    <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="javascript">        <span class="attr">name</span>:<span class="string">&#x27;Student&#x27;</span>,</span></span><br><span class="line"><span class="javascript">        <span class="comment">//ç®€å•å£°æ˜æ¥æ”¶</span></span></span><br><span class="line"><span class="javascript">        <span class="attr">props</span>:[<span class="string">&#x27;name&#x27;</span>,<span class="string">&#x27;age&#x27;</span>,<span class="string">&#x27;sex&#x27;</span>] </span></span><br><span class="line"><span class="javascript">    &#125;</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>ä½¿ç”¨è¯¥ç»„ä»¶</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">School</span> <span class="attr">name</span>=<span class="string">&#x27;zs&#x27;</span> <span class="attr">age</span>=<span class="string">18</span> <span class="attr">sex</span>=<span class="string">&#x27;ç”·&#x27;</span>/&gt;</span></span><br></pre></td></tr></table></figure><blockquote><p>æˆ‘ä»¬æ¥è§‚å¯Ÿä¸€ä¸‹propsæ¥æ”¶åˆ°çš„æ•°æ®æ”¾åœ¨äº†å“ªé‡Œ</p></blockquote><img src="/%E5%89%8D%E7%AB%AF/Vue2/2022/06/28/Vue2-%E5%9F%BA%E7%A1%804/image-20220628170638171.png" class title="è§‚å¯Ÿvc"><p>å¯ä»¥çœ‹åˆ°ï¼Œä½¿ç”¨propsæ¥æ”¶åˆ°çš„æ•°æ®éƒ½è¢«æ”¾åœ¨äº†vcå¯¹è±¡ä¸Š</p><p>æˆ‘ä»¬è¿˜å‘ç°<code>_data</code>ä¸­å¹¶æ²¡æœ‰è¿™äº›æ•°æ®</p><blockquote><p>propsæ¥æ”¶çš„æ•°æ®ä¸å¯ä¿®æ”¹</p></blockquote><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;updateAge&quot;</span>&gt;</span>å°è¯•ä¿®æ”¹æ”¶åˆ°çš„å¹´é¾„<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">methods: &#123;</span><br><span class="line"><span class="function"><span class="title">updateAge</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"><span class="built_in">this</span>.age++</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><img src="/%E5%89%8D%E7%AB%AF/Vue2/2022/06/28/Vue2-%E5%9F%BA%E7%A1%804/image-20220628170902398.png" class title="ä¿®æ”¹propsæ¥æ”¶åˆ°çš„æ•°æ®"><p>å¦‚æœä¸€å®šæƒ³ä¿®æ”¹ï¼Œåˆ™éœ€è¦ä½¿ç”¨dataé…ç½®ä¸€ä¸‹æ•°æ®åšä¸ªä¸­è½¬</p><p>å¹¶ä¸”å±•ç¤ºçš„æ—¶å€™ä¹Ÿä½¿ç”¨dataä¸­ä¸­è½¬çš„é‚£ä¸ªå˜é‡</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>å­¦ç”Ÿå¹´é¾„ï¼š&#123;&#123;myAge&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">data</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    <span class="attr">myAge</span>: <span class="built_in">this</span>.age</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><blockquote><p>æ¥æ”¶çš„åŒæ—¶å¯¹æ•°æ®è¿›è¡Œç±»å‹é™åˆ¶</p></blockquote><p>å¦‚æœè¦å¯¹ç±»å‹åšé™åˆ¶ï¼Œéœ€è¦é€šè¿‡ä»¥ä¸‹å†™æ³•</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">props:&#123;</span><br><span class="line">    <span class="attr">name</span>:<span class="built_in">String</span>,</span><br><span class="line">    <span class="attr">age</span>:<span class="built_in">Number</span>,</span><br><span class="line"><span class="attr">sex</span>:<span class="built_in">String</span></span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure><p>ä¼ å…¥æ•°æ®</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">Student</span> <span class="attr">name</span>=<span class="string">&quot;èŠéº»&quot;</span> <span class="attr">:age</span>=<span class="string">&quot;19&quot;</span> <span class="attr">sex</span>=<span class="string">&quot;ç”·&quot;</span>/&gt;</span></span><br></pre></td></tr></table></figure><p>å¦‚æœæ˜¯è¿™æ ·ä¼ å…¥çš„</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">Student</span> <span class="attr">name</span>=<span class="string">&quot;èŠéº»&quot;</span> <span class="attr">age</span>=<span class="string">&quot;19&quot;</span> <span class="attr">sex</span>=<span class="string">&quot;ç”·&quot;</span>/&gt;</span></span><br></pre></td></tr></table></figure><img src="/%E5%89%8D%E7%AB%AF/Vue2/2022/06/28/Vue2-%E5%9F%BA%E7%A1%804/image-20220628171804173.png" class title="æŠ¥é”™"><hr><blockquote><p>æ¥æ”¶çš„åŒæ—¶å¯¹æ•°æ®ï¼šè¿›è¡Œç±»å‹é™åˆ¶+é»˜è®¤å€¼çš„æŒ‡å®š+å¿…è¦æ€§çš„é™åˆ¶</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">props:&#123;</span><br><span class="line"><span class="attr">name</span>:&#123;</span><br><span class="line"><span class="attr">type</span>:<span class="built_in">String</span>, <span class="comment">//nameçš„ç±»å‹æ˜¯å­—ç¬¦ä¸²</span></span><br><span class="line"><span class="attr">required</span>:<span class="literal">true</span>, <span class="comment">//å¿…è¦çš„ï¼Œçˆ¶äº²ç»„ä»¶ä¸€å®šè¦ä¼ è¯¥æ•°æ®</span></span><br><span class="line">&#125;,</span><br><span class="line"><span class="attr">age</span>:&#123;</span><br><span class="line"><span class="attr">type</span>:<span class="built_in">Number</span>,</span><br><span class="line"><span class="attr">default</span>:<span class="number">99</span> <span class="comment">//é»˜è®¤å€¼</span></span><br><span class="line">&#125;,</span><br><span class="line"><span class="attr">sex</span>:&#123;</span><br><span class="line"><span class="attr">type</span>:<span class="built_in">String</span>,</span><br><span class="line"><span class="attr">required</span>:<span class="literal">true</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="mixinæ··å…¥"><a href="#mixinæ··å…¥" class="headerlink" title="mixinæ··å…¥"></a>mixinæ··å…¥</h3><p>å°±æ˜¯å­ç»„ä»¶å¯ä»¥å…±äº«mixinä¸­é…ç½®çš„é…ç½®é¡¹</p><p>è¾¾åˆ°å…¨å±€å…±äº«çš„æ•ˆæœï¼Œè¾¾åˆ°å¤ç”¨çš„ç›®çš„ï¼Œå‡å°‘ä»£ç é‡å¤æ€§</p><p>æ··åˆæ–‡ä»¶å°±æ˜¯æˆ‘ä»¬åœ¨æ„é€ vcçš„æ—¶å€™ä¼ å…¥çš„é…ç½®é¡¹</p><p>åªä¸è¿‡å•ç‹¬å°†å…¶æ‹¿äº†å‡ºæ¥</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> hooks = &#123;</span><br><span class="line">    <span class="function"><span class="title">created</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">&#x27;æ•°æ®ä»£ç†ã€æ•°æ®åŠ«æŒå·²å®Œæˆ&#x27;</span>)</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="function"><span class="title">mounted</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">&#x27;æŒ‚è½½å®Œæˆï¼&#x27;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> getData = &#123;</span><br><span class="line">    <span class="function"><span class="title">data</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> &#123;</span><br><span class="line">            <span class="attr">x</span>:<span class="number">100</span>,</span><br><span class="line">            <span class="attr">y</span>:<span class="number">200</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å…¨å±€æ··å…¥ï¼ˆå…¨å±€é…ç½®ï¼‰ï¼š<code>Vue.mixin(xxx)</code></p><p>å±€éƒ¨æ··å…¥ï¼ˆé…ç½®é¡¹ï¼‰ï¼š<code>mixin: [&#39;aaa&#39;]</code></p><p>æ³¨æ„ç‚¹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">1ã€é’©å­ä»¥å¤–çš„é…ç½®é¡¹</span><br><span class="line">    å¦‚æœæ··åˆä¸­æœ‰ï¼Œåˆ™ä»¥é…ç½®é¡¹ä¸­ä¼˜å…ˆçº§é«˜</span><br><span class="line">    å¦‚æœæ··åˆä¸­æ²¡æœ‰ï¼Œåˆ™æ•´åˆè¿›é…ç½®é¡¹ä¸­</span><br><span class="line">2ã€å°†ä¸¤è€…çš„ç”Ÿå‘½å‘¨æœŸç»„åˆåœ¨ä¸€èµ·</span><br><span class="line">    å…ˆæ‰§è¡Œè‡ªå·±çš„é’©å­ï¼Œç„¶åæ‰§è¡Œmixinä¸­çš„é’©å­</span><br></pre></td></tr></table></figure><h3 id="æ’ä»¶"><a href="#æ’ä»¶" class="headerlink" title="æ’ä»¶"></a>æ’ä»¶</h3><p>æˆ‘ä»¬åœ¨å¹³æ—¶ç”Ÿæ´»å·¥ä½œä¸­ï¼Œä¸€æ¬¾å¥½ç”¨çš„æ’ä»¶å¯ä»¥æå¤§åœ°æé«˜æˆ‘ä»¬çš„ç”Ÿäº§æ•ˆç‡ï¼Œåœ¨Vueä¸­ä¹Ÿæœ‰è¿™æ ·çš„æ’ä»¶</p><p>æˆ‘ä»¬æ¥å®šä¹‰ä¸€ä¸ªæ’ä»¶è¯•ä¸€è¯•</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">    <span class="comment">//...ä»£è¡¨ä½¿ç”¨æ’ä»¶çš„æ—¶å€™ä¼ å…¥çš„å‚æ•°</span></span><br><span class="line">   <span class="function"><span class="title">install</span>(<span class="params">Vue,...</span>)</span>&#123;</span><br><span class="line">      <span class="comment">//å…¨å±€è¿‡æ»¤å™¨</span></span><br><span class="line">      Vue.filter(<span class="string">&#x27;filterName&#x27;</span>,<span class="function"><span class="keyword">function</span>(<span class="params">value</span>)</span>&#123;</span><br><span class="line">          <span class="keyword">return</span> ...</span><br><span class="line">      &#125;)</span><br><span class="line"></span><br><span class="line">      <span class="comment">//å®šä¹‰å…¨å±€æŒ‡ä»¤</span></span><br><span class="line">      Vue.directive(<span class="string">&#x27;directiveName&#x27;</span>,&#123;</span><br><span class="line">         <span class="comment">//æŒ‡ä»¤ä¸å…ƒç´ æˆåŠŸç»‘å®šæ—¶</span></span><br><span class="line">         <span class="function"><span class="title">bind</span>(<span class="params">element,binding</span>)</span>&#123;</span><br><span class="line">             <span class="comment">//...</span></span><br><span class="line">         &#125;,</span><br><span class="line">         <span class="comment">//æŒ‡ä»¤æ‰€åœ¨å…ƒç´ è¢«æ’å…¥é¡µé¢æ—¶</span></span><br><span class="line">         <span class="function"><span class="title">inserted</span>(<span class="params">element,binding</span>)</span>&#123;</span><br><span class="line">             <span class="comment">//...</span></span><br><span class="line">         &#125;,</span><br><span class="line">         <span class="comment">//æŒ‡ä»¤æ‰€åœ¨çš„æ¨¡æ¿è¢«é‡æ–°è§£ææ—¶</span></span><br><span class="line">         <span class="function"><span class="title">update</span>(<span class="params">element,binding</span>)</span>&#123;</span><br><span class="line">             <span class="comment">//...</span></span><br><span class="line">         &#125;</span><br><span class="line">      &#125;)</span><br><span class="line"></span><br><span class="line">      <span class="comment">//å®šä¹‰æ··å…¥</span></span><br><span class="line">      Vue.mixin(&#123;</span><br><span class="line">          <span class="comment">//...</span></span><br><span class="line">      &#125;)</span><br><span class="line"></span><br><span class="line">      <span class="comment">//ç»™VueåŸå‹ä¸Šæ·»åŠ ä¸€ä¸ªæ–¹æ³•ï¼ˆvmå’Œvcå°±éƒ½èƒ½ç”¨äº†ï¼‰</span></span><br><span class="line">      Vue.prototype.hello = <span class="function">()=&gt;</span>&#123;alert(<span class="string">&#x27;ä½ å¥½å•Š&#x27;</span>)&#125;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åœ¨main.jsä¸­ä½¿ç”¨</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> plugins <span class="keyword">from</span> <span class="string">&#x27;./plugins&#x27;</span></span><br><span class="line"></span><br><span class="line">Vue.use(plugins)</span><br></pre></td></tr></table></figure><h3 id="styleæ ‡ç­¾"><a href="#styleæ ‡ç­¾" class="headerlink" title="styleæ ‡ç­¾"></a>styleæ ‡ç­¾</h3><h4 id="scopedå±æ€§"><a href="#scopedå±æ€§" class="headerlink" title="scopedå±æ€§"></a>scopedå±æ€§</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;style scoped&gt;</span><br><span class="line">åœ¨è¿™ä¸ªé‡Œé¢å†™çš„cssæ ·å¼åªä¼šä½œç”¨äºè¯¥æ–‡ä»¶çš„ç»“æ„</span><br><span class="line">    å¦‚æœä¸åŠ scopedåˆ™ä¼šä½œç”¨äºæ‰€æœ‰ç¬¦åˆæ¡ä»¶çš„htmlç»“æ„</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><h4 id="langå±æ€§"><a href="#langå±æ€§" class="headerlink" title="langå±æ€§"></a>langå±æ€§</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;style scoped lang=&quot;scss&quot;&gt;</span><br><span class="line">    å¦‚æœä½ æƒ³ä½¿ç”¨Lessæˆ–è€…Scssæ¥å†™cssåˆ™éœ€è¦ä¸‹è½½ç¼–è¯‘å·¥å…·</span><br><span class="line">    npm i less-loader</span><br><span class="line">    npm i scss-loader</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><h3 id="Todosæ¡ˆä¾‹"><a href="#Todosæ¡ˆä¾‹" class="headerlink" title="Todosæ¡ˆä¾‹"></a>Todosæ¡ˆä¾‹</h3><blockquote><p>æå‰å£°æ˜ï¼šæ­¤æ¡ˆä¾‹ä¼šå¾ªåºæ¸è¿›åœ°è®²åˆ°<strong>å¾ˆå¤š</strong>çŸ¥è¯†ç‚¹ï¼Œè¯·åŠ¡å¿…ä¸è¦è·³è¿‡</p></blockquote><img src="/%E5%89%8D%E7%AB%AF/Vue2/2022/06/28/Vue2-%E5%9F%BA%E7%A1%804/image-20220629112045224.png" class title="Todos"><h4 id="é™æ€é¡µé¢ä»£ç "><a href="#é™æ€é¡µé¢ä»£ç " class="headerlink" title="é™æ€é¡µé¢ä»£ç "></a>é™æ€é¡µé¢ä»£ç </h4><p>App.vue</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;container&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">h2</span> <span class="attr">style</span>=<span class="string">&quot;text-align: center&quot;</span>&gt;</span>Todos<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">input</span> <span class="attr">class</span>=<span class="string">&quot;task&quot;</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;è¯·è¾“å…¥å¾…åŠäº‹é¡¹ï¼Œå›è½¦ç¡®è®¤æ·»åŠ &quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;task&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">&quot;todos&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">&quot;todo&quot;</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">span</span>&gt;</span>æ•²ä»£ç <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;buttons&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">&quot;delete&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;deleteSelf(todo.id)&quot;</span>&gt;</span>åˆ é™¤<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">&quot;update&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;updateSelf(todo.id)&quot;</span>&gt;</span>ä¿®æ”¹<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">&quot;todo&quot;</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">span</span>&gt;</span>ç¡è§‰<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;buttons&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">&quot;delete&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;deleteSelf(todo.id)&quot;</span>&gt;</span>åˆ é™¤<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">&quot;update&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;updateSelf(todo.id)&quot;</span>&gt;</span>ä¿®æ”¹<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">&quot;todo&quot;</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">span</span>&gt;</span>åƒé¥­<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;buttons&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">&quot;delete&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;deleteSelf(todo.id)&quot;</span>&gt;</span>åˆ é™¤<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">&quot;update&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;updateSelf(todo.id)&quot;</span>&gt;</span>ä¿®æ”¹<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;footer&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">style</span>=<span class="string">&quot;margin-right: 10px&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span>å·²ç»å®Œæˆ0/å…¨éƒ¨3<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="javascript">  <span class="attr">name</span>: <span class="string">&#x27;App&#x27;</span>,</span></span><br><span class="line"><span class="javascript">  <span class="function"><span class="title">data</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">    &#125;</span></span><br><span class="line"><span class="javascript">  &#125;,</span></span><br><span class="line"><span class="javascript">&#125;</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span>&gt;</span><span class="css"></span></span><br><span class="line"><span class="css"><span class="selector-class">.todos</span> &#123;</span></span><br><span class="line"><span class="css">  <span class="attribute">list-style</span>: none;</span></span><br><span class="line"><span class="css">  <span class="attribute">padding</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="css">  <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#ccc</span>;</span></span><br><span class="line"><span class="css">&#125;</span></span><br><span class="line"><span class="css"><span class="selector-class">.todo</span> &#123;</span></span><br><span class="line"><span class="css">  <span class="attribute">height</span>: <span class="number">50px</span>;</span></span><br><span class="line"><span class="css">  <span class="attribute">padding</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">20px</span>;</span></span><br><span class="line"><span class="css">  <span class="attribute">border-bottom</span>: <span class="number">1px</span> solid <span class="number">#ccc</span>;</span></span><br><span class="line"><span class="css">  <span class="attribute">display</span>: flex;</span></span><br><span class="line"><span class="css">  <span class="attribute">align-items</span>: center;</span></span><br><span class="line"><span class="css">  <span class="attribute">justify-content</span>: space-between;</span></span><br><span class="line"><span class="css">&#125;</span></span><br><span class="line"><span class="css"><span class="selector-class">.task</span> &#123;</span></span><br><span class="line"><span class="css">  <span class="attribute">width</span>: <span class="number">100%</span>;</span></span><br><span class="line"><span class="css">  <span class="attribute">height</span>: <span class="number">40px</span>;</span></span><br><span class="line"><span class="css">  <span class="attribute">padding-left</span>: <span class="number">20px</span>;</span></span><br><span class="line"><span class="css">  <span class="attribute">box-sizing</span>: border-box</span></span><br><span class="line"><span class="css">&#125;</span></span><br><span class="line"><span class="css"><span class="selector-class">.container</span> &#123;</span></span><br><span class="line"><span class="css">  <span class="attribute">border</span>: <span class="number">1px</span> solid black;</span></span><br><span class="line"><span class="css">  <span class="attribute">padding</span>: <span class="number">10px</span>;</span></span><br><span class="line"><span class="css">  <span class="attribute">width</span>: <span class="number">30%</span>;</span></span><br><span class="line"><span class="css">  <span class="attribute">margin</span>: <span class="number">40px</span> auto</span></span><br><span class="line"><span class="css">&#125;</span></span><br><span class="line"><span class="css"><span class="selector-class">.buttons</span> &#123;</span></span><br><span class="line"><span class="css">  <span class="attribute">margin-right</span>: <span class="number">20px</span>;</span></span><br><span class="line"><span class="css">  <span class="attribute">width</span>: <span class="number">20%</span>;</span></span><br><span class="line"><span class="css">  <span class="attribute">display</span>: none;</span></span><br><span class="line"><span class="css">  <span class="attribute">justify-content</span>: space-between;</span></span><br><span class="line"><span class="css">&#125;</span></span><br><span class="line"><span class="css"><span class="selector-class">.todo</span><span class="selector-pseudo">:hover</span> <span class="selector-class">.buttons</span> &#123;</span></span><br><span class="line"><span class="css">  <span class="attribute">display</span>: flex;</span></span><br><span class="line"><span class="css">&#125;</span></span><br><span class="line"><span class="css"><span class="selector-class">.todo</span><span class="selector-pseudo">:hover</span> &#123;</span></span><br><span class="line"><span class="css">  <span class="attribute">background</span>: <span class="number">#4dd9d5</span>;</span></span><br><span class="line"><span class="css">&#125;</span></span><br><span class="line"><span class="css"><span class="selector-class">.delete</span> &#123;</span></span><br><span class="line"><span class="css">  <span class="attribute">background</span>: red;</span></span><br><span class="line"><span class="css">  <span class="attribute">color</span>: <span class="number">#CCCCCC</span>;</span></span><br><span class="line"><span class="css">  <span class="attribute">font-size</span>: <span class="number">10px</span>;</span></span><br><span class="line"><span class="css">  <span class="attribute">cursor</span>: pointer;</span></span><br><span class="line"><span class="css">&#125;</span></span><br><span class="line"><span class="css"><span class="selector-class">.update</span> &#123;</span></span><br><span class="line"><span class="css">  <span class="attribute">background</span>: <span class="number">#2e6da4</span>;</span></span><br><span class="line"><span class="css">  <span class="attribute">color</span>: <span class="number">#CCCCCC</span>;</span></span><br><span class="line"><span class="css">  <span class="attribute">font-size</span>: <span class="number">10px</span>;</span></span><br><span class="line"><span class="css">  <span class="attribute">cursor</span>: pointer;</span></span><br><span class="line"><span class="css">&#125;</span></span><br><span class="line"><span class="css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="åŠ¨æ€æ•°æ®"><a href="#åŠ¨æ€æ•°æ®" class="headerlink" title="åŠ¨æ€æ•°æ®"></a>åŠ¨æ€æ•°æ®</h4><p>ç°åœ¨å°†æ•°æ®æ”¾åˆ°dataä¸­ï¼Œå†è¡¥å……ä¸€ç‚¹é€»è¾‘å§</p><blockquote><p>æ¥ä¸‹æ¥å°±ä¸å†™styleæ ‡ç­¾å•¦</p></blockquote><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;container&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h2</span> <span class="attr">style</span>=<span class="string">&quot;text-align: center&quot;</span>&gt;</span>Todos<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">class</span>=<span class="string">&quot;task&quot;</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;è¯·è¾“å…¥å¾…åŠäº‹é¡¹ï¼Œå›è½¦ç¡®è®¤æ·»åŠ &quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;task&quot;</span> @<span class="attr">keydown.enter</span>=<span class="string">&quot;insertNewTask&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">&quot;todos&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">&quot;todo&quot;</span> <span class="attr">v-for</span>=<span class="string">&quot;todo in todos&quot;</span> <span class="attr">:key</span>=<span class="string">&quot;todo.id&quot;</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;todo.done&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">span</span>&gt;</span>&#123;&#123; todo.content &#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;buttons&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">&quot;delete&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;deleteSelf(todo.id)&quot;</span>&gt;</span>åˆ é™¤<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">&quot;update&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;updateSelf(todo.id)&quot;</span>&gt;</span>ä¿®æ”¹<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;footer&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">style</span>=<span class="string">&quot;margin-right: 10px&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span>å·²ç»å®Œæˆ&#123;&#123;hasDone&#125;&#125;/å…¨éƒ¨&#123;&#123;totalSum&#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="javascript">  <span class="attr">name</span>: <span class="string">&#x27;App&#x27;</span>,</span></span><br><span class="line"><span class="javascript">  <span class="function"><span class="title">data</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="javascript">      <span class="attr">task</span>: <span class="string">&#x27;&#x27;</span>,</span></span><br><span class="line"><span class="javascript">      <span class="attr">todos</span>: [</span></span><br><span class="line"><span class="javascript">        &#123;<span class="attr">id</span>: <span class="string">&#x27;002&#x27;</span>,<span class="attr">content</span>: <span class="string">&#x27;ç¡è§‰&#x27;</span>,<span class="attr">done</span>: <span class="literal">true</span>&#125;,</span></span><br><span class="line"><span class="javascript">        &#123;<span class="attr">id</span>: <span class="string">&#x27;001&#x27;</span>,<span class="attr">content</span>: <span class="string">&#x27;æ‰“ä»£ç &#x27;</span>,<span class="attr">done</span>: <span class="literal">true</span>&#125;,</span></span><br><span class="line"><span class="javascript">        &#123;<span class="attr">id</span>: <span class="string">&#x27;003&#x27;</span>,<span class="attr">content</span>: <span class="string">&#x27;åƒé¥­&#x27;</span>,<span class="attr">done</span>: <span class="literal">false</span>&#125;,</span></span><br><span class="line"><span class="javascript">        &#123;<span class="attr">id</span>: <span class="string">&#x27;004&#x27;</span>,<span class="attr">content</span>: <span class="string">&#x27;åˆ·æŠ–éŸ³&#x27;</span>,<span class="attr">done</span>: <span class="literal">true</span>&#125;,</span></span><br><span class="line"><span class="javascript">      ],</span></span><br><span class="line"><span class="javascript">      <span class="attr">hasDone</span>: <span class="number">0</span>,</span></span><br><span class="line"><span class="javascript">    &#125;</span></span><br><span class="line"><span class="javascript">  &#125;,</span></span><br><span class="line"><span class="javascript">  <span class="function"><span class="title">mounted</span>(<span class="params"></span>)</span> &#123;</span></span><br><span class="line"><span class="javascript">    <span class="built_in">this</span>.hasDone = <span class="built_in">this</span>.todos.filter(<span class="function"><span class="params">t</span>=&gt;</span>t.done).length;</span></span><br><span class="line"><span class="javascript">  &#125;,</span></span><br><span class="line"><span class="javascript">  <span class="attr">methods</span>:&#123;</span></span><br><span class="line"><span class="javascript">    <span class="function"><span class="title">deleteSelf</span>(<span class="params">id</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">    &#125;,</span></span><br><span class="line"><span class="javascript">    <span class="function"><span class="title">updateSelf</span>(<span class="params">id</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">    &#125;,</span></span><br><span class="line"><span class="javascript">    <span class="function"><span class="title">insertNewTask</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">    &#125;</span></span><br><span class="line"><span class="javascript">  &#125;,</span></span><br><span class="line"><span class="javascript">  <span class="attr">computed</span>: &#123;</span></span><br><span class="line"><span class="javascript">    <span class="function"><span class="title">totalSum</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">return</span> <span class="built_in">this</span>.todos.length;</span></span><br><span class="line"><span class="javascript">    &#125;</span></span><br><span class="line"><span class="javascript">  &#125;</span></span><br><span class="line"><span class="javascript">&#125;</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="æŠ½ç¦»ç»„ä»¶"><a href="#æŠ½ç¦»ç»„ä»¶" class="headerlink" title="æŠ½ç¦»ç»„ä»¶"></a>æŠ½ç¦»ç»„ä»¶</h4><p>Appä½œä¸ºç‹è€…å±…ç„¶å†™äº†è¿™ä¹ˆå¤šç»“æ„ä»£ç ï¼Œå“ªé‡Œæœ‰ä»€ä¹ˆç»„ä»¶åŒ–çš„æ€æƒ³ï¼Œæ‰€ä»¥æˆ‘ä»¬æŠ½ç¦»å‡ºä¸€ä¸ªä¸ªç»„ä»¶</p><p>Top.vue</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span> <span class="attr">style</span>=<span class="string">&quot;text-align: center&quot;</span>&gt;</span>Todos<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">class</span>=<span class="string">&quot;task&quot;</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;è¯·è¾“å…¥å¾…åŠäº‹é¡¹ï¼Œå›è½¦ç¡®è®¤æ·»åŠ &quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;task&quot;</span> @<span class="attr">keydown.enter</span>=<span class="string">&quot;insertNewTask&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="javascript">  <span class="attr">name</span>: <span class="string">&quot;Top&quot;</span>,</span></span><br><span class="line"><span class="javascript">  <span class="function"><span class="title">data</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="javascript">      <span class="attr">task</span>: <span class="string">&#x27;&#x27;</span>,</span></span><br><span class="line"><span class="javascript">    &#125;</span></span><br><span class="line"><span class="javascript">  &#125;,</span></span><br><span class="line"><span class="javascript">  <span class="attr">methods</span>:&#123;</span></span><br><span class="line"><span class="javascript">    <span class="function"><span class="title">insertNewTask</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">    &#125;</span></span><br><span class="line"><span class="javascript">  &#125;</span></span><br><span class="line"><span class="javascript">&#125;</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span>&gt;</span><span class="css"></span></span><br><span class="line"><span class="css"><span class="selector-class">.task</span> &#123;</span></span><br><span class="line"><span class="css">  <span class="attribute">width</span>: <span class="number">100%</span>;</span></span><br><span class="line"><span class="css">  <span class="attribute">height</span>: <span class="number">40px</span>;</span></span><br><span class="line"><span class="css">  <span class="attribute">padding-left</span>: <span class="number">20px</span>;</span></span><br><span class="line"><span class="css">  <span class="attribute">box-sizing</span>: border-box</span></span><br><span class="line"><span class="css">&#125;</span></span><br><span class="line"><span class="css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><p>ShowTodosContainer.vue</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">&quot;todos&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">&quot;todo&quot;</span> <span class="attr">v-for</span>=<span class="string">&quot;todo in todos&quot;</span> <span class="attr">:key</span>=<span class="string">&quot;todo.id&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;choose(todo.id)&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;todo.done&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">span</span>&gt;</span>&#123;&#123; todo.content &#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;buttons&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">&quot;delete&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;deleteSelf(todo.id)&quot;</span>&gt;</span>åˆ é™¤<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">&quot;update&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;updateSelf(todo.id)&quot;</span>&gt;</span>ä¿®æ”¹<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="javascript">  <span class="attr">name</span>: <span class="string">&quot;ShowTodosContainer&quot;</span>,</span></span><br><span class="line"><span class="javascript">  <span class="attr">props</span>: [<span class="string">&#x27;todos&#x27;</span>],</span></span><br><span class="line"><span class="javascript">  <span class="function"><span class="title">data</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="javascript">      <span class="attr">todos</span>: <span class="built_in">this</span>.todos</span></span><br><span class="line"><span class="javascript">    &#125;</span></span><br><span class="line"><span class="javascript">  &#125;,</span></span><br><span class="line"><span class="javascript">  <span class="attr">methods</span>:&#123;</span></span><br><span class="line"><span class="javascript">    <span class="function"><span class="title">deleteSelf</span>(<span class="params">id</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">    &#125;,</span></span><br><span class="line"><span class="javascript">    <span class="function"><span class="title">updateSelf</span>(<span class="params">id</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">    &#125;,</span></span><br><span class="line"><span class="javascript">    <span class="function"><span class="title">choose</span>(<span class="params">id</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">      <span class="built_in">this</span>.todos.forEach(<span class="function"><span class="params">t</span>=&gt;</span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">if</span>(t.id===id)&#123;</span></span><br><span class="line"><span class="javascript">          t.done=!t.done;</span></span><br><span class="line"><span class="javascript">        &#125;</span></span><br><span class="line"><span class="javascript">      &#125;)</span></span><br><span class="line"><span class="javascript">    &#125;,</span></span><br><span class="line"><span class="javascript">  &#125;</span></span><br><span class="line"><span class="javascript">&#125;</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span>&gt;</span><span class="css"></span></span><br><span class="line"><span class="css"><span class="selector-class">.todos</span> &#123;</span></span><br><span class="line"><span class="css">  <span class="attribute">list-style</span>: none;</span></span><br><span class="line"><span class="css">  <span class="attribute">padding</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="css">  <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#ccc</span>;</span></span><br><span class="line"><span class="css">&#125;</span></span><br><span class="line"><span class="css"><span class="selector-class">.todo</span> &#123;</span></span><br><span class="line"><span class="css">  <span class="attribute">height</span>: <span class="number">50px</span>;</span></span><br><span class="line"><span class="css">  <span class="attribute">padding</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">20px</span>;</span></span><br><span class="line"><span class="css">  <span class="attribute">border-bottom</span>: <span class="number">1px</span> solid <span class="number">#ccc</span>;</span></span><br><span class="line"><span class="css">  <span class="attribute">display</span>: flex;</span></span><br><span class="line"><span class="css">  <span class="attribute">align-items</span>: center;</span></span><br><span class="line"><span class="css">  <span class="attribute">justify-content</span>: space-between;</span></span><br><span class="line"><span class="css">&#125;</span></span><br><span class="line"><span class="css"><span class="selector-class">.buttons</span> &#123;</span></span><br><span class="line"><span class="css">  <span class="attribute">margin-right</span>: <span class="number">20px</span>;</span></span><br><span class="line"><span class="css">  <span class="attribute">width</span>: <span class="number">20%</span>;</span></span><br><span class="line"><span class="css">  <span class="attribute">display</span>: none;</span></span><br><span class="line"><span class="css">  <span class="attribute">justify-content</span>: space-between;</span></span><br><span class="line"><span class="css">&#125;</span></span><br><span class="line"><span class="css"><span class="selector-class">.todo</span><span class="selector-pseudo">:hover</span> <span class="selector-class">.buttons</span> &#123;</span></span><br><span class="line"><span class="css">  <span class="attribute">display</span>: flex;</span></span><br><span class="line"><span class="css">&#125;</span></span><br><span class="line"><span class="css"><span class="selector-class">.todo</span><span class="selector-pseudo">:hover</span> &#123;</span></span><br><span class="line"><span class="css">  <span class="attribute">background</span>: <span class="number">#4dd9d5</span>;</span></span><br><span class="line"><span class="css">&#125;</span></span><br><span class="line"><span class="css"></span></span><br><span class="line"><span class="css"><span class="selector-class">.delete</span> &#123;</span></span><br><span class="line"><span class="css">  <span class="attribute">background</span>: red;</span></span><br><span class="line"><span class="css">  <span class="attribute">color</span>: <span class="number">#CCCCCC</span>;</span></span><br><span class="line"><span class="css">  <span class="attribute">font-size</span>: <span class="number">10px</span>;</span></span><br><span class="line"><span class="css">  <span class="attribute">cursor</span>: pointer;</span></span><br><span class="line"><span class="css">&#125;</span></span><br><span class="line"><span class="css"><span class="selector-class">.update</span> &#123;</span></span><br><span class="line"><span class="css">  <span class="attribute">background</span>: <span class="number">#2e6da4</span>;</span></span><br><span class="line"><span class="css">  <span class="attribute">color</span>: <span class="number">#CCCCCC</span>;</span></span><br><span class="line"><span class="css">  <span class="attribute">font-size</span>: <span class="number">10px</span>;</span></span><br><span class="line"><span class="css">  <span class="attribute">cursor</span>: pointer;</span></span><br><span class="line"><span class="css">&#125;</span></span><br><span class="line"><span class="css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><p>è¿™é‡Œè¡¥å……ä¸€ä¸ªçŸ¥è¯†ç‚¹</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">å¯¹äº&lt;input <span class="built_in">type</span>=<span class="string">&quot;checkbox&quot;</span>&gt;</span><br><span class="line">1.æ²¡æœ‰é…ç½®inputçš„valueå±æ€§ï¼Œé‚£ä¹ˆæ”¶é›†çš„å°±æ˜¯checkedï¼ˆå‹¾é€‰ or æœªå‹¾é€‰ï¼Œæ˜¯å¸ƒå°”å€¼ï¼‰</span><br><span class="line"></span><br><span class="line">2.é…ç½®inputçš„valueå±æ€§:</span><br><span class="line">      (1)v-modelçš„åˆå§‹å€¼æ˜¯éæ•°ç»„ï¼Œé‚£ä¹ˆæ”¶é›†çš„å°±æ˜¯checkedï¼ˆå‹¾é€‰ or æœªå‹¾é€‰ï¼Œæ˜¯å¸ƒå°”å€¼ï¼‰</span><br><span class="line">      (2)v-modelçš„åˆå§‹å€¼æ˜¯æ•°ç»„ï¼Œé‚£ä¹ˆæ”¶é›†çš„çš„å°±æ˜¯valueç»„æˆçš„æ•°ç»„</span><br></pre></td></tr></table></figure><p>PageFooter.vue</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;footer&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">style</span>=<span class="string">&quot;margin-right: 10px&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;allHasDone&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">span</span>&gt;</span>å·²ç»å®Œæˆ&#123;&#123;hasDone&#125;&#125;/å…¨éƒ¨&#123;&#123;totalSum&#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">&quot;deleteAll&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;deleteAllTodos&quot;</span>&gt;</span></span><br><span class="line">      åˆ é™¤æ‰€æœ‰ä»£åŠ</span><br><span class="line">    <span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="javascript">  <span class="attr">name</span>: <span class="string">&quot;PageFooter&quot;</span>,</span></span><br><span class="line"><span class="javascript">  <span class="attr">props</span>: [<span class="string">&#x27;todos&#x27;</span>],</span></span><br><span class="line"><span class="javascript">  <span class="function"><span class="title">data</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="javascript">      <span class="attr">allHasDone</span>: <span class="literal">false</span></span></span><br><span class="line"><span class="javascript">    &#125;</span></span><br><span class="line"><span class="javascript">  &#125;,</span></span><br><span class="line"><span class="javascript">  <span class="attr">computed</span>: &#123;</span></span><br><span class="line"><span class="javascript">    <span class="function"><span class="title">totalSum</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">return</span> <span class="built_in">this</span>.todos.length;</span></span><br><span class="line"><span class="javascript">    &#125;,</span></span><br><span class="line"><span class="javascript">    <span class="function"><span class="title">hasDone</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">let</span> length = <span class="built_in">this</span>.todos.filter(<span class="function"><span class="params">t</span>=&gt;</span>t.done).length;</span></span><br><span class="line"><span class="javascript">      <span class="built_in">this</span>.allHasDone = length === <span class="built_in">this</span>.todos.length;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">return</span> length;</span></span><br><span class="line"><span class="javascript">    &#125;,</span></span><br><span class="line"><span class="javascript">  &#125;,</span></span><br><span class="line"><span class="javascript">  <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="javascript"><span class="function"><span class="title">deleteAllTodos</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">    &#125;</span></span><br><span class="line"><span class="javascript">  &#125;</span></span><br><span class="line"><span class="javascript">&#125;</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span>&gt;</span><span class="css"></span></span><br><span class="line"><span class="css"><span class="selector-class">.footer</span> &#123;</span></span><br><span class="line"><span class="css">  <span class="attribute">display</span>: flex;</span></span><br><span class="line"><span class="css">  <span class="attribute">justify-content</span>: space-between;</span></span><br><span class="line"><span class="css">&#125;</span></span><br><span class="line"><span class="css"><span class="selector-class">.deleteAll</span> &#123;</span></span><br><span class="line"><span class="css">  <span class="attribute">background</span>: red;</span></span><br><span class="line"><span class="css">  <span class="attribute">height</span>: <span class="number">30px</span>;</span></span><br><span class="line"><span class="css">  <span class="attribute">width</span>: <span class="number">200px</span>;</span></span><br><span class="line"><span class="css">  <span class="attribute">cursor</span>:pointer;</span></span><br><span class="line"><span class="css">  <span class="attribute">color</span>: <span class="number">#4dd9d5</span></span></span><br><span class="line"><span class="css">&#125;</span></span><br><span class="line"><span class="css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="å®ç°æ‰€æœ‰åŠŸèƒ½"><a href="#å®ç°æ‰€æœ‰åŠŸèƒ½" class="headerlink" title="å®ç°æ‰€æœ‰åŠŸèƒ½"></a>å®ç°æ‰€æœ‰åŠŸèƒ½</h4><h5 id="æ’å…¥æ–°ä»£åŠ"><a href="#æ’å…¥æ–°ä»£åŠ" class="headerlink" title="æ’å…¥æ–°ä»£åŠ"></a>æ’å…¥æ–°ä»£åŠ</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">insertNewTask</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  <span class="keyword">if</span>(<span class="built_in">this</span>.task === <span class="string">&#x27;&#x27;</span>)&#123;</span><br><span class="line">    <span class="keyword">return</span> alert(<span class="string">&#x27;è¯·ä¸è¦è¾“å…¥ç©ºçš„ä»£åŠï¼&#x27;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">this</span>.todos.push(&#123;</span><br><span class="line">    <span class="attr">id</span>:nanoid(),</span><br><span class="line">    <span class="attr">content</span>: <span class="built_in">this</span>.task,</span><br><span class="line">    <span class="attr">hasDone</span>: <span class="literal">false</span></span><br><span class="line">  &#125;)</span><br><span class="line">  <span class="built_in">this</span>.task=<span class="string">&#x27;&#x27;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="åˆ é™¤å•ä¸ªä»£åŠ"><a href="#åˆ é™¤å•ä¸ªä»£åŠ" class="headerlink" title="åˆ é™¤å•ä¸ªä»£åŠ"></a>åˆ é™¤å•ä¸ªä»£åŠ</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">deleteSelf</span>(<span class="params">id</span>)</span>&#123;</span><br><span class="line">  <span class="built_in">this</span>.todoList.splice(<span class="number">0</span>,<span class="built_in">this</span>.todoList.length,...this.todoList.filter(<span class="function"><span class="params">t</span>=&gt;</span>t.id!==id));</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure><h5 id="åˆ é™¤æ‰€æœ‰ä»£åŠ"><a href="#åˆ é™¤æ‰€æœ‰ä»£åŠ" class="headerlink" title="åˆ é™¤æ‰€æœ‰ä»£åŠ"></a>åˆ é™¤æ‰€æœ‰ä»£åŠ</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">deleteAllTodos</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  <span class="built_in">this</span>.todoList.splice(<span class="number">0</span>,<span class="built_in">this</span>.totalSum,...this.todoList.filter(<span class="function"><span class="params">t</span>=&gt;</span>!t.done))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="å‹¾é€‰"><a href="#å‹¾é€‰" class="headerlink" title="å‹¾é€‰"></a>å‹¾é€‰</h5><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">style</span>=<span class="string">&quot;margin-right: 10px&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;allHasDone&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;chooseAll&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">chooseAll</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  <span class="built_in">this</span>.todoList.forEach(<span class="function"><span class="params">t</span>=&gt;</span>t.done=!<span class="built_in">this</span>.allHasDone);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ³¨æ„ç‚¹ï¼šå…ˆå¤„ç†ç‚¹å‡»äº‹ä»¶ï¼Œç„¶åæ•°æ®æ‰æ›´æ–°ï¼Œæ‰€ä»¥è¦å–å</p><h5 id="æ›´æ–°ä»£åŠ"><a href="#æ›´æ–°ä»£åŠ" class="headerlink" title="æ›´æ–°ä»£åŠ"></a>æ›´æ–°ä»£åŠ</h5><p>è¿™ä¸ªæœ‰ç‚¹éº»çƒ¦ï¼Œéœ€è¦å†æ·»åŠ ä¸€ä¸ªç»„ä»¶ï¼Œä½¿ç”¨åŠ¨æ€æ ·å¼æ¥æ§åˆ¶å…¶æ˜¾ç¤º</p><p>UpdateDialog.vue</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;dialog&quot;</span><span class="attr">:class</span>=<span class="string">&quot;&#123;&#x27;clear&#x27;:showDialog&#125;&quot;</span> @<span class="attr">click.self</span>=<span class="string">&quot;close&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;form&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">h2</span>&gt;</span>è¯·ä¿®æ”¹ä»£åŠ<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;close&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;close&quot;</span>&gt;</span>X<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;updatedTaskContent&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">button</span> <span class="attr">style</span>=<span class="string">&quot;margin-right: 20px&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;updateTask&quot;</span>&gt;</span></span><br><span class="line">        ä¿®æ”¹</span><br><span class="line">      <span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;close&quot;</span>&gt;</span></span><br><span class="line">        å–æ¶ˆ</span><br><span class="line">      <span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="javascript">  <span class="attr">name</span>: <span class="string">&quot;UpdateDialog&quot;</span>,</span></span><br><span class="line"><span class="javascript">  <span class="attr">props</span>: [<span class="string">&#x27;task&#x27;</span>,<span class="string">&#x27;showDialog&#x27;</span>],</span></span><br><span class="line"><span class="javascript">  <span class="function"><span class="title">data</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="javascript">      <span class="attr">updatedTaskContent</span>: <span class="built_in">this</span>.task.content,</span></span><br><span class="line"><span class="javascript">      <span class="attr">propTask</span>: <span class="built_in">this</span>.task</span></span><br><span class="line"><span class="javascript">    &#125;</span></span><br><span class="line"><span class="javascript">  &#125;,</span></span><br><span class="line"><span class="javascript">  <span class="attr">methods</span>:&#123;</span></span><br><span class="line"><span class="javascript">    <span class="function"><span class="title">close</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">      <span class="built_in">this</span>.$emit(<span class="string">&#x27;closeDialog&#x27;</span>)</span></span><br><span class="line"><span class="javascript">    &#125;,</span></span><br><span class="line"><span class="javascript">    <span class="function"><span class="title">updateTask</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">      <span class="built_in">this</span>.propTask.content=<span class="built_in">this</span>.updatedTaskContent</span></span><br><span class="line"><span class="javascript">    &#125;</span></span><br><span class="line"><span class="javascript">  &#125;</span></span><br><span class="line"><span class="javascript">&#125;</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span>&gt;</span><span class="css"></span></span><br><span class="line"><span class="css"><span class="selector-class">.dialog</span> &#123;</span></span><br><span class="line"><span class="css">  <span class="attribute">position</span>: absolute;</span></span><br><span class="line"><span class="css">  <span class="attribute">display</span>: none;</span></span><br><span class="line"><span class="css">  <span class="attribute">top</span>: <span class="number">0px</span>;</span></span><br><span class="line"><span class="css">  <span class="attribute">bottom</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="css">  <span class="attribute">left</span>: <span class="number">0px</span>;</span></span><br><span class="line"><span class="css">  <span class="attribute">right</span>: <span class="number">0px</span>;</span></span><br><span class="line"><span class="css">  <span class="attribute">background</span>: <span class="built_in">rgba</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0.2</span>);</span></span><br><span class="line"><span class="css">&#125;</span></span><br><span class="line"><span class="css"><span class="selector-tag">input</span> &#123;</span></span><br><span class="line"><span class="css">  <span class="attribute">width</span>: <span class="number">400px</span>;</span></span><br><span class="line"><span class="css">  <span class="attribute">margin-bottom</span>: <span class="number">20px</span>;</span></span><br><span class="line"><span class="css">&#125;</span></span><br><span class="line"><span class="css"><span class="selector-class">.form</span> &#123;</span></span><br><span class="line"><span class="css">  <span class="attribute">position</span>: relative;</span></span><br><span class="line"><span class="css">  <span class="attribute">width</span>: <span class="number">30%</span>;</span></span><br><span class="line"><span class="css">  <span class="attribute">height</span>: <span class="number">300px</span>;</span></span><br><span class="line"><span class="css">  <span class="attribute">margin</span>: <span class="number">40px</span> auto;</span></span><br><span class="line"><span class="css">  <span class="attribute">background</span>: beige;</span></span><br><span class="line"><span class="css">  <span class="attribute">padding</span>: <span class="number">20px</span>;</span></span><br><span class="line"><span class="css">&#125;</span></span><br><span class="line"><span class="css"><span class="selector-class">.close</span> &#123;</span></span><br><span class="line"><span class="css">  <span class="attribute">display</span>: block;</span></span><br><span class="line"><span class="css">  <span class="attribute">position</span>: absolute;</span></span><br><span class="line"><span class="css">  <span class="attribute">top</span>: -<span class="number">10px</span>;</span></span><br><span class="line"><span class="css">  <span class="attribute">right</span>: <span class="number">0px</span>;</span></span><br><span class="line"><span class="css">  <span class="attribute">cursor</span>: pointer;</span></span><br><span class="line"><span class="css">&#125;</span></span><br><span class="line"><span class="css"></span></span><br><span class="line"><span class="css"><span class="selector-class">.clear</span> &#123;</span></span><br><span class="line"><span class="css">  <span class="attribute">display</span>: block;</span></span><br><span class="line"><span class="css">&#125;</span></span><br><span class="line"><span class="css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><p>è¿™é‡Œä½¿ç”¨çš„è‡ªå®šä¹‰äº‹ä»¶</p><p>æˆ‘åœ¨ä½¿ç”¨è¯¥ç»„ä»¶çš„æ—¶å€™ä¼ å…¥ä¸€ä¸ªå‡½æ•°ï¼Œç„¶åç»„ä»¶å†…éƒ¨å°±å¯ä»¥ä½¿ç”¨<code>this.$emit(&#39;è‡ªå®šä¹‰äº‹ä»¶å&#39;)</code>æ¥è°ƒç”¨è¯¥äº‹ä»¶</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">UpdateDialog</span> <span class="attr">:showDialog</span>=<span class="string">&quot;showUpdateDialog&quot;</span> <span class="attr">:task</span>=<span class="string">&quot;choosedTask&quot;</span> @<span class="attr">closeDialog</span>=<span class="string">&quot;closeDialog&quot;</span>/&gt;</span></span><br></pre></td></tr></table></figure><p>è¿™ä¸ªå¦‚æœè¿™æ ·å†™ä¼šäº§ç”Ÿä¸€ä¸ªé—®é¢˜ï¼Œå°±æ˜¯æˆ‘çš„taskç¡®å®æ˜¯åŠ¨æ€ä¼ çš„ï¼Œä½†æ˜¯å› ä¸ºæˆ‘å¯èƒ½ä¼šå–æ¶ˆæœ¬æ¬¡æ›´æ–°æ“ä½œ</p><p>æ‰€ä»¥æˆ‘ä¸å¯ä»¥è¿™æ ·å†™ï¼Œè¿™æ ·å†™çš„è¯ï¼Œå–æ¶ˆæŒ‰é’®å°±æ˜¯ä¸€ä¸ªå°ä¸‘</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;input type=&quot;text&quot; v-model=&quot;task.content&quot;&gt;</span><br></pre></td></tr></table></figure><p>æ‰€ä»¥å°±å¿…é¡»å¾—å…ˆå­˜ä¸€ä»½ä¼ å…¥çš„å€¼æ˜¯å§ï¼Œæ‰€ä»¥å°±åº”è¯¥åƒæˆ‘åˆšåˆšé‚£ä¹ˆå†™</p><p>ä½†æ˜¯ä½ ä¼šå‘ç°è¿˜æ˜¯æœ‰é—®é¢˜ï¼Œæ£€æŸ¥ä¹‹åå‘ç°æ˜¯æˆ‘å­˜å‚¨çš„æ•°æ®æ˜¯å›ºå®šåœ¨ç¬¬ä¸€æ¬¡ä¼ å…¥çš„æ•°æ®ï¼Œå¯æ˜¯æˆ‘ä»€ä¹ˆæ—¶å€™æ”¹å˜dataä¸­çš„æ•°æ®å‘¢ï¼Ÿ</p><h6 id="ç›‘è§†å±æ€§"><a href="#ç›‘è§†å±æ€§" class="headerlink" title="ç›‘è§†å±æ€§"></a>ç›‘è§†å±æ€§</h6><p>æˆ‘ä»¬ç›‘è§†ä¸€ä¸‹taskï¼Œå½“å…¶å‘ç”Ÿäº†æ”¹å˜ï¼Œå°†å…¶è¦†ç›–dataä¸­çš„æ•°æ®</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">watch:&#123;</span><br><span class="line">  <span class="function"><span class="title">task</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">this</span>.updatedTaskContent=<span class="built_in">this</span>.task.content;</span><br><span class="line">    <span class="built_in">this</span>.propTask = <span class="built_in">this</span>.task;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h6 id="ä½¿ç”¨v-ifé…åˆä½¿ç”¨"><a href="#ä½¿ç”¨v-ifé…åˆä½¿ç”¨" class="headerlink" title="ä½¿ç”¨v-ifé…åˆä½¿ç”¨"></a>ä½¿ç”¨v-ifé…åˆä½¿ç”¨</h6><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">UpdateDialog</span> <span class="attr">v-if</span>=<span class="string">&quot;JSON.stringify(choosedTask)!==&#x27;&#123;&#125;&#x27;&quot;</span></span></span><br><span class="line"><span class="tag">              <span class="attr">:showDialog</span>=<span class="string">&quot;showUpdateDialog&quot;</span></span></span><br><span class="line"><span class="tag">              <span class="attr">:task</span>=<span class="string">&quot;choosedTask&quot;</span></span></span><br><span class="line"><span class="tag">              @<span class="attr">closeDialog</span>=<span class="string">&quot;closeDialog&quot;</span>/&gt;</span></span><br></pre></td></tr></table></figure><p>å¦‚æœä½¿ç”¨è¿™ç§æ–¹æ³•çš„è¯ï¼Œæˆ‘åœ¨closeDialogä¸­éœ€è¦å°†choosedTaskèµ‹å€¼ä¸ºç©ºå¯¹è±¡</p><h6 id="è‡ªåŠ¨è·å–ç„¦ç‚¹"><a href="#è‡ªåŠ¨è·å–ç„¦ç‚¹" class="headerlink" title="è‡ªåŠ¨è·å–ç„¦ç‚¹"></a>è‡ªåŠ¨è·å–ç„¦ç‚¹</h6><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">ref</span>=<span class="string">&quot;input&quot;</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;updatedTaskContent&quot;</span> @<span class="attr">keyup.enter</span>=<span class="string">&quot;updateTask&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure><p>å¦‚æœæ˜¯ç›‘è§†å±æ€§å®ç°çš„è¯</p><p>éœ€è¦åœ¨ç›‘è§†æ–¹æ³•ä¸­åŠ å…¥ä»¥ä¸‹é€»è¾‘</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">task</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">this</span>.updatedTaskContent=<span class="built_in">this</span>.task.content;</span><br><span class="line">    <span class="built_in">this</span>.propTask = <span class="built_in">this</span>.task;</span><br><span class="line">    <span class="comment">//å½“é¡µé¢è§£æå®Œæˆä¹‹åå†æ‰§è¡Œå›è°ƒå‡½æ•°</span></span><br><span class="line">    <span class="built_in">this</span>.$nextTick(<span class="function"><span class="keyword">function</span> (<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.$refs.input.focus();</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¦‚æœæ˜¯v-ifå®ç°çš„è¯</p><p>éœ€è¦å†æŒ‚è½½çš„æ—¶å€™åŠ å…¥ä»¥ä¸‹é€»è¾‘</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">mounted</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">  <span class="built_in">this</span>.$nextTick(<span class="function"><span class="keyword">function</span> (<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">this</span>);</span><br><span class="line">    <span class="built_in">this</span>.$refs.input.focus();</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure><h5 id="å­˜å‚¨"><a href="#å­˜å‚¨" class="headerlink" title="å­˜å‚¨"></a>å­˜å‚¨</h5><p>åœ¨Appä¸­å°è£…ä¸€ä¸ªsaveå‡½æ•°ï¼Œå°†å…¶ä¼ é€’ç»™å­ç»„ä»¶ï¼Œåœ¨æ‰€æœ‰å¯¹æ•°ç»„é€ æˆæ›´æ–°çš„åœ°æ–¹éƒ½ä½¿ç”¨<code>this.$emit(&#39;save&#39;)</code>è°ƒç”¨è¯¥å‡½æ•°</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">save</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    sessionStorage.setItem(<span class="string">&quot;todos&quot;</span>,<span class="built_in">JSON</span>.stringify(<span class="built_in">this</span>.todos))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="è‡ªå®šä¹‰äº‹ä»¶"><a href="#è‡ªå®šä¹‰äº‹ä»¶" class="headerlink" title="è‡ªå®šä¹‰äº‹ä»¶"></a>è‡ªå®šä¹‰äº‹ä»¶</h3><p> è¿™ä¸ªæ˜¯ç›¸å¯¹äºjsä¸­å†…ç½®äº‹ä»¶ï¼ˆkeyupã€clickç­‰ç­‰ï¼‰çš„å­˜åœ¨</p><p>jså†…ç½®äº‹ä»¶æ˜¯ç»™HTMLå…ƒç´ ä½¿ç”¨çš„</p><p>è‡ªå®šä¹‰äº‹ä»¶æ˜¯ç»™ç»„ä»¶ç”¨çš„</p><p>ä¸»è¦ä½œç”¨å°±æ˜¯å®ç°<strong>çˆ¶å­ç»„ä»¶ä¹‹é—´çš„é€šä¿¡</strong></p><h4 id="ç»‘å®šäº‹ä»¶"><a href="#ç»‘å®šäº‹ä»¶" class="headerlink" title="ç»‘å®šäº‹ä»¶"></a>ç»‘å®šäº‹ä»¶</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>å­¦ç”Ÿå§“åæ˜¯:&#123;&#123;studentName&#125;&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- é€šè¿‡çˆ¶ç»„ä»¶ç»™å­ç»„ä»¶ä¼ é€’å‡½æ•°ç±»å‹çš„propså®ç°ï¼šå­ç»™çˆ¶ä¼ é€’æ•°æ® --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Teacher</span> <span class="attr">:getSchoolName</span>=<span class="string">&quot;getSchoolName&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- é€šè¿‡çˆ¶ç»„ä»¶ç»™å­ç»„ä»¶ç»‘å®šä¸€ä¸ªè‡ªå®šä¹‰äº‹ä»¶å®ç°ï¼šå­ç»™çˆ¶ä¼ é€’æ•°æ® --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Student</span> @<span class="attr">getStudentName</span>=<span class="string">&quot;getStudentName&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">    <span class="keyword">import</span> Student <span class="keyword">from</span> <span class="string">&#x27;./components/Student&#x27;</span></span></span><br><span class="line"><span class="javascript">    <span class="keyword">import</span> School <span class="keyword">from</span> <span class="string">&#x27;./components/School&#x27;</span></span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">    <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="javascript">        <span class="attr">name</span>:<span class="string">&#x27;App&#x27;</span>,</span></span><br><span class="line"><span class="javascript">        <span class="attr">components</span>:&#123;School,Student&#125;,</span></span><br><span class="line"><span class="javascript">        <span class="function"><span class="title">data</span>(<span class="params"></span>)</span> &#123;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="javascript">                <span class="attr">studentName</span>:<span class="string">&#x27;&#x27;</span></span></span><br><span class="line"><span class="javascript">            &#125;</span></span><br><span class="line"><span class="javascript">        &#125;,</span></span><br><span class="line"><span class="javascript">        <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="javascript">            <span class="function"><span class="title">getTeacherName</span>(<span class="params">name</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="built_in">console</span>.log(<span class="string">&#x27;Appæ”¶åˆ°äº†å­¦æ ¡åï¼š&#x27;</span>,name)</span></span><br><span class="line"><span class="javascript">            &#125;,</span></span><br><span class="line"><span class="javascript">            <span class="function"><span class="title">getStudentName</span>(<span class="params">name</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="built_in">console</span>.log(<span class="string">&#x27;Appæ”¶åˆ°äº†å­¦ç”Ÿåï¼š&#x27;</span>,name)</span></span><br><span class="line"><span class="javascript">                <span class="built_in">this</span>.studentName = name</span></span><br><span class="line"><span class="javascript">            &#125;</span></span><br><span class="line"><span class="javascript">        &#125;,</span></span><br><span class="line"><span class="javascript">    &#125;</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span>&gt;</span><span class="css"></span></span><br><span class="line"><span class="css">    <span class="selector-class">.app</span>&#123;</span></span><br><span class="line"><span class="css">        <span class="attribute">background-color</span>: gray;</span></span><br><span class="line"><span class="css">        <span class="attribute">padding</span>: <span class="number">5px</span>;</span></span><br><span class="line"><span class="css">    &#125;</span></span><br><span class="line"><span class="css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><blockquote><p>ç»‘å®šäº‹ä»¶çš„å¦ä¸€ç§æ–¹å¼</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">mount</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">this</span>.$refs.student.$on(<span class="string">&#x27;getStudentName&#x27;</span>,<span class="built_in">this</span>.getStudentName) <span class="comment">//ç»‘å®šè‡ªå®šä¹‰äº‹ä»¶    </span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="è§¦å‘äº‹ä»¶"><a href="#è§¦å‘äº‹ä»¶" class="headerlink" title="è§¦å‘äº‹ä»¶"></a>è§¦å‘äº‹ä»¶</h4><p>School.vue</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;school&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h2</span>&gt;</span>å­¦æ ¡åç§°ï¼š&#123;&#123;name&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h2</span>&gt;</span>å­¦æ ¡åœ°å€ï¼š&#123;&#123;address&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;sendSchoolName&quot;</span>&gt;</span>æŠŠå­¦æ ¡åç»™App<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript"> <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="javascript">  <span class="attr">name</span>:<span class="string">&#x27;School&#x27;</span>,</span></span><br><span class="line"><span class="javascript">  <span class="attr">props</span>:[<span class="string">&#x27;getSchoolName&#x27;</span>],</span></span><br><span class="line"><span class="javascript">  <span class="function"><span class="title">data</span>(<span class="params"></span>)</span> &#123;</span></span><br><span class="line"><span class="javascript">   <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="javascript">    <span class="attr">name</span>:<span class="string">&#x27;å°šç¡…è°·&#x27;</span>,</span></span><br><span class="line"><span class="javascript">    <span class="attr">address</span>:<span class="string">&#x27;åŒ—äº¬&#x27;</span>,</span></span><br><span class="line"><span class="javascript">   &#125;</span></span><br><span class="line"><span class="javascript">  &#125;,</span></span><br><span class="line"><span class="javascript">  <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="javascript">   <span class="function"><span class="title">sendSchoolName</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">    <span class="built_in">this</span>.getSchoolName(<span class="built_in">this</span>.name)</span></span><br><span class="line"><span class="javascript">   &#125;</span></span><br><span class="line"><span class="javascript">  &#125;,</span></span><br><span class="line"><span class="javascript"> &#125;</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span>&gt;</span><span class="css"></span></span><br><span class="line"><span class="css"> <span class="selector-class">.school</span>&#123;</span></span><br><span class="line"><span class="css">  <span class="attribute">background-color</span>: skyblue;</span></span><br><span class="line"><span class="css">  <span class="attribute">padding</span>: <span class="number">5px</span>;</span></span><br><span class="line"><span class="css"> &#125;</span></span><br><span class="line"><span class="css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><p>Student.vue</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;student&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h2</span>&gt;</span>å­¦ç”Ÿå§“åï¼š&#123;&#123;name&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h2</span>&gt;</span>å­¦ç”Ÿæ€§åˆ«ï¼š&#123;&#123;sex&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;sendStudentlName&quot;</span>&gt;</span>æŠŠå­¦ç”Ÿåç»™App<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript"> <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="javascript">  <span class="attr">name</span>:<span class="string">&#x27;Student&#x27;</span>,</span></span><br><span class="line"><span class="javascript">  <span class="function"><span class="title">data</span>(<span class="params"></span>)</span> &#123;</span></span><br><span class="line"><span class="javascript">   <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="javascript">    <span class="attr">name</span>:<span class="string">&#x27;å¼ ä¸‰&#x27;</span>,</span></span><br><span class="line"><span class="javascript">    <span class="attr">sex</span>:<span class="string">&#x27;ç”·&#x27;</span>,</span></span><br><span class="line"><span class="javascript">   &#125;</span></span><br><span class="line"><span class="javascript">  &#125;,</span></span><br><span class="line"><span class="javascript">  <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="javascript">   <span class="function"><span class="title">sendStudentlName</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">    <span class="comment">//è§¦å‘Studentç»„ä»¶å®ä¾‹èº«ä¸Šçš„getStudentNameäº‹ä»¶</span></span></span><br><span class="line"><span class="javascript">    <span class="built_in">this</span>.$emit(<span class="string">&#x27;getStudentName&#x27;</span>,<span class="built_in">this</span>.name)</span></span><br><span class="line"><span class="javascript">   &#125;</span></span><br><span class="line"><span class="javascript">  &#125;,</span></span><br><span class="line"><span class="javascript"> &#125;</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">lang</span>=<span class="string">&quot;less&quot;</span> <span class="attr">scoped</span>&gt;</span><span class="css"></span></span><br><span class="line"><span class="css"> <span class="selector-class">.student</span>&#123;</span></span><br><span class="line"><span class="css">  <span class="attribute">background-color</span>: pink;</span></span><br><span class="line"><span class="css">  <span class="attribute">padding</span>: <span class="number">5px</span>;</span></span><br><span class="line"><span class="css">  <span class="attribute">margin-top</span>: <span class="number">30px</span>;</span></span><br><span class="line"><span class="css"> &#125;</span></span><br><span class="line"><span class="css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><p>è‡ªå®šä¹‰äº‹ä»¶çš„è§¦å‘æœ¬è´¨è¿˜æ˜¯ç”±htmlçš„åŸç”Ÿäº‹ä»¶è§¦å‘åï¼Œæˆ‘ä»¬è‡ªå·±å†³å®šè§¦å‘å“ªä¸€ä¸ªè‡ªå®šä¹‰äº‹ä»¶çš„</p><blockquote><p>propså®ç°å’Œè‡ªå®šä¹‰äº‹ä»¶å®ç°çš„åŒºåˆ«ï¼špropséœ€è¦æ‰‹åŠ¨æ¥æ”¶</p></blockquote><h4 id="è§£ç»‘äº‹ä»¶"><a href="#è§£ç»‘äº‹ä»¶" class="headerlink" title="è§£ç»‘äº‹ä»¶"></a>è§£ç»‘äº‹ä»¶</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">this</span>.$off(<span class="string">&#x27;getStudentName&#x27;</span>) <span class="comment">//è§£ç»‘ä¸€ä¸ªè‡ªå®šä¹‰äº‹ä»¶</span></span><br></pre></td></tr></table></figure><h4 id="ç»„ä»¶ä½¿ç”¨jsåŸç”Ÿäº‹ä»¶"><a href="#ç»„ä»¶ä½¿ç”¨jsåŸç”Ÿäº‹ä»¶" class="headerlink" title="ç»„ä»¶ä½¿ç”¨jsåŸç”Ÿäº‹ä»¶"></a>ç»„ä»¶ä½¿ç”¨jsåŸç”Ÿäº‹ä»¶</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;Student ref=&quot;student&quot; @click.native=&quot;show&quot;/&gt;</span><br></pre></td></tr></table></figure><h3 id="ç»„ä»¶é—´é€šä¿¡"><a href="#ç»„ä»¶é—´é€šä¿¡" class="headerlink" title="ç»„ä»¶é—´é€šä¿¡"></a>ç»„ä»¶é—´é€šä¿¡</h3><p>æˆ‘ä»¬å‘ç°ï¼Œç»„ä»¶ä¹‹é—´çš„é€šä¿¡ååˆ†åœ°é‡è¦ï¼Œæˆ‘ä»¬æ¥ç†ä¸€ç†åˆ°ç°åœ¨æˆ‘ä»¬å­¦ä¼šäº†é‚£äº›ç»„ä»¶ä¹‹é—´é€šä¿¡çš„æ–¹æ³•ï¼Œ</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">1.props===ã€‹é€‚ç”¨äºçˆ¶ç»™å­ä¼ é€’æ•°æ®å’Œå‡½æ•°===ã€‹ç‰¹ç‚¹ï¼šéœ€è¦æ‰‹åŠ¨æ¥æ”¶ï¼Œå¹¶ä¸”ä¼ é€’åœ°å¦‚æœæ˜¯æ•°æ®åˆ™ä¸èƒ½ä¿®æ”¹</span><br><span class="line"></span><br><span class="line">2.è‡ªå®šä¹‰äº‹ä»¶===ã€‹é€‚ç”¨äºå­ç»™çˆ¶ä¼ é€’æ•°æ®===ã€‹ç‰¹ç‚¹ï¼šä½¿ç”¨<span class="variable">$emit</span>è°ƒç”¨</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬å‘ç°å¦‚æœä¸¤ä¸ªå…„å¼Ÿä¹‹é—´æƒ³è¦é€šä¿¡</p><p>åˆ™åªèƒ½å°†æ•°æ®çŠ¶æ€æå‡</p><p>å°†æ•°æ®æ”¾åˆ°ä¸¤è€…å…±åŒåœ°çˆ¶ç»„ä»¶ä¸Šé¢å»</p><p>ç„¶åçˆ¶ç»„ä»¶ä½¿ç”¨ä¸Šè¿°æ–¹æ³•å‘ä¸¤è€…ä¼ é€’ä¿¡æ¯</p><p>å¦‚æœåµŒå¥—å±‚çº§æ¯”è¾ƒå¤šï¼Œåˆ™éœ€è¦å¤šæ¬¡å¤šå±‚ä¼ é€’æ•°æ®ï¼Œä¼šæ¯”è¾ƒéº»çƒ¦</p><p>éš¾é“å°±åªèƒ½è¿™æ ·äº†å—ï¼ŸNOï¼æ¥ä¸‹æ¥æˆ‘ä¼šè®²è§£ä¸‰ç§å¼ºå¤§çš„æ–¹æ³•å®ç°ä»»æ„ç»„ä»¶ä¹‹é—´çš„é€šä¿¡</p><h4 id="å…¨å±€äº‹ä»¶æ€»çº¿"><a href="#å…¨å±€äº‹ä»¶æ€»çº¿" class="headerlink" title="å…¨å±€äº‹ä»¶æ€»çº¿"></a>å…¨å±€äº‹ä»¶æ€»çº¿</h4><p>å…¨å±€äº‹ä»¶æ€»çº¿å…¶å®ååˆ†ç®€å•ï¼Œå°±æ˜¯ä½¿ç”¨è‡ªå®šä¹‰äº‹ä»¶æ¥å®ç°çš„</p><p>åªä¸è¿‡æˆ‘ä»¬äº‹ä»¶å…¨éƒ¨ç»‘å®šåœ¨vmå¯¹è±¡ä¸Š</p><h5 id="å®‰è£…å…¨å±€äº‹ä»¶æ€»çº¿"><a href="#å®‰è£…å…¨å±€äº‹ä»¶æ€»çº¿" class="headerlink" title="å®‰è£…å…¨å±€äº‹ä»¶æ€»çº¿"></a>å®‰è£…å…¨å±€äº‹ä»¶æ€»çº¿</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//åˆ›å»ºvm</span></span><br><span class="line"><span class="keyword">new</span> Vue(&#123;</span><br><span class="line">   <span class="attr">el</span>:<span class="string">&#x27;#app&#x27;</span>,</span><br><span class="line">   <span class="attr">render</span>: <span class="function"><span class="params">h</span> =&gt;</span> h(App),</span><br><span class="line">   <span class="function"><span class="title">beforeCreate</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">      Vue.prototype.$bus = <span class="built_in">this</span> <span class="comment">//å®‰è£…å…¨å±€äº‹ä»¶æ€»çº¿</span></span><br><span class="line">   &#125;,</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><blockquote><p>ä¸æ˜¯ä¸€å®šè¦å«<code>$bus</code></p></blockquote><h5 id="ç»‘å®šäº‹ä»¶-1"><a href="#ç»‘å®šäº‹ä»¶-1" class="headerlink" title="ç»‘å®šäº‹ä»¶"></a>ç»‘å®šäº‹ä»¶</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">this</span>.$bus.$on(<span class="string">&#x27;hello&#x27;</span>,<span class="function">(<span class="params">data</span>)=&gt;</span>&#123;</span><br><span class="line"> <span class="built_in">console</span>.log(<span class="string">&#x27;æˆ‘æ˜¯Schoolç»„ä»¶ï¼Œæ”¶åˆ°äº†æ•°æ®&#x27;</span>,data)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h5 id="è§¦å‘äº‹ä»¶-1"><a href="#è§¦å‘äº‹ä»¶-1" class="headerlink" title="è§¦å‘äº‹ä»¶"></a>è§¦å‘äº‹ä»¶</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">this</span>.$bus.$emit(<span class="string">&#x27;hello&#x27;</span>,<span class="built_in">this</span>.name)</span><br></pre></td></tr></table></figure><h5 id="è§£ç»‘äº‹ä»¶-1"><a href="#è§£ç»‘äº‹ä»¶-1" class="headerlink" title="è§£ç»‘äº‹ä»¶"></a>è§£ç»‘äº‹ä»¶</h5><p>åœ¨<code>beforeDestroy</code>é’©å­ä¸­ï¼Œç”¨$offå»è§£ç»‘å½“å‰ç»„ä»¶æ‰€ç”¨åˆ°çš„äº‹ä»¶ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">beforeDestroy</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="built_in">this</span>.$bus.$off(<span class="string">&#x27;hello&#x27;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="åŸç†ï¼š"><a href="#åŸç†ï¼š" class="headerlink" title="åŸç†ï¼š"></a>åŸç†ï¼š</h5><p>1ã€è‡ªå®šä¹‰äº‹ä»¶</p><p>2ã€<code>VueComponent.prototype.__proto__ === Vue.prototype</code></p><h4 id="æ¶ˆæ¯è®¢é˜…ä¸å‘å¸ƒ"><a href="#æ¶ˆæ¯è®¢é˜…ä¸å‘å¸ƒ" class="headerlink" title="æ¶ˆæ¯è®¢é˜…ä¸å‘å¸ƒ"></a>æ¶ˆæ¯è®¢é˜…ä¸å‘å¸ƒ</h4><p>æ¶ˆæ¯å‘å¸ƒä¸è®¢é˜…æ˜¯ä¸€ç§æ€æƒ³ï¼Œå…·ä½“å®ç°æœ‰å¾ˆå¤šç§ï¼Œæˆ‘ä»¬è¿™é‡Œé€‰ç”¨<code>pubsub-js</code>åº“</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i pubsub-js</span><br></pre></td></tr></table></figure><h5 id="è®¢é˜…å’Œå–æ¶ˆè®¢é˜…æ¶ˆæ¯"><a href="#è®¢é˜…å’Œå–æ¶ˆè®¢é˜…æ¶ˆæ¯" class="headerlink" title="è®¢é˜…å’Œå–æ¶ˆè®¢é˜…æ¶ˆæ¯"></a>è®¢é˜…å’Œå–æ¶ˆè®¢é˜…æ¶ˆæ¯</h5><p>å³è®¾ç½®äº‹ä»¶å’Œå›è°ƒ</p><p>å³éœ€è¦æ•°æ®çš„ç»„ä»¶</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">mounted</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="built_in">this</span>.pubId = pubsub.subscribe(<span class="string">&#x27;hello&#x27;</span>,<span class="function">(<span class="params">msgName,data</span>)=&gt;</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="built_in">this</span>)</span><br><span class="line">        <span class="comment">// console.log(&#x27;æœ‰äººå‘å¸ƒäº†helloæ¶ˆæ¯ï¼Œhelloæ¶ˆæ¯çš„å›è°ƒæ‰§è¡Œäº†&#x27;,msgName,data)</span></span><br><span class="line">    &#125;)</span><br><span class="line">&#125;,</span><br><span class="line"><span class="function"><span class="title">beforeDestroy</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">   pubsub.unsubscribe(<span class="built_in">this</span>.pubId)</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure><h5 id="å‘å¸ƒæ¶ˆæ¯"><a href="#å‘å¸ƒæ¶ˆæ¯" class="headerlink" title="å‘å¸ƒæ¶ˆæ¯"></a>å‘å¸ƒæ¶ˆæ¯</h5><p>å³å‘é€æ•°æ®çš„ç»„ä»¶</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pubsub.publish(<span class="string">&#x27;hello&#x27;</span>,<span class="number">666</span>)</span><br></pre></td></tr></table></figure><h4 id="Vuex"><a href="#Vuex" class="headerlink" title="Vuex"></a>Vuex</h4><p>å®ƒæ˜¯ä¸“é—¨åœ¨Vueä¸­å®ç°<strong>é›†ä¸­å¼çŠ¶æ€ç®¡ç†</strong>çš„ä¸€ä¸ªæ’ä»¶ï¼Œå¯¹Vueåº”ç”¨ä¸­å¤šä¸ªç»„ä»¶çš„å…±äº«çŠ¶æ€è¿›è¡Œé›†ä¸­å¼çš„ç®¡ç†ï¼Œä¹Ÿæ˜¯ä¸€ç§ä»»æ„ç»„ä»¶é—´é€šä¿¡çš„æ–¹å¼</p><p>çŠ¶æ€å…¶å®æŒ‡çš„å°±æ˜¯æ•°æ®</p><p>xæ˜¯æ‰€æœ‰ç»„ä»¶éƒ½éœ€è¦ä½¿ç”¨çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬å°†xå­˜å…¥Vuexä¸­</p><img src="/%E5%89%8D%E7%AB%AF/Vue2/2022/06/28/Vue2-%E5%9F%BA%E7%A1%804/image-20220701080122741.png" class title="Vuex"><h5 id="VuexåŸç†å›¾"><a href="#VuexåŸç†å›¾" class="headerlink" title="VuexåŸç†å›¾"></a>VuexåŸç†å›¾</h5><img src="/%E5%89%8D%E7%AB%AF/Vue2/2022/06/28/Vue2-%E5%9F%BA%E7%A1%804/image-20220701082140195.png" class title="VuexåŸç†å›¾"><blockquote><p>æ­¤å›¾æ‘˜è‡ªå®˜ç½‘</p></blockquote><p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°è¯¥å›¾è¢«è™šçº¿åŒ…èµ·æ¥çš„éƒ¨åˆ†å³Vuexçš„ä¸‰å¤§é‡è¦çš„å·¥å…·ï¼Œ<code>Actions</code>ï¼Œ<code>Mutations</code>ï¼Œ<code>State</code></p><p>Stateè¯‘ä¸ºçŠ¶æ€ï¼Œæˆ‘ä»¬å°†éœ€è¦å…±äº«çš„æ•°æ®æ”¾å…¥å…¶ä¸­</p><p>Actionsè¯‘ä¸ºè¡Œä¸ºï¼Œæˆ‘ä»¬ä¼šå°†å¯¹äºæ•°æ®çš„å‰ç½®æ“ä½œæ”¾å…¥å…¶ä¸­ï¼Œæ¯”å¦‚æ¡ä»¶åˆ¤æ–­ï¼Œå‘å‡ºAjaxè¯·æ±‚ç­‰</p><p>Mutationsè¯‘ä¸ºåŠ å·¥ï¼Œæˆ‘ä»¬çœŸæ­£å¯¹äºæ•°æ®çš„ä¿®æ”¹å°±æ˜¯åœ¨è¿™é‡Œè¿›è¡Œçš„</p><p>Vueç»„ä»¶å’ŒVuexå·¥å…·ä¹‹é—´çš„é€šä¿¡ï¼Œæœ‰ä»¥ä¸‹APIï¼Œ<code>dispatch</code>ï¼Œ<code>commit</code>ï¼Œ<code>mutate</code>ï¼Œ<code>render</code></p><p>åªæœ‰<code>dispatch</code>å’Œ<code>commit</code>æ˜¯æˆ‘ä»¬æ‰‹åŠ¨è°ƒç”¨çš„ï¼Œå…¶ä»–ä¸¤ä¸ªéƒ½æ˜¯ç”±Vuexå¸®æˆ‘ä»¬è°ƒç”¨çš„ï¼Œæ— éœ€æˆ‘ä»¬æ“å¿ƒ</p><p><code>dispatch</code>æ˜¯æˆ‘ä»¬åœ¨ç»„ä»¶å†…è°ƒç”¨çš„ï¼Œå‘å‡ºå¯¹æ•°æ®æ“ä½œçš„è¯·æ±‚</p><p><code>commit</code>æ˜¯æˆ‘ä»¬åœ¨<code>actions</code>æˆ–è€…Vueç»„ä»¶ä¸­è°ƒç”¨çš„ï¼Œè®©å…¶å¯¹æ•°æ®åšå‡ºçœŸæ­£çš„æ”¹å˜</p><p>æ¥ä¸‹æ¥æˆ‘ä»¬ç›´æ¥ä½¿ç”¨æ¡ˆä¾‹æ¥é©±åŠ¨</p><h5 id="æ±‚å’Œæ¡ˆä¾‹"><a href="#æ±‚å’Œæ¡ˆä¾‹" class="headerlink" title="æ±‚å’Œæ¡ˆä¾‹"></a>æ±‚å’Œæ¡ˆä¾‹</h5><p>æ•ˆæœå›¾</p><img src="/%E5%89%8D%E7%AB%AF/Vue2/2022/06/28/Vue2-%E5%9F%BA%E7%A1%804/image-20220701081158755.png" class title="æ±‚å’Œæ¡ˆä¾‹"><p>æˆ‘ä»¬å…ˆå°†è¿™ä¸ªåŠŸèƒ½å®ç°</p><p>å› ä¸ºè¿˜æ²¡æœ‰åˆ°ç»„ä»¶å…±äº«çš„æ—¶å€™ï¼Œæ‰€ä»¥ç°åœ¨å…ˆä¸ä½¿ç”¨Vuex</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&quot;padding: 20px&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h2</span>&gt;</span>å½“å‰æ±‚å’Œä¸º&#123;&#123;sum&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">name</span>=<span class="string">&quot;step&quot;</span> <span class="attr">id</span>=<span class="string">&quot;stepSelect&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;step&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">option</span> <span class="attr">:value</span>=<span class="string">&quot;1&quot;</span>&gt;</span>1<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">option</span> <span class="attr">:value</span>=<span class="string">&quot;2&quot;</span>&gt;</span>2<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">option</span> <span class="attr">:value</span>=<span class="string">&quot;3&quot;</span>&gt;</span>3<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;add&quot;</span>&gt;</span>+<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;sub&quot;</span>&gt;</span>-<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;addOnCondition&quot;</span>&gt;</span>å½“å‰ä¸ºå¥‡æ•°å†åŠ <span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;addAfter&quot;</span>&gt;</span>è¿‡ä¸€ç§’å†åŠ <span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="javascript">  <span class="attr">name</span>: <span class="string">&quot;Count&quot;</span>,</span></span><br><span class="line"><span class="javascript">  <span class="function"><span class="title">data</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="javascript">      <span class="attr">sum</span>: <span class="number">0</span>,</span></span><br><span class="line"><span class="javascript">      <span class="attr">step</span>: <span class="number">1</span></span></span><br><span class="line"><span class="javascript">    &#125;</span></span><br><span class="line"><span class="javascript">  &#125;,</span></span><br><span class="line"><span class="javascript">  <span class="attr">methods</span>:&#123;</span></span><br><span class="line"><span class="javascript">    <span class="function"><span class="title">add</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">      <span class="built_in">this</span>.sum+=<span class="built_in">this</span>.step;</span></span><br><span class="line"><span class="javascript">    &#125;,</span></span><br><span class="line"><span class="javascript">    <span class="function"><span class="title">sub</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">      <span class="built_in">this</span>.sum-=<span class="built_in">this</span>.step;</span></span><br><span class="line"><span class="javascript">    &#125;,</span></span><br><span class="line"><span class="javascript">    <span class="function"><span class="title">addOnCondition</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">if</span>(<span class="built_in">this</span>.sum % <span class="number">2</span>)&#123;</span></span><br><span class="line"><span class="javascript">        <span class="built_in">this</span>.add();</span></span><br><span class="line"><span class="javascript">      &#125;</span></span><br><span class="line"><span class="javascript">    &#125;,</span></span><br><span class="line"><span class="javascript">    <span class="function"><span class="title">addAfter</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">      <span class="built_in">setTimeout</span>(<span class="function">()=&gt;</span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="built_in">this</span>.add();</span></span><br><span class="line"><span class="javascript">      &#125;,<span class="number">1000</span>);</span></span><br><span class="line"><span class="javascript">    &#125;,</span></span><br><span class="line"><span class="javascript">  &#125;</span></span><br><span class="line"><span class="javascript">&#125;</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span>&gt;</span><span class="css"></span></span><br><span class="line"><span class="css"><span class="selector-tag">button</span> &#123;</span></span><br><span class="line"><span class="css">  <span class="attribute">margin-left</span>: <span class="number">10px</span>;</span></span><br><span class="line"><span class="css">&#125;</span></span><br><span class="line"><span class="css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><h5 id="å‡†å¤‡"><a href="#å‡†å¤‡" class="headerlink" title="å‡†å¤‡"></a>å‡†å¤‡</h5><p>æ¥ä¸‹æ¥æˆ‘ä»¬åšäº›ä½¿ç”¨Vuexå‰çš„å‡†å¤‡</p><p>åˆ›å»º<code>store/index.js</code>æ–‡ä»¶</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Vuex <span class="keyword">from</span> <span class="string">&#x27;vuex&#x27;</span></span><br><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line">Vue.use(Vuex)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> Vuex.Store(&#123;</span><br><span class="line">    <span class="attr">actions</span>: &#123;</span><br><span class="line"></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">mutations</span>:&#123;</span><br><span class="line"></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">state</span>:&#123;</span><br><span class="line"></span><br><span class="line">    &#125;,</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>åœ¨<code>main.js</code>ä¸­å¼•å…¥è¯¥æ–‡ä»¶å¹¶å¹¶åœ¨åˆ›å»ºvmçš„æ—¶å€™ä¼ å…¥</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> App <span class="keyword">from</span> <span class="string">&#x27;./App.vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> store <span class="keyword">from</span> <span class="string">&quot;./store&quot;</span>;</span><br><span class="line">Vue.config.productionTip = <span class="literal">false</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  <span class="attr">render</span>: <span class="function"><span class="params">h</span> =&gt;</span> h(App),</span><br><span class="line">  store</span><br><span class="line">&#125;).$mount(<span class="string">&#x27;#app&#x27;</span>)</span><br></pre></td></tr></table></figure><h5 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h5><p>æ¥ä¸‹æ¥æˆ‘ä»¬æ–°å»ºä¸€ä¸ªç»„ä»¶ShowSumç»„ä»¶ï¼Œè¯¥ç»„ä»¶çš„åŠŸèƒ½å°±æ˜¯ç”¨æ¥å±•ç¤ºCountç»„ä»¶ä¸­çš„sumï¼Œç°åœ¨æˆ‘ä»¬å°±ä½¿ç”¨Vuexæ¥å®ç°æ­¤åŠŸèƒ½</p><p>å…ˆå°†æ•°æ®éƒ½äº¤ç»™Vuexç®¡ç†</p><p>Count.vue</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&quot;padding: 20px&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h2</span>&gt;</span>å½“å‰æ±‚å’Œä¸º&#123;&#123;$store.state.sum&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">name</span>=<span class="string">&quot;step&quot;</span> <span class="attr">id</span>=<span class="string">&quot;stepSelect&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;step&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">option</span> <span class="attr">:value</span>=<span class="string">&quot;1&quot;</span>&gt;</span>1<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">option</span> <span class="attr">:value</span>=<span class="string">&quot;2&quot;</span>&gt;</span>2<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">option</span> <span class="attr">:value</span>=<span class="string">&quot;3&quot;</span>&gt;</span>3<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;add&quot;</span>&gt;</span>+<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;sub&quot;</span>&gt;</span>-<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;addOnCondition&quot;</span>&gt;</span>å½“å‰ä¸ºå¥‡æ•°å†åŠ <span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;addAfter&quot;</span>&gt;</span>è¿‡ä¸€ç§’å†åŠ <span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="javascript">  <span class="attr">name</span>: <span class="string">&quot;Count&quot;</span>,</span></span><br><span class="line"><span class="javascript">  <span class="function"><span class="title">data</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="javascript">      <span class="attr">step</span>: <span class="number">1</span></span></span><br><span class="line"><span class="javascript">    &#125;</span></span><br><span class="line"><span class="javascript">  &#125;,</span></span><br><span class="line"><span class="javascript">  <span class="attr">methods</span>:&#123;</span></span><br><span class="line"><span class="javascript">    <span class="function"><span class="title">add</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">      <span class="built_in">this</span>.$store.dispatch(<span class="string">&#x27;add&#x27;</span>,<span class="built_in">this</span>.step);</span></span><br><span class="line"><span class="javascript">    &#125;,</span></span><br><span class="line"><span class="javascript">    <span class="function"><span class="title">sub</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">      <span class="built_in">this</span>.$store.dispatch(<span class="string">&#x27;sub&#x27;</span>,<span class="built_in">this</span>.step)</span></span><br><span class="line"><span class="javascript">    &#125;,</span></span><br><span class="line"><span class="javascript">    <span class="function"><span class="title">addOnCondition</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">      <span class="built_in">this</span>.$store.dispatch(<span class="string">&#x27;addOnCondition&#x27;</span>,<span class="built_in">this</span>.step)</span></span><br><span class="line"><span class="javascript">    &#125;,</span></span><br><span class="line"><span class="javascript">    <span class="function"><span class="title">addAfter</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">      <span class="built_in">this</span>.$store.dispatch(<span class="string">&#x27;addAfter&#x27;</span>,<span class="built_in">this</span>.step)</span></span><br><span class="line"><span class="javascript">    &#125;,</span></span><br><span class="line"><span class="javascript">  &#125;</span></span><br><span class="line"><span class="javascript">&#125;</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span>&gt;</span><span class="css"></span></span><br><span class="line"><span class="css"><span class="selector-tag">button</span> &#123;</span></span><br><span class="line"><span class="css">  <span class="attribute">margin-left</span>: <span class="number">10px</span>;</span></span><br><span class="line"><span class="css">&#125;</span></span><br><span class="line"><span class="css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><p><code>store/index.js</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Vuex <span class="keyword">from</span> <span class="string">&#x27;vuex&#x27;</span></span><br><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line">Vue.use(Vuex)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> Vuex.Store(&#123;</span><br><span class="line">    <span class="attr">actions</span>: &#123;</span><br><span class="line">        <span class="function"><span class="title">add</span>(<span class="params">context,value</span>)</span>&#123;</span><br><span class="line">            context.commit(<span class="string">&#x27;INCREASE&#x27;</span>,value);</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="function"><span class="title">sub</span>(<span class="params">context,value</span>)</span>&#123;</span><br><span class="line">            context.commit(<span class="string">&#x27;DECREASE&#x27;</span>,value)</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="function"><span class="title">addOnCondition</span>(<span class="params">context,value</span>)</span>&#123;</span><br><span class="line">            <span class="keyword">if</span>(value%<span class="number">2</span>!==<span class="number">0</span>)&#123;</span><br><span class="line">                context.commit(<span class="string">&#x27;INCREASE&#x27;</span>,value)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="function"><span class="title">addAfter</span>(<span class="params">context,value</span>)</span>&#123;</span><br><span class="line">            <span class="built_in">setTimeout</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">                context.commit(<span class="string">&#x27;INCREASE&#x27;</span>,value)</span><br><span class="line">            &#125;,<span class="number">1000</span>);</span><br><span class="line">        &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">mutations</span>:&#123;</span><br><span class="line">        <span class="function"><span class="title">INCREASE</span>(<span class="params">state,value</span>)</span>&#123;</span><br><span class="line">            state.sum+=value;</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="function"><span class="title">DECREASE</span>(<span class="params">state,value</span>)</span>&#123;</span><br><span class="line">            state.sum-=value;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">state</span>:&#123;</span><br><span class="line">        <span class="attr">sum</span>: <span class="number">0</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>ShowSum.vue</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&quot;padding: 20px&quot;</span>&gt;</span></span><br><span class="line">  Countç»„ä»¶çš„sumå€¼æ˜¯ï¼š&#123;&#123;$store.state.sum&#125;&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="javascript">  <span class="attr">name</span>: <span class="string">&quot;ShowSum&quot;</span></span></span><br><span class="line"><span class="javascript">&#125;</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>å½“æˆ‘ä»¬æƒ³è¦æ‹¿åˆ°stateä¸­çš„æ•°æ®çš„æ—¶å€™ï¼Œéœ€è¦ä½¿ç”¨<code>$store.state.xxx</code>ï¼Œååˆ†éº»çƒ¦ï¼Œæ‰€ä»¥Vuexå°±ä¸ºæˆ‘ä»¬æä¾›äº†å·¥å…·<code>mapState</code></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&quot;padding: 20px&quot;</span>&gt;</span></span><br><span class="line">  Countç»„ä»¶çš„sumå€¼æ˜¯ï¼š&#123;&#123;sum&#125;&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript"><span class="keyword">import</span> &#123;mapState&#125; <span class="keyword">from</span> <span class="string">&quot;vuex&quot;</span>;</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="javascript">  <span class="attr">name</span>: <span class="string">&quot;ShowSum&quot;</span>,</span></span><br><span class="line"><span class="javascript">  <span class="attr">computed</span>:&#123;</span></span><br><span class="line"><span class="javascript">    ...mapState([<span class="string">&#x27;sum&#x27;</span>])</span></span><br><span class="line"><span class="javascript">  &#125;</span></span><br><span class="line"><span class="javascript">&#125;</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h5 id="æ‹“å±•"><a href="#æ‹“å±•" class="headerlink" title="æ‹“å±•"></a>æ‹“å±•</h5><p>1ã€<code>getters</code>çš„ä½¿ç”¨</p><p>gettersæˆ‘ä»¬å¯ä»¥ç†è§£ä¸ºè®¡ç®—å±æ€§ï¼Œå°±æ˜¯å°†stateä¸­çš„æ•°æ®åŠ å·¥åè¿”å›ç»™ç”¨æˆ·</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Vuex <span class="keyword">from</span> <span class="string">&#x27;vuex&#x27;</span></span><br><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line">Vue.use(Vuex)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> Vuex.Store(&#123;</span><br><span class="line">    <span class="attr">actions</span>: &#123;</span><br><span class="line"></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">mutations</span>:&#123;</span><br><span class="line"></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">getters</span>:&#123;</span><br><span class="line">        <span class="function"><span class="title">bigSum</span>(<span class="params">state</span>)</span>&#123;</span><br><span class="line">            <span class="keyword">return</span> state.sum*<span class="number">10</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">state</span>:&#123;</span><br><span class="line"></span><br><span class="line">    &#125;,</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>2ã€<code>mapGetters</code>ï¼Œ<code>mapActions</code>ï¼Œ<code>mapMutations</code>å·¥å…·</p><p>æˆ‘ä»¬å¯¹äº<code>state</code>ä¸­çš„æ•°æ®å¯ä»¥ä½¿ç”¨<code>mapState</code>æ¥å°†å…¶æ–¹ä¾¿åœ°ä»Vuexä¸­æ‹¿å‡ºæ¥</p><p>å¯¹äº<code>getters</code>ã€<code>actions</code>ã€<code>mutations</code>ä¸­çš„æ–¹æ³•å’Œæ•°æ®æˆ‘ä»¬ä¹Ÿæœ‰å¯¹åº”çš„å·¥å…·å°†å…¶ä»Vuexä¸­æ‹¿å‡º</p><p>3ã€æ¨¡å—åŒ–å¼€å‘</p><img src="/%E5%89%8D%E7%AB%AF/Vue2/2022/06/28/Vue2-%E5%9F%BA%E7%A1%804/image-20220701101329545.png" class title="æ¨¡å—åŒ–å¼€å‘"><p>å¦‚æœæ•°æ®è¿˜æœ‰åˆ†ç±»ï¼Œæˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨æ¨¡å—åŒ–å¼€å‘</p><p><code>store/index.js</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> Vuex <span class="keyword">from</span> <span class="string">&#x27;vuex&#x27;</span></span><br><span class="line">Vue.use(Vuex)</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> teacher <span class="keyword">from</span> <span class="string">&quot;@/store/roles/teacher&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> student <span class="keyword">from</span> <span class="string">&quot;@/store/roles/student&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> enterprise <span class="keyword">from</span> <span class="string">&quot;@/store/roles/enterprise&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> log <span class="keyword">from</span> <span class="string">&#x27;@/store/log&#x27;</span></span><br><span class="line"><span class="keyword">import</span> constant <span class="keyword">from</span> <span class="string">&quot;@/store/constant&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> common <span class="keyword">from</span> <span class="string">&quot;@/store/common&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> store = <span class="keyword">new</span> Vuex.Store(&#123;</span><br><span class="line">   <span class="attr">modules</span>: &#123;</span><br><span class="line">      log,</span><br><span class="line">      constant,</span><br><span class="line">      common,</span><br><span class="line">      teacher,</span><br><span class="line">      student,</span><br><span class="line">      enterprise</span><br><span class="line">   &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> store;</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨æ¨¡å—åŒ–å¼€å‘è¦æ³¨æ„ä¸€ä¸ªç‚¹ï¼Œå°±æ˜¯åœ¨å„ä¸ªæ–‡ä»¶ä¸­éœ€è¦å¼€å¯å‘½åç©ºé—´</p><img src="/%E5%89%8D%E7%AB%AF/Vue2/2022/06/28/Vue2-%E5%9F%BA%E7%A1%804/image-20220701101526138.png" class title="å¼€å¯å‘½åç©ºé—´"><p>é‡‡ç”¨æ¨¡å—åŒ–å¼€å‘ä½¿ç”¨åï¼Œ<code>mapXXX</code>å·¥å…·çš„ä½¿ç”¨æ–¹æ³•å°±å‘ç”Ÿäº†æ”¹å˜ï¼Œæ”¹å˜å¦‚ä¸‹</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">...mapState(<span class="string">&#x27;æ¨¡å—å&#x27;</span>,[<span class="string">&#x27;stateå‚æ•°å&#x27;</span>]),</span><br><span class="line">...mapGetters(<span class="string">&#x27;æ¨¡å—å&#x27;</span>,[<span class="string">&#x27;getterså‚æ•°å&#x27;</span>]),</span><br><span class="line">...mapActions(<span class="string">&#x27;æ¨¡å—å&#x27;</span>,[<span class="string">&#x27;actionså‡½æ•°å&#x27;</span>]),</span><br><span class="line">...mapMutations(<span class="string">&#x27;æ¨¡å—å&#x27;</span>,[<span class="string">&#x27;mutationså‡½æ•°å&#x27;</span>]),</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
          <category> Vue2 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Vue </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Vue2-åŸºç¡€3</title>
      <link href="/%E5%89%8D%E7%AB%AF/Vue2/2022/06/22/Vue2-%E5%9F%BA%E7%A1%803/"/>
      <url>/%E5%89%8D%E7%AB%AF/Vue2/2022/06/22/Vue2-%E5%9F%BA%E7%A1%803/</url>
      
        <content type="html"><![CDATA[<h2 id="Vue2åŸºç¡€3"><a href="#Vue2åŸºç¡€3" class="headerlink" title="Vue2åŸºç¡€3"></a>Vue2åŸºç¡€3</h2><h3 id="æ¡ä»¶æ¸²æŸ“"><a href="#æ¡ä»¶æ¸²æŸ“" class="headerlink" title="æ¡ä»¶æ¸²æŸ“"></a>æ¡ä»¶æ¸²æŸ“</h3><blockquote><p>æ¡ˆä¾‹ï¼šå¦‚å›¾</p></blockquote><img src="/%E5%89%8D%E7%AB%AF/Vue2/2022/06/22/Vue2-%E5%9F%BA%E7%A1%803/image-20220622155952374.png" class title="æ¡ˆä¾‹"><img src="/%E5%89%8D%E7%AB%AF/Vue2/2022/06/22/Vue2-%E5%9F%BA%E7%A1%803/image-20220622160006306.png" class title="æ¡ˆä¾‹"><h4 id="ä½¿ç”¨v-if"><a href="#ä½¿ç”¨v-if" class="headerlink" title="ä½¿ç”¨v-if"></a>ä½¿ç”¨v-if</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span>&gt;</span>ç°åœ¨çš„nå€¼æ˜¯&#123;&#123;n&#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;n++&quot;</span>&gt;</span>ç‚¹æˆ‘nè‡ªå¢1<span class="tag">&lt;/<span class="name">button</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;n--&quot;</span>&gt;</span>ç‚¹æˆ‘nè‡ªå‡1<span class="tag">&lt;/<span class="name">button</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">v-if</span>=<span class="string">&quot;n&lt;3&quot;</span>&gt;</span>æˆ‘åœ¨nå°äº3çš„æ—¶å€™å‡ºç°<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">v-else-if</span>=<span class="string">&quot;n&lt;7&quot;</span>&gt;</span>æˆ‘åœ¨nå¤§äº3å°äº7çš„æ—¶å€™å‡ºç°<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">v-else</span>&gt;</span>æˆ‘åœ¨n&gt;7çš„æ—¶å€™æ˜¾ç¤º<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">    <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">        <span class="attr">el</span>: <span class="string">&#x27;#app&#x27;</span>,</span></span><br><span class="line"><span class="javascript">        <span class="function"><span class="title">data</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="javascript">                <span class="attr">n</span>: <span class="number">0</span></span></span><br><span class="line"><span class="javascript">            &#125;</span></span><br><span class="line"><span class="javascript">        &#125;</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">    &#125;)</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="ä½¿ç”¨v-show"><a href="#ä½¿ç”¨v-show" class="headerlink" title="ä½¿ç”¨v-show"></a>ä½¿ç”¨v-show</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span>&gt;</span>ç°åœ¨çš„nå€¼æ˜¯&#123;&#123;n&#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;n++&quot;</span>&gt;</span>ç‚¹æˆ‘nè‡ªå¢1<span class="tag">&lt;/<span class="name">button</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;n--&quot;</span>&gt;</span>ç‚¹æˆ‘nè‡ªå‡1<span class="tag">&lt;/<span class="name">button</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">v-show</span>=<span class="string">&quot;n&lt;3&quot;</span>&gt;</span>æˆ‘åœ¨nå°äº3çš„æ—¶å€™å‡ºç°<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">v-show</span>=<span class="string">&quot;n&gt;=3&quot;</span>&gt;</span>æˆ‘åœ¨nå¤§äº3çš„æ—¶å€™å‡ºç°<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">    <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">        <span class="attr">el</span>: <span class="string">&#x27;#app&#x27;</span>,</span></span><br><span class="line"><span class="javascript">        <span class="function"><span class="title">data</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="javascript">                <span class="attr">n</span>: <span class="number">0</span></span></span><br><span class="line"><span class="javascript">            &#125;</span></span><br><span class="line"><span class="javascript">        &#125;</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">    &#125;)</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="åŒºåˆ«"><a href="#åŒºåˆ«" class="headerlink" title="åŒºåˆ«"></a>åŒºåˆ«</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">1.v-showçš„åŸç†æ˜¯å°†è¢«æ­¤æŒ‡ä»¤æ ‡è®°çš„DOMå…ƒç´ çš„displayå±æ€§è®¾ç½®ä¸ºnoneï¼Œä»è€Œå®ç°éšè—çš„æ•ˆæœ</span><br><span class="line">v-ifçš„åŸç†æ˜¯ç›´æ¥å°†æ­¤DOMå…ƒç´ ç›´æ¥ä»DOMæ ‘ä¸­åˆ é™¤</span><br><span class="line">2.å¦‚æœè¿™ä¸ªå…ƒç´ ä¼šé¢‘ç¹åˆ‡æ¢æ˜¾ç¤ºéšè—ï¼Œåˆ™ä½¿ç”¨v-showï¼Œä¸éœ€è¦é¢‘ç¹åˆ›å»ºèŠ‚ç‚¹</span><br><span class="line">å¦‚æœè¿™ä¸ªå…ƒç´ ä¸ä¼šé¢‘ç¹åˆ‡æ¢æ˜¾ç¤ºéšè—ï¼Œåªæ˜¯åœ¨åˆå§‹åŒ–çš„æ—¶å€™è¿›è¡Œåˆ¤æ–­æ˜¾ç¤ºéšè—ï¼Œåˆ™ä½¿ç”¨v-if</span><br></pre></td></tr></table></figure><h3 id="åˆ—è¡¨æ¸²æŸ“"><a href="#åˆ—è¡¨æ¸²æŸ“" class="headerlink" title="åˆ—è¡¨æ¸²æŸ“"></a>åˆ—è¡¨æ¸²æŸ“</h3><blockquote><p>æ¡ˆä¾‹ï¼šå°†æ•°ç»„æ•°æ®å±•ç¤ºåœ¨é¡µé¢ä¸Š</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">data</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        <span class="attr">people</span>: [</span><br><span class="line">            &#123;<span class="attr">id</span>: <span class="string">&#x27;001&#x27;</span>,<span class="attr">name</span>: <span class="string">&#x27;å¼ ä¸‰&#x27;</span>,<span class="attr">age</span>: <span class="number">18</span>,<span class="attr">sex</span>: <span class="string">&#x27;ç”·&#x27;</span>&#125;,</span><br><span class="line">            &#123;<span class="attr">id</span>: <span class="string">&#x27;002&#x27;</span>,<span class="attr">name</span>: <span class="string">&#x27;èŠéº»&#x27;</span>,<span class="attr">age</span>: <span class="number">20</span>,<span class="attr">sex</span>: <span class="string">&#x27;ç”·&#x27;</span>&#125;,</span><br><span class="line">            &#123;<span class="attr">id</span>: <span class="string">&#x27;003&#x27;</span>,<span class="attr">name</span>: <span class="string">&#x27;æå››&#x27;</span>,<span class="attr">age</span>: <span class="number">17</span>,<span class="attr">sex</span>: <span class="string">&#x27;å¥³&#x27;</span>&#125;</span><br><span class="line">        ]</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨v-foræŒ‡ä»¤</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;item in people&quot;</span>&gt;</span></span><br><span class="line">        &#123;&#123;item.name&#125;&#125;-&#123;&#123;item.age&#125;&#125;-&#123;&#123;item.sex&#125;&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br></pre></td></tr></table></figure><p>è¿™æ ·å°±å®Œæˆäº†æœ€åŸºæœ¬çš„éå†ï¼Œå¦‚æœæˆ‘éœ€è¦å¾—åˆ°æ¯ä¸€æ¬¡éå†çš„ç´¢å¼•ï¼Œåªéœ€è¦åŠ å…¥ä¸€ä¸ªå½¢å‚å³å¯</p> <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;(item,index) in people&quot;</span>&gt;</span></span><br><span class="line">        &#123;&#123;index&#125;&#125;-&#123;&#123;item.name&#125;&#125;-&#123;&#123;item.age&#125;&#125;-&#123;&#123;item.sex&#125;&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br></pre></td></tr></table></figure><p>OKï¼Œè¿™é‡Œå…¶å®é—æ¼äº†ä¸€ä¸ªå¾ˆé‡è¦å¾ˆé‡è¦çš„ä¸€ä¸ªå±æ€§<code>key</code>ï¼Œè¿™ä¸ª<code>key</code>å°±æ˜¯æ¯ä¸€ä¸ªèŠ‚ç‚¹çš„æ ‡è¯†ï¼Œæ‰€ä»¥å¯ä»¥ç›´æ¥ä½¿ç”¨æ•°ç»„æ¯ä¸€ä¸ªå¯¹è±¡çš„<code>id</code>å±æ€§ï¼Œæˆ–è€…æ˜¯<code>index</code></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--&lt;li v-for=&quot;(item,index) in people&quot; :key=&quot;index&quot;&gt;--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;(item,index) in people&quot;</span> <span class="attr">:key</span>=<span class="string">&quot;item.id&quot;</span>&gt;</span></span><br><span class="line">        &#123;&#123;index&#125;&#125;-&#123;&#123;item.name&#125;&#125;-&#123;&#123;item.age&#125;&#125;-&#123;&#123;item.sex&#125;&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br></pre></td></tr></table></figure><p>è¿™ä¸ªkeyæ˜¯å¹²å˜›çš„å‘¢ï¼Ÿè¿™å°±è¦å¥½å¥½æ‰’ä¸€æ‰’äº†ï¼Œæ¥å§ï¼Œæ•´æ´»ï¼</p><h4 id="è™šæ‹ŸDOMçš„DIFFç®—æ³•"><a href="#è™šæ‹ŸDOMçš„DIFFç®—æ³•" class="headerlink" title="è™šæ‹ŸDOMçš„DIFFç®—æ³•"></a>è™šæ‹ŸDOMçš„DIFFç®—æ³•</h4><p>å•¥å•Šè¿™æ˜¯ï¼Œæ€ä¹ˆä»keyç›´æ¥è·³åˆ°äº†ä»€ä¹ˆè™šæ‹ŸDOMçš„DIFFç®—æ³•äº†ï¼Ÿèµ°é”™ç‰‡åœºäº†ï¼Ÿ</p><p>æ²¡æœ‰æ²¡æœ‰ï¼Œè¦è§£é‡Škeyå°±è¦å…ˆçŸ¥é“è¿™ä¸ªçŸ¥è¯†</p><p>ç°åœ¨çš„ä»£ç ï¼Œå¾ˆç®€å•ï¼Œå°±æ˜¯æ¯”åˆšåˆšå¤šäº†ä¸€ä¸ªæ·»åŠ ä¸€ä¸ªäººçš„æŒ‰é’®å’Œä¸€ä¸ªinputæ¡†</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click.once</span>=<span class="string">&quot;addPerson&quot;</span>&gt;</span>æ·»åŠ ä¸€ä¸ªäºº<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;(item,index) in people&quot;</span> <span class="attr">:key</span>=<span class="string">&quot;index&quot;</span>&gt;</span></span><br><span class="line">            &#123;&#123;item.name&#125;&#125;-&#123;&#123;item.age&#125;&#125;-&#123;&#123;item.sex&#125;&#125;<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;item.name&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">    <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">        <span class="attr">el</span>: <span class="string">&#x27;#app&#x27;</span>,</span></span><br><span class="line"><span class="javascript">        <span class="function"><span class="title">data</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="javascript">                <span class="attr">people</span>: [</span></span><br><span class="line"><span class="javascript">                    &#123;<span class="attr">id</span>: <span class="string">&#x27;001&#x27;</span>,<span class="attr">name</span>: <span class="string">&#x27;å¼ ä¸‰&#x27;</span>,<span class="attr">age</span>: <span class="number">18</span>,<span class="attr">sex</span>: <span class="string">&#x27;ç”·&#x27;</span>&#125;,</span></span><br><span class="line"><span class="javascript">                    &#123;<span class="attr">id</span>: <span class="string">&#x27;002&#x27;</span>,<span class="attr">name</span>: <span class="string">&#x27;èŠéº»&#x27;</span>,<span class="attr">age</span>: <span class="number">20</span>,<span class="attr">sex</span>: <span class="string">&#x27;ç”·&#x27;</span>&#125;,</span></span><br><span class="line"><span class="javascript">                    &#123;<span class="attr">id</span>: <span class="string">&#x27;003&#x27;</span>,<span class="attr">name</span>: <span class="string">&#x27;æå››&#x27;</span>,<span class="attr">age</span>: <span class="number">17</span>,<span class="attr">sex</span>: <span class="string">&#x27;å¥³&#x27;</span>&#125;</span></span><br><span class="line"><span class="javascript">                ]</span></span><br><span class="line"><span class="javascript">            &#125;</span></span><br><span class="line"><span class="javascript">        &#125;,</span></span><br><span class="line"><span class="javascript">        <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="javascript">            <span class="function"><span class="title">addPerson</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="built_in">this</span>.people.unshift(&#123;<span class="attr">id</span>: <span class="string">&#x27;002&#x27;</span>,<span class="attr">name</span>: <span class="string">&#x27;å°é©¬&#x27;</span>,<span class="attr">age</span>: <span class="number">21</span>,<span class="attr">sex</span>: <span class="string">&#x27;ç”·&#x27;</span>&#125;)</span></span><br><span class="line"><span class="javascript">            &#125;</span></span><br><span class="line"><span class="javascript">        &#125;</span></span><br><span class="line"><span class="javascript">    &#125;)</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><blockquote><p>è¯´æ˜é—®é¢˜</p></blockquote><img src="/%E5%89%8D%E7%AB%AF/Vue2/2022/06/22/Vue2-%E5%9F%BA%E7%A1%803/image-20220622165732907.png" class title="æ·»åŠ ä¸€ä¸ªäººä¹‹å‰å…ˆæŠŠä¿¡æ¯å¤åˆ¶åˆ°è¾“å…¥æ¡†"><p>ç„¶åç‚¹å‡»æ·»åŠ ä¸€ä¸ªäººï¼Œä½ ä¼šå‘ç°ä¸€ä¸ªå¾ˆä¸¥é‡çš„é”™è¯¯ï¼Œè¾“å…¥å¡Œé™·</p><img src="/%E5%89%8D%E7%AB%AF/Vue2/2022/06/22/Vue2-%E5%9F%BA%E7%A1%803/image-20220622165812965.png" class title="å‡ºç°é”™è¯¯"><p>åŠ å…¥<code>:key=&quot;index&quot;</code>ä¹‹åï¼Œä¸€æ ·å‡ºç°è¿™ä¸ªé”™è¯¯</p><p>åŠ å…¥<code>:key=&quot;item.id&quot;</code>ä¹‹åï¼Œæˆ‘ä»¬å‘ç°ï¼Œè¿™ä¸ªé”™è¯¯å°±æ¶ˆå¤±äº†</p><p>æ—¢ç„¶æ„è¯†åˆ°äº†é”™è¯¯å’Œè§£å†³é”™è¯¯çš„æ–¹æ³•ï¼Œé‚£æˆ‘ä»¬å°±æ¥å¥½å¥½æ‹ä¸€ä¸‹ä¸ºä»€ä¹ˆï¼Œä¸‹é¢çœ‹å›¾ï¼Œå›¾æœ‰ç‚¹ä¹±ï¼Œè¯·ä»”ç»†è§‚çœ‹</p><h5 id="keyä¸ºindexçš„æƒ…å†µ"><a href="#keyä¸ºindexçš„æƒ…å†µ" class="headerlink" title="keyä¸ºindexçš„æƒ…å†µ"></a>keyä¸ºindexçš„æƒ…å†µ</h5><img src="/%E5%89%8D%E7%AB%AF/Vue2/2022/06/22/Vue2-%E5%9F%BA%E7%A1%803/image-20220622175851804.png" class title="keyä¸ºindex"><p>è§£é‡Šå‡ ä¸ªç‚¹å§ï¼š</p><p>1ã€ç²‰è‰²çš„Ã—è¡¨ç¤ºåŒ¹é…å¤±è´¥ï¼Œä¸å¯ä»¥å¤ç”¨ï¼Œè“è‰²çš„âˆšè¡¨ç¤ºåŒ¹é…æˆåŠŸï¼Œå¯ä»¥å¤ç”¨</p><p>2ã€å·¦ä¸‹è§’çš„æ©™è‰²çš„åˆ é™¤å·è¡¨ç¤ºè¯¥å…ƒç´ ç›´æ¥åˆ é™¤</p><p>3ã€ä¸‹åŠéƒ¨åˆ†çš„æ©™è‰²ç®­å¤´è¡¨ç¤ºç›´æ¥å¤ç”¨ä¹‹å‰ç”Ÿæˆçš„çœŸå®DOMèŠ‚ç‚¹</p><p>4ã€å·¦åŠéƒ¨åˆ†çš„ç»¿è‰²ç®­å¤´è¡¨ç¤ºéœ€è¦ä»è™šæ‹ŸèŠ‚ç‚¹é‡æ–°ç”ŸæˆçœŸå®DOMèŠ‚ç‚¹</p><h5 id="keyä¸ºidçš„æƒ…å†µ"><a href="#keyä¸ºidçš„æƒ…å†µ" class="headerlink" title="keyä¸ºidçš„æƒ…å†µ"></a>keyä¸ºidçš„æƒ…å†µ</h5><img src="/%E5%89%8D%E7%AB%AF/Vue2/2022/06/22/Vue2-%E5%9F%BA%E7%A1%803/image-20220622175136447.png" class title="keyä¸ºid"><h5 id="keyä¸å†™çš„æƒ…å†µ"><a href="#keyä¸å†™çš„æƒ…å†µ" class="headerlink" title="keyä¸å†™çš„æƒ…å†µ"></a>keyä¸å†™çš„æƒ…å†µ</h5><p>å¦‚æœä¸å†™keyçš„è¯ï¼ŒVueé»˜è®¤å°†indexä½œä¸ºkeyï¼Œæ‰€ä»¥è¿™ç§æƒ…å†µå’Œkeyä¸ºindexçš„æƒ…å†µæ˜¯ä¸€æ ·çš„</p><h5 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">1ã€keyçš„ä½œç”¨</span><br><span class="line">ä½œä¸ºæ¯ä¸€ä¸ªDOMè™šæ‹ŸèŠ‚ç‚¹çš„å”¯ä¸€æ€§æ ‡è¯†ï¼Œå½“æ•°æ®å‘ç”Ÿæ”¹å˜çš„æ—¶</span><br><span class="line">åœ¨Diffç®—æ³•æ—¶ï¼Œæ–°è™šæ‹ŸDOMèŠ‚ç‚¹æ‰¾åˆ°ä¸è‡ªèº«keyç›¸åŒçš„æ—§è™šæ‹ŸDOMèŠ‚ç‚¹è¿›è¡Œæ¯”è¾ƒ</span><br><span class="line">å¦‚æœç›¸åŒï¼Œåˆ™ç›´æ¥å°†æ—§è™šæ‹ŸDOMèŠ‚ç‚¹ç”Ÿæˆçš„çœŸå®DOMèŠ‚ç‚¹ç›´æ¥æ‹¿æ¥å¤ç”¨</span><br><span class="line">å¦‚æœä¸åŒï¼Œåˆ™å°†æ–°è™šæ‹ŸDOMèŠ‚ç‚¹ç”Ÿæˆæ–°çœŸå®DOMèŠ‚ç‚¹</span><br><span class="line"></span><br><span class="line">2ã€ç”¨indexåškeyä¼šå‡ºç°çš„é—®é¢˜</span><br><span class="line">(1)å¦‚æœå‡ºç°äº†å¯¹é¡ºåºæ”¹å˜çš„æ“ä½œï¼Œåˆ™ä¼šå¯¼è‡´æ—§çœŸå®DOMæ— æ³•å¤ç”¨ï¼Œæ•ˆç‡é™ä½</span><br><span class="line">(2)å¦‚æœæœ‰è¾“å…¥ç±»æ§ä»¶ï¼Œåˆ™ä¼šå‡ºç°è¾“å…¥å¡Œé™·çš„é—®é¢˜</span><br><span class="line"></span><br><span class="line">3ã€å¦‚ä½•è®¾ç½®key</span><br><span class="line">(1)å¦‚æœåªæ˜¯å±•ç¤ºï¼Œä¸ä¼šäº§ç”Ÿé€†åºæ’å…¥ï¼Œé€†åºåˆ é™¤ç­‰ä¼šå½±å“é¡ºåºçš„æƒ…å†µï¼Œåˆ™ä½¿ç”¨indexå³å¯</span><br><span class="line">(2)å¦‚æœä¼šå¯¹é¡ºåºé€ æˆå½±å“ï¼Œåˆ™ä¸èƒ½ä½¿ç”¨indexä½œä¸ºkeyï¼Œè€Œæ˜¯éœ€è¦ä½¿ç”¨å”¯ä¸€æ€§æ ‡è¯†</span><br></pre></td></tr></table></figure><h4 id="åˆ—è¡¨è¿‡æ»¤"><a href="#åˆ—è¡¨è¿‡æ»¤" class="headerlink" title="åˆ—è¡¨è¿‡æ»¤"></a>åˆ—è¡¨è¿‡æ»¤</h4><blockquote><p>éœ€æ±‚ï¼šè¾“å…¥å§“å…³é”®è¯ï¼Œå›è½¦å‡ºç°åå­—ä¸­å¸¦æœ‰è¯¥å…³é”®è¯çš„</p></blockquote><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;keyword&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;è¯·è¾“å…¥å§“å…³é”®è¯&quot;</span> @<span class="attr">keyup.enter</span>=<span class="string">&quot;filterData&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;(item,index) in people&quot;</span> <span class="attr">:key</span>=<span class="string">&quot;index&quot;</span>&gt;</span></span><br><span class="line">            &#123;&#123;item.name&#125;&#125;-&#123;&#123;item.age&#125;&#125;-&#123;&#123;item.sex&#125;&#125;<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">    <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">        <span class="attr">el</span>: <span class="string">&#x27;#app&#x27;</span>,</span></span><br><span class="line"><span class="javascript">        <span class="function"><span class="title">data</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="javascript">                <span class="attr">keyword</span>: <span class="string">&#x27;&#x27;</span>,</span></span><br><span class="line"><span class="javascript">                <span class="attr">people</span>: [</span></span><br><span class="line"><span class="javascript">                    &#123;<span class="attr">id</span>: <span class="string">&#x27;001&#x27;</span>,<span class="attr">name</span>: <span class="string">&#x27;å¼ ä¸‰&#x27;</span>,<span class="attr">age</span>: <span class="number">18</span>,<span class="attr">sex</span>: <span class="string">&#x27;ç”·&#x27;</span>&#125;,</span></span><br><span class="line"><span class="javascript">                    &#123;<span class="attr">id</span>: <span class="string">&#x27;002&#x27;</span>,<span class="attr">name</span>: <span class="string">&#x27;èŠéº»&#x27;</span>,<span class="attr">age</span>: <span class="number">20</span>,<span class="attr">sex</span>: <span class="string">&#x27;ç”·&#x27;</span>&#125;,</span></span><br><span class="line"><span class="javascript">                    &#123;<span class="attr">id</span>: <span class="string">&#x27;003&#x27;</span>,<span class="attr">name</span>: <span class="string">&#x27;æå››&#x27;</span>,<span class="attr">age</span>: <span class="number">17</span>,<span class="attr">sex</span>: <span class="string">&#x27;å¥³&#x27;</span>&#125;,</span></span><br><span class="line"><span class="javascript">                ],</span></span><br><span class="line"><span class="javascript">                <span class="attr">showData</span>: people</span></span><br><span class="line"><span class="javascript">            &#125;</span></span><br><span class="line"><span class="javascript">        &#125;,</span></span><br><span class="line"><span class="javascript">        <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="javascript">            <span class="function"><span class="title">filterData</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="built_in">this</span>.showData = <span class="built_in">this</span>.people.filter(<span class="function"><span class="params">p</span>=&gt;</span>p.name.indexOf(<span class="built_in">this</span>.keyword)!==-<span class="number">1</span>);</span></span><br><span class="line"><span class="javascript">            &#125;</span></span><br><span class="line"><span class="javascript">        &#125;</span></span><br><span class="line"><span class="javascript">    &#125;)</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="åˆ—è¡¨æ’åº"><a href="#åˆ—è¡¨æ’åº" class="headerlink" title="åˆ—è¡¨æ’åº"></a>åˆ—è¡¨æ’åº</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;sortByAge&quot;</span>&gt;</span>æŒ‰å¹´é¾„æ’åº<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"></span><br><span class="line">methods: &#123;</span><br><span class="line">    sortByAge()&#123;</span><br><span class="line">    this.showData = this.people.sort((p1,p2)=&gt;p2.age-p1.age);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="ä¿®æ”¹åˆ—è¡¨ç¬¬ä¸€ä¸ªäººçš„ä¿¡æ¯-å¥æ•ˆ"><a href="#ä¿®æ”¹åˆ—è¡¨ç¬¬ä¸€ä¸ªäººçš„ä¿¡æ¯-å¥æ•ˆ" class="headerlink" title="ä¿®æ”¹åˆ—è¡¨ç¬¬ä¸€ä¸ªäººçš„ä¿¡æ¯(å¥æ•ˆ)"></a>ä¿®æ”¹åˆ—è¡¨ç¬¬ä¸€ä¸ªäººçš„ä¿¡æ¯(å¥æ•ˆ)</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;updatePerson&quot;</span>&gt;</span>ä¿®æ”¹ç¬¬ä¸€ä¸ªäººçš„å¹´é¾„ä¸º20<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"></span><br><span class="line">methods: &#123;</span><br><span class="line">    updatePerson()&#123;</span><br><span class="line">    this.people[0].age = 20;</span><br><span class="line">this.showData = this.people;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="å½»åº•ä¿®æ”¹åˆ—è¡¨ä¸€ä¸ªäººçš„ä¿¡æ¯-å¤±æ•ˆ"><a href="#å½»åº•ä¿®æ”¹åˆ—è¡¨ä¸€ä¸ªäººçš„ä¿¡æ¯-å¤±æ•ˆ" class="headerlink" title="å½»åº•ä¿®æ”¹åˆ—è¡¨ä¸€ä¸ªäººçš„ä¿¡æ¯(å¤±æ•ˆ)"></a>å½»åº•ä¿®æ”¹åˆ—è¡¨ä¸€ä¸ªäººçš„ä¿¡æ¯(å¤±æ•ˆ)</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;updatePersonComplete&quot;</span>&gt;</span>å½»åº•ä¿®æ”¹ä¸€ä¸ªäººçš„ä¿¡æ¯<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"></span><br><span class="line">updatePersonComplete()&#123;</span><br><span class="line">    this.people[0] = &#123;id: &#x27;004&#x27;,name: &#x27;è€é©¬&#x27;,age: 18,sex: &#x27;å¥³&#x27;&#125;;</span><br><span class="line">this.showData = this.people;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸ºä»€ä¹ˆè¿™ç§æ–¹å¼ä¿®æ”¹æ•°æ®ï¼ŒVueæ²¡æœ‰æ£€æµ‹åˆ°å‘¢ï¼Ÿ</p><p>è¿™å°±è¦è®²åˆ°Vueç›‘æµ‹æ•°æ®å˜åŒ–(å“åº”å¼)çš„åŸç†äº†</p><h3 id="å“åº”å¼åŸç†"><a href="#å“åº”å¼åŸç†" class="headerlink" title="å“åº”å¼åŸç†"></a>å“åº”å¼åŸç†</h3><p>ä¹‹å‰æˆ‘åœ¨è®²æ•°æ®ä»£ç†çš„æ—¶å€™ï¼Œå…¶å®å·²ç»è®²åˆ°äº†Vueå“åº”å¼çš„åŸç†ï¼Œç°åœ¨æˆ‘ä»¬æ¥æ­£å¼ç»™å°ä¼™ä¼´è®²ä¸€è®²</p><p>Vueç›‘æµ‹æ•°æ®åˆ†ä¸ºä¸¤ç§ï¼Œä¸€ç§æ˜¯æ•°ç»„ï¼Œè¿˜æœ‰ä¸€ç§æ˜¯å¯¹è±¡ã€‚æˆ‘ä»¬å…ˆä»ç›‘æµ‹å¯¹è±¡å¼€å§‹ï¼Œç„¶åå†è®²ç›‘æµ‹æ•°ç»„ã€‚</p><h4 id="ç›‘æµ‹å¯¹è±¡"><a href="#ç›‘æµ‹å¯¹è±¡" class="headerlink" title="ç›‘æµ‹å¯¹è±¡"></a>ç›‘æµ‹å¯¹è±¡</h4><p>å‰æœŸå‡†å¤‡</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span>å§“åï¼š&#123;&#123;name&#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span>æ€§åˆ«ï¼š&#123;&#123;sex&#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span>å¹´é¾„ï¼š&#123;&#123;age&#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span>å­¦æ ¡ï¼š&#123;&#123;school&#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">    <span class="keyword">let</span> data = &#123;</span></span><br><span class="line"><span class="javascript">        <span class="attr">name</span>: <span class="string">&#x27;zhima&#x27;</span>,</span></span><br><span class="line"><span class="javascript">        <span class="attr">sex</span>: <span class="string">&#x27;ç”·&#x27;</span>,</span></span><br><span class="line"><span class="javascript">        <span class="attr">age</span>: <span class="number">19</span>,</span></span><br><span class="line"><span class="javascript">        <span class="attr">hobbies</span>: [<span class="string">&#x27;ç‹è€…&#x27;</span>,<span class="string">&#x27;åŸç¥&#x27;</span>,<span class="string">&#x27;ç¡è§‰&#x27;</span>,<span class="string">&#x27;å¹²é¥­&#x27;</span>],</span></span><br><span class="line"><span class="javascript">        <span class="attr">school</span>: &#123;</span></span><br><span class="line"><span class="javascript">            <span class="attr">name</span>: <span class="string">&#x27;å—äº¬æŸé«˜æ ¡&#x27;</span>,</span></span><br><span class="line"><span class="javascript">            <span class="attr">address</span>: <span class="string">&#x27;å—äº¬&#x27;</span></span></span><br><span class="line"><span class="javascript">        &#125;</span></span><br><span class="line"><span class="javascript">    &#125;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">let</span> vm = <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">        <span class="attr">el</span>: <span class="string">&#x27;#app&#x27;</span>,</span></span><br><span class="line"><span class="javascript">        data</span></span><br><span class="line"><span class="javascript">    &#125;);</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬å…ˆæ¥å›é¡¾ä¸€ä¸‹æ•°æ®ä»£ç†æ˜¯ä»€ä¹ˆ</p><p>å…ˆè¾“å‡ºä¸€ä¸‹<code>vm</code>å¯¹è±¡</p><img src="/%E5%89%8D%E7%AB%AF/Vue2/2022/06/22/Vue2-%E5%9F%BA%E7%A1%803/image-20220623131348023.png" class title="vmå¯¹è±¡"><p>æˆ‘ä»¬åœ¨<code>data</code>ä¸­é…ç½®çš„å¯¹è±¡å…ˆç»è¿‡<code>Vue</code>åŠ å·¥å˜æˆ<code>Observer</code>å¯¹è±¡</p><p>ç„¶åå°†å…¶æ”¾åˆ°<code>vm</code>å¯¹è±¡ä¸Šçš„<code>_data</code>å±æ€§ä¸­</p><p>ç„¶åå°†<code>_data</code>ä¸­çš„æ•°æ®å…¨éƒ¨ä»£ç†åˆ°<code>vm</code>å¯¹è±¡ä¸Š</p><p>è®©æˆ‘ä»¬å¯ä»¥ç›´æ¥ä½¿ç”¨<code>&#123;&#123;&#125;&#125;</code>è¯»å–<code>vm</code>èº«ä¸Šçš„å±æ€§</p><p>è¿™å°±æ˜¯<strong>æ•°æ®ä»£ç†</strong></p><p>æˆ‘ä»¬ä¿®æ”¹äº†<code>vm</code>èº«ä¸Šçš„å±æ€§å®é™…ä¸Šä¿®æ”¹çš„æ˜¯<code>_data</code>ä¸­çš„æ•°æ® , ç„¶åé¡µé¢å°±æ›´æ–°æˆäº†ä¿®æ”¹åçš„æ–°çš„æ•°æ®</p><p>æˆ–è€…ç›´æ¥ä¿®æ”¹<code>_data</code>ä¸­çš„æ•°æ®,é¡µé¢ä¹Ÿä¼šæ›´æ–°ä¸ºä¿®æ”¹åçš„æ•°æ®</p><p>è¿™æ ·çœ‹æ¥,å“åº”å¼æ•°æ®çš„åŸç†æ˜¯åœ¨<code>_data</code>ä¸­.è¿˜è®°å¾—æˆ‘ä¹‹å‰æåˆ°çš„<strong>æ•°æ®åŠ«æŒ</strong>å—?</p><p>Vueçš„å“åº”å¼å°±æ˜¯é€šè¿‡<strong>æ•°æ®åŠ«æŒ</strong>æ¥å®ç°çš„,è€Œæ•°æ®åŠ«æŒåˆæ˜¯é€šè¿‡<code>Object.defineProperty</code>å®ç°çš„,<code>_data</code>çš„æ¯ä¸€ä¸ªå±æ€§éƒ½æœ‰ä¸€ä¸ªsetterå‡½æ•°,å½“<code>_data</code>ä¸­ä»»ä½•ä¸€ä¸ªæ•°æ®</p><p>å‘ç”Ÿäº†æ”¹å˜,éƒ½ä¼šèµ°è¿™ä¸ªsetteræ–¹æ³•,é‚£ä¹ˆåœ¨è¿™ä¸ªæ—¶å€™,æˆ‘å°±å¯ä»¥æ‰§è¡Œä¸€éé‡æ–°æ¸²æŸ“é¡µé¢çš„æ–¹æ³•,ä»è€Œä½¿å¾—é¡µé¢æ•°æ®æ›´æ–°</p><h4 id="ç›‘æµ‹æ•°ç»„"><a href="#ç›‘æµ‹æ•°ç»„" class="headerlink" title="ç›‘æµ‹æ•°ç»„"></a>ç›‘æµ‹æ•°ç»„</h4><p>æˆ‘ä»¬å…ˆæ¥è§‚å¯Ÿä¸€ä¸‹<code>_data</code>ä¸­çš„hobbiesæ•°ç»„çš„æ ·å­,æˆ‘ä»¬å‘ç°å®ƒæ²¡æœ‰ç»™æ¯ä¸€ä¸ªå…ƒç´ è®¾ç½®ä¸€ä¸ªgetter&#x2F;setter,é‚£å®ƒæ˜¯æ€ä¹ˆå®ç°å“åº”å¼çš„å‘¢</p><img src="/%E5%89%8D%E7%AB%AF/Vue2/2022/06/22/Vue2-%E5%9F%BA%E7%A1%803/image-20220623184216302.png" class title="è§‚å¯Ÿ_dataä¸­çš„æ•°ç»„"><p>è¿™é‡Œå°±ä¸ç»•å¼¯äº†</p><p>Vueé‡Œé¢å¯¹äºæ•°ç»„çš„ç›‘æµ‹æ˜¯</p><p>é€šè¿‡åŒ…è£…æ•°ç»„æ–¹æ³•,å…ˆå¯¹é¡µé¢è¿›è¡Œæ›´æ–°,ç„¶åå†è°ƒç”¨åŸç”Ÿçš„æ•°ç»„ä¸Šçš„æ–¹æ³•å¯¹æ•°ç»„è¿›è¡Œæ›´æ”¹</p><p>æœ‰ä»¥ä¸‹è¿™å‡ ç§</p><ul><li>push()</li><li>pop()</li><li>shift()</li><li>unshift()</li><li>splice()</li><li>sort()</li><li>reverse()</li></ul><blockquote><p>Vueä¸­çš„pushä¸æ˜¯åŸç”Ÿçš„push</p></blockquote><img src="/%E5%89%8D%E7%AB%AF/Vue2/2022/06/22/Vue2-%E5%9F%BA%E7%A1%803/image-20220623191749590.png" class title="Vueä¸­çš„pushä¸æ˜¯åŸç”Ÿçš„push"><p>æ‰€ä»¥åªæœ‰å½“ä½ ä½¿ç”¨ä»¥ä¸Šè¿™äº›æ–¹æ³•çš„æ—¶å€™,Vueæ‰ä¼šç›‘æµ‹åˆ°,ç„¶åå¯¹é¡µé¢è¿›è¡Œæ›´æ–°,è¿™å°±è§£é‡Šäº†å…ˆå‰çš„é‚£ä¸ªæ¡ˆä¾‹,ç›´æ¥å°†æ•°ç»„ç¬¬ä¸€ä¸ªå…ƒç´ æ›¿æ¢çš„æ—¶å€™,Vueå¹¶æ²¡æœ‰ç›‘æµ‹åˆ°.</p><p>ä½†å¦‚æœæ•°ç»„å…ƒç´ æ˜¯å¯¹è±¡,å®ƒä¸€æ ·è¿˜æ˜¯ä¼šæœ‰getter&#x2F;setter</p><img src="/%E5%89%8D%E7%AB%AF/Vue2/2022/06/22/Vue2-%E5%9F%BA%E7%A1%803/image-20220623192149849.png" class title="æ•°ç»„å…ƒç´ æ˜¯å¯¹è±¡"><h3 id="è¿‡æ»¤å™¨"><a href="#è¿‡æ»¤å™¨" class="headerlink" title="è¿‡æ»¤å™¨"></a>è¿‡æ»¤å™¨</h3><p>åŠŸèƒ½ï¼šå…ˆå°†æ•°æ®ä½œå‡ºå¤„ç†å†å°†æ•°æ®è¿›è¡Œæ˜¾ç¤º</p><blockquote><p>æ¡ˆä¾‹ï¼šæ˜¾ç¤ºæ ¼å¼åŒ–åçš„æ—¶é—´</p></blockquote><img src="/%E5%89%8D%E7%AB%AF/Vue2/2022/06/22/Vue2-%E5%9F%BA%E7%A1%803/image-20220627065518988.png" class title="æ•ˆæœå›¾"><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">        æ—¶é—´æˆ³ï¼š&#123;&#123;nowTime&#125;&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">        è®¡ç®—å±æ€§æ ¼å¼åŒ–åçš„æ—¶é—´æ˜¯ï¼š&#123;&#123;fmtTime&#125;&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">        æ–¹æ³•æ ¼å¼åŒ–åçš„æ—¶é—´æ˜¯:&#123;&#123;getFmtTime()&#125;&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">        è¿‡æ»¤å™¨æ ¼å¼åŒ–åçš„æ—¶é—´ï¼š&#123;&#123;nowTime | timeFormatter&#125;&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">    <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">        <span class="attr">el</span>: <span class="string">&#x27;#app&#x27;</span>,</span></span><br><span class="line"><span class="javascript">        <span class="function"><span class="title">data</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="javascript">                <span class="attr">nowTime</span>: <span class="built_in">Date</span>.now()</span></span><br><span class="line"><span class="javascript">            &#125;</span></span><br><span class="line"><span class="javascript">        &#125;,</span></span><br><span class="line"><span class="javascript">        <span class="attr">computed</span>:&#123;</span></span><br><span class="line"><span class="javascript">            <span class="function"><span class="title">fmtTime</span>(<span class="params"></span>)</span> &#123;</span></span><br><span class="line"><span class="javascript">                <span class="keyword">return</span> dayjs(<span class="built_in">this</span>.nowTime).format(<span class="string">&#x27;YYYY-MM-DD HH:mm:ss&#x27;</span>);</span></span><br><span class="line"><span class="javascript">            &#125;</span></span><br><span class="line"><span class="javascript">        &#125;,</span></span><br><span class="line"><span class="javascript">        <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="javascript">            <span class="function"><span class="title">getFmtTime</span>(<span class="params">value</span>)</span> &#123;</span></span><br><span class="line"><span class="javascript">                <span class="keyword">return</span> dayjs(value).format(<span class="string">&#x27;YYYY-MM-DD HH:mm:ss&#x27;</span>);</span></span><br><span class="line"><span class="javascript">            &#125;</span></span><br><span class="line"><span class="javascript">        &#125;,</span></span><br><span class="line"><span class="javascript">        <span class="attr">filters</span>:&#123;</span></span><br><span class="line"><span class="javascript">            <span class="function"><span class="title">timeFormatter</span>(<span class="params">value</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="keyword">return</span> dayjs(value).format(<span class="string">&#x27;YYYY-MM-DD HH:mm:ss&#x27;</span>)</span></span><br><span class="line"><span class="javascript">            &#125;</span></span><br><span class="line"><span class="javascript">        &#125;</span></span><br><span class="line"><span class="javascript">    &#125;)</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>ä»¥ä¸Šè¿™ä¸ªè¿‡æ»¤å™¨å«å±€éƒ¨è¿‡æ»¤å™¨ï¼Œè¿˜æœ‰ä¸€ç§è¿‡æ»¤å™¨ï¼Œå«å…¨å±€è¿‡æ»¤å™¨</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--è¿™é‡Œçš„è¿‡æ»¤å™¨ç¬¬ä¸€ä¸ªä¼ å…¥çš„å‚æ•°æ°¸è¿œæ˜¯å¾…å¤„ç†çš„æ•°æ®ï¼Œè¿™é‡Œä¼ å…¥çš„å°±ç›´æ¥æ˜¯ç¬¬äºŒä¸ªå‚æ•°ç¬¬ä¸‰ä¸ªç¬¬å››ä¸ªå‚æ•°--&gt;</span></span><br><span class="line">        è¿‡æ»¤å™¨æ ¼å¼åŒ–åçš„æ—¶é—´ï¼š&#123;&#123;nowTime | globalTimeFormatter(&#x27;YYYY-MM-DD&#x27;)&#125;&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">    <span class="comment">//å…¨å±€è¿‡æ»¤å™¨</span></span></span><br><span class="line"><span class="javascript">    Vue.filter(<span class="string">&#x27;globalTimeFormatter&#x27;</span>,<span class="function">(<span class="params">value,formatStr=<span class="string">&#x27;YYYY-MM-DD HH:mm:ss&#x27;</span></span>)=&gt;</span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">return</span> dayjs(value).format(formatStr);</span></span><br><span class="line"><span class="javascript">    &#125;)</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>æ³¨æ„ç‚¹ï¼šè¿‡æ»¤å™¨ä¸æ˜¯å¿…è¦çš„ï¼Œå› ä¸ºæˆ‘ä»¬ä½¿ç”¨è®¡ç®—å±æ€§æˆ–è€…æ–¹æ³•éƒ½å¯ä»¥å®ç°ï¼Œè¿™åªæ˜¯ä¸€ç§æ–¹å¼</p><h3 id="è‡ªå®šä¹‰æŒ‡ä»¤"><a href="#è‡ªå®šä¹‰æŒ‡ä»¤" class="headerlink" title="è‡ªå®šä¹‰æŒ‡ä»¤"></a>è‡ªå®šä¹‰æŒ‡ä»¤</h3><blockquote><p>æŒ‡ä»¤æ˜¯ä»€ä¹ˆï¼Ÿ</p></blockquote><p>æŒ‡ä»¤å°±æ˜¯v-onå¼€å¤´çš„ä¸€äº›è¯­æ³•ï¼Œå°±æ˜¯è‡ªå·±å°è£…ä¸€äº›é€»è¾‘</p><blockquote><p>éœ€æ±‚1ï¼šå®šä¹‰ä¸€ä¸ªv-bigæŒ‡ä»¤ï¼Œä¼šæŠŠç»‘å®šçš„æ•°å€¼æ”¾å¤§10å€ã€‚</p></blockquote><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>å½“å‰çš„nå€¼æ˜¯ï¼š<span class="tag">&lt;<span class="name">span</span> <span class="attr">v-text</span>=<span class="string">&quot;n&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span> <span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>æ”¾å¤§10å€åçš„nå€¼æ˜¯ï¼š<span class="tag">&lt;<span class="name">span</span> <span class="attr">v-big</span>=<span class="string">&quot;n&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span> <span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;n++&quot;</span>&gt;</span>ç‚¹æˆ‘n+1<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">    <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">        <span class="attr">el</span>:<span class="string">&#x27;#app&#x27;</span>,</span></span><br><span class="line"><span class="javascript">        <span class="function"><span class="title">data</span>(<span class="params"></span>)</span> &#123;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="javascript">                <span class="attr">n</span>: <span class="number">1</span></span></span><br><span class="line"><span class="javascript">            &#125;</span></span><br><span class="line"><span class="javascript">        &#125;,</span></span><br><span class="line"><span class="javascript">        <span class="attr">directives</span>:&#123;</span></span><br><span class="line"><span class="javascript">            <span class="comment">// bigå‡½æ•°ä½•æ—¶ä¼šè¢«è°ƒç”¨ï¼Ÿ</span></span></span><br><span class="line"><span class="javascript">            <span class="comment">// 1.æŒ‡ä»¤ä¸å…ƒç´ æˆåŠŸç»‘å®šæ—¶ã€‚</span></span></span><br><span class="line"><span class="javascript">            <span class="comment">// 2.æŒ‡ä»¤æ‰€åœ¨çš„æ¨¡æ¿è¢«é‡æ–°è§£ææ—¶ã€‚</span></span></span><br><span class="line"><span class="javascript">            <span class="function"><span class="title">big</span>(<span class="params">element,binding</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="built_in">console</span>.log(<span class="string">&#x27;big&#x27;</span>,<span class="built_in">this</span>) <span class="comment">//æ³¨æ„æ­¤å¤„çš„thisæ˜¯window</span></span></span><br><span class="line"><span class="javascript">                element.innerText = binding.value * <span class="number">10</span></span></span><br><span class="line"><span class="javascript">            &#125;</span></span><br><span class="line"><span class="javascript">        &#125;</span></span><br><span class="line"><span class="javascript">    &#125;</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><blockquote><p>éœ€æ±‚2ï¼šå®šä¹‰ä¸€ä¸ªv-fbindæŒ‡ä»¤ï¼Œå’Œv-bindåŠŸèƒ½ç±»ä¼¼ï¼Œä½†å¯ä»¥è®©å…¶æ‰€ç»‘å®šçš„inputå…ƒç´ é»˜è®¤è·å–ç„¦ç‚¹ã€‚</p></blockquote><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-fbind:value</span>=<span class="string">&quot;n&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">    <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">        <span class="attr">el</span>:<span class="string">&#x27;#root&#x27;</span>,</span></span><br><span class="line"><span class="javascript">        <span class="function"><span class="title">data</span>(<span class="params"></span>)</span> &#123;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="javascript">                <span class="attr">n</span>: <span class="number">1</span></span></span><br><span class="line"><span class="javascript">            &#125;</span></span><br><span class="line"><span class="javascript">        &#125;,</span></span><br><span class="line"><span class="javascript">        <span class="attr">directives</span>:&#123;</span></span><br><span class="line"><span class="javascript">            <span class="attr">fbind</span>:&#123;</span></span><br><span class="line"><span class="javascript">                <span class="comment">//æŒ‡ä»¤ä¸å…ƒç´ æˆåŠŸç»‘å®šæ—¶ï¼ˆä¸€ä¸Šæ¥ï¼‰</span></span></span><br><span class="line"><span class="javascript">                <span class="function"><span class="title">bind</span>(<span class="params">element,binding</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                    element.value = binding.value</span></span><br><span class="line"><span class="javascript">                &#125;,</span></span><br><span class="line"><span class="javascript">                <span class="comment">//æŒ‡ä»¤æ‰€åœ¨å…ƒç´ è¢«æ’å…¥é¡µé¢æ—¶</span></span></span><br><span class="line"><span class="javascript">                <span class="function"><span class="title">inserted</span>(<span class="params">element,binding</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                    element.focus()</span></span><br><span class="line"><span class="javascript">                &#125;,</span></span><br><span class="line"><span class="javascript">                <span class="comment">//æŒ‡ä»¤æ‰€åœ¨çš„æ¨¡æ¿è¢«é‡æ–°è§£ææ—¶</span></span></span><br><span class="line"><span class="javascript">                <span class="function"><span class="title">update</span>(<span class="params">element,binding</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                    element.value = binding.value</span></span><br><span class="line"><span class="javascript">                &#125;</span></span><br><span class="line"><span class="javascript">            &#125;</span></span><br><span class="line"><span class="javascript">        &#125;</span></span><br><span class="line"><span class="javascript">    &#125;</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>è¿™ä¸¤ä¸ªéƒ½æ˜¯å±€éƒ¨æŒ‡ä»¤ï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹å…¨å±€æŒ‡ä»¤</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"> Vue.directive(<span class="string">&#x27;fbind&#x27;</span>,&#123;</span><br><span class="line">   <span class="function"><span class="title">bind</span>(<span class="params">element,binding</span>)</span>&#123;</span><br><span class="line">      element.value = binding.value</span><br><span class="line">   &#125;,</span><br><span class="line">   <span class="function"><span class="title">inserted</span>(<span class="params">element,binding</span>)</span>&#123;</span><br><span class="line">      element.focus()</span><br><span class="line">   &#125;,</span><br><span class="line">   <span class="comment">//æŒ‡ä»¤æ‰€åœ¨çš„æ¨¡æ¿è¢«é‡æ–°è§£ææ—¶</span></span><br><span class="line">   <span class="function"><span class="title">update</span>(<span class="params">element,binding</span>)</span>&#123;</span><br><span class="line">      element.value = binding.value</span><br><span class="line">   &#125;</span><br><span class="line">&#125;) </span><br></pre></td></tr></table></figure><p>æ³¨æ„ç‚¹ï¼š</p><figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">æŒ‡ä»¤å®šä¹‰æ—¶ä¸åŠ v-ï¼Œä½†ä½¿ç”¨æ—¶è¦åŠ v-ï¼›</span><br><span class="line"></span><br><span class="line">æŒ‡ä»¤åå¦‚æœæ˜¯å¤šä¸ªå•è¯ï¼Œè¦ä½¿ç”¨kebab-<span class="keyword">case</span>å‘½åæ–¹å¼ï¼Œä¸è¦ç”¨camelCaseå‘½åã€‚</span><br></pre></td></tr></table></figure><h3 id="ç”Ÿå‘½å‘¨æœŸ"><a href="#ç”Ÿå‘½å‘¨æœŸ" class="headerlink" title="ç”Ÿå‘½å‘¨æœŸ"></a>ç”Ÿå‘½å‘¨æœŸ</h3><p>å®šä¹‰ï¼šVueä¸­æ¯ä¸€ä¸ªç”Ÿå‘½å‘¨æœŸéƒ½å¯¹åº”ç€ä¸€ä¸ªé’©å­ï¼ˆå‡½æ•°ï¼‰ï¼Œå½“Vueèµ°åˆ°è¯¥ç”Ÿå‘½å‘¨æœŸé˜¶æ®µçš„æ—¶å€™ï¼Œå°±ä¼šè‡ªå·±è°ƒç”¨è¯¥é’©å­ã€‚</p><img src="/%E5%89%8D%E7%AB%AF/Vue2/2022/06/22/Vue2-%E5%9F%BA%E7%A1%803/image-20220627181736326.png" class title="ç”Ÿå‘½å‘¨æœŸæµç¨‹å›¾"><p>é»„è‰²çš„æ ‡ç­¾æ˜¯æˆ‘åŠ çš„æ³¨é‡Šï¼Œå…¶ä»–çš„æµç¨‹éƒ½æ˜¯ä»Vueå®˜ç½‘æŸ¥çœ‹çš„</p><p>æœ€å¸¸ç”¨çš„å°±æ˜¯<code>mounted</code>å’Œ<code>destoryed</code></p><p>ä¸€èˆ¬åœ¨<code>mounted</code>é’©å­ä¸­åˆå§‹åŒ–æ•°æ®ï¼ˆAjaxè¯·æ±‚ï¼‰ï¼Œåœ¨<code>destoryed</code>é’©å­ä¸­åˆ é™¤å®šæ—¶å™¨ï¼Œè§£ç»‘è‡ªå®šä¹‰äº‹ä»¶ç­‰æ”¶å°¾å·¥ä½œ</p><h3 id="ç»„ä»¶"><a href="#ç»„ä»¶" class="headerlink" title="ç»„ä»¶"></a>ç»„ä»¶</h3><blockquote><p>æ¨¡å—åŒ–çš„æ¦‚å¿µ</p></blockquote><p>å¦‚æœæ‰€æœ‰çš„jsä»£ç éƒ½åœ¨ä¸€ä¸ªæ–‡ä»¶ä¸­ï¼Œé‚£ä¹ˆåæœŸç»´æŠ¤å’Œæ›´æ–°ä¼šéå¸¸åƒåŠ›ã€‚æ‰€ä»¥å°±æœ‰äº†æ¨¡å—åŒ–çš„æ¦‚å¿µäº†ï¼Œè¿™é‡Œå¯ä»¥çœ‹çœ‹æˆ‘ä¹‹å‰å†™çš„<a href="#">JavaScriptçš„æ¨¡å—åŒ–è§„èŒƒ</a></p><blockquote><p>ç»„ä»¶çš„å®šä¹‰</p></blockquote><p>ç”¨æ¥å®ç°å±€éƒ¨åŠŸèƒ½æ•ˆæœçš„æ‰€æœ‰ä»£ç å’Œèµ„æºçš„é›†åˆï¼ˆHTMLã€CSSã€JavaScriptï¼‰</p><h4 id="ä¼ ç»Ÿå¼€å‘"><a href="#ä¼ ç»Ÿå¼€å‘" class="headerlink" title="ä¼ ç»Ÿå¼€å‘"></a>ä¼ ç»Ÿå¼€å‘</h4><p>æˆ‘ä»¬å…ˆæ¥çœ‹çœ‹ä¼ ç»Ÿå¼€å‘çš„ç»“æ„</p><img src="/%E5%89%8D%E7%AB%AF/Vue2/2022/06/22/Vue2-%E5%9F%BA%E7%A1%803/image-20220628095008282.png" class title="ä¼ ç»Ÿå¼€å‘"><p>å…¶å­˜åœ¨çš„é—®é¢˜æ˜¯</p><p>1ã€ä»£ç å¤ç”¨ç‡ä¸é«˜</p><p>2ã€ä¾èµ–å…³ç³»æ··ä¹±ï¼ŒåæœŸéš¾ä»¥ç»´æŠ¤</p><h4 id="ç»„ä»¶å¼€å‘"><a href="#ç»„ä»¶å¼€å‘" class="headerlink" title="ç»„ä»¶å¼€å‘"></a>ç»„ä»¶å¼€å‘</h4><img src="/%E5%89%8D%E7%AB%AF/Vue2/2022/06/22/Vue2-%E5%9F%BA%E7%A1%803/image-20220628100230354.png" class title="ç»„ä»¶åŒ–å¼€å‘"><p>æˆ‘ä»¬æ¥çœ‹çœ‹å®˜ç½‘ç»™æˆ‘ä»¬çš„å›¾</p><img src="/%E5%89%8D%E7%AB%AF/Vue2/2022/06/22/Vue2-%E5%9F%BA%E7%A1%803/image-20220628100527543.png" class title="å®˜ç½‘"><p>æœ€ä¸Šå±‚çš„å°±æ˜¯vmå¯¹è±¡ï¼Œå®ƒç®¡ç†æ‰€æœ‰çš„ç»„ä»¶å¯¹è±¡</p><p>åœ¨Vueä¸­æœ‰ä¸¤ç§ä½¿ç”¨ç»„ä»¶åŒ–å¼€å‘çš„æ€è·¯</p><p>1ã€éå•æ–‡ä»¶ç»„ä»¶</p><p>2ã€å•æ–‡ä»¶ç»„ä»¶</p><h4 id="éå•æ–‡ä»¶ç»„ä»¶"><a href="#éå•æ–‡ä»¶ç»„ä»¶" class="headerlink" title="éå•æ–‡ä»¶ç»„ä»¶"></a>éå•æ–‡ä»¶ç»„ä»¶</h4><h5 id="å®šä¹‰ç»„ä»¶"><a href="#å®šä¹‰ç»„ä»¶" class="headerlink" title="å®šä¹‰ç»„ä»¶"></a>å®šä¹‰ç»„ä»¶</h5><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> hello = Vue.extend(&#123;</span><br><span class="line">   <span class="attr">template</span>:<span class="string">`</span></span><br><span class="line"><span class="string">      &lt;div&gt;  </span></span><br><span class="line"><span class="string">         &lt;h2&gt;ä½ å¥½å•Šï¼&#123;&#123;name&#125;&#125;&lt;/h2&gt;</span></span><br><span class="line"><span class="string">      &lt;/div&gt;</span></span><br><span class="line"><span class="string">   `</span>,</span><br><span class="line">   <span class="function"><span class="title">data</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">      <span class="keyword">return</span> &#123;</span><br><span class="line">         <span class="attr">name</span>:<span class="string">&#x27;Tom&#x27;</span></span><br><span class="line">      &#125;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>è¿™é‡Œçš„dataé…ç½®é¡¹æˆ‘ä»¬è¯´è¿‡å¯ä»¥å†™æˆä¸¤ç§å½¢å¼</p><p>1ã€å‡½æ•°å¼</p><p>2ã€å¯¹è±¡å¼</p><p>åˆ°äº†ç»„ä»¶å¼€å‘ï¼Œè¿™ä¸ªdataé…ç½®é¡¹å°±å¿…é¡»æ˜¯å‡½æ•°å¼</p><p>é¿å…ç»„ä»¶è¢«å¤ç”¨æ—¶ï¼Œæ•°æ®å­˜åœ¨å¼•ç”¨å…³ç³»ã€‚</p><h5 id="æ³¨å†Œç»„ä»¶"><a href="#æ³¨å†Œç»„ä»¶" class="headerlink" title="æ³¨å†Œç»„ä»¶"></a>æ³¨å†Œç»„ä»¶</h5><blockquote><p>å±€éƒ¨æ³¨å†Œ</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> Vue(&#123;</span><br><span class="line">   <span class="attr">el</span>:<span class="string">&#x27;#app&#x27;</span>,</span><br><span class="line">   <span class="comment">//ç¬¬äºŒæ­¥ï¼šæ³¨å†Œç»„ä»¶ï¼ˆå±€éƒ¨æ³¨å†Œï¼‰</span></span><br><span class="line">   <span class="attr">components</span>:&#123;</span><br><span class="line">       hello</span><br><span class="line">   &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><blockquote><p>å…¨å±€æ³¨å†Œ</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Vue.component(<span class="string">&#x27;hello&#x27;</span>,hello)</span><br></pre></td></tr></table></figure><h5 id="ä½¿ç”¨ç»„ä»¶"><a href="#ä½¿ç”¨ç»„ä»¶" class="headerlink" title="ä½¿ç”¨ç»„ä»¶"></a>ä½¿ç”¨ç»„ä»¶</h5><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">hello</span>&gt;</span><span class="tag">&lt;/<span class="name">hello</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p>æ³¨æ„ç‚¹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">1.å…³äºç»„ä»¶å:</span><br><span class="line">    ä¸€ä¸ªå•è¯ç»„æˆï¼š</span><br><span class="line">        ç¬¬ä¸€ç§å†™æ³•(é¦–å­—æ¯å°å†™)ï¼šschool</span><br><span class="line">        ç¬¬äºŒç§å†™æ³•(é¦–å­—æ¯å¤§å†™)ï¼šSchool</span><br><span class="line">    å¤šä¸ªå•è¯ç»„æˆï¼š</span><br><span class="line">        ç¬¬ä¸€ç§å†™æ³•(kebab-caseå‘½å)ï¼šmy-school</span><br><span class="line">        ç¬¬äºŒç§å†™æ³•(CamelCaseå‘½å)ï¼šMySchool (éœ€è¦Vueè„šæ‰‹æ¶æ”¯æŒ)</span><br><span class="line">    å¤‡æ³¨ï¼š</span><br><span class="line">        (1)ç»„ä»¶åå°½å¯èƒ½å›é¿HTMLä¸­å·²æœ‰çš„å…ƒç´ åç§°</span><br><span class="line">        (2)å¯ä»¥ä½¿ç”¨nameé…ç½®é¡¹æŒ‡å®šç»„ä»¶åœ¨å¼€å‘è€…å·¥å…·ä¸­å‘ˆç°çš„åå­—</span><br><span class="line"></span><br><span class="line">2.å…³äºç»„ä»¶æ ‡ç­¾:</span><br><span class="line">    ç¬¬ä¸€ç§å†™æ³•ï¼š&lt;school&gt;&lt;/school&gt;</span><br><span class="line">    ç¬¬äºŒç§å†™æ³•ï¼š&lt;school/&gt;ä¸ç”¨ä½¿ç”¨è„šæ‰‹æ¶æ—¶ï¼Œ&lt;school/&gt;ä¼šå¯¼è‡´åç»­ç»„ä»¶ä¸èƒ½æ¸²æŸ“ã€‚</span><br><span class="line"></span><br><span class="line">3.å…³äºVueComponentï¼š</span><br><span class="line">schoolç»„ä»¶æœ¬è´¨æ˜¯ä¸€ä¸ªåä¸ºVueComponentçš„æ„é€ å‡½æ•°ï¼Œä¸”ä¸æ˜¯ç¨‹åºå‘˜å®šä¹‰çš„ï¼Œæ˜¯Vue.extendç”Ÿæˆçš„ã€‚</span><br><span class="line"></span><br><span class="line">æˆ‘ä»¬åªéœ€è¦å†™&lt;school/&gt;æˆ–&lt;school&gt;&lt;/school&gt;ï¼ŒVueè§£ææ—¶ä¼šå¸®æˆ‘ä»¬åˆ›å»ºschoolç»„ä»¶çš„å®ä¾‹å¯¹è±¡ï¼Œå³Vueå¸®æˆ‘ä»¬æ‰§è¡Œçš„ï¼šnew VueComponent(options)ã€‚</span><br><span class="line"></span><br><span class="line">4.å…³äºthisæŒ‡å‘ï¼š</span><br><span class="line">(1).ç»„ä»¶é…ç½®ä¸­ï¼š</span><br><span class="line">dataå‡½æ•°ã€methodsä¸­çš„å‡½æ•°ã€watchä¸­çš„å‡½æ•°ã€computedä¸­çš„å‡½æ•° å®ƒä»¬çš„thiså‡æ˜¯ã€VueComponentå®ä¾‹å¯¹è±¡ã€‘ã€‚</span><br><span class="line">(2).new Vue(options)é…ç½®ä¸­ï¼š</span><br><span class="line">dataå‡½æ•°ã€methodsä¸­çš„å‡½æ•°ã€watchä¸­çš„å‡½æ•°ã€computedä¸­çš„å‡½æ•° å®ƒä»¬çš„thiså‡æ˜¯ã€Vueå®ä¾‹å¯¹è±¡ã€‘ã€‚</span><br><span class="line"></span><br><span class="line">5.VueComponentçš„å®ä¾‹å¯¹è±¡ï¼Œä»¥åç®€ç§°vcï¼ˆä¹Ÿå¯ç§°ä¹‹ä¸ºï¼šç»„ä»¶å®ä¾‹å¯¹è±¡ï¼‰ã€‚</span><br><span class="line">Vueçš„å®ä¾‹å¯¹è±¡ï¼Œä»¥åç®€ç§°vmã€‚</span><br><span class="line"></span><br><span class="line">6.Vcå’ŒVmçš„åŒºåˆ«</span><br><span class="line">ä¸¤è€…æœ€å¤§çš„å·®åˆ«å°±æ˜¯vcæ²¡æœ‰elé…ç½®é¡¹ï¼Œvcåªèƒ½ä¾é™„vm</span><br><span class="line">å…¶ä»–çš„é…ç½®é¡¹å¯ä»¥è¯´æ˜¯ä¸€æ ·çš„</span><br><span class="line"></span><br><span class="line">7.é‡è¦çš„å†…ç½®å…³ç³»</span><br><span class="line">å‡½æ•°ä¸Šçš„prototypeå±æ€§å«æ˜¾ç¤ºåŸå‹å±æ€§</span><br><span class="line">å¯¹è±¡ä¸Šçš„__proto__å±æ€§å«éšå¼åŸå‹å±æ€§</span><br><span class="line">ä¸¤è€…æŒ‡å‘çš„éƒ½æ˜¯åŒä¸€ä¸ªåŸå‹å¯¹è±¡</span><br><span class="line">å®ä¾‹å¯¹è±¡çš„éšå¼åŸå‹å±æ€§æŒ‡å‘è‡ªå·±ç¼”é€ è€…çš„åŸå‹å¯¹è±¡</span><br><span class="line">VueComponent.prototype.__proto__ === Vue.prototype</span><br><span class="line">è®©ç»„ä»¶å®ä¾‹å¯¹è±¡ï¼ˆvcï¼‰å¯ä»¥è®¿é—®åˆ° VueåŸå‹ä¸Šçš„å±æ€§ã€æ–¹æ³•ã€‚</span><br></pre></td></tr></table></figure><img src="/%E5%89%8D%E7%AB%AF/Vue2/2022/06/22/Vue2-%E5%9F%BA%E7%A1%803/image-20220628122156213.png" class title="å†…ç½®å…³ç³»"><h4 id="å•æ–‡ä»¶ç»„ä»¶ï¼ˆè„šæ‰‹æ¶ï¼‰"><a href="#å•æ–‡ä»¶ç»„ä»¶ï¼ˆè„šæ‰‹æ¶ï¼‰" class="headerlink" title="å•æ–‡ä»¶ç»„ä»¶ï¼ˆè„šæ‰‹æ¶ï¼‰"></a>å•æ–‡ä»¶ç»„ä»¶ï¼ˆè„šæ‰‹æ¶ï¼‰</h4><p>è¿™é‡Œæˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨è„šæ‰‹æ¶ï¼ˆVue CLIï¼‰å•¦ï¼</p><p>CLIï¼ˆCommand Line Interfaceï¼‰å‘½ä»¤è¡Œæ¥å£ï¼Œæˆ‘ä»¬å°±å«å®ƒè„šæ‰‹æ¶</p><p>é¦–å…ˆï¼Œä½ å¿…é¡»è¦æœ‰nodeå’Œgitbashçš„ç¯å¢ƒ</p><p>åœ¨gitbashçš„å‘½ä»¤è¡Œä¸­è¾“å…¥ä»¥ä¸‹å‘½ä»¤</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ä¸‹è½½è„šæ‰‹æ¶</span></span><br><span class="line">npm i @vue/cli -g</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ›å»ºVueé¡¹ç›®</span></span><br><span class="line">vue create é¡¹ç›®å</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¯åŠ¨Vueé¡¹ç›®</span></span><br><span class="line">npm run serve</span><br></pre></td></tr></table></figure><blockquote><p>æ³¨æ„</p></blockquote><p>å¦‚æœä½ æ˜¯åœ¨ideaä¸­çš„ç»ˆç«¯è¿è¡Œçš„<code>vue create é¡¹ç›®å</code>æŠ¥äº†ä»¥ä¸‹é”™è¯¯ï¼Œæœ‰ä»¥ä¸‹ä¸¤ç§è§£å†³æ–¹æ¡ˆ</p><p>1ã€ä»¥ç®¡ç†å‘˜èº«ä»½æ‰“å¼€idea</p><p>2ã€ä½¿ç”¨å‘½ä»¤è¡Œåˆ°å½“å‰ç›®å½•ä¸‹ä½¿ç”¨è¯¥å‘½ä»¤</p><img src="/%E5%89%8D%E7%AB%AF/Vue2/2022/06/22/Vue2-%E5%9F%BA%E7%A1%803/image-20220628140018186.png" class title="æŠ¥é”™"><p>è¿™æ˜¯æ­£å¸¸å¯åŠ¨æˆåŠŸçš„ç•Œé¢</p><img src="/%E5%89%8D%E7%AB%AF/Vue2/2022/06/22/Vue2-%E5%9F%BA%E7%A1%803/image-20220628140244913.png" class title="å¯åŠ¨æˆåŠŸ"><p>è„šæ‰‹æ¶çš„HelloWorldæ¡ˆä¾‹ç•Œé¢</p><img src="/%E5%89%8D%E7%AB%AF/Vue2/2022/06/22/Vue2-%E5%9F%BA%E7%A1%803/image-20220628140331669.png" class title="è„šæ‰‹æ¶çš„HelloWorld"><p>è§‚å¯Ÿé¡¹ç›®ç»“æ„</p><img src="/%E5%89%8D%E7%AB%AF/Vue2/2022/06/22/Vue2-%E5%9F%BA%E7%A1%803/image-20220628140538722.png" class title="é¡¹ç›®ç»“æ„"><h5 id="main-js"><a href="#main-js" class="headerlink" title="main.js"></a>main.js</h5><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¼•å…¥Vue</span></span><br><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="comment">// å¼•å…¥Appæ ¹ç»„ä»¶</span></span><br><span class="line"><span class="keyword">import</span> App <span class="keyword">from</span> <span class="string">&#x27;./App.vue&#x27;</span></span><br><span class="line"><span class="comment">// å…³é—­ç”Ÿäº§æç¤º</span></span><br><span class="line">Vue.config.productionTip = <span class="literal">false</span></span><br><span class="line"><span class="comment">// åˆ›å»ºvmå¯¹è±¡</span></span><br><span class="line"><span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  <span class="attr">render</span>: <span class="function"><span class="params">h</span> =&gt;</span> h(App),</span><br><span class="line">&#125;).$mount(<span class="string">&#x27;#app&#x27;</span>)</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬ä¹‹å‰æ˜¯è¿™ä¹ˆå†™çš„</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> App <span class="keyword">from</span> <span class="string">&#x27;./App.vue&#x27;</span></span><br><span class="line">Vue.config.productionTip = <span class="literal">false</span></span><br><span class="line"><span class="keyword">new</span> Vue(&#123;</span><br><span class="line">    <span class="attr">template</span>: <span class="string">`&lt;App&gt;&lt;/App&gt;`</span>,</span><br><span class="line">    <span class="attr">components</span>: &#123;App&#125;</span><br><span class="line">&#125;).$mount(<span class="string">&#x27;#app&#x27;</span>)</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬è¿è¡Œï¼Œå‘ç°æŠ¥é”™äº†ï¼ŒæŠ¥é”™å¦‚ä¸‹</p><img src="/%E5%89%8D%E7%AB%AF/Vue2/2022/06/22/Vue2-%E5%9F%BA%E7%A1%803/image-20220628142906442.png" class title="æŠ¥é”™å’¯"><p>å¤§æ¦‚æ„æ€æ˜¯è„šæ‰‹æ¶ä½¿ç”¨çš„è¿è¡Œæ—¶ç‰ˆæœ¬çš„Vueï¼Œå®ƒæ²¡æœ‰æ¨¡æ¿è§£æå™¨</p><p>ä½ å¯ä»¥å°†æ¨¡æ¿æ”¾å…¥renderå‡½æ•°ä¸­ï¼Œæˆ–è€…ä½¿ç”¨å®Œæ•´ç‰ˆçš„Vue</p><p>æ¥è§£å†³é—®é¢˜</p><h6 id="ä½¿ç”¨å®Œæ•´ç‰ˆVue"><a href="#ä½¿ç”¨å®Œæ•´ç‰ˆVue" class="headerlink" title="ä½¿ç”¨å®Œæ•´ç‰ˆVue"></a>ä½¿ç”¨å®Œæ•´ç‰ˆVue</h6><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">&#x27;vue/dist/vue&#x27;</span></span><br></pre></td></tr></table></figure><p>å‘ç°ä¸æŠ¥é”™äº†ï¼Œé¡µé¢ä¹Ÿæ­£å¸¸æ˜¾ç¤ºäº†</p><h6 id="ä½¿ç”¨renderå‡½æ•°"><a href="#ä½¿ç”¨renderå‡½æ•°" class="headerlink" title="ä½¿ç”¨renderå‡½æ•°"></a>ä½¿ç”¨renderå‡½æ•°</h6><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> App <span class="keyword">from</span> <span class="string">&#x27;./App.vue&#x27;</span></span><br><span class="line"></span><br><span class="line">Vue.config.productionTip = <span class="literal">false</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> Vue(&#123;</span><br><span class="line">    <span class="function"><span class="title">render</span>(<span class="params">createElement</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> createElement(App)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;).$mount(<span class="string">&#x27;#app&#x27;</span>)</span><br></pre></td></tr></table></figure><p>ä¸€ä¸ªå‚æ•°çœç•¥å°æ‹¬å·</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> App <span class="keyword">from</span> <span class="string">&#x27;./App.vue&#x27;</span></span><br><span class="line"></span><br><span class="line">Vue.config.productionTip = <span class="literal">false</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> Vue(&#123;</span><br><span class="line">    <span class="attr">render</span>: <span class="function"><span class="params">createElement</span>=&gt;</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> createElement(App)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;).$mount(<span class="string">&#x27;#app&#x27;</span>)</span><br></pre></td></tr></table></figure><p>ç›´æ¥å†™è¿”å›è¯­å¥çœç•¥èŠ±æ‹¬å·å’Œreturn</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> App <span class="keyword">from</span> <span class="string">&#x27;./App.vue&#x27;</span></span><br><span class="line"></span><br><span class="line">Vue.config.productionTip = <span class="literal">false</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> Vue(&#123;</span><br><span class="line">    <span class="attr">render</span>: <span class="function"><span class="params">createElement</span> =&gt;</span> createElement(App)</span><br><span class="line">&#125;).$mount(<span class="string">&#x27;#app&#x27;</span>)</span><br></pre></td></tr></table></figure><p>æ¢ä¸ªå‚æ•°å</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> App <span class="keyword">from</span> <span class="string">&#x27;./App.vue&#x27;</span></span><br><span class="line"></span><br><span class="line">Vue.config.productionTip = <span class="literal">false</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> Vue(&#123;</span><br><span class="line">    <span class="attr">render</span>: <span class="function"><span class="params">h</span> =&gt;</span> h(App)</span><br><span class="line">&#125;).$mount(<span class="string">&#x27;#app&#x27;</span>)</span><br></pre></td></tr></table></figure><blockquote><p>ä¸ºä»€ä¹ˆè¦ä½¿ç”¨æ®‹ç¼ºç‰ˆçš„Vueå‘¢ï¼Ÿ</p></blockquote><p>æ¨¡æ¿è§£æå™¨å äº†Vuejsæºç çš„1&#x2F;3çš„ä½“ç§¯ï¼Œä¸ºäº†å‡å°‘æ‰“åŒ…åçš„ä½“ç§¯ï¼Œæ‰€ä»¥å°±å°†æ¨¡æ¿è§£æå™¨åˆ å»ï¼Œç”¨æ›´å°çš„renderå‡½æ•°æ¥å®Œæˆè¯¥ä»»åŠ¡</p><h5 id="App-vue"><a href="#App-vue" class="headerlink" title="App.vue"></a>App.vue</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;div id=&quot;app&quot;&gt;</span><br><span class="line">    &lt;img alt=&quot;Vue logo&quot; src=&quot;./assets/logo.png&quot;&gt;</span><br><span class="line">    &lt;HelloWorld msg=&quot;Welcome to Your Vue.js App&quot;/&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">    import HelloWorld from &#x27;./components/HelloWorld.vue&#x27;</span><br><span class="line"></span><br><span class="line">    export default &#123;</span><br><span class="line">        name: &#x27;App&#x27;,</span><br><span class="line">        components: &#123;</span><br><span class="line">            HelloWorld</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line">    #app &#123;</span><br><span class="line">        font-family: Avenir, Helvetica, Arial, sans-serif;</span><br><span class="line">        -webkit-font-smoothing: antialiased;</span><br><span class="line">        -moz-osx-font-smoothing: grayscale;</span><br><span class="line">        text-align: center;</span><br><span class="line">        color: #2c3e50;</span><br><span class="line">        margin-top: 60px;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ä¸€ä¸ªvueæ–‡ä»¶å¯ä»¥åˆ†ä¸ºä¸‰éƒ¨åˆ†</p><p>ç¬¬ä¸€éƒ¨åˆ†æ˜¯ç”¨æ¥å†™HTMLç»“æ„çš„</p><p>ç¬¬äºŒéƒ¨åˆ†æ˜¯ç”¨æ¥å†™JavaScriptçš„</p><p>ç¬¬ä¸‰éƒ¨åˆ†æ˜¯ç”¨æ¥å†™æ ·å¼çš„</p><h5 id="index-html"><a href="#index-html" class="headerlink" title="index.html"></a>index.html</h5><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;utf-8&quot;</span>&gt;</span></span><br><span class="line">      <span class="comment">&lt;!--é’ˆå¯¹IEï¼Œè®©IEæµè§ˆå™¨æœ€é«˜çº§åˆ«æ¸²æŸ“é¡µé¢--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width,initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">      <span class="comment">&lt;!--å¼•å…¥é¡µé¢å›¾æ ‡&lt;%= BASE_URL %&gt;å¯ä»¥æ‹¿åˆ°é¡¹ç›®æ ¹è·¯å¾„ï¼Œå°±æ˜¯publicæ–‡ä»¶å¤¹--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;icon&quot;</span> <span class="attr">href</span>=<span class="string">&quot;&lt;%= BASE_URL %&gt;favicon.ico&quot;</span>&gt;</span></span><br><span class="line">      <span class="comment">&lt;!--è®¾ç½®ç½‘ç«™åå­—ï¼Œæ‹¿ç€package.jsonä¸­é…ç½®çš„nameä½œä¸ºç½‘ç«™å--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>&lt;%= htmlWebpackPlugin.options.title %&gt;<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">      <span class="comment">&lt;!--å½“ç½‘ç«™ä¸æ”¯æŒJavaScriptçš„æ—¶å€™ï¼Œæ˜¾ç¤ºnoscriptä¸­çš„å†…å®¹--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">noscript</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">strong</span>&gt;</span>We&#x27;re sorry but &lt;%= htmlWebpackPlugin.options.title %&gt; doesn&#x27;t work properly without JavaScript enabled. Please enable it to continue.<span class="tag">&lt;/<span class="name">strong</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">noscript</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--å®¹å™¨--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- built files will be auto injected --&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
          <category> Vue2 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Vue </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Vue2-åŸºç¡€2</title>
      <link href="/%E5%89%8D%E7%AB%AF/Vue2/2022/06/21/Vue2-%E5%9F%BA%E7%A1%802/"/>
      <url>/%E5%89%8D%E7%AB%AF/Vue2/2022/06/21/Vue2-%E5%9F%BA%E7%A1%802/</url>
      
        <content type="html"><![CDATA[<h2 id="Vue2åŸºç¡€2"><a href="#Vue2åŸºç¡€2" class="headerlink" title="Vue2åŸºç¡€2"></a>Vue2åŸºç¡€2</h2><h3 id="äº‹ä»¶å¤„ç†"><a href="#äº‹ä»¶å¤„ç†" class="headerlink" title="äº‹ä»¶å¤„ç†"></a>äº‹ä»¶å¤„ç†</h3><h4 id="v-on"><a href="#v-on" class="headerlink" title="v-on"></a>v-on</h4><p>è¿™é‡Œæˆ‘ä»¬è¦æ¥è§¦ä¸€ä¸ªå…¨æ–°çš„é…ç½®é¡¹<code>methods</code>å’Œä¸€ä¸ªæ–°çš„æŒ‡ä»¤è¯­æ³•<code>v-on</code>ï¼Œæˆ‘ä»¬ä»¥éœ€æ±‚ä¸ºå¯¼å‘æ¥å­¦ä¹ è¿™ä¸€èŠ‚</p><blockquote><p>éœ€æ±‚ä¸€ï¼šç‚¹å‡»æŒ‰é’®ï¼Œæ§åˆ¶å°æ˜¾ç¤ºæ¬¢è¿ä¿¡æ¯</p></blockquote><p>HTML</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    &#123;&#123;msg&#125;&#125;</span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;name&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--æŒ‰é’®ç»‘å®šç‚¹å‡»äº‹ä»¶ï¼Œå›è°ƒå‡½æ•°æ˜¯welcome--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">v-on:click</span>=<span class="string">&quot;welcome&quot;</span>&gt;</span>æ¬¢è¿<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p>JavaScript</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> Vue(&#123;</span><br><span class="line">    <span class="attr">el</span>: <span class="string">&#x27;#app&#x27;</span>,</span><br><span class="line">    <span class="function"><span class="title">data</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> &#123;</span><br><span class="line">            <span class="attr">name</span>: <span class="string">&#x27;kerwin&#x27;</span>,</span><br><span class="line">            <span class="attr">msg</span>: <span class="string">&#x27;åšæŒå¾ˆéš¾ï¼Œä½†å¾ˆé…·&#x27;</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">methods</span>:&#123;</span><br><span class="line">        <span class="function"><span class="title">welcome</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">`Hello,<span class="subst">$&#123;<span class="built_in">this</span>.name&#125;</span>`</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>è¿™é‡Œæœ‰å‡ ä¸ªçŸ¥è¯†ç‚¹</p><p>1ã€æ¨¡æ¿å­—ç¬¦ä¸²</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">è¢«``åŒ…è£¹çš„å­—ç¬¦ä¸²è¢«å«åšæ¨¡æ¿å­—ç¬¦ä¸²ï¼Œå®ƒçš„ç‰¹ç‚¹æ˜¯ï¼Œåœ¨å…¶ä¸­å¯ä»¥ä½¿ç”¨<span class="variable">$&#123;&#125;</span>è¯­æ³•è¯»å–å˜é‡</span><br></pre></td></tr></table></figure><p>2ã€methodsä¸­é…ç½®çš„å‡½æ•°ï¼ŒthisæŒ‡çš„åº”è¯¥æ˜¯vmå¯¹è±¡ï¼Œè¿™å°±å¯¹åº”ç€å‰é¢æˆ‘è¯´çš„ä¸€å¥è¯</p><p>æ‰€æœ‰è¢«Vueç®¡ç†çš„å‡½æ•°(ä¸èƒ½æ˜¯ç®­å¤´å‡½æ•°)ï¼Œå…¶å†…éƒ¨çš„thiséƒ½æ˜¯vmå¯¹è±¡ï¼Œæ‰€ä»¥å¯ä»¥ä½¿ç”¨this.xxxç›´æ¥è·å–å±æ€§çš„å€¼</p><p>3ã€è§‚å¯Ÿvmå¯¹è±¡ï¼Œå‘ç°åœ¨methodsä¸­é…ç½®çš„å‡½æ•°ï¼Œéƒ½å‡ºç°åœ¨äº†vmèº«ä¸Š</p><p>4ã€ç®€å†™å½¢å¼ï¼Œ<strong>å¸¸ç”¨</strong></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;welcome&quot;</span>&gt;</span>æ¬¢è¿<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure><blockquote><p>éœ€æ±‚äºŒï¼šç‚¹å‡»æŒ‰é’®ï¼Œæç¤ºå½“å‰é¼ æ ‡ä½ç½®</p></blockquote><p>è¿™å°±éœ€è¦ä½¿ç”¨äº‹ä»¶å‚æ•°ï¼Œå…¶å®åœ¨welcomeæ–¹æ³•çš„å‚æ•°åˆ—è¡¨ä¸­ï¼ŒVueé»˜è®¤ä¸ºå’±ä»¬ä¼ é€’äº†ä¸€ä¸ªå‚æ•°ï¼Œåªä¸è¿‡åˆšåˆšæˆ‘ä»¬æ²¡æœ‰ä½¿ç”¨è€Œå·²ï¼Œæˆ‘ä»¬æ¥æ”¶æ‰“å°ä¸€ä¸‹çœ‹çœ‹</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">welcome</span>(<span class="params">$event</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log($event)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><img src="/%E5%89%8D%E7%AB%AF/Vue2/2022/06/21/Vue2-%E5%9F%BA%E7%A1%802/image-20220621162114463.png" class title="$eventå‚æ•°"><p>æ—¢ç„¶æœ‰äº†è¿™ä¸ªå¯¹è±¡($event)ï¼Œé‚£æˆ‘è·å–å½“å‰é¼ æ ‡ä½ç½®ï¼Œåªéœ€è¦è¯»å–è¯¥å¯¹è±¡çš„pageXå±æ€§å’ŒpageYå±æ€§å³å¯</p><p>è¿™é‡Œä¹Ÿå¯ä»¥ä¸å«$eventï¼Œå«å®ƒaå•Šbå•Šéƒ½å¯ä»¥ï¼Œä½†æ˜¯ä¹ æƒ¯èµ·è§ï¼Œæˆ‘å°±ä»¥$eventæ¥æ¥æ”¶å®ƒäº†</p><blockquote><p>éœ€æ±‚3ï¼šæˆ‘æƒ³å°†nameä¼ å‚è¿›å»ï¼Œè€Œä¸æ˜¯ä½¿ç”¨thiså»è¯»å–</p></blockquote><p>HTML</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;welcome($event,name)&quot;</span>&gt;</span>æ¬¢è¿<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure><p>JavaScript</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">welcome</span>(<span class="params">$event,name</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">`Hello,<span class="subst">$&#123;name&#125;</span>`</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™é‡Œæœ‰ä¸ªæ³¨æ„ç‚¹ï¼Œå¦‚æœæˆ‘åœ¨è¿™é‡Œæ˜¯è¿™æ ·å†™çš„<code>&lt;button v-on:click=&quot;welcome(name)&quot;&gt;æ¬¢è¿&lt;/button&gt;</code></p><p>é‚£ä¹ˆwelcomeå‡½æ•°åªæœ‰ä¸€ä¸ªå…¥å‚ï¼Œé‚£å°±æ˜¯nameï¼Œç‚¹å‡»äº‹ä»¶å¯¹è±¡å°±æ²¡äº†</p><h4 id="äº‹ä»¶ä¿®é¥°ç¬¦"><a href="#äº‹ä»¶ä¿®é¥°ç¬¦" class="headerlink" title="äº‹ä»¶ä¿®é¥°ç¬¦"></a>äº‹ä»¶ä¿®é¥°ç¬¦</h4><blockquote><p>éœ€æ±‚1ï¼šç‚¹å‡»ä¸€ä¸ªaæ ‡ç­¾ï¼Œç„¶åæç¤ºå¼¹çª—ï¼Œä½†æ˜¯ä¸è·³è½¬é¡µé¢</p></blockquote><p>HTML</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;https://baidu.com&quot;</span> @<span class="attr">click.prevent</span>=<span class="string">&quot;showInfo&quot;</span>&gt;</span>ç‚¹æˆ‘è·³è½¬ç™¾åº¦<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p>JavaScript</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> vm = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">    <span class="attr">el</span>: <span class="string">&#x27;#app&#x27;</span>,</span><br><span class="line">    <span class="attr">methods</span>:&#123;</span><br><span class="line">        <span class="function"><span class="title">showInfo</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">            alert(<span class="string">&#x27;Hello&#x27;</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>è¿™é‡Œé¢çš„preventå°±æ˜¯äº‹ä»¶ä¿®é¥°ç¬¦ã€‚</p><p>Vueä¸ºæˆ‘ä»¬æä¾›äº†6ç§äº‹ä»¶ä¿®é¥°ç¬¦ï¼Œç”¨çš„éƒ½ä¸æ˜¯å¾ˆå¤šï¼Œå¤§å®¶è¿‡ä¸ªçœ¼å°±è¡Œ</p><table><thead><tr><th align="center">äº‹ä»¶ä¿®é¥°ç¬¦</th><th align="center">ä½œç”¨</th></tr></thead><tbody><tr><td align="center">prevent</td><td align="center">é˜»æ­¢é»˜è®¤äº‹ä»¶ï¼ˆå¸¸ç”¨ï¼‰</td></tr><tr><td align="center">stop</td><td align="center">é˜»æ­¢äº‹ä»¶å†’æ³¡ï¼ˆå¸¸ç”¨ï¼‰</td></tr><tr><td align="center">once</td><td align="center">äº‹ä»¶åªè§¦å‘ä¸€æ¬¡ï¼ˆå¸¸ç”¨ï¼‰</td></tr><tr><td align="center">capture</td><td align="center">ä½¿ç”¨äº‹ä»¶çš„æ•è·æ¨¡å¼</td></tr><tr><td align="center">self</td><td align="center">åªæœ‰event.targetæ˜¯å½“å‰æ“ä½œçš„å…ƒç´ æ—¶æ‰è§¦å‘äº‹ä»¶</td></tr><tr><td align="center">passive</td><td align="center">äº‹ä»¶çš„é»˜è®¤è¡Œä¸ºç«‹å³æ‰§è¡Œï¼Œæ— éœ€ç­‰å¾…äº‹ä»¶å›è°ƒæ‰§è¡Œå®Œæ¯•</td></tr></tbody></table><p>è¿™é‡Œè®²ä¸€ä¸‹passiveçš„ä½œç”¨</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="css"></span></span><br><span class="line"><span class="css">    <span class="selector-class">.list</span>&#123;</span></span><br><span class="line"><span class="css">        <span class="attribute">width</span>: <span class="number">200px</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">height</span>: <span class="number">200px</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">background-color</span>: peru;</span></span><br><span class="line"><span class="css">        <span class="attribute">overflow</span>: auto;</span></span><br><span class="line"><span class="css">    &#125;</span></span><br><span class="line"><span class="css">    <span class="selector-tag">li</span>&#123;</span></span><br><span class="line"><span class="css">        <span class="attribute">height</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="css">    &#125;</span></span><br><span class="line"><span class="css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ul</span> @<span class="attr">wheel.passive</span>=<span class="string">&quot;bigWork&quot;</span> <span class="attr">class</span>=<span class="string">&quot;list&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span>1<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span>2<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span>3<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span>4<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">    wheeläº‹ä»¶</span></span><br><span class="line"><span class="comment">    å½“é¼ æ ‡æ»šè½®æ»šåŠ¨ï¼Œåˆ™è§¦å‘è¯¥äº‹ä»¶ï¼Œå¹¶ä¸”å½“æ»šåŠ¨æ¡åˆ°è¾¾è¾¹ç•Œåï¼Œæ»šåŠ¨ä¹Ÿä¼šè§¦å‘è¯¥äº‹ä»¶</span></span><br><span class="line"><span class="comment">    scrolläº‹ä»¶</span></span><br><span class="line"><span class="comment">    å½“æ»šåŠ¨æ¡æ»šåŠ¨åˆ™è§¦å‘è¯¥äº‹ä»¶ï¼Œæ»šåŠ¨æ¡åˆ°äº†è¾¹ç•Œåï¼Œå†æ»šåŠ¨å°±ä¸ä¼šè§¦å‘è¯¥äº‹ä»¶äº†</span></span><br><span class="line"><span class="comment">    --&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">    Vue.config.productionTip = <span class="literal">false</span> <span class="comment">//é˜»æ­¢ vue åœ¨å¯åŠ¨æ—¶ç”Ÿæˆç”Ÿäº§æç¤ºã€‚</span></span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">    <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">        <span class="attr">el</span>:<span class="string">&#x27;#app&#x27;</span>,</span></span><br><span class="line"><span class="javascript">        <span class="attr">methods</span>:&#123;</span></span><br><span class="line"><span class="javascript">            <span class="function"><span class="title">bigWork</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="number">100000</span>; i++) &#123;</span></span><br><span class="line"><span class="javascript">                    <span class="built_in">console</span>.log(<span class="string">&#x27;===&#x27;</span>)</span></span><br><span class="line"><span class="javascript">                &#125;</span></span><br><span class="line"><span class="javascript">                <span class="built_in">console</span>.log(<span class="string">&#x27;æ´»ç»ˆäºå¹²å®Œäº†&#x27;</span>)</span></span><br><span class="line"><span class="javascript">            &#125;</span></span><br><span class="line"><span class="javascript">        &#125;</span></span><br><span class="line"><span class="javascript">    &#125;)</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ç°åœ¨æ»šåŠ¨é¼ æ ‡æ»šè½®çš„æ—¶å€™ï¼Œæ»šåŠ¨æ¡å°±ä¼šå¡ä½ä¸åŠ¨ï¼Œå½“æˆ‘åŠ ä¸Špassiveåï¼Œå³å˜æ­£å¸¸ã€‚è¿™æ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿ</p><p>å½“è§¦å‘æ»šè½®äº‹ä»¶åï¼Œå…ˆæ‰§è¡Œäº‹ä»¶å›è°ƒï¼Œç„¶åå†æ‰§è¡Œé»˜è®¤äº‹ä»¶ï¼Œå¦‚æœä»»åŠ¡é‡å¾ˆå¤§ï¼Œåˆ™é»˜è®¤äº‹ä»¶å°±ä¼šå †ç§¯ï¼Œå¯¼è‡´é¡µé¢å¡é¡¿</p><p>ä½†æ˜¯å½“æˆ‘æ¢æˆscrollçš„æ—¶å€™ï¼Œå°±ç®—æˆ‘ä¸åŠ passiveä¿®é¥°ç¬¦ï¼Œæ»šåŠ¨æ¡ä¾æ—§æ­£å¸¸ã€‚</p><p>passiveåœ¨pcç«¯ç”¨çš„å¾ˆå°‘ï¼Œåœ¨ç§»åŠ¨ç«¯ç”¨çš„è¾ƒå¤šä¸€ç‚¹</p><h4 id="é”®ç›˜äº‹ä»¶"><a href="#é”®ç›˜äº‹ä»¶" class="headerlink" title="é”®ç›˜äº‹ä»¶"></a>é”®ç›˜äº‹ä»¶</h4><p>é”®ç›˜äº‹ä»¶æœ€å¸¸ç”¨çš„å°±ä¸¤ä¸ªäº‹ä»¶<code>keydown</code>å’Œ<code>keyup</code></p><p>å‰è€…æ˜¯å½“æŒ‰é”®æŒ‰ä¸‹åè§¦å‘ï¼Œåè€…æ˜¯å½“æŒ‰é”®å›å¼¹èµ·æ¥åè§¦å‘</p><blockquote><p>æ¡ˆä¾‹1ï¼šè¾“å…¥æ–‡å­—ï¼Œå½“æŒ‰ä¸‹å›è½¦æ§åˆ¶å°æ‰“å°</p></blockquote><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;msg&quot;</span> <span class="attr">v-on:keyup.enter</span>=<span class="string">&quot;showInfo&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">        ç®€å†™æ¨¡å¼</span></span><br><span class="line"><span class="comment">        &lt;input type=&quot;text&quot; v-model=&quot;msg&quot; @keyup.enter=&quot;showInfo&quot;&gt;</span></span><br><span class="line"><span class="comment">    --&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">    <span class="keyword">let</span> vm = <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">        <span class="attr">el</span>: <span class="string">&#x27;#app&#x27;</span>,</span></span><br><span class="line"><span class="javascript">        <span class="function"><span class="title">data</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="javascript">                <span class="attr">msg</span>: <span class="string">&#x27;&#x27;</span></span></span><br><span class="line"><span class="javascript">            &#125;</span></span><br><span class="line"><span class="javascript">        &#125;,</span></span><br><span class="line"><span class="javascript">        <span class="attr">methods</span>:&#123;</span></span><br><span class="line"><span class="javascript">            <span class="function"><span class="title">showInfo</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="built_in">console</span>.log(<span class="string">`è¾“å…¥æ¡†ä¸­çš„å¥å­æ˜¯<span class="subst">$&#123;<span class="built_in">this</span>.msg&#125;</span>`</span>)</span></span><br><span class="line"><span class="javascript">            &#125;</span></span><br><span class="line"><span class="javascript">        &#125;</span></span><br><span class="line"><span class="javascript">    &#125;);</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><blockquote><p>æ€»ç»“ï¼š</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">1.Vueä¸­å¸¸ç”¨çš„æŒ‰é”®åˆ«åï¼š</span><br><span class="line">         å›è½¦ =&gt; enter</span><br><span class="line">         åˆ é™¤ =&gt; deleteã€backspace  (åŒ…æ‹¬â€œåˆ é™¤â€å’Œâ€œé€€æ ¼â€é”®)</span><br><span class="line">         é€€å‡º =&gt; esc</span><br><span class="line">         ç©ºæ ¼ =&gt; space</span><br><span class="line">         æ¢è¡Œ =&gt; tab (ç‰¹æ®Šï¼Œå¿…é¡»é…åˆkeydownå»ä½¿ç”¨)</span><br><span class="line">         ä¸Š =&gt; up</span><br><span class="line">         ä¸‹ =&gt; down</span><br><span class="line">         å·¦ =&gt; left</span><br><span class="line">         å³ =&gt; right</span><br><span class="line"></span><br><span class="line">2.ç³»ç»Ÿä¿®é¥°é”®ï¼ˆç”¨æ³•ç‰¹æ®Šï¼‰ï¼šctrlã€altã€<span class="built_in">shift</span>ã€meta(win)</span><br><span class="line">         (1).é…åˆkeyupä½¿ç”¨ï¼šæŒ‰ä¸‹ä¿®é¥°é”®çš„åŒæ—¶ï¼Œå†æŒ‰ä¸‹å…¶ä»–é”®ï¼Œéšåé‡Šæ”¾å…¶ä»–é”®ï¼Œäº‹ä»¶æ‰è¢«è§¦å‘ã€‚</span><br><span class="line">         (2).é…åˆkeydownä½¿ç”¨ï¼šæ­£å¸¸è§¦å‘äº‹ä»¶ã€‚</span><br><span class="line"></span><br><span class="line">3.å½“æŒ‰ä¸‹Ctrl+yçš„æ—¶å€™ï¼Œå†è§¦å‘äº‹ä»¶</span><br><span class="line">&lt;input <span class="built_in">type</span>=<span class="string">&quot;text&quot;</span> v-model=<span class="string">&quot;msg&quot;</span> @keyup.ctrl.y=<span class="string">&quot;showInfo&quot;</span>&gt;</span><br></pre></td></tr></table></figure><h3 id="è®¡ç®—å±æ€§ä¸ç›‘è§†"><a href="#è®¡ç®—å±æ€§ä¸ç›‘è§†" class="headerlink" title="è®¡ç®—å±æ€§ä¸ç›‘è§†"></a>è®¡ç®—å±æ€§ä¸ç›‘è§†</h3><blockquote><p>æ¡ˆä¾‹ï¼šæ ¹æ®è¾“å…¥çš„å§“å’Œåå±•ç¤ºå§“å</p></blockquote><img src="/%E5%89%8D%E7%AB%AF/Vue2/2022/06/21/Vue2-%E5%9F%BA%E7%A1%802/image-20220622084356095.png" class title="æ•ˆæœå›¾"><h4 id="æ’å€¼è¯­æ³•å®ç°"><a href="#æ’å€¼è¯­æ³•å®ç°" class="headerlink" title="æ’å€¼è¯­æ³•å®ç°"></a>æ’å€¼è¯­æ³•å®ç°</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    å§“ï¼š<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;firstName&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">br</span>&gt;</span></span><br><span class="line">    åï¼š<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;secondName&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">br</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span>&gt;</span>å…¨åï¼š&#123;&#123;firstName&#125;&#125;-&#123;&#123;secondName&#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">    <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">        <span class="attr">el</span>: <span class="string">&#x27;#app&#x27;</span>,</span></span><br><span class="line"><span class="javascript">        <span class="function"><span class="title">data</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="javascript">                <span class="attr">firstName</span>:<span class="string">&#x27;&#x27;</span>,</span></span><br><span class="line"><span class="javascript">                <span class="attr">secondName</span>: <span class="string">&#x27;&#x27;</span></span></span><br><span class="line"><span class="javascript">            &#125;</span></span><br><span class="line"><span class="javascript">        &#125;</span></span><br><span class="line"><span class="javascript">    &#125;)</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="methodså®ç°"><a href="#methodså®ç°" class="headerlink" title="methodså®ç°"></a>methodså®ç°</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    å§“ï¼š<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;firstName&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">br</span>&gt;</span></span><br><span class="line">åï¼š<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;secondName&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">br</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--è¿™é‡Œçš„æ–¹æ³•å¿…é¡»åŠ ä¸Šå°æ‹¬å·ï¼Œä¸ç„¶è¯»å–çš„å°±æ˜¯æ–¹æ³•çš„æºç --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">span</span>&gt;</span>å…¨åï¼š&#123;&#123;fullName()&#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">    <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">        <span class="attr">el</span>: <span class="string">&#x27;#app&#x27;</span>,</span></span><br><span class="line"><span class="javascript">        <span class="function"><span class="title">data</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="javascript">                <span class="attr">firstName</span>:<span class="string">&#x27;&#x27;</span>,</span></span><br><span class="line"><span class="javascript">                <span class="attr">secondName</span>: <span class="string">&#x27;&#x27;</span></span></span><br><span class="line"><span class="javascript">            &#125;</span></span><br><span class="line"><span class="javascript">        &#125;,</span></span><br><span class="line"><span class="javascript">        <span class="attr">methods</span>:&#123;</span></span><br><span class="line"><span class="javascript">            <span class="function"><span class="title">fullName</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="keyword">return</span> <span class="string">`<span class="subst">$&#123;<span class="built_in">this</span>.firstName&#125;</span>-<span class="subst">$&#123;<span class="built_in">this</span>.secondName&#125;</span>`</span></span></span><br><span class="line"><span class="javascript">            &#125;</span></span><br><span class="line"><span class="javascript">        &#125;</span></span><br><span class="line"><span class="javascript">    &#125;)</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span> </span><br></pre></td></tr></table></figure><p>è¿™é‡Œéœ€è¦æ³¨æ„ä¸€ä¸ªç‚¹ï¼šå½“dataä¸­çš„æ•°æ®å‘ç”Ÿäº†æ”¹å˜ï¼Œå°±ä¼šé‡æ–°è§£ææ¨¡æ¿ï¼Œæ‰€ä»¥æ‰€æœ‰åœ¨æ’å€¼è¯­æ³•ä¸­çš„å‡½æ•°éƒ½ä¼šå†æ‰§è¡Œä¸€é</p><h4 id="è®¡ç®—å±æ€§å®ç°"><a href="#è®¡ç®—å±æ€§å®ç°" class="headerlink" title="è®¡ç®—å±æ€§å®ç°"></a>è®¡ç®—å±æ€§å®ç°</h4><h5 id="å…¨å†™"><a href="#å…¨å†™" class="headerlink" title="å…¨å†™"></a>å…¨å†™</h5><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    å§“ï¼š<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;firstName&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">br</span>&gt;</span></span><br><span class="line">    åï¼š<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;secondName&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">br</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span>&gt;</span>å…¨åï¼š&#123;&#123;fullName&#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">    <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">        <span class="attr">el</span>: <span class="string">&#x27;#app&#x27;</span>,</span></span><br><span class="line"><span class="javascript">        <span class="function"><span class="title">data</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="javascript">                <span class="attr">firstName</span>:<span class="string">&#x27;&#x27;</span>,</span></span><br><span class="line"><span class="javascript">                <span class="attr">secondName</span>: <span class="string">&#x27;&#x27;</span></span></span><br><span class="line"><span class="javascript">            &#125;</span></span><br><span class="line"><span class="javascript">        &#125;,</span></span><br><span class="line"><span class="javascript">        <span class="attr">computed</span>:&#123;</span></span><br><span class="line"><span class="javascript">            <span class="attr">fullName</span>: &#123;</span></span><br><span class="line"><span class="javascript">                <span class="function"><span class="title">get</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                    <span class="keyword">return</span> <span class="string">`<span class="subst">$&#123;<span class="built_in">this</span>.firstName&#125;</span>-<span class="subst">$&#123;<span class="built_in">this</span>.secondName&#125;</span>`</span></span></span><br><span class="line"><span class="javascript">                &#125;,</span></span><br><span class="line"><span class="javascript">                <span class="function"><span class="title">set</span>(<span class="params">value</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                    <span class="keyword">const</span> arr = value.split(<span class="string">&#x27;-&#x27;</span>)</span></span><br><span class="line"><span class="javascript">                    <span class="built_in">this</span>.firstName = arr[<span class="number">0</span>]</span></span><br><span class="line"><span class="javascript">                    <span class="built_in">this</span>.lastName = arr[<span class="number">1</span>]</span></span><br><span class="line"><span class="javascript">                &#125;</span></span><br><span class="line"><span class="javascript">            &#125;</span></span><br><span class="line"><span class="javascript">        &#125;</span></span><br><span class="line"><span class="javascript">    &#125;)</span></span><br></pre></td></tr></table></figure><p>æ€»ç»“ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">1ã€getä½•æ—¶è¢«è°ƒç”¨ï¼Ÿ</span><br><span class="line">(1)é¡µé¢åŠ è½½å¥½åï¼Œå¯¹æ­¤å˜é‡åˆæ¬¡è¯»å–</span><br><span class="line">(2)getä¸­ä½¿ç”¨åˆ°çš„ä»»ä½•å˜é‡å‘ç”Ÿå˜åŒ–çš„æ—¶å€™</span><br><span class="line">2ã€<span class="built_in">set</span>ä½•æ—¶è¢«è°ƒç”¨</span><br><span class="line">(1)å½“fullNameè¢«ä¿®æ”¹æ—¶</span><br><span class="line">3ã€è®¡ç®—å±æ€§ä¼šè¢«æ”¾åˆ°vmä¸Š</span><br></pre></td></tr></table></figure><h5 id="ç®€å†™"><a href="#ç®€å†™" class="headerlink" title="ç®€å†™"></a>ç®€å†™</h5><p>åœ¨åªè¯»ä¸å†™çš„æƒ…å†µä¸‹æ‰å¯ä»¥ä½¿ç”¨ç®€å†™æ¨¡å¼</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    å§“ï¼š<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;firstName&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">br</span>&gt;</span></span><br><span class="line">    åï¼š<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;secondName&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">br</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span>&gt;</span>å…¨åï¼š&#123;&#123;fullName&#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">    <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">        <span class="attr">el</span>: <span class="string">&#x27;#app&#x27;</span>,</span></span><br><span class="line"><span class="javascript">        <span class="function"><span class="title">data</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="javascript">                <span class="attr">firstName</span>:<span class="string">&#x27;&#x27;</span>,</span></span><br><span class="line"><span class="javascript">                <span class="attr">secondName</span>: <span class="string">&#x27;&#x27;</span></span></span><br><span class="line"><span class="javascript">            &#125;</span></span><br><span class="line"><span class="javascript">        &#125;,</span></span><br><span class="line"><span class="javascript">        <span class="attr">computed</span>:&#123;</span></span><br><span class="line"><span class="javascript">            <span class="function"><span class="title">fullName</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="keyword">return</span> <span class="string">`<span class="subst">$&#123;<span class="built_in">this</span>.firstName&#125;</span>-<span class="subst">$&#123;<span class="built_in">this</span>.secondName&#125;</span>`</span></span></span><br><span class="line"><span class="javascript">            &#125;</span></span><br><span class="line"><span class="javascript">        &#125;</span></span><br><span class="line"><span class="javascript">    &#125;)</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>è®¡ç®—å±æ€§æ˜¯ä¸€ä¸ªåè¯ï¼Œä¸æ˜¯åŠ¨è¯</p><p>è¿™ä¸€ç‚¹ææ˜ç™½ä¹‹åï¼Œå°±å¯ä»¥ç†è§£è®¡ç®—å±æ€§çš„ä½œç”¨å…¶å®å°±æ˜¯æ‹¿ç€æˆ‘ç°æœ‰çš„ä¸œè¥¿åŠ å·¥åå†å±•ç¤ºåœ¨é¡µé¢ä¸Š</p><p>æ—¢ç„¶æ’å€¼è¯­æ³•å’Œmethodséƒ½å¯ä»¥å®ç°è¯¥åŠŸèƒ½ï¼Œä¸ºä»€ä¹ˆè¿˜è¦å­¦ä¸€ä¸ªè®¡ç®—å±æ€§å‘¢ï¼Ÿè¿™ä¸æ˜¯ç»å…¸ç™½å­¦å—ï¼Ÿ</p><p>NOï¼å¤§NOç‰¹NO</p><p>è®¡ç®—å±æ€§çš„ä¼˜åŠ¿æœ‰ä¸¤ç‚¹</p><p>1ã€èŒè´£åˆ†æ˜</p><p>2ã€ä¸methodså®ç°ç›¸æ¯”ï¼Œå†…éƒ¨æœ‰<strong>ç¼“å­˜</strong>æœºåˆ¶ï¼ˆå¤ç”¨ï¼‰ï¼Œæ•ˆç‡æ›´é«˜ï¼Œè°ƒè¯•æ–¹ä¾¿ã€‚</p><blockquote><p>è¯æ˜ï¼šè®¡ç®—å±æ€§æœ‰ç¼“å­˜</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">computed:&#123;</span><br><span class="line">    <span class="function"><span class="title">fullName</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">&#x27;æˆ‘è¢«è¯»å–äº†&#x27;</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="string">`<span class="subst">$&#123;<span class="built_in">this</span>.firstName&#125;</span>-<span class="subst">$&#123;<span class="built_in">this</span>.secondName&#125;</span>`</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>é¡µé¢ä¸Šå¤šæ¬¡ä½¿ç”¨<code>fullName</code></p><img src="/%E5%89%8D%E7%AB%AF/Vue2/2022/06/21/Vue2-%E5%9F%BA%E7%A1%802/image-20220622093329400.png" class title="åˆå§‹åŒ–çš„æ—¶å€™"><p>ä¿®æ”¹å§“</p><img src="/%E5%89%8D%E7%AB%AF/Vue2/2022/06/21/Vue2-%E5%9F%BA%E7%A1%802/image-20220622093408662.png" class title="ä¿®æ”¹å§“"><p>ç”±æ­¤å¯ä»¥è¯æ˜è®¡ç®—å±æ€§å…·æœ‰ç¼“å­˜</p><p>ç¼“å­˜ä»€ä¹ˆæ—¶å€™åˆ·æ–°å‘¢ï¼Ÿå½“getä¸­ä½¿ç”¨åˆ°çš„ä»»ä½•å˜é‡å‘ç”Ÿå˜åŒ–çš„æ—¶å€™</p><h4 id="ç›‘è§†å®ç°"><a href="#ç›‘è§†å®ç°" class="headerlink" title="ç›‘è§†å®ç°"></a>ç›‘è§†å®ç°</h4><p>ç›‘è§†æ˜¯ä¸€ä¸ªå…¨æ–°çš„é…ç½®é¡¹ï¼Œä½œç”¨æ˜¯ç›‘è§†ä¸€ä¸ªå±æ€§çš„å˜åŒ–</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    å§“ï¼š<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;firstName&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">br</span>&gt;</span></span><br><span class="line">    åï¼š<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;secondName&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">br</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span>&gt;</span>å…¨åï¼š&#123;&#123;fullName&#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">    <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">        <span class="attr">el</span>: <span class="string">&#x27;#app&#x27;</span>,</span></span><br><span class="line"><span class="javascript">        <span class="function"><span class="title">data</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="javascript">                <span class="attr">firstName</span>:<span class="string">&#x27;æ&#x27;</span>,</span></span><br><span class="line"><span class="javascript">                <span class="attr">secondName</span>: <span class="string">&#x27;å››&#x27;</span>,</span></span><br><span class="line"><span class="javascript">                <span class="attr">fullName</span>: <span class="string">&#x27;&#x27;</span></span></span><br><span class="line"><span class="javascript">            &#125;</span></span><br><span class="line"><span class="javascript">        &#125;,</span></span><br><span class="line"><span class="javascript">        <span class="attr">watch</span>:&#123;</span></span><br><span class="line"><span class="javascript">            <span class="attr">firstName</span>:&#123;</span></span><br><span class="line"><span class="javascript">                <span class="function"><span class="title">handler</span>(<span class="params">newValue,oldValue</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                    <span class="built_in">this</span>.fullName = newValue + <span class="string">&#x27;-&#x27;</span> + <span class="built_in">this</span>.secondName</span></span><br><span class="line"><span class="javascript">                &#125;</span></span><br><span class="line"><span class="javascript">            &#125;,</span></span><br><span class="line"><span class="javascript">            <span class="attr">secondName</span>: &#123;</span></span><br><span class="line"><span class="javascript">                <span class="function"><span class="title">handler</span>(<span class="params">newValue,oldValue</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                    <span class="built_in">this</span>.fullName = <span class="built_in">this</span>.firstName + <span class="string">&#x27;-&#x27;</span> + newValue</span></span><br><span class="line"><span class="javascript">                &#125;</span></span><br><span class="line"><span class="javascript">            &#125;</span></span><br><span class="line"><span class="javascript">        &#125;</span></span><br><span class="line"><span class="javascript">    &#125;)</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>è¿™æ ·å†™å°±æœ‰ä¸€ä¸ªé—®é¢˜ï¼Œå½“<code>firstName</code>å’Œ<code>secondName</code>æœ‰åˆå§‹å€¼çš„æƒ…å†µä¸‹ï¼Œé¡µé¢åŠ è½½åï¼Œ<code>fullName</code>æ˜¯æ²¡æœ‰å€¼çš„</p><img src="/%E5%89%8D%E7%AB%AF/Vue2/2022/06/21/Vue2-%E5%9F%BA%E7%A1%802/image-20220622101002642.png" class title="fullName"><p>è¿™æ—¶å€™å°±éœ€è¦ä½¿ç”¨ä¸€ä¸ªé…ç½®é¡¹<code>immediate</code>ï¼Œä½¿å¾—é¡µé¢åŠ è½½åç«‹å³æ‰§è¡Œä¸€æ¬¡ç›‘è§†çš„å›è°ƒå‡½æ•°</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">watch:&#123;</span><br><span class="line">    <span class="attr">firstName</span>:&#123;</span><br><span class="line">        <span class="attr">immediate</span>: <span class="literal">true</span>,</span><br><span class="line">            <span class="function"><span class="title">handler</span>(<span class="params">newValue,oldValue</span>)</span>&#123;</span><br><span class="line">            <span class="built_in">this</span>.fullName = newValue + <span class="string">&#x27;-&#x27;</span> + <span class="built_in">this</span>.secondName</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">        <span class="attr">secondName</span>: &#123;</span><br><span class="line">            <span class="attr">immediate</span>: <span class="literal">true</span>,</span><br><span class="line">                <span class="function"><span class="title">handler</span>(<span class="params">newValue,oldValue</span>)</span>&#123;</span><br><span class="line">                <span class="built_in">this</span>.fullName = <span class="built_in">this</span>.firstName + <span class="string">&#x27;-&#x27;</span> + newValue</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™æ—¶å€™å°é©¬è§‰å¾—æ‰€æœ‰çš„æ•°æ®ç›´æ¥å†™åœ¨dataä¸­ä¸å¤ªå¥½ï¼Œä»–æƒ³ä½¿ç”¨ä¸€ä¸ªå¯¹è±¡æ¥æ”¾è¿™äº›æ•°æ®ï¼Œæ‰€ä»¥ä»–æŠŠdataæ”¹æˆäº†è¿™æ ·ï¼Œç„¶åä»–æƒ³ç›‘è§†personçš„å˜åŒ–</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">data</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        <span class="attr">person</span>: &#123;</span><br><span class="line">            <span class="attr">firstName</span>:<span class="string">&#x27;æ&#x27;</span>,</span><br><span class="line">            <span class="attr">secondName</span>: <span class="string">&#x27;å››&#x27;</span>,</span><br><span class="line">            <span class="attr">fullName</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">            <span class="attr">school</span>: &#123;</span><br><span class="line">                <span class="attr">name</span>: <span class="string">&#x27;å—äº¬æŸå¤§å­¦&#x27;</span>,</span><br><span class="line">                <span class="attr">age</span>: <span class="number">18</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure><p>äºæ˜¯ä¹é¡µé¢å°±æˆäº†è¿™æ ·</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    å§“ï¼š<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;person.firstName&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">br</span>&gt;</span></span><br><span class="line">    åï¼š<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;person.secondName&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">br</span>&gt;</span></span><br><span class="line">    å­¦æ ¡åï¼š<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;person.school.name&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">    <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">        <span class="attr">el</span>: <span class="string">&#x27;#app&#x27;</span>,</span></span><br><span class="line"><span class="javascript">        <span class="function"><span class="title">data</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="javascript">                <span class="attr">person</span>: &#123;</span></span><br><span class="line"><span class="javascript">                    <span class="attr">firstName</span>:<span class="string">&#x27;æ&#x27;</span>,</span></span><br><span class="line"><span class="javascript">                    <span class="attr">secondName</span>: <span class="string">&#x27;å››&#x27;</span>,</span></span><br><span class="line"><span class="javascript">                    <span class="attr">fullName</span>: <span class="string">&#x27;&#x27;</span>,</span></span><br><span class="line"><span class="javascript">                    <span class="attr">school</span>: &#123;</span></span><br><span class="line"><span class="javascript">                        <span class="attr">name</span>: <span class="string">&#x27;å—äº¬æŸå¤§å­¦&#x27;</span>,</span></span><br><span class="line"><span class="javascript">                        <span class="attr">age</span>: <span class="number">18</span></span></span><br><span class="line"><span class="javascript">                    &#125;</span></span><br><span class="line"><span class="javascript">                &#125;</span></span><br><span class="line"><span class="javascript">            &#125;</span></span><br><span class="line"><span class="javascript">        &#125;,</span></span><br><span class="line"><span class="javascript">        <span class="attr">watch</span>:&#123;</span></span><br><span class="line"><span class="javascript">            <span class="attr">person</span>:&#123;</span></span><br><span class="line"><span class="javascript">                <span class="function"><span class="title">handler</span>(<span class="params">newValue,oldValue</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                    <span class="built_in">console</span>.log(<span class="string">&#x27;æˆ‘è¢«ä¿®æ”¹äº†&#x27;</span>);</span></span><br><span class="line"><span class="javascript">                    <span class="built_in">console</span>.log(newValue);</span></span><br><span class="line"><span class="javascript">                &#125;</span></span><br><span class="line"><span class="javascript">            &#125;</span></span><br><span class="line"><span class="javascript">        &#125;</span></span><br><span class="line"><span class="javascript">    &#125;)</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>å°é©¬å¼€å¿ƒçš„ä¿®æ”¹äº†å­¦æ ¡åï¼Œå‘ç°æ§åˆ¶å°å•¥ä¹Ÿæ²¡æœ‰ï¼Œåˆä¿®æ”¹äº†å§“å’Œåï¼Œå‘ç°æ§åˆ¶å°éƒ½æ²¡æœ‰è¾“å‡ºï¼Œ</p><img src="/%E5%89%8D%E7%AB%AF/Vue2/2022/06/21/Vue2-%E5%9F%BA%E7%A1%802/image-20220622101930985.png" class title="å‡ºç°é—®é¢˜"><p>å…¶å®è¿™ä¸æ˜¯å°é©¬çš„é”™ï¼Œè¿™æ—¶å€™å°±éœ€è¦å¦ä¸€ä¸ªé…ç½®é¡¹äº†<code>deep</code>ï¼Œå¼€å¯å¯¹å¯¹è±¡çš„æ·±åº¦ç›‘è§†</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">watch:&#123;</span><br><span class="line">    <span class="attr">person</span>:&#123;</span><br><span class="line">        <span class="attr">deep</span>: <span class="literal">true</span>,</span><br><span class="line">        <span class="function"><span class="title">handler</span>(<span class="params">newValue,oldValue</span>)</span>&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">&#x27;æˆ‘è¢«ä¿®æ”¹äº†&#x27;</span>);</span><br><span class="line">            <span class="built_in">console</span>.log(newValue);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å°é©¬å‘ç°è¿™æ ·å†™å®Œä¹‹åï¼Œå°±åˆå¯ä»¥ç›‘è§†è¿™ä¸ªpersonå¯¹è±¡äº†</p><img src="/%E5%89%8D%E7%AB%AF/Vue2/2022/06/21/Vue2-%E5%9F%BA%E7%A1%802/image-20220622102111819.png" class title="é—®é¢˜è§£å†³"><h5 id="ç®€å†™æ¨¡å¼"><a href="#ç®€å†™æ¨¡å¼" class="headerlink" title="ç®€å†™æ¨¡å¼"></a>ç®€å†™æ¨¡å¼</h5><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    å§“ï¼š<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;firstName&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">br</span>&gt;</span></span><br><span class="line">    åï¼š<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;secondName&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">br</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span>&gt;</span>å…¨åï¼š&#123;&#123;fullName&#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">    <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">        <span class="attr">el</span>: <span class="string">&#x27;#app&#x27;</span>,</span></span><br><span class="line"><span class="javascript">        <span class="function"><span class="title">data</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="javascript">                <span class="attr">firstName</span>:<span class="string">&#x27;&#x27;</span>,</span></span><br><span class="line"><span class="javascript">                <span class="attr">secondName</span>: <span class="string">&#x27;&#x27;</span>,</span></span><br><span class="line"><span class="javascript">                <span class="attr">fullName</span>: <span class="string">&#x27;&#x27;</span></span></span><br><span class="line"><span class="javascript">            &#125;</span></span><br><span class="line"><span class="javascript">        &#125;,</span></span><br><span class="line"><span class="javascript">        <span class="attr">watch</span>: &#123;</span></span><br><span class="line"><span class="javascript">            <span class="function"><span class="title">firstName</span>(<span class="params">newValue,oldValue</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="built_in">this</span>.fullName = newValue + <span class="string">&#x27;-&#x27;</span> + <span class="built_in">this</span>.secondName</span></span><br><span class="line"><span class="javascript">            &#125;,</span></span><br><span class="line"><span class="javascript">            <span class="function"><span class="title">secondName</span>(<span class="params">newValue,oldValue</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="built_in">this</span>.fullName = <span class="built_in">this</span>.firstName + <span class="string">&#x27;-&#x27;</span> + newValue</span></span><br><span class="line"><span class="javascript">            &#125;</span></span><br><span class="line"><span class="javascript">        &#125;</span></span><br><span class="line"><span class="javascript">    &#125;)</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h5 id="å¦ä¸€ç§å†™æ³•"><a href="#å¦ä¸€ç§å†™æ³•" class="headerlink" title="å¦ä¸€ç§å†™æ³•"></a>å¦ä¸€ç§å†™æ³•</h5><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"> vm.$watch(<span class="string">&#x27;firstName&#x27;</span>,&#123;</span><br><span class="line">   <span class="attr">immediate</span>:<span class="literal">true</span>,</span><br><span class="line">   <span class="attr">deep</span>:<span class="literal">true</span>,</span><br><span class="line">   <span class="function"><span class="title">handler</span>(<span class="params">newValue,oldValue</span>)</span>&#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">&#x27;firstNameè¢«ä¿®æ”¹äº†&#x27;</span>,newValue,oldValue)</span><br><span class="line">   &#125;</span><br><span class="line">&#125;) </span><br><span class="line"></span><br><span class="line"><span class="comment">//ç®€å†™å½¢å¼ï¼Œæ‰€æœ‰è¢«vmæ‰€ç®¡ç†çš„å‡½æ•°ï¼Œéƒ½ä¸è¦å†™æˆç®­å¤´å‡½æ•°</span></span><br><span class="line"> vm.$watch(<span class="string">&#x27;secondName&#x27;</span>,<span class="function"><span class="keyword">function</span> (<span class="params">newValue,oldValue</span>)</span>&#123;</span><br><span class="line">   <span class="built_in">console</span>.log(<span class="string">&#x27;secondNameè¢«ä¿®æ”¹äº†&#x27;</span>,newValue,oldValue,<span class="built_in">this</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h4 id="åŒºåˆ«"><a href="#åŒºåˆ«" class="headerlink" title="åŒºåˆ«"></a>åŒºåˆ«</h4><p>è®¡ç®—å±æ€§å’Œç›‘è§†çš„åŒºåˆ«</p><p>å°±æŒ‰ç…§è¿™ä¸ªæ¡ˆä¾‹çœ‹çš„è¯ï¼Œå¥½åƒè®¡ç®—å±æ€§æ¯”ç›‘è§†å¥½å¤šäº†ï¼Œä½†æ˜¯å¦‚æœæˆ‘å†åŠ ä¸€ä¸ªéœ€æ±‚ï¼šå§“åè¾“å…¥é˜²æŠ–åŠ¨</p><blockquote><p>é˜²æŠ–åŠ¨ï¼šå°±æ˜¯ä¸€æ®µæ—¶é—´å†…ä¸å±•ç¤ºç»“æœï¼Œç­‰åˆ°ç”¨æˆ·è¾“å…¥å®Œæ¯•åï¼Œå†å°†ç»“æœæ”¾åˆ°é¡µé¢ä¸­</p></blockquote><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    å§“ï¼š<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;firstName&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">br</span>&gt;</span></span><br><span class="line">    åï¼š<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;secondName&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">br</span>&gt;</span></span><br><span class="line">    å…¨åï¼š<span class="tag">&lt;<span class="name">span</span>&gt;</span>&#123;&#123;fullName&#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">    <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">        <span class="attr">el</span>: <span class="string">&#x27;#app&#x27;</span>,</span></span><br><span class="line"><span class="javascript">        <span class="function"><span class="title">data</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="javascript">                <span class="attr">firstName</span>:<span class="string">&#x27;æ&#x27;</span>,</span></span><br><span class="line"><span class="javascript">                <span class="attr">secondName</span>: <span class="string">&#x27;å››&#x27;</span>,</span></span><br><span class="line"><span class="javascript">                <span class="attr">fullName</span>: <span class="string">&#x27;&#x27;</span>,</span></span><br><span class="line"><span class="javascript">                <span class="attr">timer</span>: <span class="string">&#x27;&#x27;</span>,</span></span><br><span class="line"><span class="javascript">            &#125;</span></span><br><span class="line"><span class="javascript">        &#125;,</span></span><br><span class="line"><span class="javascript">        <span class="attr">watch</span>:&#123;</span></span><br><span class="line"><span class="javascript">            <span class="attr">firstName</span>:&#123;</span></span><br><span class="line"><span class="javascript">                <span class="attr">immediate</span>: <span class="literal">true</span>,</span></span><br><span class="line"><span class="javascript">                <span class="function"><span class="title">handler</span>(<span class="params">newValue,oldValue</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                    <span class="built_in">clearTimeout</span>(<span class="built_in">this</span>.timer);</span></span><br><span class="line"><span class="javascript">                    <span class="built_in">this</span>.timer = <span class="built_in">setTimeout</span>(<span class="function">()=&gt;</span>&#123;</span></span><br><span class="line"><span class="javascript">                        <span class="built_in">this</span>.fullName = newValue + <span class="string">&#x27;-&#x27;</span> + <span class="built_in">this</span>.secondName;</span></span><br><span class="line"><span class="javascript">                    &#125;,<span class="number">2000</span>);</span></span><br><span class="line"><span class="javascript">                &#125;</span></span><br><span class="line"><span class="javascript">            &#125;,</span></span><br><span class="line"><span class="javascript">            <span class="attr">secondName</span>:&#123;</span></span><br><span class="line"><span class="javascript">                <span class="attr">immediate</span>: <span class="literal">true</span>,</span></span><br><span class="line"><span class="javascript">                <span class="function"><span class="title">handler</span>(<span class="params">newValue,oldValue</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                    <span class="built_in">clearTimeout</span>(<span class="built_in">this</span>.timer);</span></span><br><span class="line"><span class="javascript">                    <span class="built_in">this</span>.timer = <span class="built_in">setTimeout</span>(<span class="function">()=&gt;</span>&#123;</span></span><br><span class="line"><span class="javascript">                        <span class="built_in">this</span>.fullName = <span class="built_in">this</span>.firstName + <span class="string">&#x27;-&#x27;</span> + newValue;</span></span><br><span class="line"><span class="javascript">                    &#125;,<span class="number">2000</span>);</span></span><br><span class="line"><span class="javascript">                &#125;</span></span><br><span class="line"><span class="javascript">            &#125;</span></span><br><span class="line"><span class="javascript">        &#125;</span></span><br><span class="line"><span class="javascript">    &#125;)</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>è¿™é‡Œå¤§å®¶å¯èƒ½ä¼šæœ‰ä¸ªç–‘æƒ‘</p><img src="/%E5%89%8D%E7%AB%AF/Vue2/2022/06/21/Vue2-%E5%9F%BA%E7%A1%802/image-20220622114519631.png" class title="ç–‘æƒ‘"><p>è¿™é‡Œå¦‚æœä¸å†™æˆç®­å¤´å‡½æ•°çš„è¯ï¼Œå‡½æ•°é‡Œé¢çš„thiså°±æ˜¯window</p><p>ä½†æ˜¯å†™æˆç®­å¤´å‡½æ•°çš„è¯ï¼Œåœ¨2sè¿‡åï¼Œvså¼•æ“æ‰§è¡Œæ­¤å›è°ƒçš„æ—¶å€™ï¼Œå°±ä¼šåœ¨å‡½æ•°ä¸­æ‰¾thisï¼Œæ²¡æœ‰æ‰¾åˆ°</p><p>ç„¶åå‘å¤–æ‰¾ï¼Œå°±æ‰¾åˆ°äº†handlerå‡½æ•°ï¼Œè¿™é‡Œé¢çš„thiså°±æ˜¯vmï¼Œé‚£ä¹ˆå°±å¯ä»¥æ‰¾åˆ°dataä¸­çš„å±æ€§äº†</p><hr><p>è¿™æ—¶å€™å°±æœ‰äººè¯´äº†ï¼Œé‚£æˆ‘ä¹Ÿå¯ä»¥ç”¨è®¡ç®—å±æ€§å•Š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    å§“ï¼š<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;firstName&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">br</span>&gt;</span></span><br><span class="line">    åï¼š<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;secondName&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">br</span>&gt;</span></span><br><span class="line">    å…¨åï¼š<span class="tag">&lt;<span class="name">span</span>&gt;</span>&#123;&#123;fullName&#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">    <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">        <span class="attr">el</span>: <span class="string">&#x27;#app&#x27;</span>,</span></span><br><span class="line"><span class="javascript">        <span class="function"><span class="title">data</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="javascript">                <span class="attr">firstName</span>:<span class="string">&#x27;æ&#x27;</span>,</span></span><br><span class="line"><span class="javascript">                <span class="attr">secondName</span>: <span class="string">&#x27;å››&#x27;</span></span></span><br><span class="line"><span class="javascript">            &#125;</span></span><br><span class="line"><span class="javascript">        &#125;,</span></span><br><span class="line"><span class="javascript">        <span class="attr">computed</span>: &#123;</span></span><br><span class="line"><span class="javascript">            <span class="function"><span class="title">fullName</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="built_in">setTimeout</span>(<span class="function">()=&gt;</span>&#123;</span></span><br><span class="line"><span class="javascript">                    <span class="keyword">return</span> <span class="built_in">this</span>.firstName + <span class="string">&#x27;-&#x27;</span> + <span class="built_in">this</span>.secondName;                    </span></span><br><span class="line"><span class="javascript">                &#125;,<span class="number">2000</span>);</span></span><br><span class="line"><span class="javascript">            &#125;</span></span><br><span class="line"><span class="javascript">        &#125;</span></span><br><span class="line"><span class="javascript">    &#125;)</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>å½“ä½ å†™ä¸‹è¿™ä¸ªä»£ç çš„æ—¶å€™ï¼Œä½ å¾—åæ€ä¸€ä¸‹åŸºæœ¬åŠŸäº†</p><img src="/%E5%89%8D%E7%AB%AF/Vue2/2022/06/21/Vue2-%E5%9F%BA%E7%A1%802/image-20220622114133385.png" class title="å‡½æ•°è¿”å›å€¼"><p>è¿™ä¸ªå‡½æ•°çš„è¿”å›å€¼ä¼šè¿”å›åˆ°å“ªé‡Œå»ï¼Ÿ</p><p>æ‰€ä»¥ï¼Œå½“éœ€è¦ä½¿ç”¨å¼‚æ­¥è®¡ç®—çš„æ—¶å€™ï¼Œå°±éœ€è¦ä½¿ç”¨å±æ€§ç›‘è§†</p><blockquote><p>å°æ€»ç»“</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">computedå’Œwatchä¹‹é—´çš„åŒºåˆ«ï¼š</span><br><span class="line">    1.computedèƒ½å®Œæˆçš„åŠŸèƒ½ï¼Œwatchéƒ½å¯ä»¥å®Œæˆã€‚</span><br><span class="line">    2.watchèƒ½å®Œæˆçš„åŠŸèƒ½ï¼Œcomputedä¸ä¸€å®šèƒ½å®Œæˆï¼Œä¾‹å¦‚ï¼šwatchå¯ä»¥å¯¹æ•°æ®è¿›è¡Œå¼‚æ­¥çš„æ“ä½œã€‚</span><br><span class="line">ä¸¤ä¸ªé‡è¦çš„å°åŸåˆ™ï¼š</span><br><span class="line">    1.æ‰€è¢«Vueç®¡ç†çš„å‡½æ•°ï¼Œæœ€å¥½å†™æˆæ™®é€šå‡½æ•°çš„å½¢å¼ï¼Œè¿™æ ·thisçš„æŒ‡å‘æ‰æ˜¯vmæˆ–ç»„ä»¶å®ä¾‹å¯¹è±¡ã€‚</span><br><span class="line">    2.æ‰€æœ‰ä¸è¢«Vueæ‰€ç®¡ç†çš„å‡½æ•°ï¼ˆå®šæ—¶å™¨çš„å›è°ƒå‡½æ•°ã€ajaxçš„å›è°ƒå‡½æ•°ç­‰ã€Promiseçš„å›è°ƒå‡½æ•°ï¼‰</span><br><span class="line">    æœ€å¥½å†™æˆç®­å¤´å‡½æ•°ï¼Œè¿™æ ·thisçš„æŒ‡å‘æ‰æ˜¯vm æˆ– ç»„ä»¶å®ä¾‹å¯¹è±¡ã€‚</span><br></pre></td></tr></table></figure><h3 id="ç»‘å®šstyleä¸class"><a href="#ç»‘å®šstyleä¸class" class="headerlink" title="ç»‘å®šstyleä¸class"></a>ç»‘å®šstyleä¸class</h3><p>è¿™é‡Œå°±ä¸å†™æ¡ˆä¾‹äº†</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">1. classæ ·å¼</span><br><span class="line">    å†™æ³•:class=<span class="string">&quot;xxx&quot;</span> xxxå¯ä»¥æ˜¯å­—ç¬¦ä¸²ã€å¯¹è±¡ã€æ•°ç»„ã€‚</span><br><span class="line">    :class=<span class="string">&quot;&quot;</span> å­—ç¬¦ä¸²å†™æ³•é€‚ç”¨äºï¼šç±»åä¸ç¡®å®šï¼Œè¦åŠ¨æ€è·å–ã€‚</span><br><span class="line">    :class=<span class="string">&quot;&#123;classA:xxx,classB:xxx&#125;&quot;</span> å¯¹è±¡å†™æ³•é€‚ç”¨äºï¼šè¦ç»‘å®šå¤šä¸ªæ ·å¼ï¼Œä¸ªæ•°ç¡®å®šï¼Œåå­—ä¹Ÿç¡®å®šï¼Œä½†ä¸ç¡®å®šç”¨ä¸ç”¨ï¼Œxxxæ˜¯å¸ƒå°”å€¼</span><br><span class="line">    :class=<span class="string">&quot;[&#x27;classA&#x27;]&quot;</span>æ•°ç»„å†™æ³•é€‚ç”¨äºï¼šè¦ç»‘å®šå¤šä¸ªæ ·å¼ï¼Œä¸ªæ•°ä¸ç¡®å®šï¼Œåå­—ä¹Ÿä¸ç¡®å®š</span><br><span class="line">2. styleæ ·å¼</span><br><span class="line">    :style=<span class="string">&quot;&#123;fontSize: xxx&#125;&quot;</span>å…¶ä¸­xxxæ˜¯åŠ¨æ€å€¼ã€‚</span><br><span class="line">    :style=<span class="string">&quot;[a,b]&quot;</span>å…¶ä¸­aã€bæ˜¯æ ·å¼å¯¹è±¡ã€‚</span><br><span class="line">    :style=<span class="string">&quot;obj&quot;</span>å…¶ä¸­objæ˜¯æ ·å¼å¯¹è±¡æˆ–è€…æ•°ç»„</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
          <category> Vue2 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Vue </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Vue2-åŸºç¡€1</title>
      <link href="/%E5%89%8D%E7%AB%AF/Vue2/2022/06/20/Vue2-%E5%9F%BA%E7%A1%801/"/>
      <url>/%E5%89%8D%E7%AB%AF/Vue2/2022/06/20/Vue2-%E5%9F%BA%E7%A1%801/</url>
      
        <content type="html"><![CDATA[<h2 id="Vue2åŸºç¡€1"><a href="#Vue2åŸºç¡€1" class="headerlink" title="Vue2åŸºç¡€1"></a>Vue2åŸºç¡€1</h2><p>å®˜ç½‘åœ°å€ï¼š<a href="https://cn.vuejs.org/">https://cn.vuejs.org/</a></p><p>ç›¸ä¿¡å¤§å®¶å­¦ä¹ ä»€ä¹ˆéƒ½æ˜¯ä»¥HelloWorldå¼€å¤´çš„ï¼Œé‚£æˆ‘ä»¬å°±ä»¥ä¸€ä¸ªHelloWorldçš„æ —å­å¼€å¯æˆ‘ä»¬çš„Vueå­¦ä¹ å§</p><h3 id="HelloWorldæ¡ˆä¾‹"><a href="#HelloWorldæ¡ˆä¾‹" class="headerlink" title="HelloWorldæ¡ˆä¾‹"></a>HelloWorldæ¡ˆä¾‹</h3><h4 id="å®‰è£…Vue"><a href="#å®‰è£…Vue" class="headerlink" title="å®‰è£…Vue"></a>å®‰è£…Vue</h4><blockquote><p>è¿™é‡Œå¤§å®¶è¦æ³¨æ„ï¼Œä¸è¦ä½¿ç”¨CLIåˆ›å»ºVueé¡¹ç›®</p><p>æ–°æ‰‹é˜¶æ®µæœ€å¥½ä½¿ç”¨æ ‡ç­¾é™æ€å¼•å…¥CDNçš„æ–¹å¼æ¥å®‰è£…Vue</p></blockquote><blockquote><p>è¿™é‡Œè¡¥å……ä¸€ä¸ªçŸ¥è¯†ç‚¹ï¼š</p><p>scriptæ ‡ç­¾çš„srcå±æ€§å¯ä»¥å†™æˆ<code>./???.js</code>çš„å½¢å¼</p><p>ä¹Ÿå¯ä»¥å†™æˆä¸€ä¸ªç½‘å€ï¼Œä¸ºäº†ä½¿ç”¨è¿™ç§æ–¹å¼å¼•å…¥çš„åŠ è½½é€Ÿåº¦æ›´å¿«ä¸€ç‚¹ï¼Œæ‰€ä»¥ä½¿ç”¨äº†CDNåŠ é€Ÿ</p></blockquote><p>è¿™æ˜¯å®˜ç½‘æä¾›çš„ä¸¤ç§Vue.jsï¼Œä¸¤è€…æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ï¼Ÿ</p><img src="/%E5%89%8D%E7%AB%AF/Vue2/2022/06/20/Vue2-%E5%9F%BA%E7%A1%801/image-20220620221739016.png" class title="å®˜ç½‘æä¾›çš„Vue.js"><p>å¼€å‘ç‰ˆæœ¬çš„ä½“ç§¯æ¯”ç”Ÿäº§ç‰ˆæœ¬çš„ä½“ç§¯å¤§ï¼Œå…¶ä¸­åŒ…å«äº†å®Œæ•´çš„è­¦å‘Šå’Œè°ƒè¯•æ¨¡å¼ï¼Œåœ¨å­¦ä¹ é˜¶æ®µï¼Œæˆ‘ä»¬ä½¿ç”¨å¼€å‘ç‰ˆæœ¬çš„å³å¯</p><p>å¼•å…¥Vue.js</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="å®‰è£…å¼€å‘è€…å·¥å…·"><a href="#å®‰è£…å¼€å‘è€…å·¥å…·" class="headerlink" title="å®‰è£…å¼€å‘è€…å·¥å…·"></a>å®‰è£…å¼€å‘è€…å·¥å…·</h4><p>å®ƒæ˜¯ä¸€ä¸ªè°·æ­Œæ’ä»¶ï¼Œå¦‚æœä½ å¯ä»¥è®¿é—®å¤–ç½‘ï¼Œå¯ä»¥ç›´æ¥åœ¨è°·æ­Œæ’ä»¶å•†åœºç›´æ¥æœç´¢ä¸‹è½½ï¼Œå¦‚æœæ²¡æœ‰çš„è¯ï¼Œæˆ‘ä¹Ÿåœ¨è¿™é‡Œæä¾›æ’ä»¶çš„æ–‡ä»¶ï¼Œ</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">é“¾æ¥ï¼šhttps://pan.baidu.com/s/18AFI8MpW397L6obmKnAZCw </span><br><span class="line">æå–ç ï¼šiupu</span><br></pre></td></tr></table></figure><img src="/%E5%89%8D%E7%AB%AF/Vue2/2022/06/20/Vue2-%E5%9F%BA%E7%A1%801/image-20220620222517656.png" class title="è°·æ­Œæ‹“å±•æ’ä»¶"><p>ç‚¹å‡»å¼€å‘è€…æ¨¡å¼</p><p>å¦‚æœä½¿ç”¨çš„æ˜¯æˆ‘æä¾›çš„æ–‡ä»¶çš„è¯ï¼Œç›´æ¥å°†crxæ–‡ä»¶æ‹–å…¥è¯¥é¡µé¢å³å¯å®‰è£…å¼€å‘è€…å·¥å…·</p><h4 id="ä½¿ç”¨Vue"><a href="#ä½¿ç”¨Vue" class="headerlink" title="ä½¿ç”¨Vue"></a>ä½¿ç”¨Vue</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span> /&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">title</span>&gt;</span>æˆ‘çš„ç¬¬ä¸€ä¸ªVueé¡µé¢<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">      <span class="comment">&lt;!-- å¼•å…¥Vue --&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">      <span class="comment">&lt;!-- å‡†å¤‡å¥½ä¸€ä¸ªå®¹å™¨ --&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">          <span class="comment">&lt;!--è¿™é‡Œçš„&#123;&#123;&#125;&#125;æ˜¯Vueä¸­çš„æ’å€¼è¯­æ³•ï¼Œå¯ä»¥è¯»å–dataé…ç½®é¡¹ä¸­é…ç½®çš„æ•°æ®--&gt;</span></span><br><span class="line">&#123;&#123;msg&#125;&#125;</span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">      <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> &gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">         Vue.config.productionTip = <span class="literal">false</span> <span class="comment">//å…³é—­vueçš„ç”Ÿäº§æç¤ºã€‚</span></span></span><br><span class="line"><span class="javascript">         <span class="comment">//åˆ›å»ºVueå®ä¾‹</span></span></span><br><span class="line"><span class="javascript">         <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">            <span class="attr">el</span>:<span class="string">&#x27;#app&#x27;</span>, <span class="comment">//elç”¨äºæŒ‡å®šå½“å‰åˆ›å»ºçš„Vueå®ä¾‹ä¸ºå“ªä¸ªå®¹å™¨æœåŠ¡ï¼Œå€¼ä¸ºcssé€‰æ‹©å™¨ã€‚</span></span></span><br><span class="line"><span class="javascript">            <span class="attr">data</span>:&#123; <span class="comment">//dataä¸­ç”¨äºå­˜å‚¨æˆ‘ä»¬éœ€è¦ç”¨åˆ°çš„æ•°æ®ï¼Œæ•°æ®ä¾›elæ‰€æŒ‡å®šçš„å®¹å™¨å»ä½¿ç”¨ï¼Œå€¼æ˜¯ä¸€ä¸ªå¯¹è±¡ã€‚</span></span></span><br><span class="line"><span class="javascript">               <span class="attr">msg</span>:<span class="string">&#x27;Hello World&#x27;</span></span></span><br><span class="line"><span class="javascript">            &#125;</span></span><br><span class="line"><span class="javascript">         &#125;)</span></span><br><span class="line"><span class="javascript">      </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>è§£é‡Šï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">1ã€&#123;&#123;xxx&#125;&#125;ä¸­çš„xxxè¦å†™jsè¡¨è¾¾å¼ï¼Œä¸”xxxå¯ä»¥è‡ªåŠ¨è¯»å–åˆ°dataä¸­çš„æ‰€æœ‰å±æ€§</span><br><span class="line">    jsè¡¨è¾¾å¼ VS jsè¯­å¥</span><br><span class="line">    (1)jsè¡¨è¾¾å¼æ˜¯ä¸€ä¸ªå€¼</span><br><span class="line">    (2)jsè¯­å¥æ˜¯ä¸€ä¸ªè¯­å¥ï¼Œæ§åˆ¶ä»£ç èµ°å‘</span><br><span class="line">        <span class="function"><span class="title">if</span></span>()&#123;&#125;</span><br><span class="line">        <span class="function"><span class="title">for</span></span>()&#123;&#125;</span><br><span class="line">        <span class="function"><span class="title">switch</span></span>()&#123;&#125;</span><br><span class="line"></span><br><span class="line">2ã€å®¹å™¨å’ŒVueå®ä¾‹çš„å…³ç³»æ˜¯ä¸€å¯¹ä¸€çš„</span><br><span class="line"></span><br><span class="line">3ã€idä¸ºappçš„å®¹å™¨å†…éƒ¨çš„ä»£ç å°±æ˜¯æ¨¡æ¿</span><br><span class="line"></span><br><span class="line">4ã€ä¸€æ—¦dataä¸­çš„æ•°æ®å‘ç”Ÿæ”¹å˜ï¼Œé¡µé¢ä¸­ä½¿ç”¨åˆ°è¯¥æ•°æ®çš„åœ°æ–¹éƒ½ä¼šè‡ªåŠ¨æ›´æ–°</span><br><span class="line"></span><br><span class="line">5ã€elçš„ä¸¤ç§å†™æ³•ï¼Œè¯¥é…ç½®çš„ä½œç”¨å«æŒ‚è½½ï¼Œå°±æ˜¯å°†åˆ›å»ºçš„Vueå®ä¾‹ä¸HTMLå…ƒç´ ç»‘å®šåœ¨ä¸€èµ·</span><br><span class="line">(1) el:<span class="string">&#x27;#app&#x27;</span></span><br><span class="line">(2) new Vue(&#123;</span><br><span class="line">            data:&#123;</span><br><span class="line">               msg:<span class="string">&#x27;Hello World&#x27;</span></span><br><span class="line">            &#125;</span><br><span class="line">         &#125;).<span class="variable">$mount</span>(<span class="string">&#x27;#app&#x27;</span>)</span><br><span class="line">è¿™ä¸ª<span class="variable">$mount</span>æ˜¯VueåŸå‹å¯¹è±¡ä¸Šæä¾›çš„</span><br><span class="line"></span><br><span class="line">6ã€dataçš„ä¸¤ç§å†™æ³•</span><br><span class="line">(1) å¯¹è±¡å¼ï¼Œdataæ˜¯ä¸€ä¸ªå¯¹è±¡</span><br><span class="line">        data:&#123; </span><br><span class="line">            msg:<span class="string">&#x27;Hello World&#x27;</span></span><br><span class="line">        &#125;</span><br><span class="line">(2) å‡½æ•°å¼ï¼Œdataæ˜¯ä¸ªå‡½æ•°ï¼Œè¿”å›çš„æ˜¯ä¸€ä¸ªå¯¹è±¡</span><br><span class="line"><span class="function"><span class="title">data</span></span>()&#123;</span><br><span class="line">            <span class="built_in">return</span> &#123;</span><br><span class="line">            msg: <span class="string">&#x27;Hello World&#x27;</span></span><br><span class="line">            &#125;</span><br><span class="line">&#125;</span><br><span class="line">(3) åªè¦æ˜¯Vueç®¡ç†çš„å‡½æ•°ï¼Œå…¶ä¸­çš„thiså¯¹è±¡éƒ½æ˜¯è‡ªå·±åˆ›å»ºçš„Vueå®ä¾‹å¯¹è±¡ï¼Œ**å‰ææ˜¯ä¸èƒ½æ˜¯ç®­å¤´å‡½æ•°**</span><br><span class="line">(4) æˆ‘ä»¬æœ€å¸¸ä½¿ç”¨çš„æ˜¯å‡½æ•°å¼çš„ï¼Œå¤§å®¶è¦å¤šå†™è¿™ç§å½¢å¼çš„ï¼Œå…·ä½“åŸå› çš„è¯ï¼Œè¿™é‡ŒåŸ‹ä¸ªä¼ç¬”ï¼Œä»¥ååœ¨è®²ç»„ä»¶çš„æ—¶å€™è§£é‡Š</span><br></pre></td></tr></table></figure><blockquote><p>å¦‚æœæˆ‘ä»¬ä¸ä½¿ç”¨newå…³é”®è¯åˆ›å»ºVueå¯¹è±¡çš„è¯ä¼šæ€ä¹ˆæ ·å‘¢ï¼Ÿ</p></blockquote><p>æ§åˆ¶å°å°±ä¼šå‡ºç°æŠ¥é”™</p><p>å¼€å‘ç‰ˆ</p><img src="/%E5%89%8D%E7%AB%AF/Vue2/2022/06/20/Vue2-%E5%9F%BA%E7%A1%801/image-20220620233358806.png" class title="å¼€å‘æ¿Vue"><p>ç”Ÿäº§ç‰ˆ</p><img src="/%E5%89%8D%E7%AB%AF/Vue2/2022/06/20/Vue2-%E5%9F%BA%E7%A1%801/image-20220620233450024.png" class title="ç”Ÿäº§æ¿Vue"><p>è¿™é‡Œå¯ä»¥ä½“ç°ç”Ÿäº§ç‰ˆæœ¬å’Œå¼€å‘ç‰ˆæœ¬ä¹‹é—´çš„åŒºåˆ«</p><p>æˆ‘ä»¬æ¥çœ‹ä¸‹Vueçš„æ„é€ å‡½æ•°</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Vue</span> (<span class="params">options</span>) </span>&#123;</span><br><span class="line">  <span class="comment">//å…ˆåˆ¤æ–­å½“å‰è°ƒç”¨å‡½æ•°çš„æ˜¯å¦æ˜¯Vueçš„å®ä¾‹ï¼Œå¦‚æœä¸æ˜¯ï¼Œåˆ™åœ¨æ§åˆ¶å°æŠ¥é”™</span></span><br><span class="line">  <span class="keyword">if</span> (!(<span class="built_in">this</span> <span class="keyword">instanceof</span> Vue)) &#123;</span><br><span class="line">    warn(<span class="string">&#x27;Vue is a constructor and should be called with the `new` keyword&#x27;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">this</span>._init(options);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="æ¨¡æ¿è¯­æ³•"><a href="#æ¨¡æ¿è¯­æ³•" class="headerlink" title="æ¨¡æ¿è¯­æ³•"></a>æ¨¡æ¿è¯­æ³•</h3><p>åˆšåˆšæˆ‘ä»¬åœ¨å†™HelloWorldæ¡ˆä¾‹çš„æ—¶å€™ä½¿ç”¨çš„<code>&#123;&#123;&#125;&#125;</code>å«æ’å€¼è¯­æ³•</p><p>æ¨¡æ¿è¯­æ³•ä¸€å…±ä¸¤ç§ï¼Œæ’å€¼è¯­æ³•å°±æ˜¯å…¶ä¸­çš„ä¸€ç§ï¼Œå¦ä¸€ç§æ¨¡æ¿è¯­æ³•å«æŒ‡ä»¤è¯­æ³•</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">æ’å€¼è¯­æ³•ï¼š</span><br><span class="line">      ä½œç”¨ï¼šè§£ææ ‡ç­¾ä½“å†…çš„å†…å®¹</span><br><span class="line">      å†™æ³•ï¼š&#123;&#123;xxx&#125;&#125;åŒæ‹¬å·å†…æ˜¯jsè¡¨è¾¾å¼ï¼Œå¯ä»¥ç›´æ¥è¯»å–åˆ°dataä¸­çš„æ‰€æœ‰å±æ€§ã€‚</span><br><span class="line">      </span><br><span class="line">æŒ‡ä»¤è¯­æ³•ï¼š</span><br><span class="line">      åŠŸèƒ½ï¼šè§£ææ ‡ç­¾ï¼ˆåŒ…æ‹¬ï¼šæ ‡ç­¾å±æ€§ã€æ ‡ç­¾ä½“å†…å®¹ã€ç»‘å®šäº‹ä»¶.....ï¼‰ã€‚</span><br><span class="line">      å†™æ³•ï¼šv-xxx(xxxä¸ºå…·ä½“æŒ‡ä»¤)</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬æ¥çœ‹çœ‹<strong>æŒ‡ä»¤è¯­æ³•</strong>æ˜¯ä¸ªä»€ä¹ˆä¸œä¸œ</p><blockquote><p>ä¸ºäº†èŠ‚çœä»£ç é‡ï¼Œè¿™é‡Œåªå†™æ ¸å¿ƒä»£ç </p></blockquote><h4 id="v-text"><a href="#v-text" class="headerlink" title="v-text"></a>v-text</h4><p>è¿™ä¸ªæœ€ç®€å•ï¼Œå…¶ä½œç”¨å°±æ˜¯æ’å€¼è¯­æ³•ï¼Œå°†å…¶æŒ‡å®šçš„å†…å®¹<strong>æ›¿æ¢</strong>æ ‡ç­¾ä½“å†…çš„æ‰€æœ‰å†…å®¹ï¼Œä¸è§£æHTML</p><p>ä¸ä¹‹å¯¹åº”çš„è¿˜æœ‰ä¸€ä¸ªæŒ‡ä»¤<code>v-html</code>ï¼Œé‚£è¿™ä¸ªæŒ‡ä»¤å°±æ˜¯å°†å†…å®¹æ”¾å…¥æ ‡ç­¾ä½“å†…åï¼Œå¦‚æœå†…å®¹æœ‰HTMLå…ƒç´ ï¼Œå®ƒä¹Ÿä¼šè§£æ</p><h4 id="v-bind"><a href="#v-bind" class="headerlink" title="v-bind"></a>v-bind</h4><p>ä¸»è¦ä½¿ç”¨åœ¨ç»™HTMLå…ƒç´ å±æ€§åŠ¨æ€èµ‹å€¼çš„æ—¶å€™ä½¿ç”¨</p><p>HTML</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">v-bind:href</span>=<span class="string">&quot;url&quot;</span>&gt;</span>ç‚¹æˆ‘å»&#123;&#123;name&#125;&#125;å­¦ä¹ 1<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--è¿™æ˜¯v-bindçš„ç®€å†™æ¨¡å¼--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">:href</span>=<span class="string">&quot;url&quot;</span>&gt;</span>ç‚¹æˆ‘å»&#123;&#123;name&#125;&#125;å­¦ä¹ 2<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p>JavaScript</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> Vue(&#123;</span><br><span class="line">    <span class="attr">el</span>:<span class="string">&#x27;#app&#x27;</span>,</span><br><span class="line">    <span class="attr">data</span>:&#123;</span><br><span class="line">        <span class="attr">name</span>:<span class="string">&#x27;ç™¾åº¦&#x27;</span>,</span><br><span class="line">        <span class="attr">url</span>:<span class="string">&#x27;http://www.baidu.com&#x27;</span>,</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>bindçš„è‹±æ–‡æ„æ€æ˜¯ç»‘å®šï¼Œè¿™é‡Œå…ˆç†è§£ä¸€ä¸‹è¿™ä¸ªåè¯çš„æ„æ€ï¼Œè¿™é‡Œçš„v-bindæ˜¯å•å‘ç»‘å®š</p><p>ä»€ä¹ˆå«å•å‘ç»‘å®šï¼Ÿ</p><p>å°±æ˜¯æˆ‘åœ¨Vueå®ä¾‹ä¸­çš„dataä¸­çš„æ•°æ®å‘ç”Ÿäº†æ”¹å˜ï¼Œé¡µé¢ä¸­çš„æ•°æ®å°±ä¼šè·Ÿç€æ›´æ–°ï¼Œ</p><p>ä½†æ˜¯é¡µé¢ä¸­çš„æ•°æ®å‘é€äº†æ”¹å˜ï¼Œdataä¸­çš„æ•°æ®ä¸ä¼šå‘ç”Ÿæ”¹å˜</p><blockquote><p>è¯æ˜ï¼š</p><p>å› ä¸ºæˆ‘ä»¬è¿˜æ²¡å­¦å…¶ä»–å¯ä»¥ä¿®æ”¹dataä¸­çš„æ•°æ®çš„æ–¹æ³•ï¼Œæˆ‘ä»¬è¿™é‡Œå°±ä½¿ç”¨å¼€å‘è€…å·¥å…·å¼€å¸®æˆ‘ä»¬å®Œæˆè¯¥ä»»åŠ¡</p></blockquote><p>ä¿®æ”¹dataä¸­æ•°æ®ï¼Œé¡µé¢æ›´æ–°</p><img src="/%E5%89%8D%E7%AB%AF/Vue2/2022/06/20/Vue2-%E5%9F%BA%E7%A1%801/image-20220621083431759.png" class title="ä½¿ç”¨Vueå¼€å‘è€…å·¥å…·"><img src="/%E5%89%8D%E7%AB%AF/Vue2/2022/06/20/Vue2-%E5%9F%BA%E7%A1%801/image-20220621083545171.png" class title="ç‚¹å‡»æ–‡å­—åŠå¯ç¼–è¾‘"><img src="/%E5%89%8D%E7%AB%AF/Vue2/2022/06/20/Vue2-%E5%9F%BA%E7%A1%801/image-20220621083604631.png" class title="é¡µé¢æ•°æ®æ›´æ–°"><p>ä¿®æ”¹é¡µé¢æ•°æ®ï¼Œdataä¸æ›´æ–°</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">document</span>.getElementById(<span class="string">&#x27;app&#x27;</span>).children[<span class="number">0</span>].href=<span class="string">&#x27;https://juejin.cn/&#x27;</span></span><br></pre></td></tr></table></figure><img src="/%E5%89%8D%E7%AB%AF/Vue2/2022/06/20/Vue2-%E5%9F%BA%E7%A1%801/image-20220621083933243.png" class title="é¡µé¢ä¿®æ”¹æˆåŠŸ"><img src="/%E5%89%8D%E7%AB%AF/Vue2/2022/06/20/Vue2-%E5%9F%BA%E7%A1%801/image-20220621083959761.png" class title="dataä¸­çš„æ•°æ®æœªæ›´æ–°"><p>è¿™å°±æ˜¯å•å‘ç»‘å®šäº†</p><img src="/%E5%89%8D%E7%AB%AF/Vue2/2022/06/20/Vue2-%E5%9F%BA%E7%A1%801/image-20220621084904056.png" class title="å•å‘ç»‘å®š"><p>æ—¢ç„¶æœ‰å•å‘ç»‘å®šï¼Œé‚£è‚¯å®šä¸ä¹‹å¯¹åº”çš„è¿˜æœ‰ä¸€ä¸ªåŒå‘ç»‘å®šå•¦ï¼Œä¸‹é¢æˆ‘ä»¬æ¥çœ‹çœ‹åŒå‘ç»‘å®š</p><h4 id="v-model"><a href="#v-model" class="headerlink" title="v-model"></a>v-model</h4><p>åªä½¿ç”¨åœ¨ä¸€äº›<strong>è¡¨å•ç±»</strong>çš„HTMLæ ‡ç­¾</p><p>è¿™ä¸ªæŒ‡ä»¤ååˆ†ååˆ†ååˆ†çš„é‡è¦ï¼Œè¯·ä¸€å®šè¦ç†è§£è¿™ä¸ªæŒ‡ä»¤<strong>åŒå‘ç»‘å®š</strong>çš„ä½œç”¨</p><p>HTML</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--å°†inputçš„valueå±æ€§å’Œdataä¸­çš„nameå±æ€§åŒå‘ç»‘å®šèµ·æ¥--&gt;</span></span><br><span class="line">    åŒå‘æ•°æ®ç»‘å®šï¼š<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-model:value</span>=<span class="string">&quot;name&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p>JavaScript</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> Vue(&#123;</span><br><span class="line">   <span class="attr">el</span>:<span class="string">&#x27;#app&#x27;</span>,</span><br><span class="line">   <span class="attr">data</span>:&#123;</span><br><span class="line">      <span class="attr">name</span>:<span class="string">&#x27;èŠéº»èŠéº»&#x27;</span></span><br><span class="line">   &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>å•å‘ç»‘å®šï¼Œæ˜¯é¡µé¢ä¸­çš„æ•°æ®ä¿®æ”¹åï¼Œdataä¸­çš„æ•°æ®ä¸ä¼šæ›´æ–°</p><p>é‚£åŒå‘ç»‘å®šçš„æƒ…å†µä¸‹ï¼Œæ˜¯ä¸æ˜¯å°±ä¼šæ›´æ–°äº†ï¼Ÿæ˜¯çš„</p><p>æˆ‘ä»¬æ¥è¯æ˜ä¸€ä¸‹è¿™ä¸€ç‚¹</p><img src="/%E5%89%8D%E7%AB%AF/Vue2/2022/06/20/Vue2-%E5%9F%BA%E7%A1%801/image-20220621085156601.png" class title="è¯æ˜é¡µé¢å…ƒç´ å‘ç”Ÿæ”¹å˜ï¼Œdataå®ä¾‹ä¸­çš„æ•°æ®ä¹Ÿä¼šå‘ç”Ÿæ”¹å˜"><img src="/%E5%89%8D%E7%AB%AF/Vue2/2022/06/20/Vue2-%E5%9F%BA%E7%A1%801/image-20220621085339003.png" class title="åŒå‘ç»‘å®š"><p>è¯´æ˜ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">1ã€ç®€å†™æ¨¡å¼</span><br><span class="line">&lt;input <span class="built_in">type</span>=<span class="string">&quot;text&quot;</span> v-model=<span class="string">&quot;name&quot;</span>&gt;</span><br><span class="line">2ã€ä½œç”¨èŒƒå›´</span><br><span class="line">åªå¯ä»¥ä½œç”¨åœ¨è¡¨å•å…ƒç´ ä¸Š</span><br></pre></td></tr></table></figure><h3 id="MVVMæ¨¡å‹"><a href="#MVVMæ¨¡å‹" class="headerlink" title="MVVMæ¨¡å‹"></a>MVVMæ¨¡å‹</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">M:æ¨¡å‹(Model)å¯¹åº”dataä¸­çš„æ•°æ®</span><br><span class="line">V:è§†å›¾/æ¨¡æ¿(View)HTMLå…ƒç´ </span><br><span class="line">VM:è§†å›¾æ¨¡å‹(ViewModel)æ‰˜ç®¡æ•°æ®çš„Vueå®ä¾‹ï¼Œæ‰€ä»¥ä»¥åæˆ‘ä»¬å«Vueçš„å®ä¾‹å¯¹è±¡å°±å«vmå¯¹è±¡</span><br></pre></td></tr></table></figure><img src="/%E5%89%8D%E7%AB%AF/Vue2/2022/06/20/Vue2-%E5%9F%BA%E7%A1%801/image-20220621093346382.png" class title="MVVMæ¨¡å‹"><img src="/%E5%89%8D%E7%AB%AF/Vue2/2022/06/20/Vue2-%E5%9F%BA%E7%A1%801/image-20220621094422071.png" class title="MVVMæ¨¡å‹ä¸Vueä¸­çš„å¯¹åº”å…³ç³»"><p>æˆ‘ä»¬æ¥è¾“å‡ºä¸€ä¸‹vmæ¥çœ‹çœ‹å®ƒé•¿å•¥æ ·</p><img src="/%E5%89%8D%E7%AB%AF/Vue2/2022/06/20/Vue2-%E5%9F%BA%E7%A1%801/image-20220621094743570.png" class title="vmå¯¹è±¡"><p>æˆ‘ä»¬å‘ç°ï¼Œæ©™è‰²æ¡†ä¸­å°±æ˜¯æˆ‘ä»¬dataä¸­é…ç½®çš„æ•°æ®ï¼Œå¥‡æ€ªçš„æ˜¯ï¼Œå®ƒæ˜¯ä¸‰ä¸ªç‚¹ï¼Œä½†æ˜¯ç‚¹å¼€çœ‹ç¡®å®æ˜¯æˆ‘ä»¬åˆšåˆšé…ç½®çš„æ•°æ®</p><p>Vueç»è¿‡ä¸€äº›æ“ä½œï¼ˆæˆ‘å¯ä¸ä¼šå‘Šè¯‰ä½ è¿™å«æ•°æ®ä»£ç†ï¼‰ï¼Œå°†å’±ä»¬åœ¨dataä¸­é…ç½®çš„æ•°æ®ç›´æ¥æ”¾åˆ°äº†vmå®ä¾‹å¯¹è±¡ä¸Š</p><p>å…¶å®æ’å€¼è¯­æ³•ä¸­å¯ä»¥çœ‹åˆ°vmèº«ä¸Šæ‰€æœ‰çš„å±æ€§ï¼Œæ‰€ä»¥å¯ä»¥ç›´æ¥å†™æˆ‘ä»¬åœ¨dataä¸­é…ç½®çš„å±æ€§</p><h3 id="æ•°æ®ä»£ç†"><a href="#æ•°æ®ä»£ç†" class="headerlink" title="æ•°æ®ä»£ç†"></a>æ•°æ®ä»£ç†</h3><h4 id="å›é¡¾Object-defineProperty"><a href="#å›é¡¾Object-defineProperty" class="headerlink" title="å›é¡¾Object.defineProperty()"></a>å›é¡¾Object.defineProperty()</h4><p>åœ¨è¯´è¿™ä¸ªä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆæ¥å›é¡¾ä¸€ä¸‹Objectä¸Šçš„ä¸€ä¸ªæ–¹æ³•<code>defineProperty</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> person=&#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;lisi&#x27;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç°åœ¨æˆ‘è¦ç»™personå¯¹è±¡ä¸Šæ·»åŠ ä¸€ä¸ªå±æ€§age</p><p>ç¬¬ä¸€ç§å†™æ³•</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">person.age=<span class="number">18</span></span><br></pre></td></tr></table></figure><p>ç¬¬äºŒç§å†™æ³•</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Object</span>.defineProperty(person,<span class="string">&#x27;age&#x27;</span>,&#123;</span><br><span class="line">    <span class="attr">value</span>: <span class="number">18</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>é‚£æœ‰äººå°±è¦è¯´äº†ï¼Œè°é€‰ç¬¬äºŒç§æ–¹å¼å•Šï¼Œç¬¬ä¸€ç§æ–¹å¼é‚£ä¹ˆç®€å•ï¼Œæ­¤è¨€å·®çŸ£</p><p>ç¬¬äºŒç§å†™çš„æ–¹å¼å®šä¹‰çš„ageå±æ€§æœ‰ä¸¤ä¸ªç‰¹æ€§</p><blockquote><p>ç¬¬ä¸€ä¸ªï¼Œä»–æ— æ³•è¢«éå†ï¼Œåˆ é™¤ï¼Œä¿®æ”¹</p></blockquote><p>æ— æ³•è¢«éå†ï¼Œæ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿ</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// éå†personä¸­çš„æ‰€æœ‰å±æ€§</span></span><br><span class="line"><span class="keyword">for</span>(p <span class="keyword">in</span> person)&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(p)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// æ‹¿åˆ°personä¸­çš„å±æ€§æ•°ç»„</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.keys(person))</span><br><span class="line"><span class="comment">// é™¤äº†ageå±æ€§ï¼Œå…¶ä»–çš„å±æ€§éƒ½å¯ä»¥è¢«éå†åˆ°</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//ç”¨Object.definePropertyå®šä¹‰çš„æ•°æ®æœ‰å¾ˆå¤šé™åˆ¶ï¼Œä½†æ˜¯å¯ä»¥é€šè¿‡ä¸€äº›é…ç½®é¡¹æ¥ä½¿å…¶è§£é™¤é™åˆ¶</span></span><br><span class="line"><span class="built_in">Object</span>.defineProperty(person,<span class="string">&#x27;age&#x27;</span>,&#123;</span><br><span class="line">        <span class="attr">value</span>: <span class="number">18</span>,</span><br><span class="line">        <span class="attr">enumerable</span>: <span class="literal">true</span>,<span class="comment">//å¯è¢«éå†ï¼Œé»˜è®¤å€¼æ˜¯false</span></span><br><span class="line">        <span class="attr">writable</span>:<span class="literal">true</span>, <span class="comment">//å¯ä»¥è¢«ä¿®æ”¹ï¼Œé»˜è®¤å€¼æ˜¯false</span></span><br><span class="line">        <span class="attr">configurable</span>:<span class="literal">true</span> <span class="comment">//å¯ä»¥è¢«åˆ é™¤ï¼Œé»˜è®¤å€¼æ˜¯false</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br></pre></td></tr></table></figure><blockquote><p>ç¬¬äºŒä¸ªï¼Œå®ƒå¯ä»¥åš<strong>æ•°æ®åŠ«æŒ</strong></p></blockquote><p>è¿™å°±éœ€è¦ä¸€äº›å…¶ä»–çš„é…ç½®é¡¹äº†ï¼Œå³<code>get</code>å’Œ<code>set</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> number = <span class="number">18</span>;</span><br><span class="line"><span class="built_in">Object</span>.defineProperty(person,<span class="string">&#x27;age&#x27;</span>,&#123;</span><br><span class="line">    <span class="comment">// å½“æœ‰äººè¯»å–personçš„ageçš„æ—¶å€™ï¼Œå³ç‚¹äº†é‚£ä¸‰ä¸ªç‚¹çš„æ—¶å€™</span></span><br><span class="line">    <span class="comment">// å°±ä¼šå°†è¿™ä¸ªå‡½æ•°çš„è¿”å›å€¼ä½œä¸ºperson.ageçš„å€¼å±•ç¤ºå‡ºæ¥</span></span><br><span class="line">    <span class="function"><span class="title">get</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">&#x27;å˜¿å˜¿ï¼Œæ—§æ•°æ®è¢«æˆ‘åŠ«æŒäº†ï¼ï¼&#x27;</span>)</span><br><span class="line">        <span class="keyword">return</span> number</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">// å½“æœ‰äººä¿®æ”¹personçš„ageçš„æ—¶å€™</span></span><br><span class="line">    <span class="function"><span class="title">set</span>(<span class="params">newValue</span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">&#x27;å˜¿å˜¿ï¼Œæ–°æ•°æ®è¢«æˆ‘åŠ«æŒäº†ï¼ï¼æˆ‘è¦åšåäº‹äº†&#x27;</span>)</span><br><span class="line">        number = newValue;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h4 id="å®šä¹‰"><a href="#å®šä¹‰" class="headerlink" title="å®šä¹‰"></a>å®šä¹‰</h4><p>ç»™æ•°æ®ä»£ç†ä¸‹ä¸ªå®šä¹‰ï¼šé€šè¿‡ä¸€ä¸ªå¯¹è±¡ä»£ç†å¯¹å¦ä¸€ä¸ªå¯¹è±¡ä¸­å±æ€§çš„æ“ä½œï¼ˆR&#x2F;Wï¼‰</p><p>æˆ‘ä»¬çœ‹ä¸€ä¸‹Vueä¸­çš„æ•°æ®ä»£ç†</p><p><strong>vmå®ä¾‹å¯¹è±¡ä»£ç†äº†dataä¸­é…ç½®çš„å±æ€§</strong></p><p>æˆ‘ä»¬å…ˆæ¥è¯æ˜ä¸€ä¸ªäº‹æƒ…ï¼šæˆ‘ä»¬ä¼ å…¥çš„dataé…ç½®é¡¹å’Œvmèº«ä¸Šçš„_dataæ˜¯åŒä¸€ä¸ªå¯¹è±¡</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> data = &#123;</span><br><span class="line">    <span class="attr">name</span>:<span class="string">&#x27;èŠéº»èŠéº»&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> vm = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">    <span class="attr">el</span>:<span class="string">&#x27;#app&#x27;</span>,</span><br><span class="line">    data</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p><img src="/Vue2-%E5%9F%BA%E7%A1%801%5Cimage-20220621103356629.png" alt="è¯æ˜"></p><blockquote><p>è¿™é‡Œæˆ‘ä»¬è§‚å¯Ÿåˆ°dataå·²ç»ä¸æ˜¯åŸæ¥çš„é‚£ä¸ªå¯¹è±¡äº†ï¼Œå®ƒå·²ç»è¢«VueåŠ å·¥è¿‡äº†</p></blockquote><p>é‚£ä¹ˆVueä¸­çš„æ•°æ®ä»£ç†å°±æ˜¯<strong>vmä»£ç†äº†_dataä¸­çš„æ•°æ®ä¿®æ”¹</strong></p><p>å½“<code>_data</code>ä¸­çš„æ•°æ®å‘ç”Ÿäº†ä¿®æ”¹ï¼Œ<code>_data</code>å°±ä¼šæ£€æµ‹åˆ°è¿™æ¬¡çš„ä¿®æ”¹ï¼ˆæ•°æ®åŠ«æŒï¼‰ï¼Œé¡µé¢ä¸­ä½¿ç”¨åˆ°è¯¥æ•°æ®çš„åœ°æ–¹éƒ½ä¼šå‘ç”Ÿæ›´æ–°</p><h4 id="æ¨¡æ‹ŸVueä¸­çš„æ•°æ®ä»£ç†å’Œæ•°æ®åŠ«æŒ"><a href="#æ¨¡æ‹ŸVueä¸­çš„æ•°æ®ä»£ç†å’Œæ•°æ®åŠ«æŒ" class="headerlink" title="æ¨¡æ‹ŸVueä¸­çš„æ•°æ®ä»£ç†å’Œæ•°æ®åŠ«æŒ"></a>æ¨¡æ‹ŸVueä¸­çš„æ•°æ®ä»£ç†å’Œæ•°æ®åŠ«æŒ</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line">&lt;script type=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><br><span class="line">    <span class="comment">// æˆ‘çš„Vueçš„æ„é€ å‡½æ•°</span></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">MyVue</span>(<span class="params">options</span>)</span>&#123;</span><br><span class="line">    <span class="comment">// æ‹¿åˆ°é…ç½®é¡¹ä¼ å…¥çš„data</span></span><br><span class="line">        <span class="keyword">let</span> data = options[<span class="string">&#x27;data&#x27;</span>];</span><br><span class="line">        <span class="comment">// æ•°æ®ä»£ç†ï¼Œå°†dataä¸­å‡ºç°çš„å±æ€§ä»£ç†ç»™å®ä¾‹å¯¹è±¡</span></span><br><span class="line">        <span class="built_in">Object</span>.keys(data).forEach(<span class="function">(<span class="params">p</span>)=&gt;</span>&#123;</span><br><span class="line">            <span class="built_in">Object</span>.defineProperty(<span class="built_in">this</span>,p,&#123;</span><br><span class="line">                <span class="function"><span class="title">get</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">                    <span class="keyword">return</span> data[p];</span><br><span class="line">                &#125;,</span><br><span class="line">                <span class="function"><span class="title">set</span>(<span class="params">newValue</span>)</span>&#123;</span><br><span class="line">                    data[p] = newValue;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;)</span><br><span class="line">        <span class="comment">// æ•°æ®åŠ«æŒ</span></span><br><span class="line">    <span class="comment">// å°†dataè¿›è¡Œä¸€äº›åŠ å·¥ï¼Œä½¿å…¶å¯ä»¥æ£€æµ‹å±æ€§çš„å˜åŒ–ï¼Œå½“å±æ€§å˜åŒ–çš„æ—¶å€™ï¼Œå¯¹é¡µé¢åšå‡ºæ›´æ–°</span></span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">Observer</span>(<span class="params">data</span>)</span>&#123;</span><br><span class="line">            <span class="built_in">Object</span>.keys(data).forEach(<span class="function">(<span class="params">p</span>)=&gt;</span>&#123;</span><br><span class="line">                <span class="built_in">Object</span>.defineProperty(<span class="built_in">this</span>,p,&#123;</span><br><span class="line">                    <span class="function"><span class="title">get</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">                        <span class="built_in">console</span>.log(<span class="string">&#x27;æœ‰äººè¯»å–é…ç½®é¡¹ä¸­çš„æ•°æ®&#x27;</span>);</span><br><span class="line">                        <span class="keyword">return</span> data[p];</span><br><span class="line">                    &#125;,</span><br><span class="line">                    <span class="function"><span class="title">set</span>(<span class="params">newValue</span>)</span>&#123;</span><br><span class="line">                        <span class="built_in">console</span>.log(<span class="string">&#x27;æœ‰äººä¿®æ”¹é…ç½®é¡¹ä¸­çš„æ•°æ®ï¼Œæˆ‘è¦æ›´æ–°é¡µé¢äº†&#x27;</span>);</span><br><span class="line">                        data[p]=newValue;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;)</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="comment">// å¯¹ä¼ å…¥çš„dataæ•°æ®è¿›è¡ŒåŠ å·¥ï¼Œå¹¶å°†å…¶èµ‹å€¼ç»™_data</span></span><br><span class="line">        <span class="built_in">this</span>._data=<span class="keyword">new</span> Observer(data);</span><br><span class="line">    options.data=<span class="built_in">this</span>._data</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">const</span> vm = <span class="keyword">new</span> MyVue(&#123;</span><br><span class="line">        <span class="attr">data</span>: &#123;</span><br><span class="line">            <span class="attr">name</span>: <span class="string">&#x27;zhima&#x27;</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><p>è¯æ˜ï¼š</p><img src="/%E5%89%8D%E7%AB%AF/Vue2/2022/06/20/Vue2-%E5%9F%BA%E7%A1%801/image-20220621110015248.png" class title="æ¨¡æ‹ŸVueä¸­çš„æ•°æ®ä»£ç†"><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// é—®é¢˜ä¸€</span></span><br><span class="line"><span class="comment">// å¯¹äºåµŒå¥—ç±»å‹çš„å¯¹è±¡,æ˜¯æ— æ•ˆçš„,å› ä¸ºæˆ‘æ²¡æœ‰å†™é€’å½’è¯­å¥,æºç æ˜¯å†™äº†é€’å½’è¯­å¥,å°†å¯¹è±¡çš„æ¯ä¸€å±‚éƒ½åŠ äº†getter/setter</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// é—®é¢˜äºŒ</span></span><br><span class="line"><span class="comment">// è¿™é‡Œçš„_dataå¯¹è±¡å’Œä¼ å…¥çš„dataå¯¹è±¡æ˜¯ä¸ä¸€è‡´çš„</span></span><br><span class="line"><span class="comment">// è¿™é‡Œæˆ‘ä¸çŸ¥é“æ€ä¹ˆå®ç°è¿™ä¸€ç‚¹ï¼Œæœ‰ä¼šçš„å¤§ä½¬å¯ä»¥å‘ä¸€ä¸‹è¯„è®ºåŒº </span></span><br><span class="line"><span class="keyword">let</span> data = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;zhima&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> vm = <span class="keyword">new</span> MyVue(&#123;</span><br><span class="line">    data</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">//console</span></span><br><span class="line">vm._data===data</span><br><span class="line"><span class="literal">false</span></span><br></pre></td></tr></table></figure><blockquote><p>è¿™é‡Œçš„ä»£ç çœ‹ä¸æ‡‚ä¸è¦ç´§å“¦ï¼Œæˆ‘æ¥ä¸‹æ¥è¿˜ä¼šå†æä¸€éçš„ï¼Œæ…¢æ…¢åœ°ä¼šæ‡‚çš„</p><p>åŠ æ²¹åŠ æ²¹ğŸ’ª</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
          <category> Vue2 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Vue </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Vue2-å¯¼è¨€</title>
      <link href="/%E5%89%8D%E7%AB%AF/Vue2/2022/06/18/Vue2-%E5%AF%BC%E8%A8%80/"/>
      <url>/%E5%89%8D%E7%AB%AF/Vue2/2022/06/18/Vue2-%E5%AF%BC%E8%A8%80/</url>
      
        <content type="html"><![CDATA[<h2 id="Vue"><a href="#Vue" class="headerlink" title="Vue"></a>Vue</h2><p>å­¦ä¹ Vueä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆæ¥çœ‹ä¸‰ä¸ªé—®é¢˜</p><h3 id="å¯¼è¨€"><a href="#å¯¼è¨€" class="headerlink" title="å¯¼è¨€"></a>å¯¼è¨€</h3><h4 id="ä»€ä¹ˆæ˜¯Vue"><a href="#ä»€ä¹ˆæ˜¯Vue" class="headerlink" title="ä»€ä¹ˆæ˜¯Vue"></a>ä»€ä¹ˆæ˜¯Vue</h4><p>è¿™æ˜¯å®˜ç½‘çš„ä»‹ç»</p><img src="/%E5%89%8D%E7%AB%AF/Vue2/2022/06/18/Vue2-%E5%AF%BC%E8%A8%80/image-20220618213535715.png" class title="å®˜ç½‘ä»‹ç»"><blockquote><p>æ„å»ºç”¨æˆ·ç•Œé¢</p></blockquote><p>å³å°†æ•°æ®å±•ç¤ºåœ¨é¡µé¢ä¸Šï¼Œç»™ç”¨æˆ·çœ‹</p><blockquote><p>æ¸è¿›å¼æ¡†æ¶</p></blockquote><p>æ¸è¿›å³<strong>é€æ¸é€’è¿›</strong>ï¼Œç®€å•æ¥è¯´å°±æ˜¯</p><p>åœ¨ç®€å•åº”ç”¨ä¸­ï¼Œå¯ä»¥åªéœ€è¦ä¸€ä¸ªå°å·§çš„åº“</p><p>åœ¨å¤æ‚åº”ç”¨ä¸­ï¼Œå¯ä»¥å¼•å…¥å„ç§å„æ ·å¤æ‚çš„<strong>ç»„ä»¶</strong></p><p>å°±æ˜¯ä¸€ç§å¯ä»¥ä»æ˜“åˆ°éš¾å¼€å‘çš„ä¸€ç§æ¡†æ¶</p><h4 id="è°å¼€å‘çš„"><a href="#è°å¼€å‘çš„" class="headerlink" title="è°å¼€å‘çš„"></a>è°å¼€å‘çš„</h4><img src="/%E5%89%8D%E7%AB%AF/Vue2/2022/06/18/Vue2-%E5%AF%BC%E8%A8%80/image-20220619081309416.png" class title="ä½œè€…"><h4 id="å®ƒæœ‰ä»€ä¹ˆç‰¹ç‚¹"><a href="#å®ƒæœ‰ä»€ä¹ˆç‰¹ç‚¹" class="headerlink" title="å®ƒæœ‰ä»€ä¹ˆç‰¹ç‚¹"></a>å®ƒæœ‰ä»€ä¹ˆç‰¹ç‚¹</h4><p><strong>Angular.js</strong>çš„ç‰¹ç‚¹æ˜¯æ¨¡å—åŒ–å¼€å‘</p><p><strong>React.js</strong>çš„ç‰¹ç‚¹æ˜¯è™šæ‹ŸDOM</p><p>Vueåˆ™æ˜¯é›†ä¸¤å®¶ä¹‹é•¿ï¼Œå®ƒå…·æœ‰ä»¥ä¸‹ç‰¹ç‚¹</p><h5 id="ç»„ä»¶åŒ–å¼€å‘"><a href="#ç»„ä»¶åŒ–å¼€å‘" class="headerlink" title="ç»„ä»¶åŒ–å¼€å‘"></a><strong>ç»„ä»¶</strong>åŒ–å¼€å‘</h5><p>æé«˜ä»£ç å¤ç”¨ç‡å’Œç»´æŠ¤æ€§</p><img src="/%E5%89%8D%E7%AB%AF/Vue2/2022/06/18/Vue2-%E5%AF%BC%E8%A8%80/image-20220619083027302.png" class title="ç»„ä»¶åŒ–å¼€å‘"><p>æ¯ä¸€ä¸ªæ¡†å°±æ˜¯ä¸€ä¸ªç»„ä»¶ï¼Œå°±æ˜¯ä¸€ä¸ªæ–‡ä»¶</p><p>å½“æˆ‘éœ€è¦ä¿®æ”¹å“ªä¸€å—çš„ç•Œé¢ï¼Œæˆ‘åªéœ€è¦åˆ°å“ªä¸ªæ–‡ä»¶å»ä¿®æ”¹å³å¯</p><h5 id="å£°æ˜å¼ç¼–ç¨‹"><a href="#å£°æ˜å¼ç¼–ç¨‹" class="headerlink" title="å£°æ˜å¼ç¼–ç¨‹"></a><strong>å£°æ˜å¼ç¼–ç¨‹</strong></h5><p>è®©ç¼–ç äººå‘˜æ— éœ€ç›´æ¥æ“ä½œDOMï¼Œæé«˜å¼€å‘æ•ˆç‡</p><p>éœ€æ±‚ï¼šå°†ä¸‹åˆ—æ•°æ®æ˜¾ç¤ºåœ¨ä¸€ä¸ªåˆ—è¡¨(<code>&lt;ul id=&quot;container&quot;&gt;&lt;/ul&gt;</code>)ä¸­</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">let persons = </span><br><span class="line">[</span><br><span class="line">    &#123;</span><br><span class="line">        id: &#x27;<span class="number">1</span>&#x27;,</span><br><span class="line">        name: &#x27;zhima&#x27;</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        id: &#x27;<span class="number">2</span>&#x27;,</span><br><span class="line">        name: &#x27;lizhi&#x27;</span><br><span class="line">    &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">        id: &#x27;<span class="number">3</span>&#x27;,</span><br><span class="line">        name: &#x27;kerwin&#x27;</span><br><span class="line">    &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure><blockquote><p>å‘½ä»¤å¼ç¼–ç¨‹</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> list = <span class="built_in">document</span>.getElementById(<span class="string">&#x27;container&#x27;</span>)</span><br><span class="line">persons.forEach(<span class="function"><span class="params">p</span>=&gt;</span>&#123;</span><br><span class="line">    <span class="keyword">let</span> li=<span class="built_in">document</span>.createElement(<span class="string">&#x27;li&#x27;</span>);</span><br><span class="line">    li.innerHtml=<span class="string">`id:<span class="subst">$&#123;p.id&#125;</span>-name:<span class="subst">$&#123;name&#125;</span>`</span></span><br><span class="line">    list.append(li);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><blockquote><p>å£°æ˜å¼ç¼–ç¨‹</p></blockquote><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ul</span> <span class="attr">id</span>=<span class="string">&quot;container&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;p in persons&quot;</span>&gt;</span></span><br><span class="line">        id:&#123;&#123;p.id&#125;&#125;-name:&#123;&#123;p.name&#125;&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br></pre></td></tr></table></figure><h5 id="è™šæ‹ŸDOM"><a href="#è™šæ‹ŸDOM" class="headerlink" title="è™šæ‹ŸDOM"></a>è™šæ‹ŸDOM</h5><p>ä¼˜ç§€çš„DIFFç®—æ³•ï¼Œæé«˜DOMçš„å¤ç”¨ç‡</p><p>è¿™å°±æœ‰ç‚¹è®©äººæ‘¸ä¸ç€å¤´è„‘äº†ï¼ŒDOMè¿˜æœ‰å¤ç”¨ç‡ï¼Ÿ</p><p>è¿˜æ˜¯åˆšæ‰é‚£ä¸ªæ¡ˆä¾‹ï¼Œå¦‚æœæˆ‘çš„æ•°æ®å˜æˆäº†è¿™æ ·</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> persons = </span><br><span class="line">[</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">id</span>: <span class="string">&#x27;1&#x27;</span>,</span><br><span class="line">        <span class="attr">name</span>: <span class="string">&#x27;zhima&#x27;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">id</span>: <span class="string">&#x27;2&#x27;</span>,</span><br><span class="line">        <span class="attr">name</span>: <span class="string">&#x27;lizhi&#x27;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">id</span>: <span class="string">&#x27;4&#x27;</span>,</span><br><span class="line">        <span class="attr">name</span>: <span class="string">&#x27;txy&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure><p>ä¼ ç»Ÿçš„ä½¿ç”¨JavaScriptè¿›è¡Œå‘½ä»¤å¼æ“ä½œçš„è¯ï¼Œç›´æ¥å°†æ•°æ®è½¬åŒ–ä¸ºé¡µé¢çœŸå®DOMï¼ˆReal-DOMï¼‰ï¼Œç¡®å®å’ŒDOMçš„å¤ç”¨ç‡æ²¡æœ‰å•¥å…³ç³»</p><hr><p>ä½†æ˜¯åœ¨Vueé‡Œé¢ï¼Œåœ¨æ•°æ®å˜æˆé¡µé¢ä¸Šçš„DOMèŠ‚ç‚¹çš„ä¹‹å‰ï¼Œå®ƒä¼šåœ¨å†…å­˜ä¸­ç”Ÿæˆè™šæ‹ŸDOMï¼ˆVirtual-DOMï¼‰</p><p>ç„¶åä½¿ç”¨DIFFç®—æ³•ï¼Œæ¯”è¾ƒ<strong>æ–°æ—§è™šæ‹ŸDOM</strong>ï¼Œå¦‚æœæœ‰ä¸€æ ·çš„ï¼Œåˆ™ç›´æ¥å¤ç”¨ä¹‹å‰å·²ç»ç”Ÿæˆå¥½çš„è™šæ‹ŸDOMï¼Œä»è€Œæé«˜äº†DOMçš„å¤ç”¨ç‡ã€‚</p><p>é‚£ä¹ˆé€šè¿‡ä»€ä¹ˆæ¥åˆ¤æ–­ä¸¤ä¸ªè™šæ‹ŸDOMæ˜¯å¦ç›¸åŒå‘¢ï¼Ÿ</p><p>è¿™å°±è¦è¯´è¯´åˆšåˆšå†™çš„ä»£ç çš„ä¸€å¤„é”™è¯¯äº†ï¼Œä¸‹é¢çœ‹æ­£ç¡®çš„ä»£ç </p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ul</span> <span class="attr">id</span>=<span class="string">&quot;container&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;p in persons&quot;</span> <span class="attr">:key</span>=<span class="string">&quot;p.id&quot;</span>&gt;</span></span><br><span class="line">        id:&#123;&#123;p.id&#125;&#125;-name:&#123;&#123;p.name&#125;&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬çœ‹åˆ°ï¼Œä¸Šé¢çš„ä»£ç å°±æ˜¯åŠ äº†ä¸€å¤„åœ°æ–¹ï¼Œå°±æ˜¯<code>:key=&quot;p.id&quot;</code>ï¼Œå°±æ˜¯ç»™æ¯ä¸€ä¸ªéå†çš„å…ƒç´ åŠ ä¸Šäº†å”¯ä¸€æ€§æ ‡è¯†</p><p>å…·ä½“çš„DIFFç®—æ³•ï¼Œæˆ‘ä»¬åé¢è®²åˆ°è™šæ‹ŸDOM çš„æ—¶å€™å†è¯´</p><h4 id="å­¦ä¹‹å‰è¦æŒæ¡ä»€ä¹ˆçŸ¥è¯†"><a href="#å­¦ä¹‹å‰è¦æŒæ¡ä»€ä¹ˆçŸ¥è¯†" class="headerlink" title="å­¦ä¹‹å‰è¦æŒæ¡ä»€ä¹ˆçŸ¥è¯†"></a>å­¦ä¹‹å‰è¦æŒæ¡ä»€ä¹ˆçŸ¥è¯†</h4><ol><li><a href="http://li-zhi.net.cn/javaEE/JavaScript/2022/03/16/JavaScript-%E6%A8%A1%E5%9D%97%E5%8C%96%E5%BC%80%E5%8F%91/">ES6æ¨¡å—åŒ–å¼€å‘è§„èŒƒ</a></li><li>åŒ…ç®¡ç†å™¨NPM</li><li>æ•°ç»„å¸¸ç”¨æ–¹æ³•</li><li>axios</li><li>promise</li></ol>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
          <category> Vue2 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Vue </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç®—æ³•-äºŒå‰æ ‘ï¼ˆçº²é¢†ï¼‰</title>
      <link href="/%E7%AE%97%E6%B3%95/%E6%8A%80%E5%B7%A7%E7%AF%87/2022/05/07/%E7%AE%97%E6%B3%95-%E4%BA%8C%E5%8F%89%E6%A0%91%EF%BC%88%E7%BA%B2%E9%A2%86%EF%BC%89/"/>
      <url>/%E7%AE%97%E6%B3%95/%E6%8A%80%E5%B7%A7%E7%AF%87/2022/05/07/%E7%AE%97%E6%B3%95-%E4%BA%8C%E5%8F%89%E6%A0%91%EF%BC%88%E7%BA%B2%E9%A2%86%EF%BC%89/</url>
      
        <content type="html"><![CDATA[<h2 id="äºŒå‰æ ‘ï¼ˆçº²é¢†ï¼‰"><a href="#äºŒå‰æ ‘ï¼ˆçº²é¢†ï¼‰" class="headerlink" title="äºŒå‰æ ‘ï¼ˆçº²é¢†ï¼‰"></a>äºŒå‰æ ‘ï¼ˆçº²é¢†ï¼‰</h2><p>äºŒå‰æ ‘çš„è§£é¢˜æ€è·¯æœ‰ä¸¤ä¸ªæ–¹å‘</p><blockquote><p>é€šè¿‡éå†ä¸€æ£µæ ‘å¾—åˆ°ç­”æ¡ˆï¼Œå³<strong>éå†</strong>çš„æ€æƒ³</p></blockquote><blockquote><p>é€šè¿‡é€’å½’ï¼Œå°†æ•´ä¸ªé—®é¢˜åˆ†è§£ä¸ºå­é—®é¢˜æ¨å¯¼å‡ºé—®é¢˜çš„ç­”æ¡ˆï¼Œå³<strong>åˆ†è§£</strong>çš„æ€æƒ³</p></blockquote><p>é¦–å…ˆæˆ‘ä»¬æ¥å›é¡¾ä»¥ä¸‹äºŒå‰æ ‘çš„å‡ ç§éå†æ–¹å¼</p><ul><li>å‰åºéå†</li><li>ä¸­åºéå†</li><li>ååºéå†</li><li>å±‚æ¬¡éå†</li></ul><p>å¤§å®¶åœ¨è¯¾å†…å­¦ä¹ çš„æ—¶å€™ï¼Œåº”è¯¥æ˜¯è¿™ä¹ˆèƒŒçš„</p><p>å‰åºæ˜¯<code>æ ¹å·¦å³</code>ï¼Œä¸­åºæ˜¯<code>å·¦æ ¹å³</code>ï¼Œååºæ˜¯<code>å·¦å³æ ¹</code>ï¼Œå±‚æ¬¡éå†å°±æ˜¯ä¸€å±‚ä¸€å±‚å†™</p><img src="/%E7%AE%97%E6%B3%95/%E6%8A%80%E5%B7%A7%E7%AF%87/2022/05/07/%E7%AE%97%E6%B3%95-%E4%BA%8C%E5%8F%89%E6%A0%91%EF%BC%88%E7%BA%B2%E9%A2%86%EF%BC%89/example.png" class title="æ —å›¾"><p>å‰åºéå†é›†åˆï¼š<code>ABDHIECFG</code></p><p>ä¸­åºéå†é›†åˆï¼š<code>HDIBEAFCG</code></p><p>ååºéå†é›†åˆï¼š<code>HIDEBFGCA</code></p><p>å±‚æ¬¡éå†é›†åˆï¼š<code>ABCDEFGHI</code></p><p>ç›¸ä¿¡è¿™ä¸ªå¯¹äºå¤§å®¶æ¥è¯´éƒ½æ²¡æœ‰éš¾åº¦ï¼Œç†è§£å‰ä¸­ååºå¯¹äºåšäºŒå‰æ ‘é—®é¢˜ååˆ†é‡è¦ï¼Œè¿™é‡Œç»™å‡ºéå†äºŒå‰æ ‘çš„æ¨¡æ¿ä»£ç ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">traverse</span><span class="params">(TreeNode root)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(root==<span class="keyword">null</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// å‰åºä½ç½®</span></span><br><span class="line">    traverse(root.left);</span><br><span class="line">    <span class="comment">// ä¸­åºä½ç½®</span></span><br><span class="line">    traverse(root.right);</span><br><span class="line">    <span class="comment">// ååºä½ç½®</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸‹é¢è¯·ä½ å¯¹ç…§è¿™æ®µæ¨¡æ¿ï¼Œçœ‹ä¸‹é¢è¿™å¼ å›¾</p><img src="/%E7%AE%97%E6%B3%95/%E6%8A%80%E5%B7%A7%E7%AF%87/2022/05/07/%E7%AE%97%E6%B3%95-%E4%BA%8C%E5%8F%89%E6%A0%91%EF%BC%88%E7%BA%B2%E9%A2%86%EF%BC%89/%E5%89%8D%E4%B8%AD%E5%90%8E%E5%BA%8F%E4%BD%8D%E7%BD%AE.png" class title="å‰ä¸­ååºä½ç½®"><p>ä½ ä¼šå‘ç°ï¼Œæ¯ä¸ªèŠ‚ç‚¹éƒ½ä¼šæœ‰å”¯ä¸€å±äºè‡ªå·±çš„å‰ä¸­ååºä½ç½®ï¼Œå‰ä¸­ååºå…¶å®å¯¹åº”å°±æ˜¯å¤„ç†æ¯ä¸€ä¸ªèŠ‚ç‚¹çš„ä¸‰ä¸ªç‰¹æ®Šæ—¶é—´ç‚¹ã€‚</p><p>äºŒå‰æ ‘çš„é—®é¢˜ï¼Œå…¶å®å°±æ˜¯åœ¨è¿™ä¸‰ä¸ªæ—¶é—´ç‚¹æ³¨å…¥è‡ªå·±çš„ä»£ç é€»è¾‘ï¼Œåªéœ€è¦å•ç‹¬è€ƒè™‘æ¯ä¸€ä¸ªèŠ‚ç‚¹åœ¨æ¯ä¸ªæ—¶é—´ç‚¹è¯¥åšäº›ä»€ä¹ˆï¼Œå…¶ä»–çš„äº¤ç»™äºŒå‰æ ‘éå†æ¡†æ¶å³å¯ã€‚</p><h3 id="å‰åºè¾“å‡ºé›†åˆ"><a href="#å‰åºè¾“å‡ºé›†åˆ" class="headerlink" title="å‰åºè¾“å‡ºé›†åˆ"></a>å‰åºè¾“å‡ºé›†åˆ</h3><p>æˆ‘ä»¬æ¥å†™ä¸€ä¸‹å‰åºéå†ï¼Œæ–¹æ³•ç­¾åå¦‚ä¸‹<code>public List&lt;TreeNOde&gt; getPreorderList(TreeNOde root)&#123;&#125;</code></p><h4 id="ä¸€ã€éå†"><a href="#ä¸€ã€éå†" class="headerlink" title="ä¸€ã€éå†"></a>ä¸€ã€éå†</h4><p>å€ŸåŠ©traverseå‡½æ•°å’Œä¸€ä¸ªå¤–éƒ¨å˜é‡å³å¯å®Œæˆ</p><p>åœ¨è¿›å…¥ä¸€ä¸ªèŠ‚ç‚¹çš„æ—¶å€™å°†å…¶åŠ å…¥åˆ°ç»“æœé›†ä¸­å»ï¼Œæœ€åå°†ç»“æœé›†è¿”å›</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">List&lt;TreeNode&gt; res = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> List&lt;TreeNOde&gt; <span class="title">getPreorderList</span><span class="params">(TreeNOde root)</span> </span>&#123;</span><br><span class="line">    traverse(root);</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">traverse</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (root == <span class="keyword">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    res.add(root);</span><br><span class="line">    traverse(root.left);</span><br><span class="line">    traverse(root.right);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="äºŒã€åˆ†è§£é—®é¢˜"><a href="#äºŒã€åˆ†è§£é—®é¢˜" class="headerlink" title="äºŒã€åˆ†è§£é—®é¢˜"></a>äºŒã€åˆ†è§£é—®é¢˜</h4><p>æ±‚ä¸€æ•´ä¸ªæ ‘çš„å‰åºéå†å³æ±‚å…¶å­æ ‘çš„å‰åºéå†é›†åˆ</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> List&lt;TreeNode&gt; <span class="title">getPreorderList</span><span class="params">(TreeNode root)</span></span>&#123;</span><br><span class="line">    List&lt;TreeNode&gt; res = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    <span class="keyword">if</span>(root==<span class="keyword">null</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// å°†å½“å‰èŠ‚ç‚¹æ”¾å…¥é›†åˆ</span></span><br><span class="line">    res.add(root);</span><br><span class="line">    <span class="comment">// å°†å·¦èŠ‚ç‚¹çš„å‰åºéå†æ”¾å…¥é›†åˆ</span></span><br><span class="line">    res.addAll(getPreorderList(root.left));</span><br><span class="line">    <span class="comment">// å°†å³èŠ‚ç‚¹çš„å‰åºéå†æ”¾å…¥é›†åˆ</span></span><br><span class="line">    res.addAll(getPreorderList(root.right));</span><br><span class="line">    <span class="comment">// è®²ç»“æœé›†è¿”å›</span></span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="äºŒå‰æ ‘çš„æœ€å¤§æ·±åº¦"><a href="#äºŒå‰æ ‘çš„æœ€å¤§æ·±åº¦" class="headerlink" title="äºŒå‰æ ‘çš„æœ€å¤§æ·±åº¦"></a><a href="https://leetcode.cn/problems/maximum-depth-of-binary-tree/">äºŒå‰æ ‘çš„æœ€å¤§æ·±åº¦</a></h3><p>ç»™å®šä¸€ä¸ªäºŒå‰æ ‘ï¼Œæ‰¾å‡ºå…¶æœ€å¤§æ·±åº¦ã€‚</p><p>äºŒå‰æ ‘çš„æ·±åº¦ä¸ºæ ¹èŠ‚ç‚¹åˆ°æœ€è¿œå¶å­èŠ‚ç‚¹çš„æœ€é•¿è·¯å¾„ä¸Šçš„èŠ‚ç‚¹æ•°ã€‚</p><p><code>è¯´æ˜: å¶å­èŠ‚ç‚¹æ˜¯æŒ‡æ²¡æœ‰å­èŠ‚ç‚¹çš„èŠ‚ç‚¹ã€‚</code></p><blockquote><p>ç¤ºä¾‹ï¼š</p></blockquote><p>ç»™å®šäºŒå‰æ ‘ [3,9,20,null,null,15,7]</p><pre><code>    3   / \  9  20    /  \   15   7</code></pre><p>è¿”å›å®ƒçš„æœ€å¤§æ·±åº¦ 3 ã€‚</p><p>æˆ‘ä»¬æ¥ä½¿ç”¨ä¸¤ç§ä¸Šè¿°æ€ç»´æ¥çœ‹è¿™é“é¢˜</p><h4 id="ä¸€ã€éå†-1"><a href="#ä¸€ã€éå†-1" class="headerlink" title="ä¸€ã€éå†"></a>ä¸€ã€éå†</h4><p>å¦‚ä½•å¾—åˆ°æœ€å¤§æ·±åº¦ï¼Œå³å¾—åˆ°æ¯ä¸€ä¸ªèŠ‚ç‚¹çš„æ·±åº¦ï¼Œåœ¨å¶å­èŠ‚ç‚¹å¤„å°†å½“å‰æ·±åº¦å’Œå½“å‰æœ€å¤§æ·±åº¦å–æœ€å¤§ï¼Œç„¶åå°†æœ€å¤§çš„æ·±åº¦è¿”å›å³å¯</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> depth = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> max = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">maxDepth</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">        traverse(root);</span><br><span class="line">        <span class="keyword">return</span> max;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">traverse</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (root == <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// å‰åºä½ç½®</span></span><br><span class="line">        depth++;</span><br><span class="line">        <span class="comment">// åœ¨å¶å­èŠ‚ç‚¹å¤„æ›´æ–°æœ€å¤§æ·±åº¦</span></span><br><span class="line">        <span class="keyword">if</span> (root.left == <span class="keyword">null</span> &amp;&amp; root.right == <span class="keyword">null</span>) &#123;</span><br><span class="line">            max = Math.max(max, depth);</span><br><span class="line">        &#125;</span><br><span class="line">        traverse(root.left);</span><br><span class="line">        <span class="comment">// ä¸­åºä½ç½®</span></span><br><span class="line">        traverse(root.right);</span><br><span class="line">        <span class="comment">// ååºä½ç½®</span></span><br><span class="line">        depth--;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å‰åºä½ç½®æ˜¯è¿›å…¥ä¸€ä¸ªèŠ‚ç‚¹çš„æ—¶å€™ï¼Œä¸­åºä½ç½®æ˜¯ä»å·¦å­æ ‘åˆ‡åˆ°å³å­æ ‘çš„æ—¶å€™ï¼Œååºä½ç½®æ˜¯ç¦»å¼€ä¸€ä¸ªèŠ‚ç‚¹è¿”å›å…¶çˆ¶æ¯èŠ‚ç‚¹çš„æ—¶å€™</p><p>depthè®°å½•ç€å½“å‰æ·±åº¦ï¼Œmaxè®°å½•ç€æœ€å¤§æ·±åº¦</p><p>åœ¨è¿›å…¥ä¸€ä¸ªæ–°çš„èŠ‚ç‚¹çš„æ—¶å€™ï¼Œdepthè‡ªå¢1ï¼Œåœ¨ç¦»å¼€è¿™ä¸ªèŠ‚ç‚¹çš„æ—¶å€™ï¼Œdepthè‡ªå‡1</p><h4 id="äºŒã€åˆ†è§£é—®é¢˜-1"><a href="#äºŒã€åˆ†è§£é—®é¢˜-1" class="headerlink" title="äºŒã€åˆ†è§£é—®é¢˜"></a>äºŒã€åˆ†è§£é—®é¢˜</h4><p>æ±‚æ ‘çš„æœ€å¤§æ·±åº¦å³æ±‚æ ‘çš„é«˜åº¦</p><p>æ±‚æ ‘çš„é«˜åº¦å³å¯åˆ†è§£é—®é¢˜ï¼Œåˆ†è§£åˆ°ç”±å­æ ‘é«˜åº¦æ¨å¯¼å‡ºå®Œæ•´çš„æ ‘çš„é«˜åº¦</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">maxDepth</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (root == <span class="keyword">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// å·¦å­æ ‘çš„é«˜åº¦</span></span><br><span class="line">    <span class="keyword">int</span> left = maxDepth(root.left);</span><br><span class="line">    <span class="comment">// å³å­æ ‘çš„é«˜åº¦</span></span><br><span class="line">    <span class="keyword">int</span> right = maxDepth(root.right);</span><br><span class="line">    <span class="comment">// è¿”å›è‡ªèº«é«˜åº¦</span></span><br><span class="line">    <span class="keyword">int</span> max = Math.max(left, right) + <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">return</span> max;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
          <category> æŠ€å·§ç¯‡ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç®—æ³• </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ã€19-Mediumã€‘åˆ é™¤é“¾è¡¨çš„å€’æ•°ç¬¬Nä¸ªèŠ‚ç‚¹</title>
      <link href="/%E7%AE%97%E6%B3%95/%E5%88%B7%E9%A2%98%E7%AF%87/2022/05/01/%E3%80%9019-Medium%E3%80%91%E5%88%A0%E9%99%A4%E9%93%BE%E8%A1%A8%E7%9A%84%E5%80%92%E6%95%B0%E7%AC%ACN%E4%B8%AA%E8%8A%82%E7%82%B9/"/>
      <url>/%E7%AE%97%E6%B3%95/%E5%88%B7%E9%A2%98%E7%AF%87/2022/05/01/%E3%80%9019-Medium%E3%80%91%E5%88%A0%E9%99%A4%E9%93%BE%E8%A1%A8%E7%9A%84%E5%80%92%E6%95%B0%E7%AC%ACN%E4%B8%AA%E8%8A%82%E7%82%B9/</url>
      
        <content type="html"><![CDATA[<h2 id="åˆ é™¤é“¾è¡¨çš„å€’æ•°ç¬¬Nä¸ªèŠ‚ç‚¹"><a href="#åˆ é™¤é“¾è¡¨çš„å€’æ•°ç¬¬Nä¸ªèŠ‚ç‚¹" class="headerlink" title="åˆ é™¤é“¾è¡¨çš„å€’æ•°ç¬¬Nä¸ªèŠ‚ç‚¹"></a>åˆ é™¤é“¾è¡¨çš„å€’æ•°ç¬¬Nä¸ªèŠ‚ç‚¹</h2><p>ç»™ä½ ä¸€ä¸ªé“¾è¡¨ï¼Œåˆ é™¤é“¾è¡¨çš„å€’æ•°ç¬¬ <code>n</code> ä¸ªç»“ç‚¹ï¼Œå¹¶ä¸”è¿”å›é“¾è¡¨çš„å¤´ç»“ç‚¹ã€‚</p><p><strong>ç¤ºä¾‹ 1</strong>ï¼š</p><img src="/%E7%AE%97%E6%B3%95/%E5%88%B7%E9%A2%98%E7%AF%87/2022/05/01/%E3%80%9019-Medium%E3%80%91%E5%88%A0%E9%99%A4%E9%93%BE%E8%A1%A8%E7%9A%84%E5%80%92%E6%95%B0%E7%AC%ACN%E4%B8%AA%E8%8A%82%E7%82%B9/example.jpg" class title="example"><figure class="highlight dns"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šhead = [<span class="number">1,2,3,4</span>,<span class="number">5</span>], n = <span class="number">2</span></span><br><span class="line">è¾“å‡ºï¼š[<span class="number">1,2,3,5</span>]</span><br></pre></td></tr></table></figure><p><strong>ç¤ºä¾‹ 2ï¼š</strong></p><figure class="highlight inform7"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šhead = <span class="comment">[1]</span>, n = 1</span><br><span class="line">è¾“å‡ºï¼š<span class="comment">[]</span></span><br></pre></td></tr></table></figure><p><strong>ç¤ºä¾‹ 3ï¼š</strong></p><figure class="highlight inform7"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šhead = <span class="comment">[1,2]</span>, n = 1</span><br><span class="line">è¾“å‡ºï¼š<span class="comment">[1]</span></span><br></pre></td></tr></table></figure><p><strong>æç¤ºï¼š</strong></p><ul><li>é“¾è¡¨ä¸­ç»“ç‚¹çš„æ•°ç›®ä¸º <code>sz</code></li><li><code>1 &lt;= sz &lt;= 30</code></li><li><code>0 &lt;= Node.val &lt;= 100</code></li><li><code>1 &lt;= n &lt;= sz</code></li></ul><p><strong>è¿›é˜¶ï¼š</strong>ä½ èƒ½å°è¯•ä½¿ç”¨ä¸€è¶Ÿæ‰«æå®ç°å—ï¼Ÿ</p><ul><li>Related Topics</li><li>é“¾è¡¨</li><li>åŒæŒ‡é’ˆ</li></ul><h3 id="åŒæŒ‡é’ˆ"><a href="#åŒæŒ‡é’ˆ" class="headerlink" title="åŒæŒ‡é’ˆ"></a>åŒæŒ‡é’ˆ</h3><p>è¿™é“é¢˜å…¸å‹çš„ç”¨å¿«æ…¢æŒ‡é’ˆæ³•æ¥è§£å†³</p><p>å°†<code>slow</code>å’Œ<code>fast</code>æŒ‡å‘å¤´éƒ¨ï¼Œå°†<code>fast</code>æŒ‡é’ˆå…ˆå¾€åèµ°næ­¥</p><p>ç„¶åä¸¤è€…é½å¤´å¹¶è¿›ï¼Œå½“<code>fast.next</code>ä¸º<code>null</code>çš„æ—¶å€™ï¼Œ<code>slow</code>å·²ç»åœ¨å€’æ•°ç¬¬n-1ä¸ªèŠ‚ç‚¹çš„ä½ç½®äº†ï¼Œæ­¤æ—¶è¿›è¡Œåˆ é™¤æ“ä½œ</p><p>è¯¥æ–¹æ³•çš„åŸç†æ˜¯åˆ©ç”¨<strong>æ­¥é•¿</strong>ï¼Œfastå…ˆèµ°çš„é‚£å‡ æ­¥ï¼Œåœ¨<code>fast</code>åˆ°äº†é“¾è¡¨æœ«å°¾çš„<code>null</code>çš„æ—¶å€™ï¼Œ<code>slow</code>åˆ™è¡¨ç¤ºçš„æ˜¯å€’æ•°ç¬¬nä¸ªèŠ‚ç‚¹ï¼Œ</p><p>å› ä¸ºè¿™é‡Œéœ€è¦æ‰§è¡Œåˆ é™¤æ“ä½œï¼Œæ‰€ä»¥éœ€è¦å°†<code>fast</code>èµ°åˆ°é“¾è¡¨æœ«å°¾å³å¯</p><blockquote><p>ç¤ºä¾‹ä»£ç </p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> ListNode <span class="title">removeNthFromEnd</span><span class="params">(ListNode head, <span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        ListNode slow = head;</span><br><span class="line">        ListNode fast = head;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">            fast = fast.next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(fast == <span class="keyword">null</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> head.next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span>(fast.next != <span class="keyword">null</span>)&#123;</span><br><span class="line">            slow = slow.next;</span><br><span class="line">            fast = fast.next;</span><br><span class="line">        &#125;</span><br><span class="line">        slow.next = slow.next.next;</span><br><span class="line">        <span class="keyword">return</span> head;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
          <category> åˆ·é¢˜ç¯‡ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç®—æ³• </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JVM-å†…å­˜åˆ†åŒº</title>
      <link href="/javaEE/JVM/2022/03/18/JVM-%E5%86%85%E5%AD%98%E5%88%86%E5%8C%BA/"/>
      <url>/javaEE/JVM/2022/03/18/JVM-%E5%86%85%E5%AD%98%E5%88%86%E5%8C%BA/</url>
      
        <content type="html"><![CDATA[<h2 id="JVMå†…å­˜åˆ†åŒº"><a href="#JVMå†…å­˜åˆ†åŒº" class="headerlink" title="JVMå†…å­˜åˆ†åŒº"></a>JVMå†…å­˜åˆ†åŒº</h2><p>å†…å­˜åˆ†åŒºå’Œå†…å­˜æ¨¡å‹æ˜¯ä¸¤ä¸ªæ¦‚å¿µ</p><p>æ“ä½œç³»ç»Ÿå†…å­˜åˆ†åŒº</p><ul><li>æ ˆï¼ˆStackï¼‰</li><li>å †ï¼ˆHeapï¼‰</li><li>æœªåˆå§‹åŒ–æ•°æ®æ®µï¼ˆBSSï¼‰</li><li>æ•°æ®æ®µï¼ˆData Segmentï¼‰</li><li>æ–‡æœ¬æ®µï¼ˆLiteral Segmentï¼‰</li><li>ä»£ç æ®µï¼ˆCode Segmentï¼‰</li></ul><p>JVMå†…å­˜åˆ†åŒº</p><ul><li>ç¨‹åºè®¡æ•°å™¨ï¼ˆPCï¼‰</li><li>è™šæ‹Ÿæœºæ ˆï¼ˆJVM Stackï¼‰</li><li>æœ¬åœ°æ–¹æ³•æ ˆï¼ˆNative Method Stackï¼‰</li><li>å †ï¼ˆHeapï¼‰</li><li>æ–¹æ³•åŒºï¼ˆMethod Areaï¼‰</li></ul><img src="/javaEE/JVM/2022/03/18/JVM-%E5%86%85%E5%AD%98%E5%88%86%E5%8C%BA/JVM%E5%86%85%E5%AD%98%E5%88%86%E5%8C%BA.png" class title="JVMå†…å­˜åˆ†åŒº"><p>æ©™è‰²è™šçº¿åŒ…è£¹çš„å°±æ˜¯çº¿ç¨‹å…±äº«çš„ï¼Œè¢«çº¢è‰²å®ç°åŒ…è£¹çš„æ˜¯çº¿ç¨‹éš”ç¦»çš„</p><h3 id="ç¨‹åºè®¡æ•°å™¨"><a href="#ç¨‹åºè®¡æ•°å™¨" class="headerlink" title="ç¨‹åºè®¡æ•°å™¨"></a>ç¨‹åºè®¡æ•°å™¨</h3><p>åœ¨ç¡¬ä»¶å±‚é¢ï¼Œç¨‹åºè®¡æ•°å™¨æ˜¯å¯„å­˜å™¨ï¼Œæ˜¯ç”¨æ¥å­˜å‚¨æŒ‡ä»¤åœ°å€ç»™å¤„ç†å™¨æ‰§è¡Œï¼Œ</p><p>åœ¨JVMä¸­ï¼Œå®ƒçš„ä½œç”¨å°±æ˜¯ç”¨æ¥å­˜å‚¨å­—èŠ‚ç æŒ‡ä»¤çš„åœ°å€ï¼Œæä¾›ç»™æ‰§è¡Œå¼•æ“å»æ‰§è¡Œ</p><p>è¿™é‡Œæˆ‘ä»¬ä»ä¾§é¢å»æŸ¥çœ‹è¯¥ç‰¹æ–°</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">            System.out.println(i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç„¶åå…ˆç¼–è¯‘<code>javac Demo.java</code>åç¼–è¯‘<code>javap -l -c  Demo.class</code></p><p>å¾—åˆ°ä»¥ä¸‹å­—èŠ‚ç </p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">Compiled from <span class="string">&quot;Demo.java&quot;</span></span><br><span class="line">public class com.lizhi.Demo &#123;</span><br><span class="line">  public com.lizhi.Demo();</span><br><span class="line">    descriptor: ()V</span><br><span class="line">    Code:</span><br><span class="line">       0: aload_0</span><br><span class="line">       1: invokespecial <span class="comment">#1                  // Method java/lang/Object.&quot;&lt;init&gt;&quot;:()V</span></span><br><span class="line">       4: <span class="built_in">return</span></span><br><span class="line">    LineNumberTable:</span><br><span class="line">      line 3: 0</span><br><span class="line"></span><br><span class="line">  public static void main(java.lang.String[]);</span><br><span class="line">    descriptor: ([Ljava/lang/String;)V</span><br><span class="line">    Code:</span><br><span class="line">    // è¿™é‡Œçš„æ•°å­—å°±æ˜¯å­—èŠ‚ç æŒ‡ä»¤çš„åç§»é‡</span><br><span class="line">       0: iconst_0</span><br><span class="line">       1: istore_1</span><br><span class="line">       2: iload_1</span><br><span class="line">       3: bipush        10</span><br><span class="line">       5: if_icmpge     21</span><br><span class="line">       8: getstatic     <span class="comment">#2                  // Field java/lang/System.out:Ljava/io/PrintStream;</span></span><br><span class="line">      11: iload_1</span><br><span class="line">      12: invokevirtual <span class="comment">#3                  // Method java/io/PrintStream.println:(I)V</span></span><br><span class="line">      15: iinc          1, 1</span><br><span class="line">      18: goto          2</span><br><span class="line">      21: <span class="built_in">return</span></span><br><span class="line">      // è¿™é‡Œå¯ä»¥è§£é‡Šæ–­ç‚¹çš„åŸç†ï¼Œå°†æºç è¡Œæ•°å’Œå­—èŠ‚ç è¡Œæ•°è¿›è¡Œæ˜ å°„</span><br><span class="line">    LineNumberTable:</span><br><span class="line">      line 5: 0</span><br><span class="line">      line 6: 8</span><br><span class="line">      line 5: 15</span><br><span class="line">      line 8: 21</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="è™šæ‹Ÿæœºæ ˆ"><a href="#è™šæ‹Ÿæœºæ ˆ" class="headerlink" title="è™šæ‹Ÿæœºæ ˆ"></a>è™šæ‹Ÿæœºæ ˆ</h3><p>ä¹Ÿå«javaæ–¹æ³•æ ˆï¼Œjavaæ–¹æ³•çš„è°ƒç”¨å¯¹åº”ç€<strong>æ ˆå¸§</strong>çš„å…¥æ ˆä¸å‡ºæ ˆã€‚</p><p>3ä¸ªé‡ç‚¹ï¼š</p><ol><li>æ ˆå¸§</li><li>æ ˆå¸§å‡ºç°æ—¶æœº</li><li>æ ˆå¸§çš„æ„æˆ</li></ol><h4 id="æ ˆå¸§"><a href="#æ ˆå¸§" class="headerlink" title="æ ˆå¸§"></a>æ ˆå¸§</h4><p>æ ˆå¸§ä¸»è¦æœ‰å››éƒ¨åˆ†ç»„æˆï¼šå±€éƒ¨å˜é‡è¡¨ã€æ“ä½œæ•°æ ˆã€åŠ¨æ€è¿æ¥ã€è¿”å›åœ°å€</p><ul><li><strong>å±€éƒ¨å˜é‡è¡¨</strong></li></ul><ol><li>ä¸»è¦å­˜å‚¨æ–¹æ³•çš„å‚æ•°ã€å®šä¹‰åœ¨æ–¹æ³•å†…çš„å±€éƒ¨å˜é‡ï¼ŒåŒ…æ‹¬åŸºæœ¬æ•°æ®ç±»å‹ï¼ˆ8å¤§ï¼‰å¯¹è±¡çš„å¼•ç”¨åœ°å€ï¼Œè¿”å›å€¼åœ°å€ã€‚</li><li>å±€éƒ¨å˜é‡è¡¨ä¸­å­˜å‚¨çš„åŸºæœ¬å•å…ƒä¸ºå˜é‡æ§½ï¼ˆSlotï¼‰ï¼Œ32ä½ï¼ˆ4å­—èŠ‚ï¼‰ä»¥å†…çš„æ•°æ®ç±»å‹å ä¸€ä¸ªslotï¼Œ64ä½ï¼ˆlongï¼Œdoubleï¼‰çš„å ä¸¤ä¸ªslotã€‚</li><li>å±€éƒ¨å˜é‡è¡¨æ˜¯ä¸€ä¸ªæ•°å­—æ•°ç»„ï¼Œbyteã€shortã€charéƒ½ä¼šè¢«è½¬åŒ–ä¸ºint,booleanç±»å‹ä¹Ÿä¼šè¢«è½¬åŒ–ä¸ºintï¼ŒOä»£è¡¨falseã€é0ä»£è¡¨trueã€‚å±€éƒ¨å˜é‡è¡¨çš„å¤§å°æ˜¯åœ¨ç¼–è¯‘æœŸé—´å†³å®šä¸‹æ¥çš„ï¼Œæ‰€ä»¥åœ¨è¿è¡Œæ—¶å®ƒçš„å¤§å°æ˜¯ä¸ä¼šå˜çš„ã€‚</li><li>å±€éƒ¨å˜é‡è¡¨ä¸­å«æœ‰ç›´æ¥æˆ–è€…é—´æ¥æŒ‡å‘çš„å¼•ç”¨ç±»å‹å˜é‡æ—¶ï¼Œä¸ä¼šè¢«åƒåœ¾å›æ”¶å¤„ç†ã€‚</li></ol><ul><li><strong>æ“ä½œæ•°æ ˆ</strong></li></ul><p>å°±æ˜¯ç”¨æ¥å­˜å‚¨æ“ä½œæ•°çš„æ ˆï¼Œè¿™é‡Œçš„æ“ä½œæ•°å¤§éƒ¨åˆ†å°±æ˜¯æ–¹æ³•å†…çš„å˜é‡</p><p>ä½œç”¨ï¼š</p><ol><li>å­˜å‚¨æ“ä½œæ•°</li><li>æ“ä½œæ•°æ ˆå¯ä»¥æ–¹ä¾¿æŒ‡ä»¤é¡ºåºè¯»å–æ“ä½œæ•°</li></ol><table><thead><tr><th>æŒ‡ä»¤</th><th>å«ä¹‰</th></tr></thead><tbody><tr><td>iload</td><td>intå‹å˜é‡å…¥æ ˆ</td></tr><tr><td>istore</td><td>æ ˆé¡¶æ•°å€¼å­˜å…¥å±€éƒ¨å˜é‡</td></tr><tr><td>iadd</td><td>å¼¹å‡ºæ ˆé¡¶ä¸¤ä¸ªæ“ä½œæ•°ï¼Œå¹¶å°†æ±‚å’Œçš„intå€¼å‹å…¥æ ˆä¸­</td></tr></tbody></table><ul><li><strong>åŠ¨æ€è¿æ¥</strong></li></ul><p>javaä¸­çš„å¤šæ€å°±æ˜¯é€šè¿‡åŠ¨æ€è¿æ¥å®ç°çš„</p><p>æ¯ä¸ªæ ˆå¸§éƒ½åŒ…å«ä¸€ä¸ªæŒ‡å‘è¿è¡Œæ—¶å¸¸é‡æ± ä¸­è¯¥æ ˆå¸§æ‰€å±æ–¹æ³•çš„å¼•ç”¨ï¼ŒæŒæœ‰è¿™ä¸ªå¼•ç”¨éƒ½æ˜¯ä¸ºäº†æ”¯æŒæ–¹æ³•è°ƒç”¨è¿‡ç¨‹ä¸­çš„åŠ¨æ€è¿æ¥</p><p>è¿æ¥æ˜¯å°†éƒ¨åˆ†ç¬¦å·å¼•ç”¨æ›¿æ¢ä¸ºç›´æ¥å¼•ç”¨ï¼Œå¯¹äºæœ‰äº›æ–¹æ³•ï¼ŒJVMå¹¶ä¸èƒ½åˆ¤æ–­å®ƒä»¬çš„å…·ä½“å®ç°ï¼Œåªæœ‰åœ¨çœŸæ­£è¿è¡Œçš„æ—¶å€™ï¼Œæ‰å¯ä»¥æ ¹æ®å®é™…ç±»å‹è¿›è¡Œè¿æ¥ï¼Œè¿™å°±æ˜¯åŠ¨æ€è¿æ¥</p><h3 id="æœ¬åœ°æ–¹æ³•æ ˆ"><a href="#æœ¬åœ°æ–¹æ³•æ ˆ" class="headerlink" title="æœ¬åœ°æ–¹æ³•æ ˆ"></a>æœ¬åœ°æ–¹æ³•æ ˆ</h3><p>æœ¬åœ°æ–¹æ³•æ˜¯ç”±éjavaè¯­è¨€å®ç°çš„å‡½æ•°ï¼Œä¸€èˆ¬æ˜¯ä¸€äº›å’Œæ“ä½œç³»ç»Ÿåº•å±‚ç›¸å…³çš„å‡½æ•°</p>]]></content>
      
      
      <categories>
          
          <category> javaEE </category>
          
          <category> JVM </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JVM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JavaScript-æ¨¡å—åŒ–å¼€å‘</title>
      <link href="/%E5%89%8D%E7%AB%AF/JavaScript/2022/03/16/JavaScript-%E6%A8%A1%E5%9D%97%E5%8C%96%E5%BC%80%E5%8F%91/"/>
      <url>/%E5%89%8D%E7%AB%AF/JavaScript/2022/03/16/JavaScript-%E6%A8%A1%E5%9D%97%E5%8C%96%E5%BC%80%E5%8F%91/</url>
      
        <content type="html"><![CDATA[<h2 id="javaScriptæ¨¡å—åŒ–"><a href="#javaScriptæ¨¡å—åŒ–" class="headerlink" title="javaScriptæ¨¡å—åŒ–"></a>javaScriptæ¨¡å—åŒ–</h2><blockquote><p>ä»€ä¹ˆæ˜¯æ¨¡å—åŒ–ï¼Ÿ</p></blockquote><p>å³å°†ä¸€ä¸ªå¤æ‚çš„ç¨‹åºä¾æ®ä¸€å®šçš„è§„åˆ™(è§„èŒƒ)å°è£…æˆå‡ ä¸ªå—(æ–‡ä»¶)ï¼Œå¹¶ç”¨è§„å®šè¯­æ³•å°†å…¶ç»„åˆåœ¨ä¸€èµ·ï¼Œå—çš„å†…éƒ¨æ•°æ®&#x2F;å®ç°æ˜¯ç§æœ‰çš„,åªæ˜¯å‘å¤–éƒ¨æš´éœ²ä¸€äº›æ¥å£(æ–¹æ³•)ä¸å¤–éƒ¨å…¶ä»–æ¨¡å—é€šä¿¡</p><p>ä»¥å‰çš„ä»£ç </p><hr><p>å…¨å±€æ¨¡å¼</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">abc</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>é—®é¢˜ï¼š</strong>æ‰€æœ‰çš„å‡½æ•°éƒ½è¢«ç»‘å®šåœ¨äº†<code>window</code>ä¸Šï¼Œå®¹æ˜“äº§ç”Ÿå‘½åå†²çªå’Œäº§ç”Ÿå¯¹<code>window</code>çš„æ±¡æŸ“</p><hr><p>namespaceæ¨¡å¼</p><p>å°†å‡½æ•°æˆ–è€…æ•°æ®ç»‘å®šåœ¨å¯¹è±¡ä¸Š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123;</span><br><span class="line">    <span class="attr">k</span>: <span class="string">&#x27;asd&#x27;</span>,</span><br><span class="line">    <span class="function"><span class="title">foo</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="built_in">this</span>.k)</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="function"><span class="title">abc</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>é—®é¢˜ï¼š</strong>å¯¹è±¡ä¸­çš„æ•°æ®å¯ä»¥éšæ„è¢«ä¿®æ”¹ï¼Œæ‰€ä»¥æ•°æ®ä¸å®‰å…¨</p><hr><p>IIFE(Immedicately-invoked-function-expression)</p><p>è¯¥æ–¹æ³•å°±æ˜¯åˆ©ç”¨å‡½æ•°çš„ä½œç”¨åŸŸå’Œå³ä½¿å‡½æ•°çš„ç‰¹æ€§</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">(<span class="function"><span class="keyword">function</span>(<span class="params"><span class="built_in">window</span></span>)</span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">&#x27;ooo&#x27;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">window</span>.module=&#123;foo&#125;</span><br><span class="line">&#125;)(<span class="built_in">window</span>);</span><br><span class="line">-----------------------------</span><br><span class="line"><span class="built_in">module</span>.foo();</span><br></pre></td></tr></table></figure><p>æˆ–è€…</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">(<span class="function"><span class="keyword">function</span>(<span class="params"><span class="built_in">window</span></span>)</span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">&#x27;ooo&#x27;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">window</span>.module=foo</span><br><span class="line">&#125;)(<span class="built_in">window</span>);</span><br><span class="line">-----------------------------</span><br><span class="line"><span class="built_in">module</span>();</span><br></pre></td></tr></table></figure><p><strong>IIFE</strong>å°±æ˜¯ç°ä»£åŒ–æ¨¡å—åŒ–çš„åŸºçŸ³</p><p>æ¨¡å—åŒ–çš„å¥½å¤„</p><ol><li>é¿å…å‘½åå†²çª</li><li>æ ¹æ®åŠŸèƒ½ç‚¹è¿›è¡Œæ›´å¥½çš„åˆ†ç¦»</li><li>æ›´é«˜çš„å¤ç”¨æ€§</li><li>é«˜å¯ç»´æŠ¤æ€§</li></ol><p>ä½†æ˜¯ä»¥æ­¤åŒæ—¶å°±å‡ºç°äº†é—®é¢˜</p><ul><li>ä¸€ä¸ªé¡µé¢éœ€è¦å¼•å…¥å¤šä¸ªjsæ–‡ä»¶ï¼Œå¦‚æœå¤šä¸ªæ–‡ä»¶ä¹‹é—´æœ‰ä¾èµ–å…³ç³»ï¼Œå…ˆåé¡ºåºçš„é”™è¯¯å°±ä¼šå¯¼è‡´æŠ¥é”™</li><li>è¯·æ±‚è¿‡å¤š</li><li>ä¾èµ–æ¨¡ç³Š</li><li>éš¾ä»¥ç»´æŠ¤</li></ul><p>è¿™æ—¶å€™æˆ‘ä»¬å°±éœ€è¦å¼•å…¥ä¸€ç§æ¨¡å—åŒ–çš„è§„èŒƒæ¥é¿å…è¿™ç§é—®é¢˜ï¼Œä¸‹é¢æˆ‘ä»¬æ¥çœ‹çœ‹æœ‰å“ªäº›æ¨¡å—åŒ–è§„èŒƒ</p><h3 id="æ¨¡å—åŒ–çš„è§„èŒƒ"><a href="#æ¨¡å—åŒ–çš„è§„èŒƒ" class="headerlink" title="æ¨¡å—åŒ–çš„è§„èŒƒ"></a>æ¨¡å—åŒ–çš„è§„èŒƒ</h3><ol><li><strong>CommonJSï¼ˆnodejså°±æ˜¯åŸºäºè¿™ç§è§„èŒƒï¼‰</strong></li><li>AMD ï¼ˆç”¨çš„å°‘ï¼‰</li><li>CMDï¼ˆé˜¿é‡Œçš„äººå†™çš„ã€‚ç”¨çš„å°‘ï¼‰</li><li><strong>ES6</strong></li></ol><h4 id="CommonJS"><a href="#CommonJS" class="headerlink" title="CommonJS"></a>CommonJS</h4><p>è¯´æ˜ï¼š</p><ol><li>æ¯ä¸€ä¸ªæ–‡ä»¶éƒ½æ˜¯ä¸€ä¸ªæ¨¡å—</li><li>æœåŠ¡å™¨ç«¯ï¼šæ¨¡å—çš„åŠ è½½æ˜¯è¿è¡Œæ—¶åŒæ­¥åŠ è½½çš„</li><li>æµè§ˆå™¨ç«¯ï¼šéœ€è¦è‡ªå·±ç¼–è¯‘æ‰“åŒ…å°†æ‰€æœ‰çš„æ¨¡å—jsåˆå¹¶åˆ°ä¸€ä¸ªjsä¸­</li></ol><p>å®šä¹‰æ¨¡å—ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports=&#123;&#125;</span><br><span class="line">---</span><br><span class="line">expoets.foo = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">exports</span>.n = <span class="number">2</span></span><br></pre></td></tr></table></figure><p>å¼•å…¥æ¨¡å—ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> module1 = <span class="built_in">require</span>(..)</span><br><span class="line"><span class="comment">// è¿™é‡Œçš„..</span></span><br><span class="line"><span class="comment">// å¼•å…¥ç¬¬ä¸‰æ–¹çš„åŒ…   ç›´æ¥å†™åŒ…å</span></span><br><span class="line"><span class="comment">// å¼•å…¥è‡ªå·±å†™çš„js   å†™è·¯å¾„</span></span><br></pre></td></tr></table></figure><hr><p>æœåŠ¡å™¨ç«¯ä¾‹å­ï¼š</p><p>å…ˆåˆ›å»ºé¡¹ç›®ç»“æ„</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">-modules</span><br><span class="line"> --module1.js</span><br><span class="line"> --module2.js</span><br><span class="line"> --module3.js</span><br><span class="line">-app.js</span><br><span class="line">-package.json</span><br></pre></td></tr></table></figure><p><code>module1.js</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">    <span class="function"><span class="title">foo</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">`&#x27;module1&#x27;s foo()`</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>module2.js</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">exports</span>.foo = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">`&#x27;module2&#x27;s foo()`</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">exports</span>.abc = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">`&#x27;module2&#x27;s abc()`</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>module3.js</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">`&#x27;module3&#x27;s foo()`</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>app.js</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> module1 = <span class="built_in">require</span>(<span class="string">&#x27;./modules/module1.js&#x27;</span>)</span><br><span class="line"><span class="keyword">let</span> module2 = <span class="built_in">require</span>(<span class="string">&#x27;./modules/module2.js&#x27;</span>)</span><br><span class="line"><span class="keyword">let</span> module3 = <span class="built_in">require</span>(<span class="string">&#x27;./modules/module3.js&#x27;</span>)</span><br><span class="line"></span><br><span class="line">module1.foo()</span><br><span class="line">module2.foo()</span><br><span class="line">module2.abc()</span><br><span class="line">module3()</span><br></pre></td></tr></table></figure><p><code>package.json</code></p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    name: &#x27;applicationname&#x27;,<span class="comment">// è¿™é‡Œå†™é¡¹ç›®åå­—ï¼Œä¸èƒ½æœ‰å¤§å†™å­—æ¯ï¼Œä¸èƒ½æœ‰ä¸­æ–‡</span></span><br><span class="line">    version: &#x27;<span class="number">1.0</span><span class="number">.0</span>&#x27;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¯ä»¥ä½¿ç”¨<code>npm init</code>ç”Ÿæˆè¯¥æ–‡ä»¶</p><hr><p>å®¢æˆ·ç«¯ä¾‹å­ï¼š</p><p>ç»“æ„æ ‘å¦‚ä¸‹</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">-<span class="built_in">test</span></span><br><span class="line">--dist</span><br><span class="line">    --src</span><br><span class="line">    ---module1.js</span><br><span class="line">    ---module2.js</span><br><span class="line">    ---module3.js</span><br><span class="line">    ---app.js</span><br><span class="line">    --index.html</span><br><span class="line">    --package.json</span><br></pre></td></tr></table></figure><p>jsä»£ç å¦‚ä¸Š</p><p>ä¸‹è½½ç¼–è¯‘å·¥å…·</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm install browserify -g<span class="comment"># å…¨å±€å®‰è£…</span></span><br><span class="line">npm install browserify --save-dev<span class="comment"># å¼€å‘ä¾èµ–ï¼Œåœ¨ä¸Šçº¿é˜¶æ®µä¸éœ€è¦æ­¤å·¥å…·äº†</span></span><br></pre></td></tr></table></figure><p>ä½¿ç”¨è¯¥å·¥å…·</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">browserify src/app.js -o dist/budle.js</span><br></pre></td></tr></table></figure><p><code>index.html</code></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;utf-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&#x27;./dist/budle.js&#x27;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="AMD"><a href="#AMD" class="headerlink" title="AMD"></a>AMD</h4><p>è¯´æ˜ï¼šAMD(ï¼ˆAsynchronous Module Definitionï¼‰)ä¸“é—¨ç”¨æˆ·æµè§ˆå™¨ç«¯ï¼Œæ¨¡å—çš„åŠ è½½æ˜¯å¼‚æ­¥çš„</p><p>æ­¤è§„èŒƒä¾èµ–äºä¸€ä¸ª<code>Require.js</code></p><p>åŸºæœ¬è¯­æ³•ï¼š</p><p>å®šä¹‰æ¨¡å—ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ²¡æœ‰ä¾èµ–å…¶ä»–æ¨¡å—</span></span><br><span class="line">define(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> æ¨¡å—</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">// å®šä¹‰æœ‰ä¾èµ–çš„æ¨¡å—</span></span><br><span class="line">define([<span class="string">&#x27;module1&#x27;</span>,<span class="string">&#x27;module2&#x27;</span>],<span class="function"><span class="keyword">function</span>(<span class="params">m1,m2</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> æ¨¡å—</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>å¼•å…¥æ¨¡å—</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">require</span>([<span class="string">&#x27;module1&#x27;</span>,<span class="string">&#x27;module2&#x27;</span>],<span class="function"><span class="keyword">function</span>(<span class="params">m1,m2</span>)</span>&#123;</span><br><span class="line">    ä½¿ç”¨m1/m2</span><br><span class="line">&#125;)</span><br><span class="line">requirejs([<span class="string">&#x27;module1&#x27;</span>,<span class="string">&#x27;module2&#x27;</span>],<span class="function"><span class="keyword">function</span>(<span class="params">m1,m2</span>)</span>&#123;</span><br><span class="line">    ä½¿ç”¨m1/m2</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>ä¾‹å­ï¼š</p><p>ç›®å½•ç»“æ„</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">-<span class="built_in">test</span></span><br><span class="line">--js</span><br><span class="line">        ---libs</span><br><span class="line">            ----require.js//è¿™æ˜¯å¼•å…¥çš„ç¬¬ä¸‰æ–¹js</span><br><span class="line">        ---modules</span><br><span class="line">            ----module1.js</span><br><span class="line">            ----module2.js</span><br><span class="line">            ----modlue3.js</span><br><span class="line">        ---main.js</span><br><span class="line">--index.html</span><br></pre></td></tr></table></figure><p><code>mudule1.js</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">define(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    lett msg = <span class="string">&#x27;module1&#x27;</span>;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(msg)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> &#123;foo&#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p><code>module2.js</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">define([<span class="string">&#x27;module1&#x27;</span>],<span class="function"><span class="keyword">function</span>(<span class="params">m1</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">let</span> msg = <span class="string">&#x27;module2.js&#x27;</span></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.lopg(msg,m1.foo())</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> &#123;foo&#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p><code>main.js</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">require</span>.config(&#123;</span><br><span class="line">        <span class="attr">baseUrl</span>: <span class="string">&#x27;js/&#x27;</span>,</span><br><span class="line">        <span class="attr">path</span>: &#123;</span><br><span class="line">            <span class="attr">module1</span>: <span class="string">&#x27;./modules/module1.js&#x27;</span>,</span><br><span class="line">            <span class="attr">module2</span>: <span class="string">&#x27;./modules/module2.js&#x27;</span></span><br><span class="line">            <span class="attr">jquery</span>: <span class="string">&#x27;./libs/jquery.js&#x27;</span><span class="comment">//å¼•å…¥ç¬¬ä¸‰æ–¹åº“ï¼Œä¸æ˜¯æ‰€æœ‰çš„ç¬¬ä¸‰æ–¹åº“éƒ½æ”¯æŒAMDè¯­æ³•</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">    requirejs([<span class="string">&#x27;module1&#x27;</span>,<span class="string">&#x27;module2&#x27;</span>],<span class="function"><span class="keyword">function</span>(<span class="params">m1,m2</span>)</span>&#123;</span><br><span class="line">        m1.foo();</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;)()</span><br></pre></td></tr></table></figure><p>é¡µé¢ä¸­åªè¦å¼•å…¥è¯¥æ ‡ç­¾å³å¯</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">data-main</span>=<span class="string">&quot;js/main.js&quot;</span> <span class="attr">src</span>=<span class="string">js/libs/require.js</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="ES6è§„èŒƒ"><a href="#ES6è§„èŒƒ" class="headerlink" title="ES6è§„èŒƒ"></a>ES6è§„èŒƒ</h4><p>è¯´æ˜ï¼šè¯¥è§„èŒƒä¹Ÿéœ€è¦ç¼–è¯‘æ‰“åŒ…å¤„ç†ï¼Œå…ˆä½¿ç”¨<code>babel</code>å°†ES6è½¬åŒ–ä¸ºES5ï¼Œç„¶åä½¿ç”¨<code>browserify</code>å°†å…¶å¹¶ä¸ºä¸€ä¸ªjsæ–‡ä»¶</p><p>åŸºæœ¬è¯­æ³•ï¼š</p><p>å¯¼å‡ºæ¨¡æ¿ï¼š </p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">abc</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line">------------------------------------------------------------------------------------------------------</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">abc</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> &#123;foo,abc&#125;</span><br><span class="line">------------------------------------------------------------------------------------------------------</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">abc</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¼•å…¥æ¨¡å—ï¼š </p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">// å¸¸è§„å¯¼å‡ºï¼Œè¿™è¾¹ç”¨å¯¹è±¡æ¥</span><br><span class="line">import &#123;&#125; from <span class="string">&#x27;è·¯å¾„&#x27;</span> //è‡ªå·±çš„js</span><br><span class="line"></span><br><span class="line">// é»˜è®¤å¯¼å‡ºï¼Œè¿™è¾¹ç”¨å˜é‡æ¥æ¥</span><br><span class="line">impoet module from <span class="string">&#x27;è·¯å¾„&#x27;</span></span><br></pre></td></tr></table></figure><p>ä¾‹å­ï¼š</p><p>é¡¹ç›®ç»“æ„</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">-<span class="built_in">test</span></span><br><span class="line">--js</span><br><span class="line">---dist</span><br><span class="line">---build</span><br><span class="line">---src</span><br><span class="line">----module1.js</span><br><span class="line">----module2.js</span><br><span class="line">----module3.js</span><br><span class="line">----main.js</span><br><span class="line">--index.html</span><br><span class="line">--.babelrc</span><br><span class="line">--package.json</span><br></pre></td></tr></table></figure><p>å®‰è£…ä¾èµ–</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">npm install browserify --save-dev</span><br><span class="line"></span><br><span class="line">npm install babel-cli -g</span><br><span class="line"></span><br><span class="line">npm install babel-preset-es2015 --save-dev</span><br></pre></td></tr></table></figure><p>åˆ›å»º<code>.babelrc</code></p><blockquote><p>rcå°±æ˜¯run controlè¿è¡Œæ—¶æ§åˆ¶æ–‡ä»¶</p></blockquote><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line"><span class="attr">&quot;presets&quot;</span>:[<span class="string">&quot;es2015&quot;</span>]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>module1.js</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">abc</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>module2.js</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f1</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f2</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> &#123;f1,f2&#125;</span><br></pre></td></tr></table></figure><p><code>module3.js</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">d1</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">d2</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>main.js</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;foo,abc&#125; <span class="keyword">from</span> <span class="string">&#x27;./module1.js&#x27;</span></span><br><span class="line"><span class="keyword">import</span> &#123;f1,f2&#125; <span class="keyword">from</span> <span class="string">&#x27;./module2.js&#x27;</span></span><br><span class="line"><span class="keyword">import</span> module3 <span class="keyword">from</span> <span class="string">&#x27;./module3.js&#x27;</span></span><br><span class="line"></span><br><span class="line">foo();</span><br><span class="line">abc();</span><br><span class="line">f1();</span><br><span class="line">module3.d1();</span><br><span class="line">module3.d2();</span><br></pre></td></tr></table></figure><p>es6è½¬es5</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">babel js/src -d js/build</span><br></pre></td></tr></table></figure><p>è¿™é‡Œå¦‚æœå‡ºç°è¿™ä¸ªé”™è¯¯ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">babel : æ— æ³•åŠ è½½æ–‡ä»¶ C:\Users\win\AppData\Roaming\npm\babel.ps1ï¼Œå› ä¸ºåœ¨æ­¤ç³»ç»Ÿä¸Šç¦æ­¢è¿è¡Œè„šæœ¬ã€‚æœ‰å…³è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜… https:/ go.micros</span><br></pre></td></tr></table></figure><p>é‚£ä¹ˆä½ è¾“å…¥ä»¥ä¸‹å‘½ä»¤ä¸€å®šæ˜¯è¿™æ ·çš„</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">get-ExecutionPolicy</span><br><span class="line"><span class="comment"># restricted</span></span><br></pre></td></tr></table></figure><p>è¿™æ—¶å€™ï¼Œå…ˆä½¿ç”¨ç®¡ç†å‘˜èº«ä»½æ‰“å¼€<code>Windows Powershell</code>ç„¶åè¾“å…¥ä»¥ä¸‹å‘½ä»¤</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">set-ExecutionPolicy RemoteSigned</span><br><span class="line">ç„¶åè¾“å…¥yå›è½¦</span><br></pre></td></tr></table></figure><p>åˆå¹¶æ–‡ä»¶</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">browserify js/build/main.js -o js/dist/bundle.js</span><br></pre></td></tr></table></figure><p><code>index.html</code>å¯¼å…¥js</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;js/src/dist/bundle.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
          <category> JavaScript </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JVM-å†…å­˜æ¨¡å‹</title>
      <link href="/javaEE/JVM/2022/03/12/JVM-%E5%86%85%E5%AD%98%E6%A8%A1%E5%9E%8B/"/>
      <url>/javaEE/JVM/2022/03/12/JVM-%E5%86%85%E5%AD%98%E6%A8%A1%E5%9E%8B/</url>
      
        <content type="html"><![CDATA[<h2 id="å†…å­˜æ¨¡å‹"><a href="#å†…å­˜æ¨¡å‹" class="headerlink" title="å†…å­˜æ¨¡å‹"></a>å†…å­˜æ¨¡å‹</h2><h3 id="ç¡¬ä»¶çš„å†…å­˜æ¨¡å‹"><a href="#ç¡¬ä»¶çš„å†…å­˜æ¨¡å‹" class="headerlink" title="ç¡¬ä»¶çš„å†…å­˜æ¨¡å‹"></a>ç¡¬ä»¶çš„å†…å­˜æ¨¡å‹</h3><p>åœ¨è®²javaå†…å­˜æ¨¡å‹ä¹‹å‰ï¼Œå…ˆæ¥çœ‹çœ‹ç¡¬ä»¶çš„å†…å­˜æ¨¡å‹</p><img src="/javaEE/JVM/2022/03/12/JVM-%E5%86%85%E5%AD%98%E6%A8%A1%E5%9E%8B/%E5%8D%95CPU.png" class title="å•CPU"><p>CPUçš„å¤„ç†é€Ÿåº¦å’Œå†…å­˜çš„è¯»å†™ä¸æ˜¯ä¸€ä¸ªæ•°é‡çº§çš„ï¼Œæ‰€ä»¥åœ¨CPUå’Œä¸»å­˜ä¹‹é—´åŠ ä¸Šäº†ä¸€å±‚ç¼“å­˜</p><p>è¿™ç§ç»“æ„åœ¨å•CPUçš„æ—¶å€™ï¼Œå¤„ç†çš„å¾ˆå¥½</p><p>ä½†æ˜¯å½“å¤šCPUçš„æ—¶å€™ï¼Œ</p><img src="/javaEE/JVM/2022/03/12/JVM-%E5%86%85%E5%AD%98%E6%A8%A1%E5%9E%8B/%E5%A4%9ACPU.png" class title="å¤šCPU"><p>è¿™æ—¶å€™å°±ä¼šå‡ºç°ç¼“å­˜ä¸€è‡´æ€§é—®é¢˜</p><p>å½“CPUAè¯»å–ä¸»å­˜ä¸­çš„æ•°æ®ä¹‹åï¼Œå¯¹å…¶è¿›è¡Œä¿®æ”¹ï¼Œåœ¨å°†å…¶åˆ·æ–°å›ä¸»å­˜çš„ä¹‹å‰ï¼ŒCPUBè¯»å–ä¸»å­˜ä¸­çš„æ•°æ®ï¼Œå¯¹å…¶è¿›è¡Œä¿®æ”¹ï¼Œå°†å…¶åˆ·æ–°å›ä¸»å­˜ï¼Œè¿™æ—¶å€™CPUAä¹ŸåŒæ—¶å°†å…¶ä¿®æ”¹åçš„æ•°æ®åˆ·æ–°å›ä¸»å­˜ï¼Œé‚£ä¹ˆè¿™ä¸ªæ•°æ®åˆ°åº•ä»¥å“ªä¸€ä¸ªä¸ºå‡†ï¼Œè¿™ä¸ªå°±æ˜¯ç¼“å­˜ä¸€è‡´æ€§é—®é¢˜</p><img src="/javaEE/JVM/2022/03/12/JVM-%E5%86%85%E5%AD%98%E6%A8%A1%E5%9E%8B/%E7%BC%93%E5%AD%98%E4%B8%80%E8%87%B4%E6%80%A7%E9%97%AE%E9%A2%98.png" class title="ç¼“å­˜ä¸€è‡´æ€§é—®é¢˜"><p>é’ˆå¯¹è¿™ä¸ªé—®é¢˜ï¼Œå°±å‡ºç°äº†ç¼“å­˜ä¸€è‡´æ€§åè®®</p><p>1ã€çª¥æ¢æ€§</p><p>2ã€ç›®å½•å‹</p><p>æœ‰äº†è¿™ä¸€å±‚åè®®ï¼Œåœ¨ç¡¬ä»¶å±‚é¢ï¼Œå°±è§£å†³äº†ç¼“å­˜ä¸€è‡´æ€§é—®é¢˜ï¼Œå³æ±‡ç¼–è¯­è¨€èƒ½å¤Ÿè¿è¡Œåœ¨ä¸€ä¸ªå…·æœ‰ç¼“å­˜ä¸€è‡´æ€§çš„å†…å­˜è§†å›¾ä¸­</p><h3 id="Javaçš„å†…å­˜æ¨¡å‹"><a href="#Javaçš„å†…å­˜æ¨¡å‹" class="headerlink" title="Javaçš„å†…å­˜æ¨¡å‹"></a>Javaçš„å†…å­˜æ¨¡å‹</h3><p>è®¾è®¡ç¼–ç¨‹è¯­è¨€çš„å†…å­˜æ¨¡å‹æ˜¯ä¸ºäº†èƒ½å¤Ÿè¯¥è¯­è¨€ä¹Ÿå¯ä»¥æ‹¥æœ‰ä¸€ä¸ªå†…å­˜ä¸€è‡´æ€§çš„è§†å›¾ï¼Œäºæ˜¯åœ¨ç¡¬ä»¶å†…å­˜æ¨¡å‹ä¹‹ä¸Šï¼Œå°±æœ‰äº†é«˜çº§è¯­è¨€çš„å†…å­˜æ¨¡å‹</p><p>Javaå†…å­˜æ¨¡å‹å°±å±è”½äº†å„ç§ç¡¬ä»¶çš„æ“ä½œç³»ç»Ÿçš„å†…å­˜å·®å¼‚ï¼Œä½¿å¾—javaå¯ä»¥æ­£å¸¸çš„è¿è¡Œåœ¨å„å¤§æ“ä½œç³»ç»Ÿä¸Š</p><img src="/javaEE/JVM/2022/03/12/JVM-%E5%86%85%E5%AD%98%E6%A8%A1%E5%9E%8B/java%E5%86%85%E5%AD%98%E6%A8%A1%E5%9E%8B.png" class title="javaå†…å­˜æ¨¡å‹"><p><strong>è™šæ‹Ÿæœºæ ˆ</strong>ä¹Ÿå¯ä»¥å«åšjavaæ–¹æ³•æ ˆï¼Œè¯¥æ ˆä¸­å­˜æ”¾8å¤§åŸºç¡€ç±»å‹çš„æ•°æ®å’Œå¯¹è±¡çš„å¼•ç”¨</p><p><strong>å †</strong>ä¸­å­˜æ”¾ç€æ‰€æœ‰çš„javaå¯¹è±¡</p><p>å†…å­˜è¯»å†™æŒ‡ä»¤</p><table><thead><tr><th align="center">ä½œç”¨äºä¸»å­˜</th><th align="center">ä½œç”¨äºå·¥ä½œå†…å­˜</th></tr></thead><tbody><tr><td align="center">lockï¼šé”å®š</td><td align="center">loadï¼šåŠ è½½æ•°æ®</td></tr><tr><td align="center">unlockï¼šè§£é”</td><td align="center">storeï¼šå­˜å‚¨æ•°æ®</td></tr><tr><td align="center">readï¼šè¯»å–</td><td align="center">useï¼šä½¿ç”¨æ•°æ®</td></tr><tr><td align="center">writeï¼šå†™å…¥</td><td align="center">assignï¼šèµ‹å€¼</td></tr></tbody></table><img src="/javaEE/JVM/2022/03/12/JVM-%E5%86%85%E5%AD%98%E6%A8%A1%E5%9E%8B/%E7%90%86%E6%83%B3%E7%8A%B6%E6%80%81.png" class title="ç†æƒ³çŠ¶æ€"><p>ä¸Šé¢çš„å›¾åªæ˜¯ä¸€ç§ç†æƒ³çŠ¶æ€ï¼Œä¼šå‡ºç°ä»¥ä¸‹ä¸¤ç§é—®é¢˜</p><p>1ã€å¯è§æ€§</p><p>å½“çº¿ç¨‹Aå°†æœ¬åœ°å†…å­˜ä¸­çš„æ•°æ®ä¿®æ”¹åï¼Œåˆ·æ–°å›ä¸»å­˜åï¼Œçº¿ç¨‹Bç›´æ¥ä½¿ç”¨æœ¬åœ°å†…å­˜ä¸­çš„æ•°æ®ï¼Œæ²¡æœ‰ä½¿ç”¨åˆ·æ–°åçš„æ•°æ®ï¼Œè¿™å°±æ˜¯å¯è§æ€§é—®é¢˜</p><p>2ã€åŸå­æ€§</p><p>å½“çº¿ç¨‹Aä¿®æ”¹äº†æ•°æ®ï¼Œè¿˜æ²¡åˆ·æ–°å›ä¸»å­˜ï¼Œçº¿ç¨‹Bä¹Ÿä¿®æ”¹äº†æ•°æ®ï¼Œä¹Ÿè¦åˆ·æ–°å›ä¸»å­˜ï¼Œé‚£ä¹ˆè¿™æ—¶å€™ä¸»å­˜ä¸­åº”è¯¥åˆ·æ–°æˆå“ªä¸ªçº¿ç¨‹ä¿®æ”¹åçš„å€¼å‘¢</p><p>çº¿ç¨‹é€šä¿¡ä¹‹é—´çš„åŒæ­¥é—®é¢˜ï¼Œå½“å¤šä¸ªçº¿ç¨‹åœ¨å¹¶å‘æ“ä½œåŒä¸€ä¸ªæ•°æ®çš„æ—¶å€™ï¼Œä¼šå¼•å‘å¾ˆå¤šçš„é—®é¢˜ï¼Œè¿™äº›é—®é¢˜è¢«æ€»ç»“ä¸ºå¹¶å‘ä¸‰è¦ç´ </p><p>1ã€å¯è§æ€§</p><p>2ã€åŸå­æ€§</p><p>3ã€æœ‰åºæ€§</p><h4 id="å¯è§æ€§"><a href="#å¯è§æ€§" class="headerlink" title="å¯è§æ€§"></a>å¯è§æ€§</h4><p>å½“ä¸€ä¸ªçº¿ç¨‹ä¿®æ”¹äº†å…±äº«å˜é‡çš„å€¼ä¹‹åï¼Œå…¶ä»–æ‰€æœ‰ä½¿ç”¨è¯¥å˜é‡çš„çº¿ç¨‹éƒ½åº”è¯¥ç«‹åˆ»å¾—çŸ¥æ­¤ä¿®æ”¹</p><p>ä¸¤å±‚å«ä¹‰</p><blockquote><p>ç¬¬ä¸€ç§å«ä¹‰</p></blockquote><p>çº¿ç¨‹Aä¿®æ”¹äº†æ•°æ®Xï¼Œçº¿ç¨‹Béœ€è¦ä½¿ç”¨åˆ°æœ€æ–°çš„æ•°æ®Xï¼ˆè¿™æ˜¯çº¿ç¨‹Bæ²¡æœ‰é‡æ–°è¯»å–ä¸»å­˜å¯¼è‡´çš„ï¼‰</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo</span> </span>&#123;</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">int</span> a =<span class="number">1</span>;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> InterruptedException </span>&#123;</span><br><span class="line">        Thread thread1 = <span class="keyword">new</span> Thread(() -&gt; &#123;</span><br><span class="line">            <span class="keyword">while</span> (a == <span class="number">1</span>) &#123;</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">        Thread thread2 = <span class="keyword">new</span> Thread(() -&gt; &#123;</span><br><span class="line">            a = <span class="number">0</span>;</span><br><span class="line">        &#125;);</span><br><span class="line">        thread1.start();</span><br><span class="line">        TimeUnit.SECONDS.sleep(<span class="number">1</span>);</span><br><span class="line">        thread2.start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ§åˆ¶å°ä¸ä¼šè¿”å›å“åº”ç ï¼Œè€Œæ˜¯ä¸€ç›´æ­»å¾ªç¯ã€‚</p><p>å½“<code>thread1</code>å¼€å§‹å¾ªç¯çš„æ—¶å€™ï¼Œæœ¬åœ°å†…å­˜ä¸­<code>a=1</code>ï¼Œå½“<code>thread2</code>ä¿®æ”¹äº†aä¸º0çš„æ—¶å€™ï¼Œ<code>thread1</code>å¹¶ä¸çŸ¥é“ï¼Œè€Œæ˜¯ä¸€ç›´ä½¿ç”¨ç€<code>a=1</code>ï¼Œæ‰€ä»¥ä¼šä¸€ç›´å¾ªç¯</p><p>ä¸¤ç§è§£å†³æ–¹æ³•</p><p><strong>1ã€å°†<code>a</code>å˜é‡åŠ ä¸€ä¸ªä¿®é¥°è¯<code>volatile</code></strong></p><p>å¦‚æœä¸€ä¸ªå…±äº«å˜é‡è¢«<code>volatile</code>ä¿®é¥°ï¼Œé‚£ä¹ˆè¯¥å…±äº«å˜é‡è¢«ä¿®æ”¹åï¼Œå°†ä¼šç›´æ¥å†™å…¥ä¸»å­˜ï¼Œå½“å…¶ä»–çº¿ç¨‹è¯»å–è¯¥å…±äº«å˜é‡çš„æ—¶å€™ï¼Œä¹Ÿä¼šç›´æ¥ä»ä¸»å­˜ä¸­è¯»å–</p><p><strong>2ã€ä½¿ç”¨<code>synchronized</code>åŒ…è£¹ï¼Œå¹¶ä½¿ç”¨è¯¥æ•°æ®</strong></p><p><code>synchronized</code>å—ä¸­è¯»å†™å˜é‡ä¼šéšå¼è°ƒç”¨<code>lock</code>å’Œ<code>unlock</code>æŒ‡ä»¤</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo</span> </span>&#123;</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">int</span> a =<span class="number">1</span>;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> InterruptedException </span>&#123;</span><br><span class="line">        Thread thread1 = <span class="keyword">new</span> Thread(() -&gt; &#123;</span><br><span class="line">            <span class="keyword">while</span> (a == <span class="number">1</span>) &#123;</span><br><span class="line">                <span class="keyword">synchronized</span>(<span class="keyword">this</span>)&#123;</span><br><span class="line">                    <span class="keyword">int</span> b = a + <span class="number">1</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">        Thread thread2 = <span class="keyword">new</span> Thread(() -&gt; &#123;</span><br><span class="line">            a = <span class="number">0</span>;</span><br><span class="line">        &#125;);</span><br><span class="line">        thread1.start();</span><br><span class="line">        TimeUnit.SECONDS.sleep(<span class="number">1</span>);</span><br><span class="line">        thread2.start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>ç¬¬äºŒå±‚å«ä¹‰</p></blockquote><p>çº¿ç¨‹Béœ€è¦è¯»å–åˆ°çº¿ç¨‹Aä¿®æ”¹åçš„æ•°æ®xï¼Œä½†æ˜¯å› ä¸ºæŒ‡ä»¤é‡æ’ï¼Œåœ¨çº¿ç¨‹Aæœªä¿®æ”¹æ•°æ®xä¹‹å‰ï¼Œçº¿ç¨‹Bè¯»åˆ°äº†æ•°æ®x</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo2</span> </span>&#123;</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">int</span> a =<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">boolean</span> b =<span class="keyword">false</span>;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Thread thread1 = <span class="keyword">new</span> Thread(() -&gt; &#123;</span><br><span class="line">            a = <span class="number">1</span>;<span class="comment">//1</span></span><br><span class="line">            b = <span class="keyword">true</span>;<span class="comment">//2</span></span><br><span class="line">        &#125;);</span><br><span class="line">        Thread thread2 = <span class="keyword">new</span> Thread(() -&gt; &#123;</span><br><span class="line">            <span class="keyword">if</span> (b) &#123;<span class="comment">//3</span></span><br><span class="line">                <span class="keyword">int</span> x = a;<span class="comment">// 4  // è¿™ä¸ªxä¸€å®šæ˜¯1å—?</span></span><br><span class="line">                System.out.println(x); <span class="comment">// 5</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">        thread1.start();</span><br><span class="line">        thread2.start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åœ¨ç¡¬ä»¶å†…å­˜æ¨¡å‹çš„æ—¶å€™å°±è¯´è¿‡ï¼Œåœ¨åº•å±‚ä¼šå­˜åœ¨æŒ‡ä»¤é‡æ’çš„æƒ…å†µï¼Œ</p><p>æˆ‘ä»¬è§‰å¾—çš„é¡ºåºåº”è¯¥æ˜¯</p><p>1-&gt;2-&gt;3-&gt;4</p><p>ä½†æ˜¯åœ¨ç¼–è¯‘åé¡ºåºæœ‰å¯èƒ½å°±å˜æˆäº†</p><p>2-&gt;3-&gt;4-&gt;1</p><p>è¿™ä¹Ÿæ˜¯ä¸€ç§å¯è§æ€§çš„é—®é¢˜</p><p>åŒæ ·çš„è¿™é‡Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨ä¸Šè¿°ä¸¤ç§æ–¹æ³•æ¥è§£å†³è¿™ç§é—®é¢˜</p><p><code>volatile</code>æ˜¯ç¦æ­¢äº†å½“å‰å˜é‡ä¸ä¹‹å‰çš„ä»£ç è¯­å¥è¿›è¡ŒæŒ‡ä»¤é‡æ’</p><p><code>synchronized</code>å°±æ˜¯å°†ä¸¤æ®µä»£ç åˆ†åˆ«æ†ç»‘åœ¨ä¸€èµ·ï¼Œé‚£ä¹ˆæ— è®ºåœ¨<code>thread1</code>ä¸­æ€ä¹ˆæŒ‡ä»¤é‡æ’ï¼Œéƒ½ä¸ä¼šå½±å“<code>thread2</code>å¯¹äºå˜é‡çš„è¯»å–</p><h5 id="Happens-BeforeåŸåˆ™"><a href="#Happens-BeforeåŸåˆ™" class="headerlink" title="Happens-BeforeåŸåˆ™"></a>Happens-BeforeåŸåˆ™</h5><p>æˆ‘ä»¬å¹³æ—¶å¾ˆå°‘é‡åˆ°å¯è§æ€§é—®é¢˜ï¼Œå› ä¸ºæˆ‘ä»¬ç«™åœ¨äº†å‰äººçš„è‚©è†€ä¸Šï¼Œè®¾è®¡å†…å­˜æ¨¡å‹çš„å‰è¾ˆå·²ç»å¸®æˆ‘ä»¬è§£å†³äº†æ­¤é—®é¢˜ï¼Œè¿™å°±æ˜¯Happens-BeforeåŸåˆ™</p><p>å®šä¹‰ï¼šå¯¹äºä¸¤ä¸ªæ“ä½œAå’Œæ“ä½œBï¼Œè¿™ä¸¤ä¸ªæ“ä½œå¯ä»¥åœ¨ä¸åŒçš„çº¿ç¨‹ä¸­æ‰§è¡Œï¼Œå¦‚æœA Happens-Before Bï¼ˆå³Aå…ˆäºBæ‰§è¡Œï¼‰ï¼Œé‚£ä¹ˆå¯ä»¥ä¿è¯å½“Aæ“ä½œæ‰§è¡Œå®Œåï¼ŒAæ“ä½œçš„æ‰§è¡Œç»“æœå¯¹Bæ“ä½œæ˜¯å¯è§çš„</p><ol><li>ç¨‹åºé¡ºåºåŸåˆ™</li><li>é”å®šåŸåˆ™</li><li>volatileåŸåˆ™</li><li>çº¿ç¨‹å¯åŠ¨åŸåˆ™</li><li>çº¿ç¨‹ç»“æŸåŸåˆ™</li><li>ä¸­æ–­è§„åˆ™</li><li>ç»ˆç»“å™¨è§„åˆ™</li><li>ä¼ é€’æ€§åŸåˆ™</li></ol><h3 id="åŸå­æ€§"><a href="#åŸå­æ€§" class="headerlink" title="åŸå­æ€§"></a>åŸå­æ€§</h3><p>ä¸€ä¸ªæ“ä½œè¦ä¹ˆå…¨éƒ¨æ‰§è¡ŒæˆåŠŸï¼Œè¦ä¹ˆå…¨éƒ¨æ‰§è¡Œå¤±è´¥</p><p>1ã€å•æŒ‡ä»¤åŸå­æ“ä½œ</p><p>2ã€åˆ©ç”¨é”çš„ç»„åˆæŒ‡ä»¤åŸå­æ“ä½œ</p><h3 id="æœ‰åºæ€§"><a href="#æœ‰åºæ€§" class="headerlink" title="æœ‰åºæ€§"></a>æœ‰åºæ€§</h3><p>æŒ‡ä»¤é‡æ’åœ¨å•çº¿ç¨‹ç¯å¢ƒä¸‹ä¸ä¼šå‡ºç°ä»€ä¹ˆé—®é¢˜ï¼Œä½†æ˜¯åœ¨å¤šçº¿ç¨‹ç¯å¢ƒä¸‹ï¼Œå¯èƒ½å¯¼è‡´æœ‰çš„ä»£ç æ‰§è¡Œé¡ºåºä¿®æ”¹åå¯èƒ½ä¼šå¯¼è‡´ä¸é¡ºåºæ‰§è¡Œçš„ç»“æœä¸åŒ</p><p>è¿™é‡Œå¯ä»¥ä½¿ç”¨<code>Happens-BeforeåŸåˆ™</code>æ¥è§£å†³é—®é¢˜</p>]]></content>
      
      
      <categories>
          
          <category> javaEE </category>
          
          <category> JVM </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JVM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JVM-ç±»åŠ è½½å™¨</title>
      <link href="/javaEE/JVM/2022/03/11/JVM-%E7%B1%BB%E5%8A%A0%E8%BD%BD%E5%99%A8/"/>
      <url>/javaEE/JVM/2022/03/11/JVM-%E7%B1%BB%E5%8A%A0%E8%BD%BD%E5%99%A8/</url>
      
        <content type="html"><![CDATA[<h2 id="ç±»çš„åŠ è½½è¿‡ç¨‹"><a href="#ç±»çš„åŠ è½½è¿‡ç¨‹" class="headerlink" title="ç±»çš„åŠ è½½è¿‡ç¨‹"></a>ç±»çš„åŠ è½½è¿‡ç¨‹</h2><p>ç±»çš„åŠ è½½è¿‡ç¨‹åˆ†ä¸‰ä¸ªé˜¶æ®µ</p><p>ç±»çš„åŠ è½½ &#x3D;&#x3D;ã€‹ç±»çš„é“¾æ¥ &#x3D;&#x3D;ã€‹ç±»çš„åˆå§‹åŒ–</p><img src="/javaEE/JVM/2022/03/11/JVM-%E7%B1%BB%E5%8A%A0%E8%BD%BD%E5%99%A8/%E7%B1%BB%E5%8A%A0%E8%BD%BD%E8%BF%87%E7%A8%8B.png" class title="ç±»åŠ è½½è¿‡ç¨‹"><ul><li><strong>ç±»çš„åŠ è½½ï¼š</strong>å°†Classæ–‡ä»¶å­—èŠ‚ç åŠ è½½åˆ°å†…å­˜ä¸­ï¼Œå¹¶å°†è¿™äº›é™æ€æ•°æ®è½¬æ¢ä¸ºæ–¹æ³•åŒºçš„è¿è¡Œæ—¶æ•°æ®ç»“æ„ï¼Œç„¶ååœ¨å †ä¸­ï¼ˆæ–¹æ³•åŒºï¼‰ç”Ÿæˆä¸€ä¸ªä»£è¡¨è¯¥ç±»çš„Classå¯¹è±¡ï¼Œä½œä¸ºç±»æ•°æ®çš„è®¿é—®å…¥å£ï¼Œå¯ä»¥ä½¿ç”¨åå°„è·å–è¯¥ç±»çš„æ‰€æœ‰ä¿¡æ¯ã€‚</li><li><strong>ç±»çš„é“¾æ¥ï¼š</strong>å°†Javaç±»çš„äºŒè¿›åˆ¶ä»£ç åˆå¹¶åˆ°JVMä¸­<ul><li>éªŒè¯ï¼šç¡®ä¿åŠ è½½çš„ç±»ç¬¦åˆJVMè§„èŒƒ</li><li>å‡†å¤‡ï¼šä¸ºé™æ€å˜é‡åˆ†é…å†…å­˜å¹¶è®¾ç½®æˆå‘˜å˜é‡çš„é»˜è®¤å€¼</li><li>è§£æï¼šJVMå¸¸é‡æ± å†…çš„ç¬¦å·å¼•ç”¨ï¼ˆå¸¸é‡åï¼‰æ›¿æ¢ä¸ºç›´æ¥å¼•ç”¨ï¼ˆåœ°å€ï¼‰çš„è¿‡ç¨‹</li></ul></li><li><strong>ç±»çš„åˆå§‹åŒ–ï¼š</strong>æ‰§è¡Œç±»æ„é€ å™¨&lt; clinit &gt;()æ–¹æ³•çš„è¿‡ç¨‹<ul><li>ç±»æ„é€ å™¨æ–¹æ³•æ˜¯ç”±ç¼–è¯‘æœŸæŒ‰é¡ºåºæ”¶é›†ç±»ä¸­æ‰€æœ‰ç±»å˜é‡çš„èµ‹å€¼åŠ¨ä½œå’Œé™æ€ä»£ç å—ä¸­çš„è¯­å¥åˆå¹¶è€Œæˆçš„ï¼ˆç±»æ„é€ å™¨æ˜¯æ„é€ ç±»ä¿¡æ¯çš„ï¼Œä¸æ˜¯å¯¹è±¡æ„é€ å™¨ï¼‰</li><li>å½“åˆå§‹åŒ–ä¸€ä¸ªç±»çš„æ—¶å€™ï¼Œå¦‚æœå…¶çˆ¶ç±»ä¸ºåˆå§‹åŒ–ï¼Œåˆ™å…ˆåˆå§‹åŒ–å…¶çˆ¶ç±»</li><li>JVMä¼šä¿è¯ç±»æ„é€ å™¨åœ¨å¤šçº¿ç¨‹ç¯å¢ƒä¸‹è¢«æ­£ç¡®åŠ é”</li></ul></li></ul><p>ç±»çš„é“¾æ¥ä¸ºé»‘ç›’å®ç°</p><h4 id="ç±»çš„ä¸»åŠ¨å¼•ç”¨ï¼ˆä¸€å®šä¼šå‘ç”Ÿç±»çš„åˆå§‹åŒ–ï¼‰"><a href="#ç±»çš„ä¸»åŠ¨å¼•ç”¨ï¼ˆä¸€å®šä¼šå‘ç”Ÿç±»çš„åˆå§‹åŒ–ï¼‰" class="headerlink" title="ç±»çš„ä¸»åŠ¨å¼•ç”¨ï¼ˆä¸€å®šä¼šå‘ç”Ÿç±»çš„åˆå§‹åŒ–ï¼‰"></a>ç±»çš„ä¸»åŠ¨å¼•ç”¨ï¼ˆä¸€å®šä¼šå‘ç”Ÿç±»çš„åˆå§‹åŒ–ï¼‰</h4><ul><li>å½“JVMå¯åŠ¨çš„æ—¶å€™ï¼Œå…ˆåˆå§‹åŒ–mainæ–¹æ³•æ‰€åœ¨çš„ç±»</li><li>new ä¸€ä¸ªç±»çš„å¯¹è±¡</li><li>è°ƒç”¨è¯¥ç±»çš„é™æ€æˆå‘˜ï¼ˆé™¤äº†finalï¼‰å’Œé™æ€æ–¹æ³•</li><li>ä½¿ç”¨åå°„å¯¹å…¶ç±»è¿›è¡Œåå°„è°ƒç”¨</li><li>å½“åˆå§‹åŒ–ä¸€ä¸ªç±»æ—¶ï¼Œå…¶çˆ¶ç±»è‹¥æ²¡æœ‰åˆå§‹åŒ–ï¼Œåˆ™å…ˆåˆå§‹åŒ–å…¶çˆ¶ç±»</li></ul><h4 id="ç±»çš„è¢«åŠ¨å¼•ç”¨ï¼ˆä¸ä¼šå‘ç”Ÿç±»çš„åˆå§‹åŒ–ï¼‰"><a href="#ç±»çš„è¢«åŠ¨å¼•ç”¨ï¼ˆä¸ä¼šå‘ç”Ÿç±»çš„åˆå§‹åŒ–ï¼‰" class="headerlink" title="ç±»çš„è¢«åŠ¨å¼•ç”¨ï¼ˆä¸ä¼šå‘ç”Ÿç±»çš„åˆå§‹åŒ–ï¼‰"></a>ç±»çš„è¢«åŠ¨å¼•ç”¨ï¼ˆä¸ä¼šå‘ç”Ÿç±»çš„åˆå§‹åŒ–ï¼‰</h4><ul><li>å½“è®¿é—®ä¸€ä¸ªé™æ€åŸŸçš„æ—¶å€™ï¼Œåªæœ‰çœŸæ­£å£°æ˜è¯¥åŸŸçš„ç±»æ‰ä¼šè¢«åˆå§‹åŒ–ã€‚ä¸¾ä¸ªæ —å­ï¼šå½“é€šè¿‡å­ç±»è°ƒç”¨çˆ¶ç±»çš„é™æ€å˜é‡ï¼Œè¯¥å­ç±»æ˜¯ä¸ä¼šè¢«åˆå§‹åŒ–çš„</li><li>é€šè¿‡æ•°ç»„å®šä¹‰ç±»å¼•ç”¨ï¼Œä¸ä¼šå¯¼è‡´åˆå§‹åŒ–</li><li>å¼•ç”¨å¸¸é‡ä¸ä¼šå¯¼è‡´åˆå§‹åŒ–</li></ul><h2 id="ç±»åŠ è½½å™¨"><a href="#ç±»åŠ è½½å™¨" class="headerlink" title="ç±»åŠ è½½å™¨"></a>ç±»åŠ è½½å™¨</h2><p>å¸‚é¢ä¸Šæœ‰ä¸‰ç§JVMï¼Œä¸åŒçš„JVMå¯¹ç±»åŠ è½½å™¨çš„å®ç°æ˜¯ä¸åŒçš„ï¼Œæˆ‘ä»¬ä¸»è¦å­¦ä¹ çš„å¹¶ä¸”ä½¿ç”¨çš„æ˜¯Sunå…¬å¸çš„HotSpot</p><img src="/javaEE/JVM/2022/03/11/JVM-%E7%B1%BB%E5%8A%A0%E8%BD%BD%E5%99%A8/%E4%B8%89%E7%A7%8DJVM.png" class title="ä¸‰ç§JVM"><p>ç±»åŠ è½½å™¨çš„ä½œç”¨å°±æ˜¯å°†ç±»ï¼ˆclassï¼‰è£…è¿›å†…å­˜çš„</p><img src="/javaEE/JVM/2022/03/11/JVM-%E7%B1%BB%E5%8A%A0%E8%BD%BD%E5%99%A8/%E7%B1%BB%E5%8A%A0%E8%BD%BD%E5%99%A81.png" class title="ç±»åŠ è½½å™¨1"><p>JVMè§„å®šäº†ä»¥ä¸‹ç±»å‹çš„åŠ è½½å™¨</p><img src="/javaEE/JVM/2022/03/11/JVM-%E7%B1%BB%E5%8A%A0%E8%BD%BD%E5%99%A8/%E7%B1%BB%E5%8A%A0%E8%BD%BD%E5%99%A8.png" class title="ç±»åŠ è½½å™¨"><p><strong>å¼•å¯¼ç±»åŠ è½½å™¨ï¼š</strong>ç”¨<strong>C++<strong>ç¼–å†™çš„ï¼Œæ˜¯JVMè‡ªå¸¦çš„ç±»åŠ è½½å™¨ï¼Œ</strong>è´Ÿè´£javaå¹³å°çš„æ ¸å¿ƒåº“</strong>ï¼Œç”¨æ¥è£…è½½æ ¸å¿ƒç±»åº“ï¼Œè¯¥åŠ è½½å™¨æ— æ³•ç›´æ¥è·å–ï¼ˆè·å–çš„æ—¶å€™ä¼šæ˜¯nullï¼‰</p><p><strong>æ‰©å±•ç±»åŠ è½½å™¨ï¼ˆExtClassLoaderï¼‰ï¼š</strong>è´Ÿè´£**<JAVA_HOME>&#x2F;lib&#x2F;etc**ç›®å½•ä¸‹çš„jaråŒ…æˆ·æˆ–è€… -d java.ext.dirsæŒ‡å®šç›®å½•ä¸‹çš„jaråŒ…è£…å…¥å·¥ä½œåº“</JAVA_HOME></p><p><strong>ç³»ç»Ÿç±»åŠ è½½å™¨ï¼ˆAppClassLoaderï¼‰ï¼š</strong>è´Ÿè´£<strong>java -classpath</strong>æˆ–è€…<strong>java.class.path</strong>æŒ‡å®šç›®å½•ä¸‹çš„ç±»ä¸jaråŒ…</p><p><strong>ç”¨æˆ·åŠ è½½å™¨ï¼ˆUser ClassLoaderï¼‰ï¼š</strong>ç”¨æˆ·è‡ªå®šä¹‰çš„åŠ è½½å™¨</p><p>æ‰©å±•ç±»åŠ è½½å™¨ã€ç³»ç»Ÿç±»åŠ è½½å™¨ã€ç”¨æˆ·åŠ è½½å™¨éƒ½æ˜¯ç»§æ‰¿è‡ª<code>java.lang.ClassLoader</code></p><p>JVMè§„èŒƒï¼šæ¯ä¸ªç±»åŠ è½½å™¨éƒ½æœ‰å±äºè‡ªå·±çš„å‘½åç©ºé—´</p><h4 id="åŒäº²å§”æ´¾æœºåˆ¶"><a href="#åŒäº²å§”æ´¾æœºåˆ¶" class="headerlink" title="åŒäº²å§”æ´¾æœºåˆ¶"></a>åŒäº²å§”æ´¾æœºåˆ¶</h4><p>æ£€æŸ¥é¡ºåºä»ä¸‹è‡³ä¸Šï¼ŒåŠ è½½é¡ºåºä»é¡¶è‡³ä¸‹</p><p>ä¸¾ä¸ªæ —å­ï¼šæˆ‘å†™äº†ä¸€ä¸ªStudentç±»ï¼Œæˆ‘è¦åŠ è½½å®ƒéœ€è¦ç»è¿‡ä»¥ä¸‹è¿‡ç¨‹</p><ol><li>å…ˆå°†è¯¥ä»»åŠ¡å§”æ‰˜ç»™AppClassLoader</li><li>AppClassLoaderå¾ˆæ‡’ï¼Œå®ƒä¸æƒ³åŠ è½½ï¼Œå°†ä»»åŠ¡å‘ä¸Šå§”æ‰˜ç»™ExtClassLoader</li><li>ExtClassLoaderä¹Ÿå¾ˆæ‡’ï¼Œå®ƒä¸æƒ³åŠ è½½ï¼Œç»§ç»­å°†ä»»åŠ¡å‘ä¸Šå§”æ‰˜ç»™BootStrapClassLoader</li><li>BootStrapClassLoaderæ²¡æ³•å·æ‡’äº†ï¼Œåªèƒ½è‡ªå·±åŠ è½½ï¼Œä½†æ˜¯åœ¨è‡ªå·±ç®¡ç†çš„libç›®å½•ä¸‹å¹¶æ²¡æœ‰æ‰¾åˆ°è¯¥ç±»ï¼Œåªèƒ½å°†ä»»åŠ¡å†æ¬¡äº¤ç»™ExtClassLoaderå»åŠ è½½</li><li>é‚£ExtClassLoaderæ²¡æ³•å·æ‡’äº†ï¼Œåªèƒ½åœ¨è‡ªå·±ç®¡ç†çš„extç›®å½•ä¸‹æ‰¾è¯¥ç±»ï¼Œä½†æ˜¯ä¹Ÿæ²¡æœ‰æ‰¾åˆ°ï¼Œåªèƒ½å°†ä»»åŠ¡ç»§ç»­å‘ä¸‹è½¬äº¤ç»™AppClassLoader</li><li>AppClassLoaderä¸å¾—ä¸è‡ªå·±å»å°è¯•åŠ è½½è¯¥ç±»ï¼Œäºæ˜¯åŠ è½½æˆåŠŸ</li></ol><blockquote><p>æ—¢ç„¶æœ€åè¿˜æ˜¯AppClassLoaderå»åŠ è½½Studentç±»ä½•å¿…ç»•ä¸€ä¸ªå¤§åœˆå­å‘¢ï¼Ÿ</p></blockquote><p>è¿™æ˜¯ä¸ºäº†é˜²æ­¢åŸå§‹ç±»è¢«ç”¨æˆ·å†™çš„ç±»æ‰€è¦†ç›–ã€‚</p><p>å†ä¸¾ä¸ªæ —å­ï¼šæˆ‘è‡ªå·±å†™äº†ä¸€ä¸ªStringç±»ï¼Œæˆ‘è¦åŠ è½½å®ƒä¼šç»å†ä»¥ä¸‹è¿‡ç¨‹</p><ol><li>å…ˆå°†è¯¥ä»»åŠ¡å§”æ‰˜ç»™AppClassLoader</li><li>ExtClassLoaderä¹Ÿå¾ˆæ‡’ï¼Œå®ƒä¸æƒ³åŠ è½½ï¼Œç»§ç»­å°†ä»»åŠ¡å‘ä¸Šå§”æ‰˜ç»™BootStrapClassLoader</li><li>BootStrapClassLoaderæ²¡æ³•å·æ‡’äº†ï¼Œåªèƒ½è‡ªå·±åŠ è½½ï¼Œäºæ˜¯åœ¨è‡ªå·±ç®¡ç†çš„libç›®å½•ä¸‹æ‰¾åˆ°è¯¥ç±»å¹¶åŠ è½½ï¼Œå°†åŠ è½½ç»“æœå‘ä¸‹ä¸€ç›´ä¼ é€’åˆ°ç”¨æˆ·</li></ol><h3 id="å¯¹åŒäº²å§”æ´¾æ¨¡å‹çš„ç ´å"><a href="#å¯¹åŒäº²å§”æ´¾æ¨¡å‹çš„ç ´å" class="headerlink" title="å¯¹åŒäº²å§”æ´¾æ¨¡å‹çš„ç ´å"></a>å¯¹åŒäº²å§”æ´¾æ¨¡å‹çš„ç ´å</h3><p>1ã€è‡ªå®šä¹‰ç±»åŠ è½½å™¨</p><p>æˆ‘ä»¬å†™ä¸€ä¸ªç±»ç»§æ‰¿<code>java.lang.ClassLoader</code>ï¼Œé‡å†™loadClassæ–¹æ³•ï¼ŒåŒäº²å§”æ´¾çš„é€»è¾‘å°±åœ¨è¿™ä¸ªæ–¹æ³•ä¸­ï¼Œä½†æ˜¯æˆ‘è‡ªå®šä¹‰çš„ç±»åŠ è½½å™¨å¯ä»¥ä¸è¿™ä¹ˆå†™ï¼Œä¹Ÿå°±ç ´åäº†åŒäº²å§”æ´¾ã€‚åœ¨jdk1.2ä¹‹åï¼Œjdkå¢åŠ äº†ä¸€ä¸ª<code>findClass</code>æ–¹æ³•æä¾›ç»™ä¸Šå±‚é‡å†™ï¼Œä¹Ÿå°±æœ‰æ•ˆåœ°é˜²æ­¢äº†åŒäº²å§”æ´¾è¢«ç ´å</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> ClassNotFoundException, InstantiationException, IllegalAccessException </span>&#123;</span><br><span class="line">    ClassLoader myClassLoader = <span class="keyword">new</span> ClassLoader()&#123;</span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="keyword">public</span> Class&lt;?&gt; loadClass(String name) <span class="keyword">throws</span> ClassNotFoundException &#123;</span><br><span class="line">            <span class="keyword">try</span>&#123;</span><br><span class="line">                String fileName = name.substring(name.lastIndexOf(<span class="string">&quot;.&quot;</span>)+<span class="number">1</span>)+<span class="string">&quot;.class&quot;</span>;</span><br><span class="line">                InputStream is = getClass().getResourceAsStream(fileName);</span><br><span class="line">                <span class="keyword">if</span>(is==<span class="keyword">null</span>)&#123;</span><br><span class="line">                    <span class="keyword">return</span> <span class="keyword">super</span>.loadClass(name);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">byte</span>[] buffer = <span class="keyword">new</span> <span class="keyword">byte</span>[is.available()];</span><br><span class="line">                is.read(buffer);</span><br><span class="line">                <span class="keyword">return</span> defineClass(name,buffer,<span class="number">0</span>, buffer.length);</span><br><span class="line">            &#125;<span class="keyword">catch</span> (Exception e)&#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> ClassNotFoundException(name);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    Object o = myClassLoader.loadClass(<span class="string">&quot;com.test.A&quot;</span>).newInstance();</span><br><span class="line">    System.out.println(o.getClass());</span><br><span class="line">    System.out.println(o <span class="keyword">instanceof</span> com.test.A);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ§åˆ¶å°è¾“å‡º</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">class com.test.A</span><br><span class="line"><span class="literal">false</span></span><br></pre></td></tr></table></figure><p>è¿™ä¸ä»…ç ´åäº†åŒäº²å§”æ´¾ï¼Œå¹¶ä¸”è¯æ˜äº†æ¯ä¸ªç±»åŠ è½½å™¨éƒ½æœ‰è‡ªå·±çš„å‘½åç©ºé—´</p><p>2ã€SPIï¼ˆService Provider Interfaceï¼‰æœåŠ¡å‘ç°æœºåˆ¶</p><p>JDKä¸­å®šä¹‰äº†JDBCçš„æ¥å£ï¼Œè§„èŒƒå„å¤§å‚å®¶ã€‚å¯¹äºJDKä¸­çš„æ¥å£ï¼Œä½¿ç”¨çš„æ˜¯<code>BootstrapClassLoader</code>ä½†æ˜¯å¯¹äºå„å¤§å‚å®¶çš„å®ç°ç±»ï¼Œä½¿ç”¨çš„æ˜¯<code>ApplClassLoader</code></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@CallerSensitive</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Driver <span class="title">getDriver</span><span class="params">(String url)</span></span></span><br><span class="line"><span class="function">    <span class="keyword">throws</span> SQLException </span>&#123;</span><br><span class="line"></span><br><span class="line">    println(<span class="string">&quot;DriverManager.getDriver(\&quot;&quot;</span> + url + <span class="string">&quot;\&quot;)&quot;</span>);</span><br><span class="line"></span><br><span class="line">    ensureDriversInitialized();</span><br><span class="line"></span><br><span class="line">    Class&lt;?&gt; callerClass = Reflection.getCallerClass();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Walk through the loaded registeredDrivers attempting to locate someone</span></span><br><span class="line">    <span class="comment">// who understands the given URL.</span></span><br><span class="line">    <span class="keyword">for</span> (DriverInfo aDriver : registeredDrivers) &#123;</span><br><span class="line">        <span class="comment">// If the caller does not have permission to load the driver then</span></span><br><span class="line">        <span class="comment">// skip it.</span></span><br><span class="line">        <span class="keyword">if</span> (isDriverAllowed(aDriver.driver, callerClass)) &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                <span class="keyword">if</span> (aDriver.driver.acceptsURL(url)) &#123;</span><br><span class="line">                    <span class="comment">// Success!</span></span><br><span class="line">                    println(<span class="string">&quot;getDriver returning &quot;</span> + aDriver.driver.getClass().getName());</span><br><span class="line">                <span class="keyword">return</span> (aDriver.driver);</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">            &#125; <span class="keyword">catch</span>(SQLException sqe) &#123;</span><br><span class="line">                <span class="comment">// Drop through and try the next driver.</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            println(<span class="string">&quot;    skipping: &quot;</span> + aDriver.driver.getClass().getName());</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    println(<span class="string">&quot;getDriver: no suitable driver&quot;</span>);</span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> SQLException(<span class="string">&quot;No suitable driver&quot;</span>, <span class="string">&quot;08001&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><img src="/javaEE/JVM/2022/03/11/JVM-%E7%B1%BB%E5%8A%A0%E8%BD%BD%E5%99%A8/spi.png" class title="spi"><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@CallerSensitive</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> &lt;S&gt; <span class="function">ServiceLoader&lt;S&gt; <span class="title">load</span><span class="params">(Class&lt;S&gt; service)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// å½“å‰çº¿ç¨‹çš„ClassLoaderé»˜è®¤ä¸ºAppClassLoader</span></span><br><span class="line">    ClassLoader cl = Thread.currentThread().getContextClassLoader();</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> ServiceLoader&lt;&gt;(Reflection.getCallerClass(), service, cl);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>3ã€çƒ­éƒ¨ç½²</p>]]></content>
      
      
      <categories>
          
          <category> javaEE </category>
          
          <category> JVM </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JVM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç®—æ³•-å·®åˆ†æ•°ç»„</title>
      <link href="/%E7%AE%97%E6%B3%95/%E6%8A%80%E5%B7%A7%E7%AF%87/2022/03/11/%E7%AE%97%E6%B3%95-%E5%B7%AE%E5%88%86%E6%95%B0%E7%BB%84/"/>
      <url>/%E7%AE%97%E6%B3%95/%E6%8A%80%E5%B7%A7%E7%AF%87/2022/03/11/%E7%AE%97%E6%B3%95-%E5%B7%AE%E5%88%86%E6%95%B0%E7%BB%84/</url>
      
        <content type="html"><![CDATA[<h2 id="å·®åˆ†æ•°ç»„"><a href="#å·®åˆ†æ•°ç»„" class="headerlink" title="å·®åˆ†æ•°ç»„"></a>å·®åˆ†æ•°ç»„</h2><p>è¯¥æŠ€å·§å’Œå‰ç¼€å’Œæ•°ç»„ä¸€æ ·éƒ½æ˜¯ç”¨åœ¨<strong>æ•°ç»„</strong>ä¸Šçš„ï¼Œ</p><p>å‰ç¼€å’Œæ•°ç»„æ˜¯ç”¨æ¥ç®€åŒ– ä»»æ„åŒºé—´çš„å…ƒç´ ä¹‹å’Œçš„ï¼Œ</p><p>å·®åˆ†æ•°ç»„æ˜¯ç”¨æ¥ç®€åŒ– é¢‘ç¹åœ¨ä»»æ„åŒºé—´å‡å»æŸä¸ªå€¼æˆ–è€…åœ¨ä»»æ„åŒºé—´åŠ ä¸ŠæŸä¸ªå€¼ï¼Œæœ€åè¾“å‡ºæœ€åçš„æ•°ç»„ç»“æœçš„</p><p>æ¯”å¦‚ï¼Œç»™ä½ ä¸€ä¸ªæ•°ç»„<code>nums[2,4,1,45,21,54,12,43]</code>ï¼Œæˆ‘éœ€è¦å…ˆå°†<code>[2,4]</code>éƒ½åŠ 3ï¼Œå†å°†<code>[3,6]</code>éƒ½å‡1ï¼Œå†â€¦..ï¼Œæœ€åè¾“å‡ºæœ€åçš„æ•°ç»„ç»“æœ</p><p>å¦‚æœæ²¡å­¦è¿‡å·®åˆ†æ•°ç»„ï¼Œé‚£ä¹ˆåº”è¯¥æ˜¯ä½¿ç”¨forå¾ªç¯å°†èŒƒå›´å†…çš„æ•°éƒ½è¿›è¡Œæ“ä½œï¼Œæœ€åè¾“å‡ºæ•°ç»„ï¼Œ</p><p>å¯¹<code>nums</code>çš„æ“ä½œååˆ†é¢‘ç¹ï¼Œè¿™æ ·çš„æ•ˆç‡ååˆ†ä½ä¸‹</p><p>è¿™é‡Œæˆ‘ä»¬å°±ä½¿ç”¨å·®åˆ†æ•°ç»„æ¥æé«˜æˆ‘ä»¬çš„æ•ˆç‡</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span>[] diff = <span class="keyword">new</span> <span class="keyword">int</span>[nums.length];</span><br><span class="line">diff[<span class="number">0</span>] = nums[<span class="number">0</span>];</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; nums.length; i++) &#123;</span><br><span class="line">    diff[i] = nums[i] - nums[i-<span class="number">1</span>];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><img src="/%E7%AE%97%E6%B3%95/%E6%8A%80%E5%B7%A7%E7%AF%87/2022/03/11/%E7%AE%97%E6%B3%95-%E5%B7%AE%E5%88%86%E6%95%B0%E7%BB%84/%E5%B7%AE%E5%88%86%E6%95%B0%E7%BB%84.png" class title="å·®åˆ†æ•°ç»„"><p>å½“<code>i!=0</code>çš„æ—¶å€™<code>diff[i]</code>ä»£è¡¨<code>nums[i]-nums[i-1]</code>çš„å€¼ï¼Œå³å½“å‰å€¼ä¸å‰ä¸€ä¸ªå€¼çš„å·®</p><p>é‚£æœ‰äº†è¿™ä¸ªå·®åˆ†æ•°ç»„ï¼Œæˆ‘ä»¬æ€ä¹ˆå°†æ•°ç»„è¿˜åŸå‘¢ï¼Ÿ</p><img src="/%E7%AE%97%E6%B3%95/%E6%8A%80%E5%B7%A7%E7%AF%87/2022/03/11/%E7%AE%97%E6%B3%95-%E5%B7%AE%E5%88%86%E6%95%B0%E7%BB%84/%E5%B7%AE%E5%88%86%E6%95%B0%E7%BB%84%E5%8F%8D%E6%8E%A8%E6%95%B0%E7%BB%84-process01.png" class title="å·®åˆ†æ•°ç»„åæ¨æ•°ç»„-process01"><img src="/%E7%AE%97%E6%B3%95/%E6%8A%80%E5%B7%A7%E7%AF%87/2022/03/11/%E7%AE%97%E6%B3%95-%E5%B7%AE%E5%88%86%E6%95%B0%E7%BB%84/%E5%B7%AE%E5%88%86%E6%95%B0%E7%BB%84%E5%8F%8D%E6%8E%A8%E6%95%B0%E7%BB%84-process02.png" class title="å·®åˆ†æ•°ç»„åæ¨æ•°ç»„-process02"><img src="/%E7%AE%97%E6%B3%95/%E6%8A%80%E5%B7%A7%E7%AF%87/2022/03/11/%E7%AE%97%E6%B3%95-%E5%B7%AE%E5%88%86%E6%95%B0%E7%BB%84/%E5%B7%AE%E5%88%86%E6%95%B0%E7%BB%84%E5%8F%8D%E6%8E%A8%E6%95%B0%E7%BB%84-process03.png" class title="å·®åˆ†æ•°ç»„åæ¨æ•°ç»„-process03"><img src="/%E7%AE%97%E6%B3%95/%E6%8A%80%E5%B7%A7%E7%AF%87/2022/03/11/%E7%AE%97%E6%B3%95-%E5%B7%AE%E5%88%86%E6%95%B0%E7%BB%84/%E5%B7%AE%E5%88%86%E6%95%B0%E7%BB%84%E5%8F%8D%E6%8E%A8%E6%95%B0%E7%BB%84-process04.png" class title="å·®åˆ†æ•°ç»„åæ¨æ•°ç»„-process04"><img src="/%E7%AE%97%E6%B3%95/%E6%8A%80%E5%B7%A7%E7%AF%87/2022/03/11/%E7%AE%97%E6%B3%95-%E5%B7%AE%E5%88%86%E6%95%B0%E7%BB%84/%E5%B7%AE%E5%88%86%E6%95%B0%E7%BB%84%E5%8F%8D%E6%8E%A8%E6%95%B0%E7%BB%84-process05.png" class title="å·®åˆ†æ•°ç»„åæ¨æ•°ç»„-process05"><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span>[] res = <span class="keyword">new</span> <span class="keyword">int</span>[diff.length];</span><br><span class="line">res[<span class="number">0</span>] = diff[<span class="number">0</span>];</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; diff.length; i++) &#123;</span><br><span class="line">    res[i] = res[i-<span class="number">1</span>] + diff[i];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>diff</code>çš„è¿˜åŸæ˜¯å…ˆnewä¸€ä¸ªæ–°çš„æ•°ç»„æ¥å­˜æ”¾æœ€åçš„ç»“æœï¼Œå¯¹äº0ä¹‹åçš„å…ƒç´ ï¼Œ<code>res[i]</code>ç­‰äºå‰ä¸€ä¸ªå…ƒç´ åŠ ä¸Šå½“å‰ç´¢å¼•çš„<code>diff</code></p><p>å¦‚æœæˆ‘è¦å°†<code>[i,j]</code>åŒºé—´åŠ 2ï¼Œé‚£ä¹ˆå°±å°†<code>diff[i]+=2;diff[j+1]-=2</code>å³å¯</p><p>æˆ‘å°†<code>diff[i]+=2</code>ï¼Œå³è¾¾åˆ°<code>res[i]</code>åˆ°æœ€åéƒ½ä¼šè¢«åŠ ä¸Š2çš„æ•ˆæœ</p><p>æˆ‘å°†<code>diff[j+1]-=2</code>ï¼Œå³è¾¾åˆ°<code>res[j+1]</code>ä¹‹åï¼Œä¼šå°†å‰é¢çš„åŠ 2æŠµæ¶ˆï¼Œæ‰€ä»¥<code>j</code>ä¹‹åçš„å…ƒç´ å°±ä¸ä¼šè¢«å½±å“äº†</p><p>æˆ‘ä»¬æ¥å’Œä¹‹å‰çš„é‚£é“å‰ç¼€å’Œæ•°ç»„ä¸€æ ·ï¼ŒæŠ½è±¡å‡ºæ¥ä¸€ä¸ªç±»æ¥å¤„ç†æ•°ç»„</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Diff</span></span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span>[] diff;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Diff</span><span class="params">(<span class="keyword">int</span>[] nums)</span></span>&#123;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">increase</span><span class="params">(<span class="keyword">int</span> left, <span class="keyword">int</span> right, <span class="keyword">int</span> step)</span></span>&#123;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span>[] getResult()&#123;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¤§å®¶å¯ä»¥å…ˆè‡ªå·±å†™ä¸€ä¸‹</p><p>è¿™æ˜¯å®ç°ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Diff</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span>[] diff;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Diff</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">        diff = <span class="keyword">new</span> <span class="keyword">int</span>[nums.length];</span><br><span class="line">        diff[<span class="number">0</span>] = nums[<span class="number">0</span>];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; nums.length; i++) &#123;</span><br><span class="line">            diff[i] = nums[i] - nums[i - <span class="number">1</span>];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">increase</span><span class="params">(<span class="keyword">int</span> left, <span class="keyword">int</span> right, <span class="keyword">int</span> step)</span> </span>&#123;</span><br><span class="line">        diff[left] += step;</span><br><span class="line">        <span class="keyword">if</span> (right &lt; diff.length - <span class="number">1</span>) &#123;</span><br><span class="line">            diff[right + <span class="number">1</span>] -= step;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span>[] getResult() &#123;</span><br><span class="line">        <span class="keyword">int</span>[] result = <span class="keyword">new</span> <span class="keyword">int</span>[diff.length];</span><br><span class="line">        result[<span class="number">0</span>] = diff[<span class="number">0</span>];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; diff.length; i++) &#123;</span><br><span class="line">            result[i] = result[i - <span class="number">1</span>] + diff[i];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="å°è¯•ç‰›åˆ€"><a href="#å°è¯•ç‰›åˆ€" class="headerlink" title="å°è¯•ç‰›åˆ€"></a>å°è¯•ç‰›åˆ€</h3><p>æ¥ä¸‹æ¥å°±è¦å®è·µå‡ºçœŸçŸ¥ï¼Œæ¥çœ‹ä¸€ä¸‹è¿™é“åŠ›æ‰£é¢˜ï¼Œè¿™é“é¢˜åœ¨åŠ›æ‰£ä¸Šæ˜¯plusä¼šå‘˜æ‰å¯ä»¥æŸ¥çœ‹ï¼Œè¿™é‡Œç›´æ¥å°†é¢˜ç›®ç®€è¿°ç»™å¤§å®¶</p><h4 id="åŠ›æ‰£370ï¼šåŒºé—´åŠ æ³•"><a href="#åŠ›æ‰£370ï¼šåŒºé—´åŠ æ³•" class="headerlink" title="åŠ›æ‰£370ï¼šåŒºé—´åŠ æ³•"></a><a href="https://leetcode-cn.com/problems/range-addition/">åŠ›æ‰£370ï¼šåŒºé—´åŠ æ³•</a></h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 370.åŒºé—´åŠ æ³•</span></span><br><span class="line">å‡è®¾ä½ æœ‰ä¸€ä¸ªé•¿åº¦ä¸º n çš„æ•°ç»„numsï¼Œåˆå§‹æƒ…å†µä¸‹æ‰€æœ‰çš„æ•°å­—å‡ä¸º 0ï¼Œä½ å°†ä¼šè¢«ç»™å‡º k ä¸ªæ›´æ–°çš„æ“ä½œã€‚</span><br><span class="line">å…¶ä¸­ï¼Œæ¯ä¸ªæ“ä½œä¼šè¢«è¡¨ç¤ºä¸ºä¸€ä¸ªä¸‰å…ƒç»„ï¼š[left,right,step]ï¼Œä½ éœ€è¦è¯¥åŒºé—´[left,right] (åŒ…æ‹¬leftå’Œright)å¢åŠ stepã€‚</span><br><span class="line">è¯·ä½ è¿”å› k æ¬¡æ“ä½œåçš„æ•°ç»„ã€‚</span><br><span class="line"><span class="comment"># ç¤ºä¾‹</span></span><br><span class="line">len=5,updates=[[1,3,3],[2,4,-5],[0,3,4]]</span><br><span class="line">åŸæ•°ç»„å˜ä¸º [0,0,0,0,0]</span><br><span class="line">åŸæ•°ç»„å˜ä¸º [0,3,3,3,0]</span><br><span class="line">åŸæ•°ç»„å˜ä¸º [0,3,-2,-2,-5]</span><br><span class="line">åŸæ•°ç»„å˜ä¸º [4,7,2,2,-5]</span><br><span class="line">result: [4,7,2,2,-5]</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ–¹æ³•ç­¾å</span></span><br><span class="line">public int[] getModifiedArray(int[] nums, int[][] updates) &#123;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åªè¦æ‡‚äº†ä¸Šé¢çš„<code>Diff</code>ç±»çš„å†™æ³•ï¼Œè¿™é¢˜è½»è½»æ¾æ¾æ‹¿ä¸‹ï¼</p><p>ä»£ç ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">int</span>[] getModifiedArray(<span class="keyword">int</span>[] nums, <span class="keyword">int</span>[][] updates) &#123;</span><br><span class="line">    <span class="keyword">int</span>[] diff = <span class="keyword">new</span> <span class="keyword">int</span>[nums.length];</span><br><span class="line">    diff[<span class="number">0</span>] = nums[<span class="number">0</span>];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; diff.length; i++) &#123;</span><br><span class="line">        diff[i] = nums[i] - nums[i - <span class="number">1</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span>[] update : updates) &#123;</span><br><span class="line">        diff[update[<span class="number">0</span>]] += update[<span class="number">2</span>];</span><br><span class="line">        <span class="keyword">if</span> (update[<span class="number">1</span>] + <span class="number">1</span> &lt; diff.length) &#123;</span><br><span class="line">            diff[update[<span class="number">1</span>] + <span class="number">1</span>] -= update[<span class="number">2</span>];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span>[] result = <span class="keyword">new</span> <span class="keyword">int</span>[diff.length];</span><br><span class="line">    result[<span class="number">0</span>] = diff[<span class="number">0</span>];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; result.length; i++) &#123;</span><br><span class="line">        result[i] = result[i - <span class="number">1</span>] + diff[i];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ—¢ç„¶æˆ‘ä»¬ä¹‹å‰å†™äº†<code>Diff</code>é‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨å®ƒ</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">int</span>[] getModifiedArray1(<span class="keyword">int</span>[] nums, <span class="keyword">int</span>[][] updates) &#123;</span><br><span class="line">    Diff diff = <span class="keyword">new</span> Diff(nums);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span>[] update : updates) &#123;</span><br><span class="line">        diff.increase(update[<span class="number">0</span>], update[<span class="number">1</span>], update[<span class="number">2</span>]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> diff.getResult();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="åŠ›æ‰£1109ï¼šèˆªç­é¢„è®¢ç»Ÿè®¡"><a href="#åŠ›æ‰£1109ï¼šèˆªç­é¢„è®¢ç»Ÿè®¡" class="headerlink" title="åŠ›æ‰£1109ï¼šèˆªç­é¢„è®¢ç»Ÿè®¡"></a><a href="https://leetcode-cn.com/problems/corporate-flight-bookings/">åŠ›æ‰£1109ï¼šèˆªç­é¢„è®¢ç»Ÿè®¡</a></h4><p>æœ¬è´¨æ˜¯ä¸€æ ·çš„ï¼Œåªä¸è¿‡è¿™è¾¹éœ€è¦æ³¨æ„ä¸€ä¸‹ç´¢å¼•å’Œç¼–å·çš„å¯¹åº”å…³ç³»ï¼Œ</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span>[] corpFlightBookings(<span class="keyword">int</span>[][] bookings, <span class="keyword">int</span> n) &#123;</span><br><span class="line">        <span class="keyword">int</span>[] diff = <span class="keyword">new</span> <span class="keyword">int</span>[n];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span>[] booking : bookings) &#123;</span><br><span class="line">            diff[booking[<span class="number">0</span>] - <span class="number">1</span>] += booking[<span class="number">2</span>];</span><br><span class="line">            <span class="keyword">if</span> (booking[<span class="number">1</span>] &lt; n) &#123;</span><br><span class="line">                diff[booking[<span class="number">1</span>]] -= booking[<span class="number">2</span>];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span>[] answer = <span class="keyword">new</span> <span class="keyword">int</span>[diff.length];</span><br><span class="line">        answer[<span class="number">0</span>] = diff[<span class="number">0</span>];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; answer.length; i++) &#123;</span><br><span class="line">            answer[i] = answer[i - <span class="number">1</span>] + diff[i];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> answer;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç›¸ä¿¡å­¦å®Œè¿™äº›ï¼Œä½ å¯¹å·®åˆ†æ•°ç»„çš„ç†è§£ä¹Ÿæ¯”è¾ƒæ·±åˆ»äº†</p>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
          <category> æŠ€å·§ç¯‡ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç®—æ³• </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç®—æ³•-å‰ç¼€å’Œæ•°ç»„</title>
      <link href="/%E7%AE%97%E6%B3%95/%E6%8A%80%E5%B7%A7%E7%AF%87/2022/03/10/%E7%AE%97%E6%B3%95-%E5%89%8D%E7%BC%80%E5%92%8C%E6%95%B0%E7%BB%84/"/>
      <url>/%E7%AE%97%E6%B3%95/%E6%8A%80%E5%B7%A7%E7%AF%87/2022/03/10/%E7%AE%97%E6%B3%95-%E5%89%8D%E7%BC%80%E5%92%8C%E6%95%B0%E7%BB%84/</url>
      
        <content type="html"><![CDATA[<h2 id="å‰ç¼€å’Œæ•°ç»„"><a href="#å‰ç¼€å’Œæ•°ç»„" class="headerlink" title="å‰ç¼€å’Œæ•°ç»„"></a>å‰ç¼€å’Œæ•°ç»„</h2><h3 id="æŠ€å·§è¯´æ˜"><a href="#æŠ€å·§è¯´æ˜" class="headerlink" title="æŠ€å·§è¯´æ˜"></a>æŠ€å·§è¯´æ˜</h3><p>æ­¤æŠ€å·§ä¸»è¦ç”¨äºé¢‘ç¹çš„èŒƒå›´æ±‚å’Œ</p><h3 id="æ —ä¸€"><a href="#æ —ä¸€" class="headerlink" title="æ —ä¸€"></a>æ —ä¸€</h3><p><a href="https://leetcode-cn.com/problems/range-sum-query-immutable/">åŠ›æ‰£303ï¼šåŒºåŸŸå’Œæ£€ç´¢ - æ•°ç»„ä¸å¯å˜</a></p><p>è¿™æ˜¯ä¸€é“å¾ˆå…¸å‹çš„ä½¿ç”¨å‰ç¼€å’Œæ•°ç»„çš„é¢˜ç›®ã€‚</p><p>å¯¹äºé¢‘ç¹è®¡ç®—æ•°ç»„çš„ä¸€ä¸ªèŒƒå›´çš„å’Œï¼Œå­¦æ²¡è¿‡å‰ç¼€å’Œæ•°ç»„çš„ä¼šè¿™æ ·åšï¼Œ</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">NumArray</span></span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span>[] nums;</span><br><span class="line">    NumArray(<span class="keyword">int</span>[] nums) &#123;</span><br><span class="line">        <span class="keyword">this</span>.nums = nums;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">sumRange</span><span class="params">(<span class="keyword">int</span>[] sums, <span class="keyword">int</span> left, <span class="keyword">int</span> right)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> sum = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = left ;i &lt;= right;i++)&#123;</span><br><span class="line">            sum += nums[i];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> sum;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™æ ·ç¡®å®å¯ä»¥è¾¾åˆ°æ•ˆæœï¼Œä½†æ˜¯é¢‘ç¹è¿™æ ·æ“ä½œï¼Œæ•ˆç‡ä¸æ˜¯å¾ˆé«˜ã€‚</p><p>æ‰€ä»¥å­¦è¿‡å‰ç¼€å’Œçš„ä¼šè¿™ä¹ˆå†™ä»è€Œæé«˜æ•ˆç‡</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">NumArray</span></span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span>[] nums;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span>[] <span class="function">preSum</span></span><br><span class="line"><span class="function">        <span class="title">NumArray</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.nums = nums;</span><br><span class="line">        <span class="keyword">int</span>[] preSum = <span class="keyword">new</span> <span class="keyword">int</span>[nums.length + <span class="number">1</span>];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= nums.length ; i++) &#123;</span><br><span class="line">            preSum[i] = preSum[i-<span class="number">1</span>] + nums[i-<span class="number">1</span>];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">sumRange</span><span class="params">(<span class="keyword">int</span>[] sums, <span class="keyword">int</span> left, <span class="keyword">int</span> right)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> preSum[right+<span class="number">1</span>] - preSum[left];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬æ¥åˆ†æä¸€ä¸‹è¿™ä¸ª<code>preSum</code></p><p>å®ƒçš„é•¿åº¦æ˜¯åŸæ•°ç»„çš„é•¿åº¦åŠ ä¸€</p><p><code>preSum[0]</code>ç½®ä¸º<code>nums</code>æ•°ç»„å‰0ä¸ªçš„å’Œ</p><p><code>preSum[1]</code>ç½®ä¸º<code>nums</code>æ•°ç»„å‰1ä¸ªçš„å’Œ</p><p><code>preSum[2]</code>ç½®ä¸º<code>nums</code>æ•°ç»„å‰2ä¸ªçš„å’Œ</p><img src="/%E7%AE%97%E6%B3%95/%E6%8A%80%E5%B7%A7%E7%AF%87/2022/03/10/%E7%AE%97%E6%B3%95-%E5%89%8D%E7%BC%80%E5%92%8C%E6%95%B0%E7%BB%84/%E5%89%8D%E7%BC%80%E5%92%8C%E6%95%B0%E7%BB%84%E7%A4%BA%E4%BE%8B.png" class title="å‰ç¼€å’Œæ•°ç»„ç¤ºä¾‹"><p>æ‰€ä»¥æˆ‘å¦‚æœéœ€è¦<code>[0,1]</code>åŒºé—´çš„å’Œï¼Œåˆ™è¿”å›<code>preSum[2]-preSum[0]</code>ï¼ˆå‰2ä¸ªæ•°çš„å’Œå‡å»å‰0ä¸ªæ•°çš„å’Œï¼‰</p><p>æ‰€ä»¥æˆ‘å¦‚æœéœ€è¦<code>[3,5]</code>åŒºé—´çš„å’Œï¼Œåˆ™è¿”å›<code>preSum[6]-preSum[3]</code>ï¼ˆå‰6ä¸ªæ•°çš„å’Œå‡å»å‰3ä¸ªæ•°çš„å’Œï¼‰</p><p>æ‰€ä»¥è¿™é“åŠ›æ‰£303é¢˜çš„ä»£ç ä¸ºï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">NumArray</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span>[] preSum;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">NumArray</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">        preSum = <span class="keyword">new</span> <span class="keyword">int</span>[nums.length+<span class="number">1</span>];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= nums.length; i++) &#123;</span><br><span class="line">            preSum[i]=preSum[i-<span class="number">1</span>]+nums[i-<span class="number">1</span>];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">sumRange</span><span class="params">(<span class="keyword">int</span> left, <span class="keyword">int</span> right)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> preSum[right+<span class="number">1</span>]-preSum[left];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><p>å°è¯•èº«æ‰‹ï¼šåˆä¸‰ä¸€ç­çš„æ•°å­¦æœŸæœ«æˆç»©(æ»¡åˆ†120åˆ†)å‡ºæ¥äº†ï¼Œç°å°†æˆç»©ä¹±åºåˆ—è¡¨å‘äºä½ ï¼Œè¯·ä½ ç»Ÿè®¡åœ¨<code>[min,max]</code>èŒƒå›´å†…çš„å­¦ç”Ÿäººæ•°</p><p>æ–¹æ³•ç­¾åï¼š<code>public int scoreRange(List&lt;Integer&gt; scores, int fullMarks, int min, int max)</code></p><p><strong>åœ¨å­¦å‰ç¼€å’Œæ•°ç»„ä¹‹å‰</strong></p><p>å…ˆå°†scoresæŒ‰å‡åºæ’åº</p><p>ç„¶åä½¿ç”¨äºŒåˆ†æœç´¢ä¸¤ä¸ªç«¯ç‚¹ï¼Œå°†é•¿åº¦è¿”å›</p><p>è¿™æ ·çš„æ€è·¯ç¡®å®æ²¡æ¯›ç—…ï¼Œä½†æ˜¯å¦‚æœé¢‘ç¹éœ€è¦æŸ¥è¯¢ï¼Œ</p><p>å°±ç®—æ˜¯å¼ºå¦‚äºŒåˆ†æŸ¥æ‰¾ï¼Œä¹Ÿä¼šæ¶ˆè€—å¾ˆå¤šèµ„æº</p><p><strong>å­¦äº†å‰ç¼€å’Œæ•°ç»„ä¹‹å</strong></p><p>æ—¢ç„¶å­¦äº†å‰ç¼€å’Œæ•°ç»„ï¼Œæˆ‘ä»¬å°±ä½¿ç”¨è¯¥æŠ€å·§å»ä¼˜åŒ–</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">     * è¿”å›æˆç»©èŒƒå›´å†…çš„å­¦ç”Ÿæ•°</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> scores å­¦ç”Ÿæˆç»©åˆ—è¡¨</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> fullMarks è¿™é—¨æˆç»©çš„æ»¡åˆ†</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> min æœ€å°å€¼</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> max æœ€å¤§å€¼</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> æ»¡è¶³æˆç»©åŒºé—´çš„ä¸ªæ•°</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">scoreRange</span><span class="params">(List&lt;Integer&gt; scores, <span class="keyword">int</span> fullMarks, <span class="keyword">int</span> min, <span class="keyword">int</span> max)</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span>[] counts = <span class="keyword">new</span> <span class="keyword">int</span>[fullMarks + <span class="number">1</span>];</span><br><span class="line">    <span class="keyword">int</span>[] preSums = <span class="keyword">new</span> <span class="keyword">int</span>[fullMarks + <span class="number">2</span>];</span><br><span class="line">    <span class="comment">// counts[i]çš„æ„æ€æ˜¯åˆ†æ•°ä¸ºiçš„å­¦ç”Ÿæœ‰å‡ ä¸ªäºº</span></span><br><span class="line">    <span class="keyword">for</span> (Integer score : scores) &#123;</span><br><span class="line">        counts[score]++;</span><br><span class="line">    &#125;</span><br><span class="line">    preSums[<span class="number">0</span>]=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= counts.length; i++) &#123;</span><br><span class="line">        preSums[i] = preSums[i-<span class="number">1</span>] + counts[i-<span class="number">1</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// ä¹Ÿå°±æ˜¯countsåœ¨åŒºé—´[min,max]èŒƒå›´å’Œ</span></span><br><span class="line">    <span class="keyword">return</span> preSums[max + <span class="number">1</span>] - preSums[min];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="æ —äºŒ"><a href="#æ —äºŒ" class="headerlink" title="æ —äºŒ"></a>æ —äºŒ</h3><p>ç°åœ¨æˆ‘ä»¬æ¥è§£å†³<a href="https://leetcode-cn.com/problems/range-sum-query-2d-immutable/">åŠ›æ‰£304ï¼šäºŒç»´åŒºåŸŸå’Œæ£€ç´¢ - çŸ©é˜µä¸å¯å˜</a></p><p>æœ¬è´¨å’Œä¸€ç»´çš„æ—¶å€™æ˜¯ä¸€æ ·çš„åªä¸è¿‡å˜æˆäº†äºŒç»´ï¼Œéœ€è¦é¢„å¤„ç†ä¸€ä¸ªäºŒç»´å‰ç¼€å’Œæ•°ç»„è€Œå·²</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">NumMatrix</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span>[][] preSums;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">NumMatrix</span><span class="params">(<span class="keyword">int</span>[][] matrix)</span> </span>&#123;</span><br><span class="line">        preSums = <span class="keyword">new</span> <span class="keyword">int</span>[matrix.length][matrix[<span class="number">0</span>].length+<span class="number">1</span>];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; matrix.length; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= matrix[i].length; j++) &#123;</span><br><span class="line">                preSums[i][j] = preSums[i][j-<span class="number">1</span>] + matrix[i][j-<span class="number">1</span>];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">sumRegion</span><span class="params">(<span class="keyword">int</span> row1, <span class="keyword">int</span> col1, <span class="keyword">int</span> row2, <span class="keyword">int</span> col2)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> sum = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = row1; i &lt;= row2; i++) &#123;</span><br><span class="line">            sum += preSums[i][col2+<span class="number">1</span>]-preSums[i][col1];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> sum;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™æ˜¯å¦ä¸€ç§è§£æ³•</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">NumMatrix</span> </span>&#123;</span><br><span class="line">    <span class="comment">// å®šä¹‰ï¼špreSum[i][j] è®°å½• matrix ä¸­å­çŸ©é˜µ [0, 0, i-1, j-1] çš„å…ƒç´ å’Œ</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span>[][] preSum;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">NumMatrix</span><span class="params">(<span class="keyword">int</span>[][] matrix)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> m = matrix.length, n = matrix[<span class="number">0</span>].length;</span><br><span class="line">        <span class="keyword">if</span> (m == <span class="number">0</span> || n == <span class="number">0</span>) <span class="keyword">return</span>;</span><br><span class="line">        <span class="comment">// æ„é€ å‰ç¼€å’ŒçŸ©é˜µ</span></span><br><span class="line">        preSum = <span class="keyword">new</span> <span class="keyword">int</span>[m + <span class="number">1</span>][n + <span class="number">1</span>];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= m; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= n; j++) &#123;</span><br><span class="line">                <span class="comment">// è®¡ç®—æ¯ä¸ªçŸ©é˜µ [0, 0, i, j] çš„å…ƒç´ å’Œ</span></span><br><span class="line">                preSum[i][j] = preSum[i-<span class="number">1</span>][j] + preSum[i][j-<span class="number">1</span>] + matrix[i - <span class="number">1</span>][j - <span class="number">1</span>] - preSum[i-<span class="number">1</span>][j-<span class="number">1</span>];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// è®¡ç®—å­çŸ©é˜µ [x1, y1, x2, y2] çš„å…ƒç´ å’Œ</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">sumRegion</span><span class="params">(<span class="keyword">int</span> x1, <span class="keyword">int</span> y1, <span class="keyword">int</span> x2, <span class="keyword">int</span> y2)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// ç›®æ ‡çŸ©é˜µä¹‹å’Œç”±å››ä¸ªç›¸é‚»çŸ©é˜µè¿ç®—è·å¾—</span></span><br><span class="line">        <span class="keyword">return</span> preSum[x2+<span class="number">1</span>][y2+<span class="number">1</span>] - preSum[x1][y2+<span class="number">1</span>] - preSum[x2+<span class="number">1</span>][y1] + preSum[x1][y1];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
          <category> æŠ€å·§ç¯‡ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç®—æ³• </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ã€25-Hardã€‘ä»¥kä¸ªèŠ‚ç‚¹ä¸ºä¸€ç»„é€†è½¬å•é“¾è¡¨</title>
      <link href="/%E7%AE%97%E6%B3%95/%E5%88%B7%E9%A2%98%E7%AF%87/2022/03/08/%E3%80%9025-Hard%E3%80%91%E4%BB%A5k%E4%B8%AA%E8%8A%82%E7%82%B9%E4%B8%BA%E4%B8%80%E7%BB%84%E9%80%86%E8%BD%AC%E5%8D%95%E9%93%BE%E8%A1%A8/"/>
      <url>/%E7%AE%97%E6%B3%95/%E5%88%B7%E9%A2%98%E7%AF%87/2022/03/08/%E3%80%9025-Hard%E3%80%91%E4%BB%A5k%E4%B8%AA%E8%8A%82%E7%82%B9%E4%B8%BA%E4%B8%80%E7%BB%84%E9%80%86%E8%BD%AC%E5%8D%95%E9%93%BE%E8%A1%A8/</url>
      
        <content type="html"><![CDATA[<h2 id="ä»¥kä¸ªèŠ‚ç‚¹ä¸ºä¸€ç»„é€†è½¬å•é“¾è¡¨"><a href="#ä»¥kä¸ªèŠ‚ç‚¹ä¸ºä¸€ç»„é€†è½¬å•é“¾è¡¨" class="headerlink" title="ä»¥kä¸ªèŠ‚ç‚¹ä¸ºä¸€ç»„é€†è½¬å•é“¾è¡¨"></a>ä»¥kä¸ªèŠ‚ç‚¹ä¸ºä¸€ç»„é€†è½¬å•é“¾è¡¨</h2><p>ç»™ä½ ä¸€ä¸ªé“¾è¡¨ï¼Œæ¯ <em>k</em> ä¸ªèŠ‚ç‚¹ä¸€ç»„è¿›è¡Œç¿»è½¬ï¼Œè¯·ä½ è¿”å›ç¿»è½¬åçš„é“¾è¡¨ã€‚</p><p><em>k</em> æ˜¯ä¸€ä¸ªæ­£æ•´æ•°ï¼Œå®ƒçš„å€¼å°äºæˆ–ç­‰äºé“¾è¡¨çš„é•¿åº¦ã€‚</p><p>å¦‚æœèŠ‚ç‚¹æ€»æ•°ä¸æ˜¯ <em>k</em> çš„æ•´æ•°å€ï¼Œé‚£ä¹ˆè¯·å°†æœ€åå‰©ä½™çš„èŠ‚ç‚¹ä¿æŒåŸæœ‰é¡ºåºã€‚</p><p><strong>è¿›é˜¶ï¼š</strong></p><ul><li>ä½ å¯ä»¥è®¾è®¡ä¸€ä¸ªåªä½¿ç”¨å¸¸æ•°é¢å¤–ç©ºé—´çš„ç®—æ³•æ¥è§£å†³æ­¤é—®é¢˜å—ï¼Ÿ</li><li><strong>ä½ ä¸èƒ½åªæ˜¯å•çº¯çš„æ”¹å˜èŠ‚ç‚¹å†…éƒ¨çš„å€¼</strong>ï¼Œè€Œæ˜¯éœ€è¦å®é™…è¿›è¡ŒèŠ‚ç‚¹äº¤æ¢ã€‚</li></ul><p><strong>ç¤ºä¾‹ 1ï¼š</strong></p><img src="/%E7%AE%97%E6%B3%95/%E5%88%B7%E9%A2%98%E7%AF%87/2022/03/08/%E3%80%9025-Hard%E3%80%91%E4%BB%A5k%E4%B8%AA%E8%8A%82%E7%82%B9%E4%B8%BA%E4%B8%80%E7%BB%84%E9%80%86%E8%BD%AC%E5%8D%95%E9%93%BE%E8%A1%A8/reverse_ex1.jpg" class title="img"><figure class="highlight accesslog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šhead = <span class="string">[1,2,3,4,5]</span>, k = <span class="number">2</span></span><br><span class="line">è¾“å‡ºï¼š<span class="string">[2,1,4,3,5]</span></span><br></pre></td></tr></table></figure><p><strong>ç¤ºä¾‹ 2ï¼š</strong></p><img src="/%E7%AE%97%E6%B3%95/%E5%88%B7%E9%A2%98%E7%AF%87/2022/03/08/%E3%80%9025-Hard%E3%80%91%E4%BB%A5k%E4%B8%AA%E8%8A%82%E7%82%B9%E4%B8%BA%E4%B8%80%E7%BB%84%E9%80%86%E8%BD%AC%E5%8D%95%E9%93%BE%E8%A1%A8/reverse_ex2.jpg" class title="img"><figure class="highlight accesslog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šhead = <span class="string">[1,2,3,4,5]</span>, k = <span class="number">3</span></span><br><span class="line">è¾“å‡ºï¼š<span class="string">[3,2,1,4,5]</span></span><br></pre></td></tr></table></figure><p><strong>ç¤ºä¾‹ 3ï¼š</strong></p><figure class="highlight accesslog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šhead = <span class="string">[1,2,3,4,5]</span>, k = <span class="number">1</span></span><br><span class="line">è¾“å‡ºï¼š<span class="string">[1,2,3,4,5]</span></span><br></pre></td></tr></table></figure><p><strong>ç¤ºä¾‹ 4ï¼š</strong></p><figure class="highlight inform7"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šhead = <span class="comment">[1]</span>, k = 1</span><br><span class="line">è¾“å‡ºï¼š<span class="comment">[1]</span></span><br></pre></td></tr></table></figure><p><strong>æç¤ºï¼š</strong></p><ul><li>åˆ—è¡¨ä¸­èŠ‚ç‚¹çš„æ•°é‡åœ¨èŒƒå›´ <code>sz</code> å†…</li><li><code>1 &lt;= sz &lt;= 5000</code></li><li><code>0 &lt;= Node.val &lt;= 1000</code></li><li><code>1 &lt;= k &lt;= sz</code></li></ul><p>Related Topics</p><ul><li>é€’å½’</li><li>é“¾è¡¨</li></ul><h3 id="é€’å½’"><a href="#é€’å½’" class="headerlink" title="é€’å½’"></a>é€’å½’</h3><p>é¦–å…ˆæˆ‘ä»¬æ¥åˆ†æä¸€ä¸‹è¿™é“é¢˜ç›®ï¼Œé¢˜ç›®ä¸éš¾ç†è§£ï¼Œå°±æ˜¯ä»¥kä¸ªèŠ‚ç‚¹ä¸ºä¸€ç»„é€†è½¬å•é“¾è¡¨ï¼Œæˆ‘ä»¬ä½¿ç”¨é€’å½’çš„æ€æƒ³æ¥æ€è€ƒä¸€ä¸‹è¿™é“é¢˜</p><img src="/%E7%AE%97%E6%B3%95/%E5%88%B7%E9%A2%98%E7%AF%87/2022/03/08/%E3%80%9025-Hard%E3%80%91%E4%BB%A5k%E4%B8%AA%E8%8A%82%E7%82%B9%E4%B8%BA%E4%B8%80%E7%BB%84%E9%80%86%E8%BD%AC%E5%8D%95%E9%93%BE%E8%A1%A8/%E5%88%86%E6%9E%90-process01.png" class title="åˆ†æ-process01"><img src="/%E7%AE%97%E6%B3%95/%E5%88%B7%E9%A2%98%E7%AF%87/2022/03/08/%E3%80%9025-Hard%E3%80%91%E4%BB%A5k%E4%B8%AA%E8%8A%82%E7%82%B9%E4%B8%BA%E4%B8%80%E7%BB%84%E9%80%86%E8%BD%AC%E5%8D%95%E9%93%BE%E8%A1%A8/%E5%88%86%E6%9E%90-process02.png" class title="åˆ†æ-process02"><img src="/%E7%AE%97%E6%B3%95/%E5%88%B7%E9%A2%98%E7%AF%87/2022/03/08/%E3%80%9025-Hard%E3%80%91%E4%BB%A5k%E4%B8%AA%E8%8A%82%E7%82%B9%E4%B8%BA%E4%B8%80%E7%BB%84%E9%80%86%E8%BD%AC%E5%8D%95%E9%93%BE%E8%A1%A8/%E5%88%86%E6%9E%90-process03.png" class title="åˆ†æ-process03"><img src="/%E7%AE%97%E6%B3%95/%E5%88%B7%E9%A2%98%E7%AF%87/2022/03/08/%E3%80%9025-Hard%E3%80%91%E4%BB%A5k%E4%B8%AA%E8%8A%82%E7%82%B9%E4%B8%BA%E4%B8%80%E7%BB%84%E9%80%86%E8%BD%AC%E5%8D%95%E9%93%BE%E8%A1%A8/%E5%88%86%E6%9E%90-process04.png" class title="åˆ†æ-process04"><img src="/%E7%AE%97%E6%B3%95/%E5%88%B7%E9%A2%98%E7%AF%87/2022/03/08/%E3%80%9025-Hard%E3%80%91%E4%BB%A5k%E4%B8%AA%E8%8A%82%E7%82%B9%E4%B8%BA%E4%B8%80%E7%BB%84%E9%80%86%E8%BD%AC%E5%8D%95%E9%93%BE%E8%A1%A8/%E5%88%86%E6%9E%90-process05.png" class title="åˆ†æ-process05"><img src="/%E7%AE%97%E6%B3%95/%E5%88%B7%E9%A2%98%E7%AF%87/2022/03/08/%E3%80%9025-Hard%E3%80%91%E4%BB%A5k%E4%B8%AA%E8%8A%82%E7%82%B9%E4%B8%BA%E4%B8%80%E7%BB%84%E9%80%86%E8%BD%AC%E5%8D%95%E9%93%BE%E8%A1%A8/%E5%88%86%E6%9E%90-process06.png" class title="åˆ†æ-process06"><img src="/%E7%AE%97%E6%B3%95/%E5%88%B7%E9%A2%98%E7%AF%87/2022/03/08/%E3%80%9025-Hard%E3%80%91%E4%BB%A5k%E4%B8%AA%E8%8A%82%E7%82%B9%E4%B8%BA%E4%B8%80%E7%BB%84%E9%80%86%E8%BD%AC%E5%8D%95%E9%93%BE%E8%A1%A8/%E5%88%86%E6%9E%90-process07.png" class title="åˆ†æ-process07"><p>é¦–å…ˆéœ€è¦ä¸€ä¸ªé€†è½¬å‰ k ä¸ªèŠ‚ç‚¹çš„æ–¹æ³•</p><p><strong>æ–¹æ³•ç­¾åï¼š</strong><code>public ListNode reverseKNode(ListNode head,int k)</code></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">ListNode processor;</span><br><span class="line"><span class="comment">// è¿™é‡Œçš„kè¦ä¿è¯ä¸è¶…è¿‡é“¾è¡¨é•¿åº¦</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> ListNode <span class="title">reverseKNode</span><span class="params">(ListNode head,<span class="keyword">int</span> k)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(k == <span class="number">1</span>)&#123;</span><br><span class="line">        processor = head.next;</span><br><span class="line">        <span class="keyword">return</span> head;</span><br><span class="line">    &#125;</span><br><span class="line">    ListNode node = reverseKNode(head.next, k-<span class="number">1</span>);</span><br><span class="line">    head.next.next = head;</span><br><span class="line">    head.next = processor;</span><br><span class="line">    <span class="keyword">return</span> node;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åœ¨æ­¤åŸºç¡€ä¸Šå†™å‡ºé€†è½¬<code>head</code>åˆ°<code>end</code>ä¹‹é—´çš„èŠ‚ç‚¹</p><p><strong>æ–¹æ³•ç­¾åï¼š</strong><code>public ListNode reverseKNode(ListNode head,ListNode end)</code></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">ListNode processor;</span><br><span class="line"><span class="comment">// [head,end)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> ListNode <span class="title">reverseKNode</span><span class="params">(ListNode head,ListNode end)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(head.next == end)&#123;</span><br><span class="line">        processor = head.next;</span><br><span class="line">        <span class="keyword">return</span> head;</span><br><span class="line">    &#125;</span><br><span class="line">    ListNode node = reverseKNode(head.next, end);</span><br><span class="line">    head.next.next = head;</span><br><span class="line">    head.next = processor;</span><br><span class="line">    <span class="keyword">return</span> node;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æœ€åå°±æ˜¯æˆç»„é€†è½¬å•é“¾è¡¨</p><p><strong>æ–¹æ³•ç­¾åï¼š</strong><code>public ListNode reverseKGroup(ListNode head, int k)</code></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> ListNode <span class="title">reverseKGroup</span><span class="params">(ListNode head, <span class="keyword">int</span> k)</span> </span>&#123;</span><br><span class="line">    ListNode node = head;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; k; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (node == <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> head;</span><br><span class="line">        &#125;</span><br><span class="line">        node = node.next;</span><br><span class="line">    &#125;</span><br><span class="line">    ListNode newHead = reverseKNode(head, k, node);</span><br><span class="line">    head.next = reverseKGroup(node, k);</span><br><span class="line">    <span class="keyword">return</span> newHead;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> ListNode <span class="title">reverseKNode</span><span class="params">(ListNode head, <span class="keyword">int</span> k, ListNode tail)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (k == <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> head;</span><br><span class="line">    &#125;</span><br><span class="line">    ListNode newHead = reverseKNode(head.next, k - <span class="number">1</span>, tail);</span><br><span class="line">    head.next.next = head;</span><br><span class="line">    head.next = tail;</span><br><span class="line">    <span class="keyword">return</span> newHead;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="è¿­ä»£"><a href="#è¿­ä»£" class="headerlink" title="è¿­ä»£"></a>è¿­ä»£</h3><p>é¦–å…ˆéœ€è¦ä¸€ä¸ªé€†è½¬å‰nä¸ªèŠ‚ç‚¹çš„æ–¹æ³•</p><p><strong>æ–¹æ³•ç­¾åï¼š</strong><code>public ListNode reverseKNode(ListNode head,int k)</code></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> ListNode <span class="title">reverseKNode</span><span class="params">(ListNode head, <span class="keyword">int</span> k)</span> </span>&#123;</span><br><span class="line">    ListNode prev = <span class="keyword">null</span>;</span><br><span class="line">    ListNode cur = head;</span><br><span class="line">    ListNode suffix;</span><br><span class="line">    <span class="keyword">while</span> (cur != <span class="keyword">null</span> &amp;&amp; k-- != <span class="number">0</span>) &#123;</span><br><span class="line">        suffix = cur.next;</span><br><span class="line">        cur.next = prev;</span><br><span class="line">        prev = cur;</span><br><span class="line">        cur = suffix;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> prev;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åœ¨æ­¤åŸºç¡€ä¸Šå†™å‡ºè¿­ä»£é€†è½¬<code>head</code>åˆ°<code>end</code>ä¹‹é—´çš„èŠ‚ç‚¹</p><p><strong>æ–¹æ³•ç­¾åï¼š</strong><code>public ListNode reverseKNode(ListNode head,ListNode end)</code></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> ListNode <span class="title">reverseKNode</span><span class="params">(ListNode head,ListNode end)</span></span>&#123;</span><br><span class="line">    ListNode prev = <span class="keyword">null</span>;</span><br><span class="line">    ListNode cur = head;</span><br><span class="line">    ListNode suffix;</span><br><span class="line">    <span class="keyword">while</span>(cur != end)&#123;</span><br><span class="line">        suffix = cur.next;</span><br><span class="line">        cur.next = prev;</span><br><span class="line">        prev = cur;</span><br><span class="line">        cur = suffix;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> prev;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æœ€åå°±æ˜¯æˆç»„é€†è½¬å•é“¾è¡¨</p><p><strong>æ–¹æ³•ç­¾åï¼š</strong><code>public ListNode reverseKGroup(ListNode head, int k)</code></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> ListNode <span class="title">reverseKGroup</span><span class="params">(ListNode head, <span class="keyword">int</span> k)</span> </span>&#123;</span><br><span class="line">    ListNode end = head;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; k; i++) &#123;</span><br><span class="line">        <span class="comment">// å¦‚æœé•¿åº¦ä¸è¶³kï¼Œåˆ™ç›´æ¥è¿”å›å¤´éƒ¨ï¼Œä¸ç”¨é€†è½¬</span></span><br><span class="line">        <span class="keyword">if</span> (end == <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> head;</span><br><span class="line">        &#125;</span><br><span class="line">        end = end.next;</span><br><span class="line">    &#125;</span><br><span class="line">    ListNode newHead = reverseKNode(head, k);</span><br><span class="line">    head.next = reverseKGroup(end, k);</span><br><span class="line">    <span class="keyword">return</span> newHead;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> ListNode <span class="title">reverseKNode</span><span class="params">(ListNode head, <span class="keyword">int</span> k)</span> </span>&#123;</span><br><span class="line">    ListNode prev = <span class="keyword">null</span>;</span><br><span class="line">    ListNode cur = head;</span><br><span class="line">    ListNode suffix;</span><br><span class="line">    <span class="keyword">while</span> (cur != <span class="keyword">null</span> &amp;&amp; k-- != <span class="number">0</span>) &#123;</span><br><span class="line">        suffix = cur.next;</span><br><span class="line">        cur.next = prev;</span><br><span class="line">        prev = cur;</span><br><span class="line">        cur = suffix;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> prev;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
          <category> åˆ·é¢˜ç¯‡ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç®—æ³• </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç®—æ³•-é€†è½¬å•é“¾è¡¨</title>
      <link href="/%E7%AE%97%E6%B3%95/%E6%8A%80%E5%B7%A7%E7%AF%87/2022/03/08/%E7%AE%97%E6%B3%95-%E9%80%86%E8%BD%AC%E5%8D%95%E9%93%BE%E8%A1%A8/"/>
      <url>/%E7%AE%97%E6%B3%95/%E6%8A%80%E5%B7%A7%E7%AF%87/2022/03/08/%E7%AE%97%E6%B3%95-%E9%80%86%E8%BD%AC%E5%8D%95%E9%93%BE%E8%A1%A8/</url>
      
        <content type="html"><![CDATA[<h2 id="é€†è½¬å•é“¾è¡¨"><a href="#é€†è½¬å•é“¾è¡¨" class="headerlink" title="é€†è½¬å•é“¾è¡¨"></a>é€†è½¬å•é“¾è¡¨</h2><p>é€†è½¬å•é“¾è¡¨ï¼Œè¿™æ˜¯ä¸€ä¸ªç»å…¸çš„å•é“¾è¡¨é—®é¢˜</p><p>æœ¬èŠ‚ä¸ä»…è®²å¦‚ä½•è¿­ä»£å»é€†è½¬å•é“¾è¡¨</p><p>è¿˜è®²å¦‚ä½•ä½¿ç”¨é€’å½’å»é€†è½¬ä¸€éƒ¨åˆ†å•é“¾è¡¨æˆ–è€…æ•´ä¸ªå•é“¾è¡¨</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ListNode</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> val;</span><br><span class="line">    ListNode next;</span><br><span class="line">    ListNode() &#123;&#125;</span><br><span class="line">    ListNode(<span class="keyword">int</span> val) &#123; <span class="keyword">this</span>.val = val; &#125;</span><br><span class="line">    ListNode(<span class="keyword">int</span> val, ListNode next) &#123; <span class="keyword">this</span>.val = val; <span class="keyword">this</span>.next = next; &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="åè½¬é“¾è¡¨"><a href="#åè½¬é“¾è¡¨" class="headerlink" title="åè½¬é“¾è¡¨"></a>åè½¬é“¾è¡¨</h3><p><a href="https://leetcode-cn.com/problems/reverse-linked-list/">åŠ›æ‰£206ï¼šåè½¬é“¾è¡¨</a></p><p><strong>è¿­ä»£å®ç°</strong></p><p>1ã€åˆå§‹åŒ–ä¸‰ä¸ªèŠ‚ç‚¹<code>prev = null</code>ï¼ˆä½œä¸ºå‰ç½®èŠ‚ç‚¹ï¼‰ã€<code>cur = head</code>ï¼ˆä½œä¸ºå½“å‰èŠ‚ç‚¹ï¼‰ã€<code>suffix</code>ï¼ˆä½œä¸ºåç½®èŠ‚ç‚¹ï¼‰</p><p>2ã€å¼€å§‹å¾ªç¯æ¡ä»¶ä¸º<code>cur!=null</code>çš„å¾ªç¯ï¼Œcurå°†ä¸€ç›´èµ°åˆ°æœ€åä¸€ä¸ªèŠ‚ç‚¹çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ä¸ºnullçš„åœ°æ–¹</p><p>3ã€å…ˆå°†<code>suffix</code>æŒ‡å‘curçš„nextï¼Œç„¶åå°†<code>cur</code>çš„nextæŒ‡å‘å‰ä¸€ä¸ªæŒ‡é’ˆ<code>prev</code>ï¼Œç„¶å<code>prev</code>å˜ä¸º<code>cur</code>ï¼Œ<code>cur</code>å˜ä¸º<code>suffix</code></p><p>4ã€è¿”å›<code>prev</code>èŠ‚ç‚¹</p><p>åˆå§‹åŒ–</p><img src="/%E7%AE%97%E6%B3%95/%E6%8A%80%E5%B7%A7%E7%AF%87/2022/03/08/%E7%AE%97%E6%B3%95-%E9%80%86%E8%BD%AC%E5%8D%95%E9%93%BE%E8%A1%A8/%E8%BF%AD%E4%BB%A3%E9%80%86%E8%BD%AC%E5%8D%95%E9%93%BE%E8%A1%A8-process01.png" class title="è¿­ä»£é€†è½¬å•é“¾è¡¨-process01"><p>å¼€å§‹å¾ªç¯</p><img src="/%E7%AE%97%E6%B3%95/%E6%8A%80%E5%B7%A7%E7%AF%87/2022/03/08/%E7%AE%97%E6%B3%95-%E9%80%86%E8%BD%AC%E5%8D%95%E9%93%BE%E8%A1%A8/%E8%BF%AD%E4%BB%A3%E9%80%86%E8%BD%AC%E5%8D%95%E9%93%BE%E8%A1%A8-process02.png" class title="è¿­ä»£é€†è½¬å•é“¾è¡¨-process02"><img src="/%E7%AE%97%E6%B3%95/%E6%8A%80%E5%B7%A7%E7%AF%87/2022/03/08/%E7%AE%97%E6%B3%95-%E9%80%86%E8%BD%AC%E5%8D%95%E9%93%BE%E8%A1%A8/%E8%BF%AD%E4%BB%A3%E9%80%86%E8%BD%AC%E5%8D%95%E9%93%BE%E8%A1%A8-process03.png" class title="è¿­ä»£é€†è½¬å•é“¾è¡¨-process03"><img src="/%E7%AE%97%E6%B3%95/%E6%8A%80%E5%B7%A7%E7%AF%87/2022/03/08/%E7%AE%97%E6%B3%95-%E9%80%86%E8%BD%AC%E5%8D%95%E9%93%BE%E8%A1%A8/%E8%BF%AD%E4%BB%A3%E9%80%86%E8%BD%AC%E5%8D%95%E9%93%BE%E8%A1%A8-process04.png" class title="è¿­ä»£é€†è½¬å•é“¾è¡¨-process04"><img src="/%E7%AE%97%E6%B3%95/%E6%8A%80%E5%B7%A7%E7%AF%87/2022/03/08/%E7%AE%97%E6%B3%95-%E9%80%86%E8%BD%AC%E5%8D%95%E9%93%BE%E8%A1%A8/%E8%BF%AD%E4%BB%A3%E9%80%86%E8%BD%AC%E5%8D%95%E9%93%BE%E8%A1%A8-process05.png" class title="è¿­ä»£é€†è½¬å•é“¾è¡¨-process05"><img src="/%E7%AE%97%E6%B3%95/%E6%8A%80%E5%B7%A7%E7%AF%87/2022/03/08/%E7%AE%97%E6%B3%95-%E9%80%86%E8%BD%AC%E5%8D%95%E9%93%BE%E8%A1%A8/%E8%BF%AD%E4%BB%A3%E9%80%86%E8%BD%AC%E5%8D%95%E9%93%BE%E8%A1%A8-process06.png" class title="è¿­ä»£é€†è½¬å•é“¾è¡¨-process06"><img src="/%E7%AE%97%E6%B3%95/%E6%8A%80%E5%B7%A7%E7%AF%87/2022/03/08/%E7%AE%97%E6%B3%95-%E9%80%86%E8%BD%AC%E5%8D%95%E9%93%BE%E8%A1%A8/%E8%BF%AD%E4%BB%A3%E9%80%86%E8%BD%AC%E5%8D%95%E9%93%BE%E8%A1%A8-process07.png" class title="è¿­ä»£é€†è½¬å•é“¾è¡¨-process07"><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> ListNode <span class="title">reverseList</span><span class="params">(ListNode head)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (head == <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        ListNode prev = <span class="keyword">null</span>;</span><br><span class="line">        ListNode curr = head;</span><br><span class="line">        ListNode suffix;</span><br><span class="line">        <span class="keyword">while</span> (curr != <span class="keyword">null</span>) &#123;</span><br><span class="line">            suffix = curr.next;</span><br><span class="line">            curr.next = prev;</span><br><span class="line">            prev = curr;</span><br><span class="line">            curr = suffix;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> prev;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>é€’å½’å®ç°</strong></p><p>æˆ‘ä»¬çš„ <code>reverseList</code> å‡½æ•°å®šä¹‰æ˜¯è¿™æ ·çš„ï¼š</p><p><strong>è¾“å…¥ä¸€ä¸ªèŠ‚ç‚¹ <code>head</code>ï¼Œå°†ã€Œä»¥ <code>head</code> ä¸ºèµ·ç‚¹ã€çš„é“¾è¡¨åè½¬ï¼Œå¹¶è¿”å›åè½¬ä¹‹åçš„å¤´ç»“ç‚¹</strong>ã€‚</p><p>å…ˆé€’å½’åˆ°æºé“¾è¡¨çš„æœ€åä¸€ä¸ªèŠ‚ç‚¹</p><p>ç„¶åå½“å‰çš„<code>head</code>èŠ‚ç‚¹å°±æ˜¯éœ€è¦åŠ å…¥åˆ°åè½¬å¥½çš„é“¾è¡¨ä¸­ï¼Œ</p><p><code>head</code>çš„<code>next</code>æŒ‡é’ˆæ˜¯é€†è½¬åçš„é“¾è¡¨çš„æœ€åä¸€ä¸ªèŠ‚ç‚¹</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> ListNode <span class="title">reverseList1</span><span class="params">(ListNode head)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (head == <span class="keyword">null</span> || head.next == <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> head;</span><br><span class="line">        &#125;</span><br><span class="line">        ListNode newHead = reverseList(head.next);</span><br><span class="line">        head.next.next = head;</span><br><span class="line">        head.next = <span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">return</span> newHead;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="åè½¬å‰nä¸ªèŠ‚ç‚¹"><a href="#åè½¬å‰nä¸ªèŠ‚ç‚¹" class="headerlink" title="åè½¬å‰nä¸ªèŠ‚ç‚¹"></a>åè½¬å‰nä¸ªèŠ‚ç‚¹</h3><p>n&lt;&#x3D;é“¾è¡¨é•¿åº¦</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    ListNode end = <span class="keyword">null</span>;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> ListNode <span class="title">reverseList</span><span class="params">(ListNode head,<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(n == <span class="number">1</span>)&#123;</span><br><span class="line">            end = head.next;</span><br><span class="line">            <span class="keyword">return</span> head;</span><br><span class="line">        &#125;</span><br><span class="line">        ListNode node = reverseList(head.next,n-<span class="number">1</span>);</span><br><span class="line">        head.next.next = head;</span><br><span class="line">        head.next = end;</span><br><span class="line">        <span class="keyword">return</span> node;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="åè½¬æŒ‡å®šç´¢å¼•èŒƒå›´çš„é“¾è¡¨"><a href="#åè½¬æŒ‡å®šç´¢å¼•èŒƒå›´çš„é“¾è¡¨" class="headerlink" title="åè½¬æŒ‡å®šç´¢å¼•èŒƒå›´çš„é“¾è¡¨"></a>åè½¬æŒ‡å®šç´¢å¼•èŒƒå›´çš„é“¾è¡¨</h3><p><a href="https://leetcode-cn.com/problems/reverse-linked-list-ii/">åŠ›æ‰£92ï¼šåè½¬é“¾è¡¨ II</a></p><p>åè½¬<code>left</code>åˆ°<code>right</code>éƒ¨åˆ†çš„é“¾è¡¨</p><p>æ³¨æ„ï¼šè¿™é‡Œçš„ <code>left</code> æ˜¯ä» 1 å¼€å§‹çš„</p><p>å¦‚æœå½“<code>left</code>ä¸º1ï¼Œé‚£å°±å›åˆ°ä¸Šé¢çš„é‚£ä¸ªé—®é¢˜äº†</p><p>æ‰€ä»¥åªéœ€è¦åœ¨<code>reverseBetween</code>ä¸­ä¸æ–­é€’å½’ç›´åˆ°<code>left</code>ä¸º 1 çš„æ—¶å€™ï¼Œ<code>right</code>ä¹Ÿå°±å˜æˆäº†åŒºé—´é•¿åº¦</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    ListNode end = <span class="keyword">null</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> ListNode <span class="title">reverseBetween</span><span class="params">(ListNode head, <span class="keyword">int</span> left, <span class="keyword">int</span> right)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (left == <span class="number">1</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> reverseList(head, right);</span><br><span class="line">        &#125;</span><br><span class="line">        head.next = reverseBetween(head.next, left - <span class="number">1</span>, right - <span class="number">1</span>);</span><br><span class="line">        <span class="keyword">return</span> head;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> ListNode <span class="title">reverseList</span><span class="params">(ListNode head, <span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (n == <span class="number">1</span>) &#123;</span><br><span class="line">            end = head.next;</span><br><span class="line">            <span class="keyword">return</span> head;</span><br><span class="line">        &#125;</span><br><span class="line">        ListNode node = reverseList(head.next, n - <span class="number">1</span>);</span><br><span class="line">        head.next.next = head;</span><br><span class="line">        head.next = end;</span><br><span class="line">        <span class="keyword">return</span> node;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
          <category> æŠ€å·§ç¯‡ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç®—æ³• </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç®—æ³•-è§£å†³å•é“¾è¡¨é—®é¢˜</title>
      <link href="/%E7%AE%97%E6%B3%95/%E6%8A%80%E5%B7%A7%E7%AF%87/2022/03/07/%E7%AE%97%E6%B3%95-%E8%A7%A3%E5%86%B3%E5%8D%95%E9%93%BE%E8%A1%A8%E9%97%AE%E9%A2%98/"/>
      <url>/%E7%AE%97%E6%B3%95/%E6%8A%80%E5%B7%A7%E7%AF%87/2022/03/07/%E7%AE%97%E6%B3%95-%E8%A7%A3%E5%86%B3%E5%8D%95%E9%93%BE%E8%A1%A8%E9%97%AE%E9%A2%98/</url>
      
        <content type="html"><![CDATA[<h2 id="å•é“¾è¡¨"><a href="#å•é“¾è¡¨" class="headerlink" title="å•é“¾è¡¨"></a>å•é“¾è¡¨</h2><p>å¯¹äºå•é“¾è¡¨çš„æ“ä½œï¼Œæœ‰å¾ˆå¤šæŠ€å·§æ€§çš„ä¸œè¥¿</p><p>ä¸‹é¢æˆ‘ä»¬ä½¿ç”¨å…­é“é¢˜æ¥ä»¥é¢˜æ˜æŠ€å·§</p><h3 id="åˆå¹¶ä¸¤ä¸ªæœ‰åºé“¾è¡¨"><a href="#åˆå¹¶ä¸¤ä¸ªæœ‰åºé“¾è¡¨" class="headerlink" title="åˆå¹¶ä¸¤ä¸ªæœ‰åºé“¾è¡¨"></a>åˆå¹¶ä¸¤ä¸ªæœ‰åºé“¾è¡¨</h3><p><a href="https://leetcode-cn.com/problems/merge-two-sorted-lists/">åŠ›æ‰£21ï¼šåˆå¹¶ä¸¤ä¸ªæœ‰åºé“¾è¡¨</a></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> ListNode <span class="title">mergeTwoLists</span><span class="params">(ListNode list1, ListNode list2)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// è¿™é‡Œä½¿ç”¨äº†ä¸€ä¸ªè™šèŠ‚ç‚¹æ¥å……å½“å¤´éƒ¨å­˜æ”¾èŠ‚ç‚¹</span></span><br><span class="line">        ListNode virtual = <span class="keyword">new</span> ListNode(-<span class="number">1</span>);</span><br><span class="line">        ListNode temp = virtual;</span><br><span class="line">        ListNode l1 = list1;</span><br><span class="line">        ListNode l2 = list2;</span><br><span class="line">        <span class="comment">// è¿™é‡Œå¾ªç¯é€€å‡ºæ¡ä»¶æ˜¯ä¸¤è€…éƒ½ä¸ä¸ºnullï¼Œå› ä¸ºå…¶ä¸­åªè¦æœ‰ä¸€è€…ä¸ºnullï¼ŒAå¤„ä»£ç å°±ä¼šçˆ†ç©ºæŒ‡é’ˆå¼‚å¸¸</span></span><br><span class="line">        <span class="keyword">while</span> (l1 != <span class="keyword">null</span> &amp;&amp; l2 != <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="comment">// å°†è¾ƒå°çš„é‚£ä¸€ä¸ªæ”¾å…¥virtualé“¾è¡¨ä¸­</span></span><br><span class="line">            <span class="keyword">if</span> (l1.val &gt; l2.val) &#123;<span class="comment">// A</span></span><br><span class="line">                temp.next = l2;</span><br><span class="line">                l2 = l2.next;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                temp.next = l1;</span><br><span class="line">                l1 = l1.next;</span><br><span class="line">            &#125;</span><br><span class="line">            temp = temp.next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// è¿™é‡Œæ˜¯ä¸ºäº†é˜²æ­¢å‡ºç°ä¸¤è€…é•¿åº¦ä¸ä¸€è‡´çš„æƒ…å†µï¼Œè¿™é‡Œä¸éœ€è¦éå†ï¼Œç›´æ¥å°†temp.nextæŒ‡å‘è¿˜ä¸ä¸ºç©ºçš„é‚£ä¸ªæŒ‡é’ˆ</span></span><br><span class="line">        <span class="keyword">if</span> (l1 != <span class="keyword">null</span>) &#123;</span><br><span class="line">            temp.next = l1;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (l2 != <span class="keyword">null</span>) &#123;</span><br><span class="line">            temp.next = l2;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// æœ€åè¿”å›è™šèŠ‚ç‚¹çš„next</span></span><br><span class="line">        <span class="keyword">return</span> virtual.next;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="åˆå¹¶-k-ä¸ªæœ‰åºé“¾è¡¨"><a href="#åˆå¹¶-k-ä¸ªæœ‰åºé“¾è¡¨" class="headerlink" title="åˆå¹¶ k ä¸ªæœ‰åºé“¾è¡¨"></a>åˆå¹¶ k ä¸ªæœ‰åºé“¾è¡¨</h3><p><a href="https://leetcode-cn.com/problems/merge-k-sorted-lists/">åŠ›æ‰£23ï¼šåˆå¹¶kä¸ªæœ‰åºé“¾è¡¨</a></p><p>ä½¿ç”¨ä¸€ä¸ªåŠ¨æ€æ•°ç»„å­˜å‚¨æ‰€æœ‰çš„é“¾è¡¨çš„å¤´ç»“ç‚¹</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> ListNode <span class="title">mergeKLists</span><span class="params">(ListNode[] lists)</span> </span>&#123;</span><br><span class="line">        ListNode virtual = <span class="keyword">new</span> ListNode(-<span class="number">1</span>);</span><br><span class="line">        ListNode temp = virtual;</span><br><span class="line">        List&lt;ListNode&gt; nodes = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span> (ListNode list : lists) &#123;</span><br><span class="line">            <span class="keyword">if</span> (list != <span class="keyword">null</span>) &#123;</span><br><span class="line">                nodes.add(list);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span> (!nodes.isEmpty()) &#123;</span><br><span class="line">            nodes.sort((a, b) -&gt; a.val - b.val);</span><br><span class="line">            temp.next = nodes.get(<span class="number">0</span>);</span><br><span class="line">            temp = temp.next;</span><br><span class="line">            <span class="keyword">if</span> (nodes.get(<span class="number">0</span>).next == <span class="keyword">null</span>) &#123;</span><br><span class="line">                nodes.remove(<span class="number">0</span>);</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                nodes.set(<span class="number">0</span>, nodes.get(<span class="number">0</span>).next);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> virtual.next;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="å•é“¾è¡¨çš„å€’æ•°ç¬¬-k-ä¸ªèŠ‚ç‚¹"><a href="#å•é“¾è¡¨çš„å€’æ•°ç¬¬-k-ä¸ªèŠ‚ç‚¹" class="headerlink" title="å•é“¾è¡¨çš„å€’æ•°ç¬¬ k ä¸ªèŠ‚ç‚¹"></a>å•é“¾è¡¨çš„å€’æ•°ç¬¬ k ä¸ªèŠ‚ç‚¹</h3><p><a href="https://leetcode-cn.com/problems/remove-nth-node-from-end-of-list/">åŠ›æ‰£19ï¼šåˆ é™¤å€’æ•°ç¬¬kä¸ªèŠ‚ç‚¹</a></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> ListNode <span class="title">removeNthFromEnd</span><span class="params">(ListNode head, <span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        ListNode slow = head;</span><br><span class="line">        ListNode fast = head;</span><br><span class="line">        <span class="comment">// fastæŒ‡é’ˆå…ˆèµ°næ­¥</span></span><br><span class="line">        <span class="keyword">while</span> (n-- &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            fast = fast.next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// å¦‚æœfastå˜ä¸ºäº†nullè¯´æ˜æ˜¯èµ°åˆ°äº†å°¾éƒ¨ï¼Œåˆ™è¯´æ˜å€’æ•°ç¬¬nä¸ªèŠ‚ç‚¹å°±æ˜¯å¤´ç»“ç‚¹</span></span><br><span class="line">        <span class="comment">// åˆ é™¤å¤´ç»“ç‚¹ï¼Œé‚£å°±æ˜¯ç›´æ¥è¿”å›å¤´ç»“ç‚¹çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ä½œä¸ºå¤´ç»“ç‚¹</span></span><br><span class="line">        <span class="keyword">if</span> (fast == <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> head.next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span> (fast.next != <span class="keyword">null</span>) &#123;</span><br><span class="line">            slow = slow.next;</span><br><span class="line">            fast = fast.next;</span><br><span class="line">        &#125;</span><br><span class="line">        slow.next = slow.next.next;</span><br><span class="line">        <span class="keyword">return</span> head;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="å¯»æ‰¾å•é“¾è¡¨çš„ä¸­ç‚¹"><a href="#å¯»æ‰¾å•é“¾è¡¨çš„ä¸­ç‚¹" class="headerlink" title="å¯»æ‰¾å•é“¾è¡¨çš„ä¸­ç‚¹"></a>å¯»æ‰¾å•é“¾è¡¨çš„ä¸­ç‚¹</h3><p><a href="https://leetcode-cn.com/problems/middle-of-the-linked-list/">åŠ›æ‰£876ï¼šå¯»æ‰¾å•é“¾è¡¨çš„ä¸­ç‚¹</a></p><p>ä½¿ç”¨å¿«æ…¢æŒ‡é’ˆæ³•ï¼Œ<code>slow</code>èµ°ä¸€æ­¥ï¼Œ<code>fast</code>èµ°ä¸¤æ­¥ï¼Œå½“fastèµ°åˆ°æœ€åçš„æ—¶å€™ï¼Œ<code>slow</code>è‡ªç„¶å°±åœ¨ä¸­é—´äº†</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> ListNode <span class="title">middleNode</span><span class="params">(ListNode head)</span> </span>&#123;</span><br><span class="line">        ListNode slow = head;</span><br><span class="line">        ListNode fast = head;</span><br><span class="line">        <span class="keyword">while</span> (fast != <span class="keyword">null</span> &amp;&amp; fast.next != <span class="keyword">null</span>) &#123;</span><br><span class="line">            slow = slow.next;</span><br><span class="line">            fast = fast.next.next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> slow;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å½“å•é“¾è¡¨èŠ‚ç‚¹ä¸ªæ•°ä¸ºå¥‡æ•°çš„æ—¶å€™ï¼ŒslowæŒ‡å‘çš„æ˜¯æ­£ä¸­é—´çš„ä½ç½®</p><p>å½“å•é“¾è¡¨èŠ‚ç‚¹ä¸ªæ•°ä¸ºå¶æ•°çš„æ—¶å€™ï¼ŒslowæŒ‡å‘çš„æ˜¯ä¸­é—´é å³çš„ä½ç½®</p><h3 id="åˆ¤æ–­å•é“¾è¡¨æ˜¯å¦åŒ…å«ç¯"><a href="#åˆ¤æ–­å•é“¾è¡¨æ˜¯å¦åŒ…å«ç¯" class="headerlink" title="åˆ¤æ–­å•é“¾è¡¨æ˜¯å¦åŒ…å«ç¯"></a>åˆ¤æ–­å•é“¾è¡¨æ˜¯å¦åŒ…å«ç¯</h3><p><a href="https://leetcode-cn.com/problems/linked-list-cycle/">åŠ›æ‰£141ï¼šåˆ¤æ–­å•é“¾è¡¨æ˜¯å¦æˆç¯</a></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">hasCycle</span><span class="params">(ListNode head)</span> </span>&#123;</span><br><span class="line">        ListNode slow = head;</span><br><span class="line">        ListNode fast = head;</span><br><span class="line">        <span class="keyword">if</span> (fast == <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span> (fast != <span class="keyword">null</span> &amp;&amp; fast.next != <span class="keyword">null</span>) &#123;</span><br><span class="line">            slow = slow.next;</span><br><span class="line">            fast = fast.next.next;</span><br><span class="line">            <span class="keyword">if</span> (slow == fast) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿›é˜¶ï¼šæ‰¾åˆ°æˆç¯çš„èµ·ç‚¹</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">   <span class="function"><span class="keyword">public</span> ListNode <span class="title">detectCycle</span><span class="params">(ListNode head)</span> </span>&#123;</span><br><span class="line">        ListNode slow = head;</span><br><span class="line">        ListNode fast = head;</span><br><span class="line">        <span class="keyword">while</span> (fast != <span class="keyword">null</span> &amp;&amp; fast.next != <span class="keyword">null</span>) &#123;</span><br><span class="line">            slow = slow.next;</span><br><span class="line">            fast = fast.next.next;</span><br><span class="line">            <span class="keyword">if</span> (slow == fast) &#123;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (fast == <span class="keyword">null</span> || fast.next == <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        slow = head;</span><br><span class="line">        <span class="keyword">while</span> (slow != fast) &#123;</span><br><span class="line">            slow = slow.next;</span><br><span class="line">            fast = fast.next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> fast;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="åˆ¤æ–­ä¸¤ä¸ªå•é“¾è¡¨æ˜¯å¦ç›¸äº¤å¹¶æ‰¾å‡ºäº¤ç‚¹"><a href="#åˆ¤æ–­ä¸¤ä¸ªå•é“¾è¡¨æ˜¯å¦ç›¸äº¤å¹¶æ‰¾å‡ºäº¤ç‚¹" class="headerlink" title="åˆ¤æ–­ä¸¤ä¸ªå•é“¾è¡¨æ˜¯å¦ç›¸äº¤å¹¶æ‰¾å‡ºäº¤ç‚¹"></a>åˆ¤æ–­ä¸¤ä¸ªå•é“¾è¡¨æ˜¯å¦ç›¸äº¤å¹¶æ‰¾å‡ºäº¤ç‚¹</h3><p>1ã€å°†ç¬¬ä¸€æ¡é“¾è¡¨çš„å°¾éƒ¨çš„nextæŒ‡å‘ç¬¬äºŒæ¡é“¾è¡¨çš„å¤´éƒ¨ï¼Œç„¶åè¿”å›æˆç¯çš„é‚£ä¸ªèµ·ç‚¹</p><p>æ³¨æ„ï¼šæ­¤æ³•åªæ˜¯ä¸€ä¸ªæ€è·¯ï¼Œä½†æ˜¯åŠ›æ‰£ä¸­è¿™é“é¢˜çš„æ ¡éªŒæ˜¯ä¸å…è®¸ä¿®æ”¹åŸæ¥çš„é“¾è¡¨çš„</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">     <span class="function"><span class="keyword">public</span> ListNode <span class="title">getIntersectionNode</span><span class="params">(ListNode headA, ListNode headB)</span> </span>&#123;</span><br><span class="line">        ListNode ha = headA;</span><br><span class="line">        <span class="keyword">while</span> (ha.next != <span class="keyword">null</span>) &#123;</span><br><span class="line">            ha = ha.next;</span><br><span class="line">        &#125;</span><br><span class="line">        ha.next = headB;</span><br><span class="line">        <span class="keyword">return</span> detectCycle(headA);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> ListNode <span class="title">detectCycle</span><span class="params">(ListNode head)</span> </span>&#123;</span><br><span class="line">        ListNode slow = head;</span><br><span class="line">        ListNode fast = head;</span><br><span class="line">        <span class="keyword">while</span> (fast != <span class="keyword">null</span> &amp;&amp; fast.next != <span class="keyword">null</span>) &#123;</span><br><span class="line">            slow = slow.next;</span><br><span class="line">            fast = fast.next.next;</span><br><span class="line">            <span class="keyword">if</span> (slow == fast) &#123;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (fast == <span class="keyword">null</span> || fast.next == <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        slow = head;</span><br><span class="line">        <span class="keyword">while</span> (slow != fast) &#123;</span><br><span class="line">            slow = slow.next;</span><br><span class="line">            fast = fast.next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> fast;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>2ã€ä½¿ç”¨æŠ€å·§ç›´æ¥æ‰¾åˆ°ç›¸äº¤ç‚¹</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">     <span class="function"><span class="keyword">public</span> ListNode <span class="title">getIntersectionNode</span><span class="params">(ListNode headA, ListNode headB)</span> </span>&#123;</span><br><span class="line">        ListNode ha = headA;</span><br><span class="line">        ListNode hb = headB;</span><br><span class="line">        <span class="keyword">while</span> (ha != hb) &#123;</span><br><span class="line">            <span class="keyword">if</span> (ha == <span class="keyword">null</span>) &#123;</span><br><span class="line">                ha = headB;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                ha = ha.next;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (hb == <span class="keyword">null</span>) &#123;</span><br><span class="line">                hb = headA;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                hb = hb.next;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ha;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
          <category> æŠ€å·§ç¯‡ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç®—æ³• </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JavaScript-åŸå‹å’ŒåŸå‹é“¾</title>
      <link href="/%E5%89%8D%E7%AB%AF/JavaScript/2022/03/05/JavaScript-%E5%8E%9F%E5%9E%8B%E5%92%8C%E5%8E%9F%E5%9E%8B%E9%93%BE/"/>
      <url>/%E5%89%8D%E7%AB%AF/JavaScript/2022/03/05/JavaScript-%E5%8E%9F%E5%9E%8B%E5%92%8C%E5%8E%9F%E5%9E%8B%E9%93%BE/</url>
      
        <content type="html"><![CDATA[<h2 id="åŸå‹å’ŒåŸå‹é“¾"><a href="#åŸå‹å’ŒåŸå‹é“¾" class="headerlink" title="åŸå‹å’ŒåŸå‹é“¾"></a>åŸå‹å’ŒåŸå‹é“¾</h2><h3 id="prototype"><a href="#prototype" class="headerlink" title="prototype"></a><code>prototype</code></h3><p>åœ¨JavaScriptä¸­ï¼Œæ‰€æœ‰çš„å‡½æ•°éƒ½æœ‰ä¸€ä¸ªprototypeå±æ€§ï¼Œè¯¥å±æ€§æŒ‡å‘è¯¥å‡½æ•°çš„åŸå‹å¯¹è±¡</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">name</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">this</span>.name = name;</span><br><span class="line">&#125;</span><br><span class="line">Person.prototype.name = <span class="string">&#x27;kerwin&#x27;</span>;</span><br><span class="line"><span class="keyword">let</span> p1 = <span class="keyword">new</span> Person();</span><br><span class="line"><span class="keyword">let</span> p2 = <span class="keyword">new</span> Person();</span><br><span class="line"><span class="built_in">console</span>.log(p1.name);<span class="comment">// kerwin</span></span><br><span class="line"><span class="built_in">console</span>.log(p2.name);<span class="comment">// kerwin</span></span><br></pre></td></tr></table></figure><p>å‡½æ•°çš„prototypeæŒ‡å‘çš„å°±æ˜¯å¯¹è±¡åŸå‹ï¼Œè¿™ä¸ªå¯¹è±¡æ˜¯è°ƒç”¨æ„é€ å‡½æ•°æ—¶åˆ›å»ºå®ä¾‹çš„åŸå‹å¯¹è±¡ï¼Œå°±æ˜¯è¯´<code>p1</code>å’Œ<code>p2</code>çš„åŸå‹å¯¹è±¡æ˜¯åŒä¸€ä¸ª</p><img src="/%E5%89%8D%E7%AB%AF/JavaScript/2022/03/05/JavaScript-%E5%8E%9F%E5%9E%8B%E5%92%8C%E5%8E%9F%E5%9E%8B%E9%93%BE/%E5%87%BD%E6%95%B0%E7%9A%84%E5%8E%9F%E5%9E%8B%E5%B1%9E%E6%80%A7.png" class title="å‡½æ•°çš„åŸå‹å±æ€§"><h3 id="proto"><a href="#proto" class="headerlink" title="_proto_"></a><code>_proto_</code></h3><p>æ¯ä¸ªå¯¹è±¡éƒ½ä¼šæœ‰ä¸€ä¸ªå±æ€§ï¼Œå«åš<code>_proto_</code>ï¼Œè¯¥å±æ€§æŒ‡å‘è¯¥å¯¹è±¡çš„åŸå‹å¯¹è±¡ï¼Œä¹Ÿå°±æ˜¯æ„é€ å‡½æ•°çš„åŸå‹å±æ€§æŒ‡å‘çš„å¯¹è±¡</p><img src="/%E5%89%8D%E7%AB%AF/JavaScript/2022/03/05/JavaScript-%E5%8E%9F%E5%9E%8B%E5%92%8C%E5%8E%9F%E5%9E%8B%E9%93%BE/%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%8E%9F%E5%9E%8B%E5%B1%9E%E6%80%A7.png" class title="å¯¹è±¡çš„åŸå‹å±æ€§"><h3 id="constructor-NaN"><a href="#constructor-NaN" class="headerlink" title="constructor"></a><code>constructor</code></h3><p>æ¯ä¸ªåŸå‹éƒ½æœ‰ä¸€ä¸ª<code>constructor</code>å±æ€§ï¼ŒæŒ‡å‘è¯¥å¯¹è±¡çš„æ„é€ å‡½æ•°</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> person = <span class="keyword">new</span> Person();</span><br><span class="line"><span class="built_in">console</span>.log(Person.prototype._proto_ ==== Person);<span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(person._proto_ === Person.prototype);<span class="comment">// true</span></span><br><span class="line"><span class="comment">// åœ¨personä¸­æ‰¾ä¸åˆ°constructorå±æ€§ï¼Œæ‰€ä»¥å‘ä¸Šåœ¨åŸå‹ä¸­æ‰¾åˆ°è¯¥å±æ€§</span></span><br><span class="line"><span class="built_in">console</span>.log(person.constructor === Person);<span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(person.constructor === Person.prototype.constructor);</span><br><span class="line"><span class="built_in">console</span>.log(person.constructor === person._proto_.constructor)</span><br></pre></td></tr></table></figure><img src="/%E5%89%8D%E7%AB%AF/JavaScript/2022/03/05/JavaScript-%E5%8E%9F%E5%9E%8B%E5%92%8C%E5%8E%9F%E5%9E%8B%E9%93%BE/%E5%8E%9F%E5%9E%8B%E5%AF%B9%E8%B1%A1%E7%9A%84constructor%E5%B1%9E%E6%80%A7.png" class title="åŸå‹å¯¹è±¡çš„constructorå±æ€§"><h3 id="å®ä¾‹ä¸åŸå‹"><a href="#å®ä¾‹ä¸åŸå‹" class="headerlink" title="å®ä¾‹ä¸åŸå‹"></a>å®ä¾‹ä¸åŸå‹</h3><p>å½“è¯»å–å®ä¾‹ä¸­çš„å±æ€§çš„æ—¶å€™ï¼Œå¦‚æœä¸å­˜åœ¨è¯¥å±æ€§ï¼Œåˆ™ä¼šå»æŸ¥æ‰¾è¯¥å¯¹è±¡çš„åŸå‹å¯¹è±¡ä¸­æ˜¯å¦å­˜åœ¨è¯¥å±æ€§ï¼Œå¦‚æœä¸å­˜åœ¨ï¼Œåˆ™ä¸€ç›´å‘ä¸ŠæŸ¥æ‰¾ï¼Œä¸€ç›´æ‰¾åˆ°æœ€é¡¶éƒ¨ä¸ºæ­¢</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">age</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">this</span>.age = age;</span><br><span class="line">&#125;</span><br><span class="line">Person.prototype.name = <span class="string">&#x27;zhima&#x27;</span>;</span><br><span class="line"><span class="keyword">let</span> p1 = <span class="keyword">new</span> Person();</span><br><span class="line">person.name = <span class="string">&#x27;kerwin&#x27;</span></span><br><span class="line"><span class="built_in">console</span>.log(p1.name);<span class="comment">// kerwin</span></span><br><span class="line"><span class="comment">// åˆ é™¤personå¯¹è±¡ä¸­çš„nameå±æ€§</span></span><br><span class="line"><span class="keyword">delete</span> person.name</span><br><span class="line"><span class="built_in">console</span>.log(p1.name);<span class="comment">// zhima </span></span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°p1çš„<code>name</code>å±æ€§</p><p>æ˜¾ç¤ºè¾“å‡ºäº†è‡ªèº«çš„å±æ€§å€¼<code>kerwin</code></p><p>å½“åˆ é™¤äº†å¯¹è±¡ä¸­nameå±æ€§ä¹‹åï¼Œè¾“å‡ºçš„æ˜¯åŸå‹ä¸­çš„æ•°æ®</p><p>åŸå› æ˜¯å½“å¯¹è±¡å†…éƒ¨ä¸å­˜åœ¨è¯¥å±æ€§çš„æ—¶å€™ï¼Œä¼šå‘ä¸Šåœ¨åŸå‹ä¸­æ‰¾å±æ€§ï¼Œæ‰€ä»¥ä¼šè¾“å‡º<code>kerwin</code></p><h3 id="åŸå‹çš„åŸå‹"><a href="#åŸå‹çš„åŸå‹" class="headerlink" title="åŸå‹çš„åŸå‹"></a>åŸå‹çš„åŸå‹</h3><p>åŸå‹æ˜¯éšç€ä½¿ç”¨æ„é€ å‡½æ•°åˆ›å»ºå¯¹è±¡æ—¶ï¼Œç”Ÿæˆçš„ä¸€ä¸ªå¯¹è±¡ã€‚</p><p>é‚£ä¹ˆåŸå‹ä¹Ÿæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œæ—¢ç„¶æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œé‚£ä¹ˆå®ƒä¸€å®šä¹Ÿæœ‰åŸå‹</p><p>å®ƒçš„åŸå‹å…¶å®æ˜¯é€šè¿‡Objectå¯¹è±¡çš„æ„é€ å‡½æ•°åˆ›å»ºçš„</p><img src="/%E5%89%8D%E7%AB%AF/JavaScript/2022/03/05/JavaScript-%E5%8E%9F%E5%9E%8B%E5%92%8C%E5%8E%9F%E5%9E%8B%E9%93%BE/%E5%8E%9F%E5%9E%8B%E7%9A%84%E5%8E%9F%E5%9E%8B.png" class title="åŸå‹çš„åŸå‹"><h3 id="åŸå‹é“¾"><a href="#åŸå‹é“¾" class="headerlink" title="åŸå‹é“¾"></a>åŸå‹é“¾</h3><p>ç®€å•å›é¡¾ä¸€ä¸‹ä¹‹å‰çš„çŸ¥è¯†ç‚¹ï¼Œ</p><p><code>prototype</code>æ˜¯æ¯ä¸ªå‡½æ•°çš„ä¸€ä¸ªå±æ€§ï¼ŒæŒ‡å‘åŸå‹å¯¹è±¡</p><p><code>_proto_</code>æ˜¯æ¯ä¸€ä¸ªå¯¹è±¡çš„ä¸€ä¸ªå±æ€§ï¼ŒæŒ‡å‘åŸå‹å¯¹è±¡</p><p><code>constructor</code>æ˜¯æ¯ä¸€ä¸ªåŸå‹å¯¹è±¡çš„ä¸€ä¸ªå±æ€§ï¼ŒæŒ‡å‘å…¶ç»‘å®šçš„æ„é€ å‡½æ•°</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">æ¯ä¸ªæ„é€ å‡½æ•°éƒ½æœ‰ä¸€ä¸ªåŸå‹å¯¹è±¡ï¼ŒåŸå‹å¯¹è±¡éƒ½åŒ…å«ä¸€ä¸ªæŒ‡å‘æ„é€ å‡½æ•°çš„æŒ‡é’ˆï¼Œè€Œå®ä¾‹éƒ½åŒ…å«ä¸€ä¸ªæŒ‡å‘åŸå‹å¯¹è±¡çš„å†…éƒ¨æŒ‡é’ˆã€‚é‚£ä¹ˆå‡å¦‚æˆ‘ä»¬è®©åŸå‹å¯¹è±¡ç­‰äºå¦ä¸€ä¸ªç±»å‹çš„å®ä¾‹ï¼Œç»“æœä¼šæ€ä¹ˆæ ·ï¼Ÿæ˜¾ç„¶ï¼Œæ­¤æ—¶çš„åŸå‹å¯¹è±¡å°†åŒ…å«ä¸€ä¸ªæŒ‡å‘å¦ä¸€ä¸ªåŸå‹çš„æŒ‡é’ˆï¼Œç›¸åº”çš„ï¼Œå¦ä¸€ä¸ªåŸå‹ä¸­ä¹ŸåŒ…å«ç€ä¸€ä¸ªæŒ‡å‘å¦ä¸€ä¸ªæ„é€ å‡½æ•°çš„æŒ‡é’ˆã€‚å‡å¦‚å¦ä¸€ä¸ªåŸå‹åˆæ˜¯å¦ä¸€ä¸ªç±»å‹çš„å®ä¾‹ï¼Œé‚£ä¹ˆä¸Šè¿°å…³ç³»ä¾ç„¶æˆç«‹ã€‚å¦‚æ­¤å±‚æ¬¡é€’è¿›ï¼Œå°±æ„æˆäº†åŸå‹å’Œå®ä¾‹çš„é“¾æ¡ï¼Œè¿™å°±æ˜¯æ‰€è°“çš„åŸå‹é“¾çš„æ¦‚å¿µ                                                              ----------ã€Šæ‘˜è‡ªJavaScripté«˜çº§ç¨‹åºè®¾è®¡ã€‹</span><br></pre></td></tr></table></figure><p>é‚£Object.prototypeçš„åŸå‹æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿæ˜¯null</p><img src="/%E5%89%8D%E7%AB%AF/JavaScript/2022/03/05/JavaScript-%E5%8E%9F%E5%9E%8B%E5%92%8C%E5%8E%9F%E5%9E%8B%E9%93%BE/Object%E5%8E%9F%E5%9E%8B%E7%9A%84%E5%8E%9F%E5%9E%8B.png" class title="ObjectåŸå‹çš„åŸå‹"><p>å›¾ä¸­è“è‰²çš„çº¿å°±æ˜¯åŸå‹é“¾</p>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
          <category> JavaScript </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç®—æ³•-æ»‘åŠ¨çª—å£</title>
      <link href="/%E7%AE%97%E6%B3%95/%E6%8A%80%E5%B7%A7%E7%AF%87/2022/03/05/%E7%AE%97%E6%B3%95-%E6%BB%91%E5%8A%A8%E7%AA%97%E5%8F%A3/"/>
      <url>/%E7%AE%97%E6%B3%95/%E6%8A%80%E5%B7%A7%E7%AF%87/2022/03/05/%E7%AE%97%E6%B3%95-%E6%BB%91%E5%8A%A8%E7%AA%97%E5%8F%A3/</url>
      
        <content type="html"><![CDATA[<h2 id="æ»‘åŠ¨çª—å£"><a href="#æ»‘åŠ¨çª—å£" class="headerlink" title="æ»‘åŠ¨çª—å£"></a>æ»‘åŠ¨çª—å£</h2><p>æ»‘åŠ¨çª—å£çš„æ€è·¯éå¸¸ç®€å•</p><p>å°±æ˜¯ç»´æŠ¤ä¸€ä¸ªçª—å£</p><p>ä¸æ–­æ»‘åŠ¨</p><p>ç„¶åæ›´æ–°ç­”æ¡ˆ</p><h4 id="æ»‘åŠ¨çª—å£çš„éª¨æ¶"><a href="#æ»‘åŠ¨çª—å£çš„éª¨æ¶" class="headerlink" title="æ»‘åŠ¨çª—å£çš„éª¨æ¶"></a>æ»‘åŠ¨çª—å£çš„éª¨æ¶</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">slidingWindow</span><span class="params">(String s1, String s2)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> left = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> right = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">char</span> now;</span><br><span class="line">        Map&lt;Character, Integer&gt; needs = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">char</span> c : s1.toCharArray()) &#123;</span><br><span class="line">            needs.merge(c, <span class="number">1</span>, Integer::sum);</span><br><span class="line">        &#125;</span><br><span class="line">        Map&lt;Character, Integer&gt; window = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        <span class="comment">// å½“å‰ç¬¦åˆneedsæ¡ä»¶çš„æ¡æ•°</span></span><br><span class="line">        <span class="keyword">int</span> valid = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> (right &lt; s2.length()) &#123;</span><br><span class="line">            now = s2.charAt(right++);</span><br><span class="line">            <span class="comment">// çª—å£å†…çš„æ•°æ®æ›´æ–°</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">while</span> (<span class="comment">// å·¦çª—å£æ”¶ç¼©æ¡ä»¶)&#123;</span></span><br><span class="line">            <span class="comment">// æ”¶ç¼©å·¦çª—å£</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>çœ‹å®Œäº†éª¨æ¶ï¼Œç›´æ¥ä¸Šå››ä¸ªé¢˜ç›®</p><h4 id="æœ€å°è¦†ç›–å­ä¸²"><a href="#æœ€å°è¦†ç›–å­ä¸²" class="headerlink" title="æœ€å°è¦†ç›–å­ä¸²"></a>æœ€å°è¦†ç›–å­ä¸²</h4><p><a href="https://leetcode-cn.com/problems/minimum-window-substring/">åŠ›æ‰£76ï¼šæœ€å°è¦†ç›–å­ä¸²</a></p><img src="/%E7%AE%97%E6%B3%95/%E6%8A%80%E5%B7%A7%E7%AF%87/2022/03/05/%E7%AE%97%E6%B3%95-%E6%BB%91%E5%8A%A8%E7%AA%97%E5%8F%A3/%E6%9C%80%E5%B0%8F%E8%A6%86%E7%9B%96%E5%AD%90%E4%B8%B2.png" class title="æœ€å°è¦†ç›–å­ä¸²"><p>1ã€æˆ‘ä»¬å…ˆåˆå§‹åŒ– <code>left = right = 0</code>ï¼ŒæŠŠç´¢å¼•åŒºé—´ <code>[left, right)</code> ä¸­çš„å†…å®¹ç§°ä¸ºçª—å£ã€‚</p><p>2ã€ä¸æ–­åœ°å¢åŠ  <code>right</code> æŒ‡é’ˆæ‰©å¤§çª—å£ <code>[left, right)</code>ï¼Œç›´åˆ°çª—å£ä¸­çš„å­—ç¬¦ä¸²ç¬¦åˆè¦æ±‚ï¼ˆå³çª—å£ä¸­çš„å†…å®¹åŒ…å«äº† <code>t</code> ä¸­çš„æ‰€æœ‰å­—ç¬¦ï¼‰ã€‚</p><p>3ã€æ­¤æ—¶ï¼Œæˆ‘ä»¬åœæ­¢å¢åŠ  <code>right</code>ï¼Œå¼€å§‹ä¸æ–­å¢åŠ  <code>left</code> æŒ‡é’ˆç¼©å°çª—å£ <code>[left, right)</code>ï¼Œç›´åˆ°çª—å£ä¸­çš„å­—ç¬¦ä¸²ä¸å†ç¬¦åˆè¦æ±‚ã€‚åŒæ—¶ï¼Œæ¯æ¬¡å¢åŠ  <code>left</code>ï¼Œæˆ‘ä»¬éƒ½è¦æ›´æ–°ç»“æœã€‚</p><p>4ã€é‡å¤ç¬¬ 2 å’Œç¬¬ 3 æ­¥ï¼Œç›´åˆ° <code>right</code> åˆ°è¾¾å­—ç¬¦ä¸² <code>S</code> çš„å°½å¤´ã€‚</p><img src="/%E7%AE%97%E6%B3%95/%E6%8A%80%E5%B7%A7%E7%AF%87/2022/03/05/%E7%AE%97%E6%B3%95-%E6%BB%91%E5%8A%A8%E7%AA%97%E5%8F%A3/%E6%9C%80%E5%B0%8F%E8%A6%86%E7%9B%96%E5%AD%90%E4%B8%B2-process01.png" class title="æœ€å°è¦†ç›–å­ä¸²-process01"><img src="/%E7%AE%97%E6%B3%95/%E6%8A%80%E5%B7%A7%E7%AF%87/2022/03/05/%E7%AE%97%E6%B3%95-%E6%BB%91%E5%8A%A8%E7%AA%97%E5%8F%A3/%E6%9C%80%E5%B0%8F%E8%A6%86%E7%9B%96%E5%AD%90%E4%B8%B2-process02.png" class title="æœ€å°è¦†ç›–å­ä¸²-process02"><img src="/%E7%AE%97%E6%B3%95/%E6%8A%80%E5%B7%A7%E7%AF%87/2022/03/05/%E7%AE%97%E6%B3%95-%E6%BB%91%E5%8A%A8%E7%AA%97%E5%8F%A3/%E6%9C%80%E5%B0%8F%E8%A6%86%E7%9B%96%E5%AD%90%E4%B8%B2-process03.png" class title="æœ€å°è¦†ç›–å­ä¸²-process03"><img src="/%E7%AE%97%E6%B3%95/%E6%8A%80%E5%B7%A7%E7%AF%87/2022/03/05/%E7%AE%97%E6%B3%95-%E6%BB%91%E5%8A%A8%E7%AA%97%E5%8F%A3/%E6%9C%80%E5%B0%8F%E8%A6%86%E7%9B%96%E5%AD%90%E4%B8%B2-process04.png" class title="æœ€å°è¦†ç›–å­ä¸²-process04"><img src="/%E7%AE%97%E6%B3%95/%E6%8A%80%E5%B7%A7%E7%AF%87/2022/03/05/%E7%AE%97%E6%B3%95-%E6%BB%91%E5%8A%A8%E7%AA%97%E5%8F%A3/%E6%9C%80%E5%B0%8F%E8%A6%86%E7%9B%96%E5%AD%90%E4%B8%B2-process05.png" class title="æœ€å°è¦†ç›–å­ä¸²-process05"><img src="/%E7%AE%97%E6%B3%95/%E6%8A%80%E5%B7%A7%E7%AF%87/2022/03/05/%E7%AE%97%E6%B3%95-%E6%BB%91%E5%8A%A8%E7%AA%97%E5%8F%A3/%E6%9C%80%E5%B0%8F%E8%A6%86%E7%9B%96%E5%AD%90%E4%B8%B2-process06.png" class title="æœ€å°è¦†ç›–å­ä¸²-process06"><img src="/%E7%AE%97%E6%B3%95/%E6%8A%80%E5%B7%A7%E7%AF%87/2022/03/05/%E7%AE%97%E6%B3%95-%E6%BB%91%E5%8A%A8%E7%AA%97%E5%8F%A3/%E6%9C%80%E5%B0%8F%E8%A6%86%E7%9B%96%E5%AD%90%E4%B8%B2-process07.png" class title="æœ€å°è¦†ç›–å­ä¸²-process07"><p>è¿™æ—¶å€™leftå¼€å§‹å‘å³ç§»åŠ¨ï¼Œç›´åˆ°windowä¸­çš„å­—ç¬¦ä¸æ»¡è¶³targetçš„å­—ç¬¦ï¼Œå³validä¸ç­‰äºneedsçš„size()</p><img src="/%E7%AE%97%E6%B3%95/%E6%8A%80%E5%B7%A7%E7%AF%87/2022/03/05/%E7%AE%97%E6%B3%95-%E6%BB%91%E5%8A%A8%E7%AA%97%E5%8F%A3/%E6%9C%80%E5%B0%8F%E8%A6%86%E7%9B%96%E5%AD%90%E4%B8%B2-process08.png" class title="æœ€å°è¦†ç›–å­ä¸²-process08"><img src="/%E7%AE%97%E6%B3%95/%E6%8A%80%E5%B7%A7%E7%AF%87/2022/03/05/%E7%AE%97%E6%B3%95-%E6%BB%91%E5%8A%A8%E7%AA%97%E5%8F%A3/%E6%9C%80%E5%B0%8F%E8%A6%86%E7%9B%96%E5%AD%90%E4%B8%B2-process09.png" class title="æœ€å°è¦†ç›–å­ä¸²-process09"><img src="/%E7%AE%97%E6%B3%95/%E6%8A%80%E5%B7%A7%E7%AF%87/2022/03/05/%E7%AE%97%E6%B3%95-%E6%BB%91%E5%8A%A8%E7%AA%97%E5%8F%A3/%E6%9C%80%E5%B0%8F%E8%A6%86%E7%9B%96%E5%AD%90%E4%B8%B2-process10.png" class title="æœ€å°è¦†ç›–å­ä¸²-process10"><img src="/%E7%AE%97%E6%B3%95/%E6%8A%80%E5%B7%A7%E7%AF%87/2022/03/05/%E7%AE%97%E6%B3%95-%E6%BB%91%E5%8A%A8%E7%AA%97%E5%8F%A3/%E6%9C%80%E5%B0%8F%E8%A6%86%E7%9B%96%E5%AD%90%E4%B8%B2-process11.png" class title="æœ€å°è¦†ç›–å­ä¸²-process11"><img src="/%E7%AE%97%E6%B3%95/%E6%8A%80%E5%B7%A7%E7%AF%87/2022/03/05/%E7%AE%97%E6%B3%95-%E6%BB%91%E5%8A%A8%E7%AA%97%E5%8F%A3/%E6%9C%80%E5%B0%8F%E8%A6%86%E7%9B%96%E5%AD%90%E4%B8%B2-process12.png" class title="æœ€å°è¦†ç›–å­ä¸²-process12"><img src="/%E7%AE%97%E6%B3%95/%E6%8A%80%E5%B7%A7%E7%AF%87/2022/03/05/%E7%AE%97%E6%B3%95-%E6%BB%91%E5%8A%A8%E7%AA%97%E5%8F%A3/%E6%9C%80%E5%B0%8F%E8%A6%86%E7%9B%96%E5%AD%90%E4%B8%B2-process13.png" class title="æœ€å°è¦†ç›–å­ä¸²-process13"><p>è¿™æ—¶å€™leftå¼€å§‹å‘å³ç§»åŠ¨ï¼Œç›´åˆ°windowä¸­çš„å­—ç¬¦ä¸æ»¡è¶³targetçš„å­—ç¬¦ï¼Œå³validä¸ç­‰äºneedsçš„size()</p><img src="/%E7%AE%97%E6%B3%95/%E6%8A%80%E5%B7%A7%E7%AF%87/2022/03/05/%E7%AE%97%E6%B3%95-%E6%BB%91%E5%8A%A8%E7%AA%97%E5%8F%A3/%E6%9C%80%E5%B0%8F%E8%A6%86%E7%9B%96%E5%AD%90%E4%B8%B2-process14.png" class title="æœ€å°è¦†ç›–å­ä¸²-process14"><img src="/%E7%AE%97%E6%B3%95/%E6%8A%80%E5%B7%A7%E7%AF%87/2022/03/05/%E7%AE%97%E6%B3%95-%E6%BB%91%E5%8A%A8%E7%AA%97%E5%8F%A3/%E6%9C%80%E5%B0%8F%E8%A6%86%E7%9B%96%E5%AD%90%E4%B8%B2-process15.png" class title="æœ€å°è¦†ç›–å­ä¸²-process15"><img src="/%E7%AE%97%E6%B3%95/%E6%8A%80%E5%B7%A7%E7%AF%87/2022/03/05/%E7%AE%97%E6%B3%95-%E6%BB%91%E5%8A%A8%E7%AA%97%E5%8F%A3/%E6%9C%80%E5%B0%8F%E8%A6%86%E7%9B%96%E5%AD%90%E4%B8%B2-process16.png" class title="æœ€å°è¦†ç›–å­ä¸²-process16"><img src="/%E7%AE%97%E6%B3%95/%E6%8A%80%E5%B7%A7%E7%AF%87/2022/03/05/%E7%AE%97%E6%B3%95-%E6%BB%91%E5%8A%A8%E7%AA%97%E5%8F%A3/%E6%9C%80%E5%B0%8F%E8%A6%86%E7%9B%96%E5%AD%90%E4%B8%B2-process17.png" class title="æœ€å°è¦†ç›–å­ä¸²-process17"><img src="/%E7%AE%97%E6%B3%95/%E6%8A%80%E5%B7%A7%E7%AF%87/2022/03/05/%E7%AE%97%E6%B3%95-%E6%BB%91%E5%8A%A8%E7%AA%97%E5%8F%A3/%E6%9C%80%E5%B0%8F%E8%A6%86%E7%9B%96%E5%AD%90%E4%B8%B2-process18.png" class title="æœ€å°è¦†ç›–å­ä¸²-process18"><img src="/%E7%AE%97%E6%B3%95/%E6%8A%80%E5%B7%A7%E7%AF%87/2022/03/05/%E7%AE%97%E6%B3%95-%E6%BB%91%E5%8A%A8%E7%AA%97%E5%8F%A3/%E6%9C%80%E5%B0%8F%E8%A6%86%E7%9B%96%E5%AD%90%E4%B8%B2-process19.png" class title="æœ€å°è¦†ç›–å­ä¸²-process19"><p>è¿™æ—¶å€™leftå¼€å§‹å‘å³ç§»åŠ¨ï¼Œç›´åˆ°windowä¸­çš„å­—ç¬¦ä¸æ»¡è¶³targetçš„å­—ç¬¦ï¼Œå³validä¸ç­‰äºneedsçš„size()</p><img src="/%E7%AE%97%E6%B3%95/%E6%8A%80%E5%B7%A7%E7%AF%87/2022/03/05/%E7%AE%97%E6%B3%95-%E6%BB%91%E5%8A%A8%E7%AA%97%E5%8F%A3/%E6%9C%80%E5%B0%8F%E8%A6%86%E7%9B%96%E5%AD%90%E4%B8%B2-process20.png" class title="æœ€å°è¦†ç›–å­ä¸²-process20"><img src="/%E7%AE%97%E6%B3%95/%E6%8A%80%E5%B7%A7%E7%AF%87/2022/03/05/%E7%AE%97%E6%B3%95-%E6%BB%91%E5%8A%A8%E7%AA%97%E5%8F%A3/%E6%9C%80%E5%B0%8F%E8%A6%86%E7%9B%96%E5%AD%90%E4%B8%B2-process21.png" class title="æœ€å°è¦†ç›–å­ä¸²-process21"><img src="/%E7%AE%97%E6%B3%95/%E6%8A%80%E5%B7%A7%E7%AF%87/2022/03/05/%E7%AE%97%E6%B3%95-%E6%BB%91%E5%8A%A8%E7%AA%97%E5%8F%A3/%E6%9C%80%E5%B0%8F%E8%A6%86%E7%9B%96%E5%AD%90%E4%B8%B2-process22.png" class title="æœ€å°è¦†ç›–å­ä¸²-process22"><img src="/%E7%AE%97%E6%B3%95/%E6%8A%80%E5%B7%A7%E7%AF%87/2022/03/05/%E7%AE%97%E6%B3%95-%E6%BB%91%E5%8A%A8%E7%AA%97%E5%8F%A3/%E6%9C%80%E5%B0%8F%E8%A6%86%E7%9B%96%E5%AD%90%E4%B8%B2-process23.png" class title="æœ€å°è¦†ç›–å­ä¸²-process23"><p>ä»£ç ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">minWindow</span><span class="params">(String s, String t)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (t.length() &gt; s.length()) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> len = s.length();</span><br><span class="line">        <span class="keyword">int</span> left = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> right = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">char</span> now;</span><br><span class="line">        <span class="keyword">char</span>[] chars = s.toCharArray();</span><br><span class="line">        Map&lt;Character, Integer&gt; window = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        <span class="comment">// validæŒ‡çš„æ˜¯needä¸­çš„æ‰€æœ‰æ¡ä»¶çš„æ»¡è¶³ä¸ªæ•°</span></span><br><span class="line">        <span class="keyword">int</span> valid = <span class="number">0</span>;</span><br><span class="line">        Map&lt;Character, Integer&gt; needs = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">char</span> c : t.toCharArray()) &#123;</span><br><span class="line">            <span class="comment">// è¿™ä¸ªæ˜¯java8çš„mapæ–°ç‰¹æ€§ï¼Œå½“mapä¸­ä¸å­˜åœ¨è¯¥å€¼ï¼Œè‡ªåŠ¨åˆ›å»ºå€¼å¹¶èµ‹å€¼ä¸º1ï¼Œå½“è¯¥å€¼å­˜åœ¨çš„æ—¶å€™ï¼Œå°†å…¶åŠ 1</span></span><br><span class="line">            needs.merge(c, <span class="number">1</span>, Integer::sum);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> start = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> minLength = Integer.MAX_VALUE;</span><br><span class="line">        <span class="keyword">while</span> (right &lt; len) &#123;</span><br><span class="line">            now = chars[right++];</span><br><span class="line">            <span class="comment">// åªæœ‰å½“å‰è¿™ä¸ªå­—ç¬¦æ˜¯té‡Œé¢çš„ï¼Œæˆ‘å†å»å°†å…¶æ”¾å…¥çª—å£ä¸­</span></span><br><span class="line">            <span class="comment">// å¦‚æœè¿™æ—¶å€™çª—å£ä¸­çš„è¯¥å­—ç¬¦æ•°é‡è¾¾åˆ°äº†needsä¸­çš„ï¼Œåˆ™validè‡ªå¢</span></span><br><span class="line">            <span class="keyword">if</span> (needs.get(now) != <span class="keyword">null</span>) &#123;</span><br><span class="line">                window.merge(now, <span class="number">1</span>, Integer::sum);</span><br><span class="line">                <span class="keyword">if</span> (window.get(now).equals(needs.get(now))) &#123;</span><br><span class="line">                    valid++;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// å¦‚æœneedsä¸­çš„æ¡ä»¶éƒ½æ»¡è¶³äº†ï¼Œåˆ™leftè¦è‡ªå¢</span></span><br><span class="line">            <span class="keyword">while</span> (valid == needs.size()) &#123;</span><br><span class="line">                <span class="comment">// è¿™é‡Œä½¿ç”¨right-leftå……å½“å­—ç¬¦ä¸²é•¿åº¦ï¼Œå› ä¸ºnow = chars[right++];è¿™é‡Œrightå·²ç»è‡ªå¢äº†</span></span><br><span class="line">                <span class="keyword">if</span> (right - left &lt; minLength) &#123;</span><br><span class="line">                    start = left;</span><br><span class="line">                    minLength = right - left;</span><br><span class="line">                &#125;</span><br><span class="line">                now = chars[left++];</span><br><span class="line">                <span class="keyword">if</span> (window.get(now) != <span class="keyword">null</span>) &#123;</span><br><span class="line">                    <span class="comment">// è¿™ä¸ªæ˜¯java8çš„mapæ–°ç‰¹æ€§ï¼Œå½“mapä¸­å­˜åœ¨è¯¥å€¼ï¼Œåˆ™å°†å…¶åŠ ä¸Š-1</span></span><br><span class="line">                    window.merge(now, -<span class="number">1</span>, Integer::sum);</span><br><span class="line">                    <span class="keyword">if</span> (window.get(now) &lt; needs.get(now)) &#123;</span><br><span class="line">                        valid--;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> minLength == Integer.MAX_VALUE ? <span class="string">&quot;&quot;</span> : s.substring(start, start + minLength);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="å­—ç¬¦ä¸²æ’åº"><a href="#å­—ç¬¦ä¸²æ’åº" class="headerlink" title="å­—ç¬¦ä¸²æ’åº"></a>å­—ç¬¦ä¸²æ’åº</h4><p><a href="https://leetcode-cn.com/problems/permutation-in-string/">åŠ›æ‰£567ï¼šå­—ç¬¦ä¸²æ’åº</a></p><img src="/%E7%AE%97%E6%B3%95/%E6%8A%80%E5%B7%A7%E7%AF%87/2022/03/05/%E7%AE%97%E6%B3%95-%E6%BB%91%E5%8A%A8%E7%AA%97%E5%8F%A3/%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%9A%84%E6%8E%92%E5%88%97.png" class title="å­—ç¬¦ä¸²çš„æ’åˆ—"><p>1ã€å…ˆåˆå§‹åŒ–<code>left</code>å’Œ<code>right</code>ä¸º0ï¼ŒæŠŠ<code>[left,right)</code>èŒƒå›´çš„æ•°æ®å«åšçª—å£</p><p>2ã€å°†éœ€è¦ç¬¦åˆçš„å­—ç¬¦ä¸²æ¡ä»¶åˆå§‹åŒ–åˆ°needsä¸­</p><p>3ã€ä¸æ–­æ‰©å¤§<code>right</code>ï¼Œä½¿çª—å£é€æ¸å˜å¤§</p><p>4ã€ç›´åˆ°çª—å£é•¿åº¦ç­‰äºs1çš„é•¿åº¦ï¼Œå¦‚æœè¿™æ—¶å€™å·²ç»å‡ºç°äº†ç¬¦åˆæ¡ä»¶çš„å­—ç¬¦ä¸²ç›´æ¥è¿”å›trueï¼Œåä¹‹ï¼Œå°†<code>left</code>å‘å³èµ°ï¼Œç¼©å°çª—å£</p><p>5ã€é‡å¤3ã€4ï¼Œç›´åˆ°<code>right</code>èµ°åˆ°æœ€å</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">checkInclusion</span><span class="params">(String s1, String s2)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> left = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> right = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">char</span> now;</span><br><span class="line">        Map&lt;Character, Integer&gt; needs = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">char</span> c : s1.toCharArray()) &#123;</span><br><span class="line">            needs.merge(c, <span class="number">1</span>, Integer::sum);</span><br><span class="line">        &#125;</span><br><span class="line">        Map&lt;Character, Integer&gt; window = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        <span class="keyword">int</span> valid = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> (right &lt; s2.length()) &#123;</span><br><span class="line">            now = s2.charAt(right++);</span><br><span class="line">            <span class="keyword">if</span> (needs.get(now) != <span class="keyword">null</span>) &#123;</span><br><span class="line">                window.merge(now, <span class="number">1</span>, Integer::sum);</span><br><span class="line">                <span class="keyword">if</span> (window.get(now).equals(needs.get(now))) &#123;</span><br><span class="line">                    valid++;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (right - left == s1.length()) &#123;</span><br><span class="line">                now = s2.charAt(left++);</span><br><span class="line">                <span class="keyword">if</span> (valid == needs.size()) &#123;</span><br><span class="line">                    <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span> (window.get(now) != <span class="keyword">null</span>) &#123;</span><br><span class="line">                    <span class="keyword">if</span> (window.get(now).equals(needs.get(now))) &#123;</span><br><span class="line">                        valid--;</span><br><span class="line">                    &#125;</span><br><span class="line">                    window.merge(now, -<span class="number">1</span>, Integer::sum);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="æ‰¾åˆ°å­—ç¬¦ä¸²ä¸­æ‰€æœ‰å­—æ¯å¼‚ä½è¯"><a href="#æ‰¾åˆ°å­—ç¬¦ä¸²ä¸­æ‰€æœ‰å­—æ¯å¼‚ä½è¯" class="headerlink" title="æ‰¾åˆ°å­—ç¬¦ä¸²ä¸­æ‰€æœ‰å­—æ¯å¼‚ä½è¯"></a>æ‰¾åˆ°å­—ç¬¦ä¸²ä¸­æ‰€æœ‰å­—æ¯å¼‚ä½è¯</h4><p><a href="https://leetcode-cn.com/problems/find-all-anagrams-in-a-string/">åŠ›æ‰£438ï¼šæ‰¾åˆ°å­—ç¬¦ä¸²ä¸­æ‰€æœ‰å­—æ¯å¼‚ä½è¯</a></p><img src="/%E7%AE%97%E6%B3%95/%E6%8A%80%E5%B7%A7%E7%AF%87/2022/03/05/%E7%AE%97%E6%B3%95-%E6%BB%91%E5%8A%A8%E7%AA%97%E5%8F%A3/%E5%AD%97%E6%AF%8D%E5%BC%82%E4%BD%8D%E8%AF%8D.png" class title="å­—æ¯å¼‚ä½è¯"><p>å…¶å®æœ¬é¢˜å°±æ˜¯ä¸Šé¢é‚£ä¸€é¢˜ï¼Œåªä¸è¿‡è¿™ä¸€é¢˜éœ€è¦å°†æ‰€æœ‰çš„å¼‚ä½è¯å‡ºç°çš„åœ°æ–¹éƒ½æ”¾åˆ°ä¸€ä¸ªListä¸­</p><p>ä»£ç ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;Integer&gt; <span class="title">findAnagrams</span><span class="params">(String s, String p)</span> </span>&#123;</span><br><span class="line">        List&lt;Integer&gt; result = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        <span class="keyword">int</span> left = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> right = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> valid = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">char</span> now;</span><br><span class="line">        Map&lt;Character, Integer&gt; needs = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">char</span> c : p.toCharArray()) &#123;</span><br><span class="line">            needs.merge(c, <span class="number">1</span>, Integer::sum);</span><br><span class="line">        &#125;</span><br><span class="line">        Map&lt;Character, Integer&gt; window = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        <span class="keyword">char</span>[] chars = s.toCharArray();</span><br><span class="line">        <span class="keyword">while</span> (right &lt; s.length()) &#123;</span><br><span class="line">            now = chars[right++];</span><br><span class="line">            <span class="keyword">if</span> (needs.get(now) != <span class="keyword">null</span>) &#123;</span><br><span class="line">                window.merge(now, <span class="number">1</span>, Integer::sum);</span><br><span class="line">                <span class="keyword">if</span> (window.get(now).equals(needs.get(now))) &#123;</span><br><span class="line">                    valid++;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (right - left == p.length()) &#123;</span><br><span class="line">                <span class="keyword">if</span> (valid == needs.size()) &#123;</span><br><span class="line">                    result.add(left);</span><br><span class="line">                &#125;</span><br><span class="line">                now = chars[left++];</span><br><span class="line">                <span class="keyword">if</span> (window.get(now) != <span class="keyword">null</span>) &#123;</span><br><span class="line">                    <span class="keyword">if</span> (window.get(now).equals(needs.get(now))) &#123;</span><br><span class="line">                        valid--;</span><br><span class="line">                    &#125;</span><br><span class="line">                    window.merge(now, -<span class="number">1</span>, Integer::sum);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="æ— é‡å¤æœ€é•¿å­ä¸²"><a href="#æ— é‡å¤æœ€é•¿å­ä¸²" class="headerlink" title="æ— é‡å¤æœ€é•¿å­ä¸²"></a>æ— é‡å¤æœ€é•¿å­ä¸²</h4><p><a href="https://leetcode-cn.com/problems/longest-substring-without-repeating-characters/">åŠ›æ‰£3ï¼šæ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²</a></p><img src="/%E7%AE%97%E6%B3%95/%E6%8A%80%E5%B7%A7%E7%AF%87/2022/03/05/%E7%AE%97%E6%B3%95-%E6%BB%91%E5%8A%A8%E7%AA%97%E5%8F%A3/%E6%97%A0%E9%87%8D%E5%A4%8D%E5%AD%97%E7%AC%A6%E7%9A%84%E6%9C%80%E9%95%BF%E5%AD%90%E4%B8%B2.png" class title="æ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²"><p>1ã€åˆå§‹åŒ–<code>left</code>å’Œ<code>right</code>ä¸º0ï¼Œwindowä½œä¸ºçª—å£</p><p>2ã€å°†å½“å‰<code>right</code>å¤„çš„å­—ç¬¦åœ¨windowä¸­çš„æ•°ç›®åŠ ä¸€</p><p>3ã€å¦‚æœå½“å‰<code>right</code>å¤„çš„å­—ç¬¦åœ¨windowä¸­çš„æ•°ç›®å·²ç»å¤§äº1äº†ã€‚è¯´æ˜æœ‰äº†é‡å¤å…ƒç´ ï¼Œéœ€è¦å°†<code>left</code>ä¸æ–­å·¦ç§»ï¼Œç›´åˆ°å½“å‰<code>right</code>å¤„çš„å­—ç¬¦åœ¨windowä¸­çš„æ•°ç›®ä¸å¤§äº1</p><p>4ã€é‡å¤2ã€3æ“ä½œ</p><p>ä»£ç ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">     <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">lengthOfLongestSubstring</span><span class="params">(String s)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> len = s.length();</span><br><span class="line">        <span class="keyword">if</span> (len &lt; <span class="number">2</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> len;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> left = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> right = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> maxLength = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">char</span> now;</span><br><span class="line">        Map&lt;Character, Integer&gt; window = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        <span class="keyword">while</span> (right &lt; len) &#123;</span><br><span class="line">            now = s.charAt(right++);</span><br><span class="line">            window.merge(now, <span class="number">1</span>, Integer::sum);</span><br><span class="line">            <span class="keyword">while</span> (window.get(now) &gt; <span class="number">1</span>) &#123;</span><br><span class="line">                window.merge(s.charAt(left++), -<span class="number">1</span>, Integer::sum);</span><br><span class="line">            &#125;</span><br><span class="line">            maxLength = Math.max(right - left, maxLength);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> maxLength;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
          <category> æŠ€å·§ç¯‡ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç®—æ³• </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç®—æ³•-åŒæŒ‡é’ˆæŠ€å·§</title>
      <link href="/%E7%AE%97%E6%B3%95/%E6%8A%80%E5%B7%A7%E7%AF%87/2022/03/05/%E7%AE%97%E6%B3%95-%E5%8F%8C%E6%8C%87%E9%92%88%E6%8A%80%E5%B7%A7/"/>
      <url>/%E7%AE%97%E6%B3%95/%E6%8A%80%E5%B7%A7%E7%AF%87/2022/03/05/%E7%AE%97%E6%B3%95-%E5%8F%8C%E6%8C%87%E9%92%88%E6%8A%80%E5%B7%A7/</url>
      
        <content type="html"><![CDATA[<h2 id="åŒæŒ‡é’ˆæŠ€å·§"><a href="#åŒæŒ‡é’ˆæŠ€å·§" class="headerlink" title="åŒæŒ‡é’ˆæŠ€å·§"></a>åŒæŒ‡é’ˆæŠ€å·§</h2><p>å¯¹äºåŒæŒ‡é’ˆï¼Œä¸€èˆ¬åˆ†ä¸º<strong>å¿«æ…¢æŒ‡é’ˆ</strong>å’Œ<strong>å‰åæŒ‡é’ˆ</strong></p><p>å‰è€…ä¸€èˆ¬ä½¿ç”¨åœ¨é“¾è¡¨ä¸­ï¼Œåè€…ä¸€èˆ¬ä½¿ç”¨åœ¨æ•°ç»„ä¸­ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ListNode</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> val;</span><br><span class="line">    ListNode next;</span><br><span class="line">    ListNode(<span class="keyword">int</span> val) &#123;</span><br><span class="line">        <span class="keyword">this</span>.val = val;</span><br><span class="line">        <span class="keyword">this</span>.next = <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    ListNode(<span class="keyword">int</span> val, ListNode next) &#123;</span><br><span class="line">        <span class="keyword">this</span>.val = val;</span><br><span class="line">        <span class="keyword">this</span>.next = next;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="å¿«æ…¢æŒ‡é’ˆ"><a href="#å¿«æ…¢æŒ‡é’ˆ" class="headerlink" title="å¿«æ…¢æŒ‡é’ˆ"></a>å¿«æ…¢æŒ‡é’ˆ</h3><p>å¿«æ…¢æŒ‡é’ˆä¸€èˆ¬åˆå§‹åŒ–ä¸¤ä¸ªæŒ‡é’ˆåˆ†åˆ«æŒ‡å‘é“¾è¡¨çš„å¤´ç»“ç‚¹ <code>head</code></p><p>å‰è¿›æ—¶å¿«æŒ‡é’ˆ <code>fast</code> åœ¨å‰</p><p>æ…¢æŒ‡é’ˆ <code>slow</code> åœ¨å</p><p>è¿™å°±æ˜¯å¿«æ…¢æŒ‡é’ˆçš„æ ¸å¿ƒ</p><h4 id="åˆ¤æ–­é“¾è¡¨æ˜¯å¦æˆç¯"><a href="#åˆ¤æ–­é“¾è¡¨æ˜¯å¦æˆç¯" class="headerlink" title="åˆ¤æ–­é“¾è¡¨æ˜¯å¦æˆç¯"></a>åˆ¤æ–­é“¾è¡¨æ˜¯å¦æˆç¯</h4><p><a href="https://leetcode-cn.com/problems/linked-list-cycle/">åŠ›æ‰£141é¢˜ï¼šç¯å½¢é“¾è¡¨</a></p><img src="/%E7%AE%97%E6%B3%95/%E6%8A%80%E5%B7%A7%E7%AF%87/2022/03/05/%E7%AE%97%E6%B3%95-%E5%8F%8C%E6%8C%87%E9%92%88%E6%8A%80%E5%B7%A7/%E7%8E%AF%E5%BD%A2%E9%93%BE%E8%A1%A8.png" class title="ç¯å½¢é“¾è¡¨"><p>å•é“¾è¡¨çš„ç‰¹ç‚¹æ˜¯æ¯ä¸€ä¸ªèŠ‚ç‚¹åªçŸ¥é“<strong>åç½®èŠ‚ç‚¹</strong>ï¼Œä¸çŸ¥é“<strong>å‰ç½®èŠ‚ç‚¹</strong>ã€‚å¦‚æœæˆ‘ä½¿ç”¨å•æŒ‡é’ˆæƒ³å»è§£å†³è¿™ä¸ªåˆ¤æ–­æˆç¯</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">hasCycle</span><span class="params">(ListNode head)</span> </span>&#123;</span><br><span class="line">        ListNode temp = head;</span><br><span class="line">        <span class="keyword">while</span>(temp != <span class="keyword">null</span>)&#123;</span><br><span class="line">            temp = temp.next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å½“é“¾è¡¨æˆç¯çš„æ—¶å€™ï¼Œå› ä¸ºæ²¡æœ‰ä¸€ä¸ªèŠ‚ç‚¹çš„åç½®èŠ‚ç‚¹ä¸º<code>null</code>ï¼Œæ‰€ä»¥è¯¥æ–¹æ³•ä¸€å®šæ˜¯æ­»å¾ªç¯ï¼Œæ— æ³•é€€å‡ºã€‚</p><p>ç»å…¸è§£æ³•å°±æ˜¯ä½¿ç”¨ä¸¤ä¸ªæŒ‡é’ˆï¼Œ<code>fast</code>æŒ‡é’ˆè·‘å¾—å¿«ï¼Œ<code>slow</code>æŒ‡é’ˆè·‘å¾—æ…¢ã€‚</p><p>å¦‚æœé“¾è¡¨æ²¡æœ‰ç¯ï¼Œè·‘å¾—å¿«çš„é‚£ä¸ªæŒ‡é’ˆæœ€ç»ˆä¼šé‡åˆ° <code>null</code>ï¼Œè¯´æ˜é“¾è¡¨ä¸å«ç¯ï¼›</p><p>å¦‚æœé“¾è¡¨æœ‰ç¯ï¼Œå¿«æŒ‡é’ˆæœ€ç»ˆä¼šè¶…æ…¢æŒ‡é’ˆä¸€åœˆï¼Œå’Œæ…¢æŒ‡é’ˆç›¸ç­‰ï¼Œè¯´æ˜é“¾è¡¨å«æœ‰ç¯ã€‚</p><p>ä»¥ä¸‹æ˜¯è§£æ³•</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">hasCycle</span><span class="params">(ListNode head)</span> </span>&#123;</span><br><span class="line">        ListNode slow = head;</span><br><span class="line">        ListNode fast = head;</span><br><span class="line">        <span class="keyword">while</span> (fast != <span class="keyword">null</span> &amp;&amp; fast.next != <span class="keyword">null</span>) &#123;</span><br><span class="line">            slow = slow.next;</span><br><span class="line">            fast = fast.next.next;</span><br><span class="line">            <span class="keyword">if</span> (slow == fast) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="å·²çŸ¥é“¾è¡¨æœ‰ç¯ï¼Œè¿”å›ç¯å¼€å§‹çš„åœ°æ–¹"><a href="#å·²çŸ¥é“¾è¡¨æœ‰ç¯ï¼Œè¿”å›ç¯å¼€å§‹çš„åœ°æ–¹" class="headerlink" title="å·²çŸ¥é“¾è¡¨æœ‰ç¯ï¼Œè¿”å›ç¯å¼€å§‹çš„åœ°æ–¹"></a>å·²çŸ¥é“¾è¡¨æœ‰ç¯ï¼Œè¿”å›ç¯å¼€å§‹çš„åœ°æ–¹</h4><p><a href="https://leetcode-cn.com/problems/linked-list-cycle-ii/">åŠ›æ‰£142é¢˜ï¼šç¯å½¢é“¾è¡¨ II</a></p><img src="/%E7%AE%97%E6%B3%95/%E6%8A%80%E5%B7%A7%E7%AF%87/2022/03/05/%E7%AE%97%E6%B3%95-%E5%8F%8C%E6%8C%87%E9%92%88%E6%8A%80%E5%B7%A7/%E7%8E%AF%E5%BD%A2%E9%93%BE%E8%A1%A8.png" class title="ç¯å½¢é“¾è¡¨"><p><code>5</code>å°±æ˜¯é‚£ä¸ªç¯å¼€å§‹çš„åœ°æ–¹</p><p>å‡è®¾å¿«æŒ‡é’ˆèµ°äº†<code>2k</code>æ­¥ï¼Œåˆ™æ…¢æŒ‡é’ˆå°±ä¸€å®šèµ°äº†<code>k</code>æ­¥ï¼Œé‚£ä¹ˆ<code>k</code>å…¶å®å°±æ˜¯ç¯èŠ‚ç‚¹ä¸ªæ•°çš„æ•´æ•°å€</p><img src="/%E7%AE%97%E6%B3%95/%E6%8A%80%E5%B7%A7%E7%AF%87/2022/03/05/%E7%AE%97%E6%B3%95-%E5%8F%8C%E6%8C%87%E9%92%88%E6%8A%80%E5%B7%A7/%E5%BF%AB%E6%8C%87%E9%92%88%E5%88%B0%E8%BE%BE%E7%9B%B8%E9%81%87%E7%82%B9.png" class title="å¿«æŒ‡é’ˆåˆ°è¾¾ç›¸é‡ç‚¹"><img src="/%E7%AE%97%E6%B3%95/%E6%8A%80%E5%B7%A7%E7%AF%87/2022/03/05/%E7%AE%97%E6%B3%95-%E5%8F%8C%E6%8C%87%E9%92%88%E6%8A%80%E5%B7%A7/%E5%BF%AB%E6%85%A2%E6%8C%87%E9%92%88%E7%9B%B8%E9%81%87.png" class title="å¿«æ…¢æŒ‡é’ˆç›¸é‡"><p>é»„è‰²çš„çº¿å°±æ˜¯å¿«æŒ‡é’ˆæ¯”æ…¢æŒ‡é’ˆå¤šèµ°çš„æ­¥æ•°ï¼Œå³<code>k</code>,å›¾ä¸Šåªç”»äº†ä¸€åœˆï¼Œä½†æ˜¯å®é™…å¯èƒ½<strong>ä¸æ­¢ä¸€åœˆ</strong></p><p>è®¾æ…¢æŒ‡é’ˆåœ¨ç¯ä¸­èµ°äº†<code>m</code>ä¸ªèŠ‚ç‚¹ã€‚</p><p>åˆ™è¯´æ˜åœ¨ç¯èŠ‚ç‚¹ä¹‹å‰ï¼Œä¸€å…±æœ‰<code>k-m</code>ä¸ªèŠ‚ç‚¹ï¼Œå°±æ˜¯è¯´æˆ‘å¯ä»¥ä»å¤´ç»“ç‚¹å¾€åèµ°<code>k-m</code>æ¬¡å°±å¯ä»¥æ‰¾åˆ°è¯¥ç¯å¼€å§‹çš„åœ°æ–¹äº†ã€‚</p><p>ä½†æ˜¯å¦‚æœæƒ³ç€å¦‚ä½•æŠŠ<code>k-m</code>æ±‚å‡ºæ¥çš„è¯æ˜¯æœ‰ç‚¹å›°éš¾çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬æ¥çœ‹çœ‹å…³äºå¿«æŒ‡é’ˆçš„è·¯å¾„ä¸­å¯ä¸å¯ä»¥å‡ºç°<code>k-m</code></p><p>æˆ‘ä»¬ç°åœ¨æ¥çœ‹çœ‹å¿«æŒ‡é’ˆèµ°çš„<code>2k</code>é•¿åº¦çš„è·¯å¾„ï¼Œå®ƒåœ¨ç¯é‡Œé¢èµ°è¿‡çš„è·¯å¾„é•¿åº¦æ˜¯<code>k+m</code>ï¼Œä»ç›¸é‡ç‚¹åˆ°ç›¸é‡ç‚¹çš„è·ç¦»æ˜¯<code>k</code></p><p>é‚£ä¹ˆå°±æ˜¯è¯´å¿«æŒ‡é’ˆä»ç›¸é‡ç‚¹åœ¨ç¯ä¸­èµ°<code>k-m</code>æ­¥å°±å¯ä»¥èµ°åˆ°ç¯å¼€å§‹çš„èŠ‚ç‚¹ï¼Œ</p><p>æ‰€ä»¥æˆ‘ä»¬å¯ä»¥å°†slowç½®äº<code>head</code>ï¼Œä¸faståŒæ­¥å‰è¿›ï¼Œå½“ä¸¤ä¸ªæŒ‡é’ˆç›¸åŒæ—¶ï¼Œè¿”å›è¯¥å€¼</p><img src="/%E7%AE%97%E6%B3%95/%E6%8A%80%E5%B7%A7%E7%AF%87/2022/03/05/%E7%AE%97%E6%B3%95-%E5%8F%8C%E6%8C%87%E9%92%88%E6%8A%80%E5%B7%A7/%E5%BE%AA%E7%8E%AFk-m%E6%AC%A1.png" class title="å¾ªç¯k-mæ¬¡"><p>ä»£ç ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> ListNode <span class="title">detectCycle</span><span class="params">(ListNode head)</span> </span>&#123;</span><br><span class="line">        ListNode slow = head;</span><br><span class="line">        ListNode fast = head;</span><br><span class="line">        <span class="keyword">while</span> (fast != <span class="keyword">null</span> &amp;&amp; fast.next != <span class="keyword">null</span>) &#123;</span><br><span class="line">            slow = slow.next;</span><br><span class="line">            fast = fast.next.next;</span><br><span class="line">            <span class="keyword">if</span> (slow == fast) &#123;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (fast == <span class="keyword">null</span> || fast.next == <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        slow = head;</span><br><span class="line">        <span class="keyword">while</span> (slow != fast) &#123;</span><br><span class="line">            slow = slow.next;</span><br><span class="line">            fast = fast.next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> fast;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="å¯»æ‰¾é“¾è¡¨çš„ä¸­ç‚¹"><a href="#å¯»æ‰¾é“¾è¡¨çš„ä¸­ç‚¹" class="headerlink" title="å¯»æ‰¾é“¾è¡¨çš„ä¸­ç‚¹"></a>å¯»æ‰¾é“¾è¡¨çš„ä¸­ç‚¹</h4><p><a href="https://leetcode-cn.com/problems/middle-of-the-linked-list/">åŠ›æ‰£876ï¼šé“¾è¡¨çš„ä¸­å¿ƒèŠ‚ç‚¹</a></p><p>ç»™å‡ºä¸€ä¸ªæ— ç¯çš„é“¾è¡¨ï¼Œè¦æ±‚è¿”å›è¯¥é“¾è¡¨çš„ä¸­ç‚¹</p><p>ä½¿ç”¨å¿«æ…¢æŒ‡é’ˆï¼Œå½“fastæŒ‡é’ˆèµ°åˆ°å°¾éƒ¨çš„æ—¶å€™ï¼Œslowå°±åœ¨é“¾è¡¨ä¸­é—´ä½ç½®äº†</p><p>ä»¥ä¸‹æ˜¯èŠ‚ç‚¹ä¸ªæ•°ä¸ºå¥‡æ•°çš„æƒ…å†µ</p><img src="/%E7%AE%97%E6%B3%95/%E6%8A%80%E5%B7%A7%E7%AF%87/2022/03/05/%E7%AE%97%E6%B3%95-%E5%8F%8C%E6%8C%87%E9%92%88%E6%8A%80%E5%B7%A7/%E9%93%BE%E8%A1%A8%E4%B8%AD%E7%82%B9-process01.png" class title="é“¾è¡¨ä¸­ç‚¹-process01"><img src="/%E7%AE%97%E6%B3%95/%E6%8A%80%E5%B7%A7%E7%AF%87/2022/03/05/%E7%AE%97%E6%B3%95-%E5%8F%8C%E6%8C%87%E9%92%88%E6%8A%80%E5%B7%A7/%E9%93%BE%E8%A1%A8%E4%B8%AD%E7%82%B9-process02.png" class title="é“¾è¡¨ä¸­ç‚¹-process02"><img src="/%E7%AE%97%E6%B3%95/%E6%8A%80%E5%B7%A7%E7%AF%87/2022/03/05/%E7%AE%97%E6%B3%95-%E5%8F%8C%E6%8C%87%E9%92%88%E6%8A%80%E5%B7%A7/%E9%93%BE%E8%A1%A8%E4%B8%AD%E7%82%B9-process03.png" class title="é“¾è¡¨ä¸­ç‚¹-process03"><p>ä»¥ä¸‹æ˜¯èŠ‚ç‚¹ä¸ªæ•°ä¸ºå¶æ•°çš„ç»“æœ</p><img src="/%E7%AE%97%E6%B3%95/%E6%8A%80%E5%B7%A7%E7%AF%87/2022/03/05/%E7%AE%97%E6%B3%95-%E5%8F%8C%E6%8C%87%E9%92%88%E6%8A%80%E5%B7%A7/%E9%93%BE%E8%A1%A8%E4%B8%AD%E7%82%B9-process04.png" class title="é“¾è¡¨ä¸­ç‚¹-process04"><p>å¯ä»¥å‘ç°ï¼Œå½“ä¸ªæ•°ä¸ºå¥‡æ•°çš„æ—¶å€™ï¼Œæ…¢æŒ‡é’ˆæ­£å¥½åœ¨ä¸­å¿ƒä½ç½®ï¼Œ</p><p>å½“ä¸ªæ•°ä¸ºå¶æ•°çš„æ—¶å€™ï¼Œæ…¢æŒ‡é’ˆåœ¨ä¸­å¿ƒåå³çš„ä½ç½®</p><p>è¿™ä¸ªç®—æ³•åœ¨é“¾è¡¨çš„å½’å¹¶ç®—æ³•ä¸­å¸¸å¸¸è¢«ç”¨åˆ°</p><p>ä»£ç ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> ListNode <span class="title">middleNode</span><span class="params">(ListNode head)</span> </span>&#123;</span><br><span class="line">    ListNode slow = head;</span><br><span class="line">    ListNode fast = head;</span><br><span class="line">    <span class="keyword">while</span>(fast != <span class="keyword">null</span> &amp;&amp; fast.next != <span class="keyword">null</span>)&#123;</span><br><span class="line">        slow = slow.next;</span><br><span class="line">        fast = fast.next.next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> slow;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™æ˜¯hashå®ç°</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> ListNode <span class="title">middleNode</span><span class="params">(ListNode head)</span> </span>&#123;</span><br><span class="line">    Map&lt;Integer, ListNode&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">    ListNode curr = head;</span><br><span class="line">    <span class="keyword">int</span> i = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(curr != <span class="keyword">null</span>)&#123;</span><br><span class="line">        map.put(i++,curr);</span><br><span class="line">        curr = curr.next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> map.get(i/<span class="number">2</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="åˆ é™¤å€’æ•°ç¬¬nä¸ªèŠ‚ç‚¹"><a href="#åˆ é™¤å€’æ•°ç¬¬nä¸ªèŠ‚ç‚¹" class="headerlink" title="åˆ é™¤å€’æ•°ç¬¬nä¸ªèŠ‚ç‚¹"></a>åˆ é™¤å€’æ•°ç¬¬nä¸ªèŠ‚ç‚¹</h4><p><a href="https://leetcode-cn.com/problems/remove-nth-node-from-end-of-list/">åŠ›æ‰£19é¢˜ï¼šåˆ é™¤å€’æ•°ç¬¬nä¸ªèŠ‚ç‚¹</a></p><p>æ€è·¯å°±æ˜¯å¿«æŒ‡é’ˆå…ˆèµ°næ­¥ï¼Œç„¶åæ…¢æŒ‡é’ˆå’Œå¿«æŒ‡é’ˆåŒæ­¥å‘å‰ï¼Œå½“å¿«æŒ‡é’ˆçš„nextæ˜¯nullçš„æ—¶å€™ï¼Œæ…¢æŒ‡é’ˆçš„ä¸‹ä¸€ä¸ªå°±æ˜¯å€’æ•°ç¬¬nä¸ªèŠ‚ç‚¹</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> ListNode <span class="title">removeNthFromEnd</span><span class="params">(ListNode head, <span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        ListNode slow = head;</span><br><span class="line">        ListNode fast = head;</span><br><span class="line">        <span class="keyword">while</span> (n-- &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            fast = fast.next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (fast == <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> head.next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span> (fast.next != <span class="keyword">null</span>) &#123;</span><br><span class="line">            slow = slow.next;</span><br><span class="line">            fast = fast.next;</span><br><span class="line">        &#125;</span><br><span class="line">        slow.next = slow.next.next;</span><br><span class="line">        <span class="keyword">return</span> head;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="å·¦å³æŒ‡é’ˆ"><a href="#å·¦å³æŒ‡é’ˆ" class="headerlink" title="å·¦å³æŒ‡é’ˆ"></a>å·¦å³æŒ‡é’ˆ</h3><p>å·¦å³æŒ‡é’ˆä¸€èˆ¬åˆå§‹åŒ–<code>left right</code>ä¸¤ä¸ªå˜é‡æ¥è¡¨ç¤ºå·¦è¾¹ç•Œå’Œå³è¾¹ç•Œ</p><h4 id="äºŒåˆ†æŸ¥æ‰¾"><a href="#äºŒåˆ†æŸ¥æ‰¾" class="headerlink" title="äºŒåˆ†æŸ¥æ‰¾"></a>äºŒåˆ†æŸ¥æ‰¾</h4><p>è¿™é‡Œå°±ä¸èµ˜è¿°äºŒåˆ†æŸ¥æ‰¾çš„ç»†èŠ‚äº†ï¼Œä¹‹å‰æœ‰å†™ï¼Œè¿™é‡Œå°±å†™ä¸€ç§æœ€å¸¸è§çš„</p><p>æŸ¥æ‰¾targetæ‰¾åˆ°åˆ™è¿”å›ç´¢å¼•ï¼Œæ²¡æœ‰æ‰¾åˆ°åˆ™è¿”å›-1</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">binarySearch</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> target)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> left = <span class="number">0</span>; </span><br><span class="line">    <span class="keyword">int</span> right = nums.length - <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">int</span> mid;</span><br><span class="line">    <span class="keyword">while</span>(left &lt;= right) &#123;</span><br><span class="line">        mid = (right + left) / <span class="number">2</span>;</span><br><span class="line">        <span class="keyword">if</span>(nums[mid] == target)&#123;</span><br><span class="line">            <span class="keyword">return</span> mid; </span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (nums[mid] &lt; target)&#123;</span><br><span class="line">            left = mid + <span class="number">1</span>; </span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (nums[mid] &gt; target)&#123;</span><br><span class="line">            right = mid - <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="ä¸¤æ•°ä¹‹å’Œ"><a href="#ä¸¤æ•°ä¹‹å’Œ" class="headerlink" title="ä¸¤æ•°ä¹‹å’Œ"></a>ä¸¤æ•°ä¹‹å’Œ</h4><img src="/%E7%AE%97%E6%B3%95/%E6%8A%80%E5%B7%A7%E7%AF%87/2022/03/05/%E7%AE%97%E6%B3%95-%E5%8F%8C%E6%8C%87%E9%92%88%E6%8A%80%E5%B7%A7/%E4%B8%A4%E6%95%B0%E4%B9%8B%E5%92%8CII.png" class title="ä¸¤æ•°ä¹‹å’ŒII"><p>é¢˜ç›®ä¸­è¯´ï¼Œè¯¥æ•°ç»„æ˜¯é€’å¢çš„ï¼Œ</p><p>é€šè¿‡leftå’Œrightæ¥è°ƒæ•´å¤§å°ä»è€Œåˆ¤æ–­æ˜¯å¦å­˜åœ¨ä¸¤ä¸ªæ•°ä½¿å¾—å’Œä¸ºtarget</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span>[] twoSum(<span class="keyword">int</span>[] numbers, <span class="keyword">int</span> target) &#123;</span><br><span class="line">        <span class="keyword">int</span> left = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> right = numbers.length-<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">int</span> mid;</span><br><span class="line">        <span class="keyword">int</span> sum;</span><br><span class="line">        <span class="keyword">while</span>(left &lt; right)&#123;</span><br><span class="line">            mid = (left + right) &gt;&gt; <span class="number">1</span>;</span><br><span class="line">            sum=numbers[left] + numbers[right];</span><br><span class="line">            <span class="keyword">if</span>(sum == target)&#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">new</span> <span class="keyword">int</span>[]&#123;left+<span class="number">1</span>, right+<span class="number">1</span>&#125;;</span><br><span class="line">            &#125;<span class="keyword">else</span> <span class="keyword">if</span>(sum &gt; target)&#123;</span><br><span class="line">                <span class="comment">// ä½¿å¤§çš„å€¼å˜å°</span></span><br><span class="line">                right--;</span><br><span class="line">            &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="comment">// ä½¿å°çš„å€¼å˜å¤§</span></span><br><span class="line">                left++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="keyword">int</span>[]&#123;-<span class="number">1</span>, -<span class="number">1</span>&#125;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="åè½¬æ•°ç»„"><a href="#åè½¬æ•°ç»„" class="headerlink" title="åè½¬æ•°ç»„"></a>åè½¬æ•°ç»„</h4><p>è¿™ä¸ªå°±å¾ˆç®€å•äº†ï¼Œç›´æ¥ä¸Šä»£ç </p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">reverseString</span><span class="params">(<span class="keyword">int</span>[] arr)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> left = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> right = arr.length - <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span> (left &lt; right) &#123;</span><br><span class="line">        <span class="comment">// äº¤æ¢ arr[left] å’Œ arr[right]</span></span><br><span class="line">        <span class="keyword">int</span> temp = arr[left];</span><br><span class="line">        arr[left++] = arr[right];</span><br><span class="line">        arr[right--] = temp;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="æ»‘åŠ¨çª—å£"><a href="#æ»‘åŠ¨çª—å£" class="headerlink" title="æ»‘åŠ¨çª—å£"></a>æ»‘åŠ¨çª—å£</h4><p>è¿™ä¸ªå°±æ˜¯å·¦å³æŒ‡é’ˆçš„é‡å¤´æˆäº†ï¼ŒæŒæ¡äº†è¿™ä¸ªæ–¹æ³•åï¼Œå¯ä»¥è§£å†³ä¸€å¤§ç±»å­å­—ç¬¦ä¸²åŒ¹é…çš„é—®é¢˜ï¼</p><p>è¿™ä¸ªæ”¾åœ¨ä¸‹ä¸€ç¯‡æ–‡ç« ä¸­è¯¦è§£</p>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
          <category> æŠ€å·§ç¯‡ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç®—æ³• </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è®¾è®¡æ¨¡å¼-è§‚å¯Ÿè€…æ¨¡å¼</title>
      <link href="/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/2022/03/02/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E8%A7%82%E5%AF%9F%E8%80%85%E6%A8%A1%E5%BC%8F/"/>
      <url>/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/2022/03/02/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E8%A7%82%E5%AF%9F%E8%80%85%E6%A8%A1%E5%BC%8F/</url>
      
        <content type="html"><![CDATA[<h2 id="è§‚å¯Ÿè€…æ¨¡å¼"><a href="#è§‚å¯Ÿè€…æ¨¡å¼" class="headerlink" title="è§‚å¯Ÿè€…æ¨¡å¼"></a>è§‚å¯Ÿè€…æ¨¡å¼</h2><p><strong>å®šä¹‰ï¼š</strong>å®šä¹‰äº†å¯¹è±¡ä¹‹é—´çš„ä¸€å¯¹å¤šä¾èµ–ï¼Œè®©å¤šä¸ªè§‚å¯Ÿè€…ç›‘å¬åŒä¸€ä¸ªå¯¹è±¡çš„è¡Œä¸ºï¼Œå½“è¯¥è¡Œä¸ºå‘ç”Ÿçš„æ—¶å€™ï¼Œåˆ™åšå‡ºä¸€å®šçš„åŠ¨ä½œ</p><p>å¤©æ°”å˜åŒ–äº†ï¼Œå‘å‡ºæç¤º</p><p>å¤©æ°”æ¨¡å‹</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="meta">@NoArgsConstructor</span></span><br><span class="line"><span class="meta">@AllArgsConstructor</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Weather</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String address;</span><br><span class="line">    <span class="keyword">private</span> Integer temperature;</span><br><span class="line">    <span class="keyword">private</span> List&lt;Observer&gt; observers;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addObserver</span><span class="params">(Observer observer)</span></span>&#123;</span><br><span class="line">        observers.add(observer);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">removeObserver</span><span class="params">(Observer observer)</span></span>&#123;</span><br><span class="line">        observers.remove(observer);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">changeTemperature</span><span class="params">(<span class="keyword">int</span> temperature)</span></span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.temperature=temperature;</span><br><span class="line">        <span class="keyword">for</span> (Observer observer : observers) &#123;</span><br><span class="line">            observer.update(temperature);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è§‚å¯Ÿè€…çš„æ¥å£</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Observer</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">update</span><span class="params">(Integer temperature)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>é‚®ä»¶çš„è§‚å¯Ÿè€…</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">EmailObserver</span> <span class="keyword">implements</span> <span class="title">Observer</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">update</span><span class="params">(Integer temperature)</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;å‘é‚®ä»¶å‘Šè¯‰ç”¨æˆ·å¤©æ°”æ”¹å˜äº†ï¼Œå˜ä¸ºäº†&quot;</span>+temperature);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>çŸ­ä¿¡è§‚å¯Ÿè€…</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MsgObserver</span> <span class="keyword">implements</span> <span class="title">Observer</span></span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">update</span><span class="params">(Integer temperature)</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;å‘çŸ­ä¿¡å‘Šè¯‰ç”¨æˆ·æ°”æ¸©æ”¹å˜äº†ï¼Œå˜ä¸ºäº†&quot;</span>+temperature);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> è®¾è®¡æ¨¡å¼ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> è®¾è®¡æ¨¡å¼ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è®¾è®¡æ¨¡å¼-æ¨¡æ¿æ–¹æ³•æ¨¡å¼</title>
      <link href="/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/2022/03/02/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E6%A8%A1%E6%9D%BF%E6%96%B9%E6%B3%95%E6%A8%A1%E5%BC%8F/"/>
      <url>/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/2022/03/02/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E6%A8%A1%E6%9D%BF%E6%96%B9%E6%B3%95%E6%A8%A1%E5%BC%8F/</url>
      
        <content type="html"><![CDATA[<h2 id="æ¨¡æ¿æ–¹æ³•æ¨¡å¼"><a href="#æ¨¡æ¿æ–¹æ³•æ¨¡å¼" class="headerlink" title="æ¨¡æ¿æ–¹æ³•æ¨¡å¼"></a>æ¨¡æ¿æ–¹æ³•æ¨¡å¼</h2><p><strong>å®šä¹‰ï¼š</strong>å®šä¹‰ä¸€ä¸ªæ“ä½œçš„ç®—æ³•éª¨æ¶ï¼Œå°†ä¸€äº›æ“ä½œå»¶è¿Ÿåˆ°å­ç±»å®ç°ã€‚Template Methodä½¿å¾—å­ç±»å¯ä»¥åœ¨ä¸æ”¹å˜ç®—æ³•ç»“æ„çš„åŸºç¡€ä¸Šå³å¯é‡æ–°å®šä¹‰ç®—æ³•çš„æŸäº›ç‰¹å®šæ­¥éª¤</p><p>å…¶å®è¯¥æ¨¡å¼å¾ˆç®€å•ï¼Œå°±æ˜¯å®šä¹‰ä¸€ä¸ªæŠ½è±¡ç±»ï¼Œç„¶åå®šä¹‰ä¸€ä¸ªæŠ½è±¡æ–¹æ³•ç»™å­ç±»å»å®ç°ã€‚</p><p>å¤„ç†å™¨</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">Handler</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">operation</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;åšå‰æœŸå‡†å¤‡&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;å‡†å¤‡å°±ç»ªï¼Œå¼€å§‹å¤„ç†&quot;</span>);</span><br><span class="line">        doHandler();</span><br><span class="line">        System.out.println(<span class="string">&quot;å¤„ç†å®Œæ¯•&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">doHandler</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å­—ç¬¦å¤„ç†å™¨</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CharHandler</span> <span class="keyword">extends</span> <span class="title">Handler</span></span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">doHandler</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;å°†å­—ç¬¦ä¸²è½¬åŒ–&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å­—ç¬¦ä¸²å¤„ç†å™¨</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">StringHandler</span> <span class="keyword">extends</span> <span class="title">Handler</span></span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">doHandler</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;å­—ç¬¦ä¸²è½¬åŒ–&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> è®¾è®¡æ¨¡å¼ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> è®¾è®¡æ¨¡å¼ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è®¾è®¡æ¨¡å¼-ç­–ç•¥æ¨¡å¼</title>
      <link href="/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/2022/03/02/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E7%AD%96%E7%95%A5%E6%A8%A1%E5%BC%8F/"/>
      <url>/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/2022/03/02/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E7%AD%96%E7%95%A5%E6%A8%A1%E5%BC%8F/</url>
      
        <content type="html"><![CDATA[<h2 id="ç­–ç•¥æ¨¡å¼"><a href="#ç­–ç•¥æ¨¡å¼" class="headerlink" title="ç­–ç•¥æ¨¡å¼"></a>ç­–ç•¥æ¨¡å¼</h2><p><strong>å®šä¹‰ï¼š</strong>å®šä¹‰äº†ç®—æ³•æ—ï¼Œåˆ†åˆ«å°è£…èµ·æ¥ï¼Œè®©ä»–ä»¬ä¹‹é—´å¯ä»¥äº’ç›¸æ›¿æ¢ï¼Œæ­¤æ¨¡å¼çš„å˜åŒ–ç‹¬ç«‹äºç®—æ³•çš„ä½¿ç”¨è€…</p><p>æœ‰ä¸€ä¸ªç”µå•†å¹³å°ï¼Œå½“ç”¨æˆ·æ¶ˆè´¹æ»¡1000å…ƒï¼Œæ ¹æ®vipç­‰çº§å¯äº«å—ä¼˜æƒ </p><ul><li>æ™®é€šä¼šå‘˜ ä¸æ‰“æŠ˜</li><li>ç™½é“¶ä¼šå‘˜             ä¼˜æƒ 50å…ƒ</li><li>é»„é‡‘ä¼šå‘˜             æ‰“8æŠ˜</li><li>ç™½é‡‘ä¼šå‘˜             ä¼˜æƒ 50å…ƒï¼Œå†æ‰“ä¸ƒæŠ˜</li></ul><h3 id="Version-1-0"><a href="#Version-1-0" class="headerlink" title="Version 1.0"></a>Version 1.0</h3><p>ä¼šå‘˜ç±»å‹æšä¸¾</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">enum</span> <span class="title">UserType</span> </span>&#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * ORDINARY_VIP: æ™®é€šä¼šå‘˜</span></span><br><span class="line"><span class="comment">     * SILVER_VIP: ç™½é“¶ä¼šå‘˜</span></span><br><span class="line"><span class="comment">     * GOLD_VIPï¼š é»„é‡‘ä¼šå‘˜</span></span><br><span class="line"><span class="comment">     * PLATINUM_VIPï¼šç™½é‡‘ä¼šå‘˜</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    ORDINARY_VIP(<span class="number">1</span>),</span><br><span class="line">    SILVER_VIP(<span class="number">2</span>),</span><br><span class="line">    GOLD_VIP(<span class="number">3</span>),</span><br><span class="line">    PLATINUM_VIP(<span class="number">4</span>);</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> code;</span><br><span class="line">    UserType(<span class="keyword">int</span> code) &#123;</span><br><span class="line">        <span class="keyword">this</span>.code = code;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getCode</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> code;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">double</span> <span class="title">getResult</span><span class="params">(<span class="keyword">long</span> money, <span class="keyword">int</span> type)</span></span>&#123;</span><br><span class="line">    <span class="keyword">double</span> result = money;</span><br><span class="line">    <span class="keyword">if</span>(money &gt;= <span class="number">1000</span>)&#123;</span><br><span class="line">        <span class="keyword">if</span>(type == UserType.SILVER_VIP.getCode())&#123;</span><br><span class="line">            result = money - <span class="number">50</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(type == UserType.GOLD_VIP.getCode())&#123;</span><br><span class="line">            result = money * <span class="number">0.8</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(type == UserType.PLATNUM_VIP.getCode())&#123;</span><br><span class="line">            result = (money - <span class="number">50</span>)*<span class="number">0.7</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸‹é¢ä½¿ç”¨ç­–ç•¥æ¨¡å¼æ¥ä¼˜åŒ–</p><h3 id="Version-1-2"><a href="#Version-1-2" class="headerlink" title="Version 1.2"></a>Version 1.2</h3><p>ç­–ç•¥æ¥å£</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Strategy</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">double</span> <span class="title">compute</span><span class="params">(<span class="keyword">long</span> money)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ™®é€šä¼šå‘˜</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">OrdinaryStrategy</span> <span class="keyword">implements</span> <span class="title">Strategy</span></span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">double</span> <span class="title">compute</span><span class="params">(<span class="keyword">long</span> money)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> money;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>é»„é‡‘ä¼šå‘˜</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">GoldStrategy</span> <span class="keyword">implements</span> <span class="title">Strategy</span></span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">double</span> <span class="title">compute</span><span class="params">(<span class="keyword">long</span> money)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> money*<span class="number">0.8</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç™½é‡‘ä¼šå‘˜</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">PlatinumStrategy</span> <span class="keyword">implements</span> <span class="title">Strategy</span></span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">double</span> <span class="title">compute</span><span class="params">(<span class="keyword">long</span> money)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> (money-<span class="number">50</span>)*<span class="number">0.7</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç™½é“¶ä¼šå‘˜</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SilverStrategy</span> <span class="keyword">implements</span> <span class="title">Strategy</span></span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">double</span> <span class="title">compute</span><span class="params">(<span class="keyword">long</span> money)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> money-<span class="number">50</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">double</span> <span class="title">getResult</span><span class="params">(<span class="keyword">long</span> money,<span class="keyword">int</span> type)</span></span>&#123;</span><br><span class="line">    <span class="keyword">double</span> result = money;</span><br><span class="line">    <span class="keyword">if</span>(money&lt;<span class="number">1000</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(type== UserType.ORDINARY_VIP.getCode())&#123;</span><br><span class="line">        result = <span class="keyword">new</span> OrdinaryStrategy().compute(money);</span><br><span class="line">    &#125;<span class="keyword">else</span> <span class="keyword">if</span>(type == UserType.SILVER_VIP.getCode())&#123;</span><br><span class="line">        result = <span class="keyword">new</span> SilverStrategy().compute(money);</span><br><span class="line">    &#125;<span class="keyword">else</span> <span class="keyword">if</span>(type == UserType.GOLD_VIP.getCode())&#123;</span><br><span class="line">        result = <span class="keyword">new</span> GoldStrategy().compute(money);</span><br><span class="line">    &#125;<span class="keyword">else</span> <span class="keyword">if</span>(type==UserType.PLATINUM_VIP.getCode())&#123;</span><br><span class="line">        result = <span class="keyword">new</span> PlatinumStrategy().compute(money);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Version-2-1"><a href="#Version-2-1" class="headerlink" title="Version 2.1"></a>Version 2.1</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">StrategyFactory</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> Map&lt;Integer,Strategy&gt; map;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="title">StrategyFactory</span><span class="params">()</span></span>&#123;</span><br><span class="line">        map = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        init();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">init</span><span class="params">()</span></span>&#123;</span><br><span class="line">        map.put(UserType.ORDINARY_VIP.getCode(), <span class="keyword">new</span> OrdinaryStrategy());</span><br><span class="line">        map.put(UserType.SILVER_VIP.getCode(), <span class="keyword">new</span> SilverStrategy());</span><br><span class="line">        map.put(UserType.GOLD_VIP.getCode(),<span class="keyword">new</span> GoldStrategy());</span><br><span class="line">        map.put(UserType.PLATINUM_VIP.getCode(),<span class="keyword">new</span> PlatinumStrategy());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">double</span> <span class="title">getResult</span><span class="params">(<span class="keyword">int</span> userType, <span class="keyword">long</span> money)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(money&lt;<span class="number">1000</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> money;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(StrategyFactory.map.get(userType)==<span class="keyword">null</span>)&#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException(<span class="string">&quot;å‚æ•°é”™è¯¯ï¼Œæ— æ­¤ç±»å‹çš„ç”¨æˆ·&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> map.get(userType).compute(money);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™é‡Œçš„å·¥å‚è¿˜å¯ä»¥é€šè¿‡è¿™ç§æ–¹å¼æ¥å®ç°</p><h3 id="Version-2-2"><a href="#Version-2-2" class="headerlink" title="Version 2.2"></a>Version 2.2</h3><p>ç­–ç•¥æ¥å£</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Strategy</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">double</span> <span class="title">compute</span><span class="params">(<span class="keyword">long</span> money)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">getType</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>é»„é‡‘ä¼šå‘˜</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">GoldStrategy</span> <span class="keyword">implements</span> <span class="title">Strategy</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">double</span> <span class="title">compute</span><span class="params">(<span class="keyword">long</span> money)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> money*<span class="number">0.8</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getType</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> UserType.GOLD_VIP.getCode();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ™®é€šä¼šå‘˜</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">OrdinaryStrategy</span> <span class="keyword">implements</span> <span class="title">Strategy</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">double</span> <span class="title">compute</span><span class="params">(<span class="keyword">long</span> money)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> money;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getType</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> UserType.ORDINARY_VIP.getCode();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç™½é‡‘ä¼šå‘˜</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">PlatinumStrategy</span> <span class="keyword">implements</span> <span class="title">Strategy</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">double</span> <span class="title">compute</span><span class="params">(<span class="keyword">long</span> money)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> (money-<span class="number">50</span>)*<span class="number">0.7</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getType</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> UserType.PLATINUM_VIP.getCode();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç™½é“¶ä¼šå‘˜</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SilverStrategy</span> <span class="keyword">implements</span> <span class="title">Strategy</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">double</span> <span class="title">compute</span><span class="params">(<span class="keyword">long</span> money)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> money-<span class="number">50</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getType</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> UserType.SILVER_VIP.getCode();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç­–ç•¥å·¥å‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">StrategyFactory</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> Map&lt;Integer, Strategy&gt; map;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">StrategyFactory</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        map=<span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        init();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">init</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        List&lt;Strategy&gt; strategies=<span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        strategies.add(<span class="keyword">new</span> GoldStrategy());</span><br><span class="line">        strategies.add(<span class="keyword">new</span> OrdinaryStrategy());</span><br><span class="line">        strategies.add(<span class="keyword">new</span> PlatinumStrategy());</span><br><span class="line">        strategies.add(<span class="keyword">new</span> SilverStrategy());</span><br><span class="line">        map=strategies.stream().collect(Collectors.toMap(Strategy::getType,strategy -&gt; strategy));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">double</span> <span class="title">getResult</span><span class="params">(<span class="keyword">int</span> userType, <span class="keyword">long</span> money)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(money&lt;<span class="number">1000</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> money;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(StrategyFactory.map.get(userType)==<span class="keyword">null</span>)&#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException(<span class="string">&quot;å‚æ•°é”™è¯¯ï¼Œæ— æ­¤ç±»å‹çš„ç”¨æˆ·&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> map.get(userType).compute(money);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> è®¾è®¡æ¨¡å¼ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> è®¾è®¡æ¨¡å¼ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç®—æ³•-äºŒåˆ†æŸ¥æ‰¾çš„å¤šç§å†™æ³•</title>
      <link href="/%E7%AE%97%E6%B3%95/%E6%8A%80%E5%B7%A7%E7%AF%87/2022/03/02/%E7%AE%97%E6%B3%95-%E4%BA%8C%E5%88%86%E6%9F%A5%E6%89%BE%E7%9A%84%E9%AD%94%E9%AC%BC%E7%BB%86%E8%8A%82%E6%8E%A2%E7%A9%B6/"/>
      <url>/%E7%AE%97%E6%B3%95/%E6%8A%80%E5%B7%A7%E7%AF%87/2022/03/02/%E7%AE%97%E6%B3%95-%E4%BA%8C%E5%88%86%E6%9F%A5%E6%89%BE%E7%9A%84%E9%AD%94%E9%AC%BC%E7%BB%86%E8%8A%82%E6%8E%A2%E7%A9%B6/</url>
      
        <content type="html"><![CDATA[<h2 id="äºŒåˆ†æŸ¥æ‰¾"><a href="#äºŒåˆ†æŸ¥æ‰¾" class="headerlink" title="äºŒåˆ†æŸ¥æ‰¾"></a>äºŒåˆ†æŸ¥æ‰¾</h2><p>äºŒåˆ†æŸ¥æ‰¾ä½œä¸ºæ•°ç»„çš„åŸºæ“ï¼Œè‚¯å®šæ˜¯è¦ç‰¢ç‰¢æŒæ¡çš„ï¼Œå…¶æ€æƒ³ååˆ†ç®€å•ï¼Œä½†æ˜¯å¯¹äºç»†èŠ‚çš„å¤„ç†ï¼Œå°±å¯ä»¥çœ‹å‡ºä½ å¯¹äºŒåˆ†ç®—æ³•çš„ç†è§£æ·±åˆ»ä¸å¦ã€‚</p><p>å¦‚æœæ²¡æœ‰çœŸæ­£çš„ç†è§£ç»†èŠ‚å¤„çš„å†…æ¶µï¼ŒäºŒåˆ†æŸ¥æ‰¾ç®—æ³•çš„ç¼–å†™å°±æ˜¯ç„å­¦ç¼–å†™ï¼Œè¿™é‡ŒåŠ ä¸åŠ ç­‰å·å‘¢ï¼Ÿè¿™é‡Œæ˜¯+1è¿˜æ˜¯ä¸å˜å‘¢ï¼Ÿæœ€åè¯¥è¿”å›å•¥å‘¢ï¼Ÿ</p><p>æ¥ä¸‹æ¥æˆ‘ä»¬å°±æ¥çœ‹çœ‹è¿™äº›ç»†èŠ‚è¯¥å¦‚ä½•å¤„ç†</p><p>ä¸‹é¢ä½¿ç”¨ä¸‰ä¸ªäºŒåˆ†æŸ¥æ‰¾ä½¿ç”¨çš„åœºæ™¯åšå‡ºåˆ†æï¼š<strong>å¯»æ‰¾ä¸€ä¸ªæ•°</strong>ã€<strong>å¯»æ‰¾å·¦ä¾§è¾¹ç•Œ</strong>ã€<strong>å¯»æ‰¾å³ä¾§è¾¹ç•Œ</strong></p><h3 id="äºŒåˆ†æŸ¥æ‰¾çš„éª¨æ¶"><a href="#äºŒåˆ†æŸ¥æ‰¾çš„éª¨æ¶" class="headerlink" title="äºŒåˆ†æŸ¥æ‰¾çš„éª¨æ¶"></a>äºŒåˆ†æŸ¥æ‰¾çš„éª¨æ¶</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">binarySearch</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> target)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> left = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> right = ..;<span class="comment">// nums.length-1è¿˜æ˜¯nums.length</span></span><br><span class="line">    <span class="keyword">int</span> mid;</span><br><span class="line">    <span class="keyword">while</span>(left..right)&#123;<span class="comment">// &lt;=è¿˜æ˜¯&lt;</span></span><br><span class="line">        mid = (left + right) &gt;&gt; <span class="number">1</span>;<span class="comment">// (right - left) / 2 + left(left + right) &gt;&gt; 1è¿˜æ˜¯ (right + left) / 2</span></span><br><span class="line">        <span class="keyword">if</span>(nums[mid] == target)&#123;</span><br><span class="line">            .. = ..; <span class="comment">// rightè¿˜æ˜¯left  mid-1è¿˜æ˜¯mid</span></span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(target &lt; nums[mid])&#123;</span><br><span class="line">            right = ..; <span class="comment">// mid-1è¿˜æ˜¯mid</span></span><br><span class="line">        &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">            left = ..; <span class="comment">// mid+1 </span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ..;<span class="comment">// leftæˆ–è€…è¦åšä»€ä¹ˆå¤„ç†</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æˆ–è®¸ä½ ç»å¸¸çœ‹è§ä¸€äº›ä»£ç ä¸ä¼šå°†ç­‰äºçš„æƒ…å†µå•ç‹¬åˆ—å‡ºæ¥ï¼Œä½†æ˜¯æˆ‘è§‰å¾—å¯¹äºäºŒåˆ†æŸ¥æ‰¾çš„åˆ†æï¼Œå°†ç­‰äºçš„æƒ…å†µå•ç‹¬åˆ†ç¦»å‡ºæ¥ï¼Œä¼šæ›´æœ‰åˆ©äºç†è§£</p><p>ç­‰åˆ°å½»åº•ç†è§£åï¼Œéšä¾¿æ€ä¹ˆå†™éƒ½ä¸ä¼šå°‘æœç´¢åŒºé—´çš„æ—¶å€™ï¼Œé‚£å°±éšä¾¿åˆå¹¶è¯­å¥äº†</p><p>ä¸Šè¿°éª¨æ¶ä¸­<code>..</code>å‡ºç°çš„åœ°æ–¹å°±æ˜¯æˆ‘ä»¬éœ€è¦å»ç¢ç£¨çš„ç»†èŠ‚ä¹‹å¤„äº†ï¼Œä¹ä¸€çœ‹ï¼Œå…¨æ˜¯ç»†èŠ‚ï¼Œæ‰€ä»¥å«é­”é¬¼ç»†èŠ‚æ¢ç©¶</p><p>å…ˆè§£å†³æœ€å¥½è§£å†³çš„ä¸€ä¸ªç»†èŠ‚</p><p>å¾ˆå¤šäººéƒ½åœ¨LeetCodeå®˜ç½‘ä¸­çœ‹åˆ°æœ‰æ—¶å€™å®˜ç½‘å¯¹äºä¸­é—´å€¼çš„å–å€¼</p><p>æœ‰æ—¶å€™ä¼šä½¿ç”¨<code>(right - left) / 2 + left</code></p><p>æœ‰æ—¶å€™ä¼šä½¿ç”¨<code>(left + right) &gt;&gt; 1</code></p><p>æœ‰æ—¶å€™çœ‹è§åˆ«äººå†™çš„ä»£ç ä¸­åˆæ˜¯<code>(right + left) / 2</code>ï¼Œè‚¯å®šä¼šå¾ˆè¿·ç³Šï¼Œè¿™ä¸‰è€…çš„è®¡ç®—åˆ°åº•æœ‰ä»€ä¹ˆä¸åŒä¹‹å¤„å‘¢ï¼Ÿ</p><p><code>(right - left) / 2 + left</code>è¿™ç§å†™æ³•æ˜¯ä¸ºäº†é˜²æ­¢<code>(left+right)</code>å› ä¸ºæ•°æ®è¿‡å¤§å¯¼è‡´æº¢å‡ºï¼Œå¯¼è‡´midè®¡ç®—é”™è¯¯ï¼Œ</p><p><code>(left + right) &gt;&gt; 1</code>è¿™æ˜¯ä½è¿ç®—ï¼Œå¤„ç†æ•ˆç‡ä¼šé«˜ä¸€ç‚¹</p><p><code>(right + left) / 2</code>è¿™å°±æ˜¯æ­£å¸¸å†™æ³•ï¼Œä¸€èˆ¬ä¹Ÿä¸ä¼šå‡ºé”™</p><p>æ¥ä¸‹æ¥æŒ‰ç…§äºŒåˆ†æŸ¥æ‰¾çš„å¸¸è§ä½¿ç”¨åœºæ™¯æ¥é€ä¸ªåšå‡ºåˆ†æ</p><h3 id="æŸ¥æ‰¾ä¸€ä¸ªæ•°"><a href="#æŸ¥æ‰¾ä¸€ä¸ªæ•°" class="headerlink" title="æŸ¥æ‰¾ä¸€ä¸ªæ•°"></a>æŸ¥æ‰¾ä¸€ä¸ªæ•°</h3><p><strong>åœºæ™¯1ï¼šæŸ¥æ‰¾ä¸€ä¸ªæ•°ï¼Œå­˜åœ¨è¿”å›ç´¢å¼•ï¼Œä¸å­˜åœ¨è¿”å›-1</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">binarySearch</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> target)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> left = <span class="number">0</span>; </span><br><span class="line">    <span class="keyword">int</span> right = nums.length - <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">int</span> mid;</span><br><span class="line">    <span class="comment">// [left,right]</span></span><br><span class="line">    <span class="keyword">while</span>(left &lt;= right) &#123;</span><br><span class="line">        mid = left + (right - left) / <span class="number">2</span>;</span><br><span class="line">        <span class="keyword">if</span>(nums[mid] == target)&#123;</span><br><span class="line">            <span class="keyword">return</span> mid; </span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (nums[mid] &lt; target)&#123;</span><br><span class="line">            left = mid + <span class="number">1</span>; </span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (nums[mid] &gt; target)&#123;</span><br><span class="line">            right = mid - <span class="number">1</span>; </span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol><li><strong>å¾ªç¯æ¡ä»¶æ˜¯<code>left &lt;= right</code>è€Œä¸æ˜¯<code>left &lt; right</code>ï¼Ÿ</strong></li></ol><p>è¿™é‡Œæˆ‘ä»¬è¦è¯´ä¸€ä¸‹ä»€ä¹ˆæ—¶å€™åº”è¯¥é€€å‡ºå¾ªç¯ï¼Œå°±æ˜¯å½“æˆ‘æ‰€æœ‰çš„å…ƒç´ éƒ½æœç´¢å®Œæˆä¹‹åï¼ˆå³æœç´¢åŒºé—´é‡Œé¢æ²¡æœ‰å…ƒç´ çš„æ—¶å€™ï¼‰ï¼Œæˆ–è€…æ˜¯æ‰¾åˆ°äº†ç›®æ ‡å€¼çš„æ—¶å€™å¯ä»¥ç›´æ¥ç»ˆæ­¢ï¼Œè¿”å›ç»“æœã€‚</p><p>å½“rightèµ‹å€¼ä¸º<code>nums.length - 1</code>ï¼Œåˆ™æœç´¢åŒºé—´ä¸º<code>[left,right]</code>ï¼Œæ‰€æœ‰å…ƒç´ æœç´¢å®Œæˆçš„æ¡ä»¶åº”è¯¥æ˜¯<code>left==right+1</code>ï¼Œå³æœç´¢åŒºé—´ä¸º<code>[right+1,right]</code>ï¼Œç¬¦åˆè¦æ±‚ã€‚å¦‚æœå¾ªç¯é€€å‡ºæ¡ä»¶æ”¹ä¸º <code>left&lt;right</code>ï¼Œåˆ™é€€å‡ºå¾ªç¯çš„æ—¶å€™ï¼Œæœç´¢åŒºé—´ä¸º<code>[left,right]</code>ï¼Œä¼šç¼ºå°‘æœç´¢ç¬¬leftä¸ªå…ƒç´ ï¼Œä¸ç¬¦åˆè¦æ±‚</p><p>å¦‚æœ**rightèµ‹å€¼ä¸º<code>nums.length</code>**ï¼Œåˆ™æœç´¢åŒºé—´ä¸º<code>[left,right)</code>ï¼Œæ‰€æœ‰å…ƒç´ æœç´¢å®Œæˆçš„æ¡ä»¶åº”è¯¥æ˜¯<code>left==right</code>ï¼Œå³æœç´¢åŒºé—´ä¸º<code>[left,right)</code></p><ol start="2"><li><strong>å½“<code>nums[mid] &gt; target</code>çš„æ—¶å€™ï¼Œä¸ºä»€ä¹ˆæ˜¯<code>right = mid - 1; </code>è€Œä¸æ˜¯<code>right = mid; </code>ï¼Ÿ</strong></li></ol><p>è¿˜æ˜¯å›åˆ°æœç´¢åŒºé—´çš„é—®é¢˜ä¸Šï¼Œå½“æˆ‘å‘ç°å½“å‰è¿™ä¸ªå…ƒç´ ä¸targetä¸ç­‰è€Œæ˜¯å¤§äºtargetï¼Œé‚£ä¹ˆæˆ‘åªéœ€è¦æœç´¢å·¦è¾¹åŒºé—´ï¼Œå³å°†<code>[left,right]</code>åˆ†å‰²ä¸ºå·¦è¾¹åŒºé—´<code>[left,mid-1]</code>å’Œå³è¾¹åŒºé—´<code>[mid+1,right]</code>ï¼Œæ‰€ä»¥ä¸‹ä¸€æ­¥åº”è¯¥å°†<code>mid-1</code>èµ‹å€¼ç»™right</p><ol start="3"><li><strong>æ­¤ç®—æ³•çš„ç”¨é€”</strong></li></ol><p>è¿™ç§æ–¹æ³•åªå¯ä»¥åœ¨æ‰¾åˆ°ç›®æ ‡å€¼çš„æƒ…å†µä¸‹è¿”å›ç´¢å¼•ï¼Œä½†æ˜¯å½“numsä¸º<code>[1,2,2,2,4]</code>çš„æ—¶å€™ï¼Œè¿”å›çš„å€¼æ˜¯2ï¼Œæ²¡é”™ï¼Œä½†æ˜¯è¿™æ ·å¯èƒ½å°±æ— æ³•æ»¡è¶³æˆ‘ä»¬çš„éœ€æ±‚äº†ï¼Œåªèƒ½åœ¨æ•°ç»„æ˜¯ä¸¥æ ¼é€’å¢çš„æƒ…å†µä¸‹ä½¿ç”¨ã€‚</p><p>å¦‚æœåœºæ™¯å˜ä¸ºï¼šæŸ¥æ‰¾ä¸€ä¸ªæ•°ï¼Œå¦‚æœæ‰¾åˆ°åˆ™è¿”å›ç´¢å¼•ä½ç½®ï¼Œå¦‚æœæ‰¾ä¸åˆ°ï¼Œåˆ™è¿”å›ç›®æ ‡å€¼æ’å…¥æ•°ç»„çš„ä½ç½®</p><p>è¿™ä¸ªæ—¶å€™å…¶å®åªè¦æœ€åè¿”å›leftå³å¯</p><h3 id="è¿”å›å·¦è¾¹ç•Œ"><a href="#è¿”å›å·¦è¾¹ç•Œ" class="headerlink" title="è¿”å›å·¦è¾¹ç•Œ"></a>è¿”å›å·¦è¾¹ç•Œ</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">binarySearch</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> target)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> left = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> right = nums.length - <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">int</span> mid;</span><br><span class="line">    <span class="comment">// [left,right]</span></span><br><span class="line">    <span class="keyword">while</span> (left &lt;= right) &#123;</span><br><span class="line">        mid = left + (right - left) / <span class="number">2</span>;</span><br><span class="line">        <span class="keyword">if</span> (nums[mid] == target) &#123;</span><br><span class="line">            right = mid - <span class="number">1</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (nums[mid] &lt; target) &#123;</span><br><span class="line">            left = mid + <span class="number">1</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (nums[mid] &gt; target) &#123;</span><br><span class="line">            right = mid - <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (left &gt;= nums.length || nums[left] != target) &#123;</span><br><span class="line">        <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> left;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol><li><strong>ä¸ºä»€ä¹ˆæœ€åè¿”å›çš„æ—¶å€™è¦åšå‡ºåˆ¤æ–­ï¼Ÿ</strong></li></ol><p>å½“ç›®æ ‡å…ƒç´ æ¯”æ‰€æœ‰çš„å€¼éƒ½å°çš„æ—¶å€™ï¼Œåœ¨æœ€åä¸€æ¬¡å¾ªç¯çš„æ—¶å€™ï¼Œ<code>right = mid - 1</code>ï¼Œleftæ­¤æ—¶ä¸º0ï¼Œä½†æ˜¯æ— æ³•ç¡®å®šè¯¥å…ƒç´ æ˜¯å¦ä¸ºç›®æ ‡å…ƒç´ ï¼Œæ‰€ä»¥éœ€è¦åšå‡ºåˆ¤æ–­ï¼Œ</p><p>å½“ç›®æ ‡å…ƒç´ æ¯”æ‰€æœ‰çš„å€¼éƒ½å¤§çš„æ—¶å€™ï¼Œåœ¨æœ€åä¸€æ¬¡å¾ªç¯çš„æ—¶å€™ï¼Œ<code>left= mid + 1</code>ï¼Œleftæ­¤æ—¶ä¸ºæ•°ç»„é•¿åº¦ï¼Œè¿™æ—¶å€™åˆ™è¯´æ˜ï¼Œè¯¥å…ƒç´ åœ¨æ­¤æ•°ç»„ä¸­ä¸å­˜åœ¨ï¼Œä¹Ÿè¦åšå‡ºåˆ¤æ–­</p><ol start="2"><li><strong>ä¸ºä»€ä¹ˆæ‰¾åˆ°çš„ä¸€å®šæ˜¯å·¦è¾¹ç•Œï¼Ÿ</strong></li></ol><p>å› ä¸ºè¿™ä¸€æ®µä»£ç </p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(nums[mid] == target)&#123;</span><br><span class="line">    right= mid - <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å½“æ•°ç»„å…ƒç´ ç­‰äºç›®æ ‡å…ƒç´ çš„æ—¶å€™ï¼Œä¸ç€æ€¥è¿”å›ï¼Œè€Œæ˜¯ç¼©å°æŸ¥æ‰¾èŒƒå›´ã€‚å› ä¸ºéœ€è¦æŸ¥æ‰¾å·¦è¾¹ç•Œï¼Œæ‰€ä»¥éœ€è¦å‘å·¦è¾¹æ”¶ç¼©åŒºé—´</p><ol start="3"><li><strong>è¿™é‡Œé¢whileçš„å¾ªç¯æ¡ä»¶å¯ä»¥æ”¹ä¸º<code>left &lt; right</code>å—ï¼Ÿ</strong></li></ol><p>å½“ç„¶å¯ä»¥ï¼Œåªè¦ç†è§£äº†æœç´¢åŒºé—´ï¼Œåªè¦èƒ½å¤Ÿä¿è¯æ‰€æœ‰çš„å…ƒç´ éƒ½è¢«æŸ¥æ‰¾äº†ï¼Œæ€ä¹ˆå†™éƒ½å¯ä»¥ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">binarySearch</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> target)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> left = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> right = nums.length;</span><br><span class="line">    <span class="keyword">int</span> mid;</span><br><span class="line">    <span class="keyword">while</span> (left &lt; right) &#123;</span><br><span class="line">        mid = left + (right - left) / <span class="number">2</span>;</span><br><span class="line">        <span class="keyword">if</span> (nums[mid] == target) &#123;</span><br><span class="line">            right = mid;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (nums[mid] &lt; target) &#123;</span><br><span class="line">            left = mid + <span class="number">1</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (nums[mid] &gt; target) &#123;</span><br><span class="line">            right = mid;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// å¦‚æœtargetæ¯•numsæ‰€æœ‰çš„å€¼éƒ½å°ï¼Œåˆ™rightä¼šå˜æˆ-1,leftå°±æ˜¯0</span></span><br><span class="line">    <span class="comment">// å¦‚æœtargetæ¯”numsæ‰€æœ‰çš„å€¼éƒ½å¤§ï¼Œåˆ™leftä¼šå˜æˆnums.lengthï¼Œrightå°±æ˜¯nums.length-1</span></span><br><span class="line">    <span class="keyword">if</span> (left == nums.length || nums[left] != target) &#123;</span><br><span class="line">        <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> left;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å½“ç›®æ ‡å…ƒç´ æ¯”æ‰€æœ‰çš„å€¼éƒ½å¤§çš„æ—¶å€™ï¼Œåœ¨æœ€åä¸€æ¬¡å¾ªç¯çš„æ—¶å€™ï¼Œ<code>left= mid + 1</code>ï¼Œleftæ­¤æ—¶ä¸ºæ•°ç»„é•¿åº¦ï¼Œè¿™æ—¶å€™åˆ™è¯´æ˜ï¼Œè¯¥å…ƒç´ åœ¨æ­¤æ•°ç»„ä¸­ä¸å­˜åœ¨ï¼Œéœ€è¦å•ç‹¬åšå‡ºåˆ¤æ–­</p><p>å½“ç›®æ ‡å…ƒç´ æ¯”æ‰€æœ‰çš„å€¼éƒ½å°çš„æ—¶å€™ï¼Œåœ¨æœ€åä¸€æ¬¡å¾ªç¯çš„æ—¶å€™ï¼Œ<code>right = mid </code>ï¼Œleftæ­¤æ—¶ä¸º0ï¼Œä½†æ˜¯æ— æ³•ç¡®å®šè¯¥å…ƒç´ æ˜¯å¦ä¸ºç›®æ ‡å…ƒç´ ï¼Œæ‰€ä»¥éœ€è¦åšå‡ºåˆ¤æ–­ï¼Œ</p><h3 id="è¿”å›å³è¾¹ç•Œ"><a href="#è¿”å›å³è¾¹ç•Œ" class="headerlink" title="è¿”å›å³è¾¹ç•Œ"></a>è¿”å›å³è¾¹ç•Œ</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">binarySearch</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> target)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> left = <span class="number">0</span>; </span><br><span class="line">    <span class="keyword">int</span> right = nums.length - <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">int</span> mid;</span><br><span class="line">    <span class="keyword">while</span>(left &lt;= right) &#123;</span><br><span class="line">        mid = left + (right - left) / <span class="number">2</span>;</span><br><span class="line">        <span class="keyword">if</span>(nums[mid] == target)&#123;</span><br><span class="line">            left = mid + <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (nums[mid] &lt; target)&#123;</span><br><span class="line">            left = mid + <span class="number">1</span>; </span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (nums[mid] &gt; target)&#123;</span><br><span class="line">            right = mid - <span class="number">1</span>; </span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// å¦‚æœtargetæ¯”numsä¸­æ‰€æœ‰å…ƒç´ éƒ½å¤§ï¼Œleftåœ¨nums.length,rightåœ¨nums.length-1</span></span><br><span class="line">    <span class="comment">// targetæ¯”numsæ‰€æœ‰å…ƒç´ éƒ½å°ï¼Œleftåœ¨0ï¼Œrightæ˜¯-1</span></span><br><span class="line">    <span class="keyword">if</span> (left == <span class="number">0</span> || nums[left - <span class="number">1</span>] != target) &#123;</span><br><span class="line">        <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> left - <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol><li><strong>ä¸ºä»€ä¹ˆæœ€åè¿”å›çš„æ—¶å€™è¦åšå‡ºåˆ¤æ–­ï¼Ÿ</strong></li></ol><p>å½“ç›®æ ‡å…ƒç´ æ¯”æ‰€æœ‰çš„å€¼éƒ½å¤§çš„æ—¶å€™ï¼Œåœ¨æœ€åä¸€æ¬¡å¾ªç¯çš„æ—¶å€™ï¼Œ<code>left= mid + 1</code>ï¼Œleftæ­¤æ—¶ä¸ºæ•°ç»„é•¿åº¦ï¼Œè¿™æ—¶å€™åˆ™è¯´æ˜ï¼Œè¯¥å…ƒç´ åœ¨æ­¤æ•°ç»„ä¸­ä¸å­˜åœ¨ï¼Œä¹Ÿè¦åšå‡ºåˆ¤æ–­</p><p>å½“ç›®æ ‡å…ƒç´ æ¯”æ‰€æœ‰çš„å€¼éƒ½å°çš„æ—¶å€™ï¼Œåœ¨æœ€åä¸€æ¬¡å¾ªç¯çš„æ—¶å€™ï¼Œ<code>right = mid - 1</code>ï¼Œleftæ­¤æ—¶ä¸º0ï¼Œä½†æ˜¯æ— æ³•ç¡®å®šè¯¥å…ƒç´ æ˜¯å¦ä¸ºç›®æ ‡å…ƒç´ ï¼Œæ‰€ä»¥éœ€è¦åšå‡ºåˆ¤æ–­ï¼Œ</p><ol start="2"><li><strong>ä¸ºä»€ä¹ˆæ‰¾åˆ°çš„ä¸€å®šæ˜¯å³è¾¹ç•Œï¼Ÿ</strong></li></ol><p>å› ä¸ºè¿™ä¸€æ®µä»£ç </p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(nums[mid] == target)&#123;</span><br><span class="line">    left = mid + <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å½“æ•°ç»„å…ƒç´ ç­‰äºç›®æ ‡å…ƒç´ çš„æ—¶å€™ï¼Œä¸ç€æ€¥è¿”å›ï¼Œè€Œæ˜¯ç¼©å°æŸ¥æ‰¾èŒƒå›´ã€‚å› ä¸ºéœ€è¦æŸ¥æ‰¾å³è¾¹ç•Œï¼Œæ‰€ä»¥éœ€è¦å‘å³è¾¹æ”¶ç¼©åŒºé—´</p><ol start="3"><li><strong>å¦‚ä½•ä¿®æ”¹å¾ªç¯æ¡ä»¶ä¸º<code>left &lt; right</code>ï¼Ÿ</strong></li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">binarySearch</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> target)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> left = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> right = nums.length;</span><br><span class="line">    <span class="keyword">int</span> mid;</span><br><span class="line">    <span class="keyword">while</span> (left &lt; right) &#123;</span><br><span class="line">        mid = left + (right - left) / <span class="number">2</span>;</span><br><span class="line">        <span class="keyword">if</span> (nums[mid] == target) &#123;</span><br><span class="line">            left = mid + <span class="number">1</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (nums[mid] &lt; target) &#123;</span><br><span class="line">            left = mid + <span class="number">1</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (nums[mid] &gt; target) &#123;</span><br><span class="line">            right = mid;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// å½“targetæ¯”æ•°ç»„ä¸­æ‰€æœ‰å…ƒç´ éƒ½å°çš„æ—¶å€™ï¼Œrightå’Œleftéƒ½èµ°åˆ°äº†0çš„ä½ç½®</span></span><br><span class="line">    <span class="comment">// è¿™æ—¶å€™è¿™è¯´æ˜ï¼Œæ•°ç»„ä¸­ä¸å­˜åœ¨targetå…ƒç´ ï¼Œç›´æ¥è¿”å›0</span></span><br><span class="line">    <span class="keyword">if</span> (left == <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// å½“targetæ¯”æ•°ç»„æ‰€æœ‰å…ƒç´ éƒ½å¤§çš„æ—¶å€™ï¼Œrightå’Œleftéƒ½èµ°åˆ°äº†æ•°ç»„é•¿åº¦çš„ä½ç½®ï¼Œ</span></span><br><span class="line">    <span class="comment">// å¦‚æœæ•°ç»„æœ€åä¸€ä¸ªå…ƒç´ ä¸æ˜¯è¿™è¯´æ˜æ•°ç»„ä¸­æ²¡æœ‰targetå…ƒç´ </span></span><br><span class="line">    <span class="keyword">if</span> (nums[left - <span class="number">1</span>] != target) &#123;</span><br><span class="line">        <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> left - <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
          <category> æŠ€å·§ç¯‡ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç®—æ³• </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ã€34-Mediumã€‘åœ¨æ’åºæ•°ç»„ä¸­æŸ¥æ‰¾å…ƒç´ çš„ç¬¬ä¸€ä¸ªå’Œæœ€åä¸€ä¸ªä½ç½®</title>
      <link href="/%E7%AE%97%E6%B3%95/%E5%88%B7%E9%A2%98%E7%AF%87/2022/03/01/%E3%80%9034-Medium%E3%80%91%E5%9C%A8%E6%8E%92%E5%BA%8F%E6%95%B0%E7%BB%84%E4%B8%AD%E6%9F%A5%E6%89%BE%E5%85%83%E7%B4%A0%E7%9A%84%E7%AC%AC%E4%B8%80%E4%B8%AA%E5%92%8C%E6%9C%80%E5%90%8E%E4%B8%80%E4%B8%AA%E4%BD%8D%E7%BD%AE/"/>
      <url>/%E7%AE%97%E6%B3%95/%E5%88%B7%E9%A2%98%E7%AF%87/2022/03/01/%E3%80%9034-Medium%E3%80%91%E5%9C%A8%E6%8E%92%E5%BA%8F%E6%95%B0%E7%BB%84%E4%B8%AD%E6%9F%A5%E6%89%BE%E5%85%83%E7%B4%A0%E7%9A%84%E7%AC%AC%E4%B8%80%E4%B8%AA%E5%92%8C%E6%9C%80%E5%90%8E%E4%B8%80%E4%B8%AA%E4%BD%8D%E7%BD%AE/</url>
      
        <content type="html"><![CDATA[<h2 id="åœ¨æ’åºæ•°ç»„ä¸­æŸ¥æ‰¾å…ƒç´ çš„ç¬¬ä¸€ä¸ªå’Œæœ€åä¸€ä¸ªä½ç½®"><a href="#åœ¨æ’åºæ•°ç»„ä¸­æŸ¥æ‰¾å…ƒç´ çš„ç¬¬ä¸€ä¸ªå’Œæœ€åä¸€ä¸ªä½ç½®" class="headerlink" title="åœ¨æ’åºæ•°ç»„ä¸­æŸ¥æ‰¾å…ƒç´ çš„ç¬¬ä¸€ä¸ªå’Œæœ€åä¸€ä¸ªä½ç½®"></a>åœ¨æ’åºæ•°ç»„ä¸­æŸ¥æ‰¾å…ƒç´ çš„ç¬¬ä¸€ä¸ªå’Œæœ€åä¸€ä¸ªä½ç½®</h2><p>ç»™å®šä¸€ä¸ªæŒ‰ç…§å‡åºæ’åˆ—çš„æ•´æ•°æ•°ç»„ <code>nums</code>ï¼Œå’Œä¸€ä¸ªç›®æ ‡å€¼ <code>target</code>ã€‚æ‰¾å‡ºç»™å®šç›®æ ‡å€¼åœ¨æ•°ç»„ä¸­çš„å¼€å§‹ä½ç½®å’Œç»“æŸä½ç½®ã€‚</p><p>å¦‚æœæ•°ç»„ä¸­ä¸å­˜åœ¨ç›®æ ‡å€¼ <code>target</code>ï¼Œè¿”å› <code>[-1, -1]</code>ã€‚</p><p><strong>è¿›é˜¶ï¼š</strong></p><ul><li>ä½ å¯ä»¥è®¾è®¡å¹¶å®ç°æ—¶é—´å¤æ‚åº¦ä¸º <code>O(log n)</code> çš„ç®—æ³•è§£å†³æ­¤é—®é¢˜å—ï¼Ÿ</li></ul><p><strong>ç¤ºä¾‹ 1ï¼š</strong></p><figure class="highlight inform7"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šnums = <span class="comment">[5,7,7,8,8,10]</span>, target = 8</span><br><span class="line">è¾“å‡ºï¼š<span class="comment">[3,4]</span></span><br></pre></td></tr></table></figure><p><strong>ç¤ºä¾‹ 2ï¼š</strong></p><figure class="highlight inform7"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šnums = <span class="comment">[5,7,7,8,8,10]</span>, target = 6</span><br><span class="line">è¾“å‡ºï¼š<span class="comment">[-1,-1]</span></span><br></pre></td></tr></table></figure><p><strong>ç¤ºä¾‹ 3ï¼š</strong></p><figure class="highlight inform7"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šnums = <span class="comment">[]</span>, target = 0</span><br><span class="line">è¾“å‡ºï¼š<span class="comment">[-1,-1]</span></span><br></pre></td></tr></table></figure><p><strong>æç¤ºï¼š</strong></p><ul><li><code>0 &lt;= nums.length &lt;= 105</code></li><li><code>-109 &lt;= nums[i] &lt;= 109</code></li><li><code>nums</code> æ˜¯ä¸€ä¸ªéé€’å‡æ•°ç»„</li><li><code>-109 &lt;= target &lt;= 109</code></li></ul><p><strong>Related Topics</strong></p><ul><li>æ•°ç»„</li><li>äºŒåˆ†æŸ¥æ‰¾</li></ul><h3 id="äºŒåˆ†æŸ¥æ‰¾"><a href="#äºŒåˆ†æŸ¥æ‰¾" class="headerlink" title="äºŒåˆ†æŸ¥æ‰¾"></a>äºŒåˆ†æŸ¥æ‰¾</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span>[] searchRange(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> target) &#123;</span><br><span class="line">        <span class="keyword">int</span> first = binarySearch(nums, target);</span><br><span class="line">        <span class="keyword">if</span> (first == -<span class="number">1</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> <span class="keyword">int</span>[]&#123;-<span class="number">1</span>, -<span class="number">1</span>&#125;;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="keyword">int</span>[]&#123;first, binarySearch(nums, target + <span class="number">1</span>) - <span class="number">1</span>&#125;;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">binarySearch</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> target)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> left = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> right = nums.length - <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">int</span> mid;</span><br><span class="line">        <span class="keyword">while</span> (left &lt;= right) &#123;</span><br><span class="line">            mid = (left + right) &gt;&gt; <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">if</span> (nums[mid] == target) &#123;</span><br><span class="line">                right = mid - <span class="number">1</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (target &lt; nums[mid]) &#123;</span><br><span class="line">                right = mid - <span class="number">1</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                left = mid + <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> left;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
          <category> åˆ·é¢˜ç¯‡ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç®—æ³• </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è®¾è®¡æ¨¡å¼-è£…é¥°è€…æ¨¡å¼</title>
      <link href="/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/2022/03/01/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E8%A3%85%E9%A5%B0%E8%80%85%E6%A8%A1%E5%BC%8F/"/>
      <url>/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/2022/03/01/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E8%A3%85%E9%A5%B0%E8%80%85%E6%A8%A1%E5%BC%8F/</url>
      
        <content type="html"><![CDATA[<h2 id="è£…é¥°è€…æ¨¡å¼"><a href="#è£…é¥°è€…æ¨¡å¼" class="headerlink" title="è£…é¥°è€…æ¨¡å¼"></a>è£…é¥°è€…æ¨¡å¼</h2><p><strong>å®šä¹‰ï¼š</strong>åœ¨ä¸æ”¹å˜åŸæœ‰å¯¹è±¡çš„åŸºç¡€ä¸Šï¼Œå°†åŠŸèƒ½é™„åŠ åˆ°å¯¹è±¡ä¸Š</p><p>è¿™ä¸ªå…¶å®å¤§å®¶åœ¨å¹³æ—¶å†™ä»£ç çš„æ—¶å€™å°±å·²ç»ç”¨è¿‡äº†ï¼Œåªæ˜¯ä¸çŸ¥é“è¿™æ˜¯ä¸€ä¸ªæ¨¡å¼</p><p>ä¸‹é¢çœ‹ä¸€ä¸ªæ¡ˆä¾‹</p><p>æœ‰ä¸€ä¸ªç»„ä»¶çš„æ¥å£ï¼Œç„¶åæˆ‘æœ‰ä¸€ä¸ªå…·ä½“çš„å®ç°ç±»ï¼Œç°åœ¨æˆ‘éœ€è¦åœ¨è¿™ä¸ªå…·ä½“å®ç°ç±»çš„åŸºç¡€ä¸Šè¿›è¡ŒåŠŸèƒ½æ‹“å±•</p><p>ç»„ä»¶æ¥å£</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">operation</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å…·ä½“æ¥å£å®ç°</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ConcreteComponent</span> <span class="keyword">implements</span> <span class="title">Component</span></span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">operation</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;å®ç°ç»„ä»¶åŠŸèƒ½&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ‹“å±•åŠŸèƒ½æŠ½è±¡ç±»</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">EnhanceComponent</span> <span class="keyword">implements</span> <span class="title">Component</span></span>&#123;</span><br><span class="line">    <span class="keyword">protected</span> Component component;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">EnhanceComponent</span><span class="params">(Component component)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.component = component;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å…·ä½“å¢å¼ºç±»</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ConcreteEnhanceComponent</span> <span class="keyword">extends</span> <span class="title">EnhanceComponent</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">ConcreteEnhanceComponent</span><span class="params">(Component component)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>(component);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">operation</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        component.operation();</span><br><span class="line">        System.out.println(<span class="string">&quot;æ‹“å±•åŠŸèƒ½ä¸€&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¼˜ç‚¹ï¼š</p><ol><li>ä¸æ”¹å˜åŸæœ‰ä»£ç çš„æƒ…å†µä¸‹ï¼Œå¯¹åŸæ¥çš„ç±»è¿›è¡Œå¢å¼º</li><li>ä½¿ç”¨ä¸åŒçš„ç»„åˆå¯ä»¥å®ç°ä¸åŒçš„äººæ•ˆæœ</li><li>ç¬¦åˆå¼€é—­åŸåˆ™</li></ol>]]></content>
      
      
      <categories>
          
          <category> è®¾è®¡æ¨¡å¼ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> è®¾è®¡æ¨¡å¼ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è®¾è®¡æ¨¡å¼-é€‚é…å™¨æ¨¡å¼</title>
      <link href="/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/2022/03/01/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E9%80%82%E9%85%8D%E5%99%A8%E6%A8%A1%E5%BC%8F/"/>
      <url>/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/2022/03/01/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E9%80%82%E9%85%8D%E5%99%A8%E6%A8%A1%E5%BC%8F/</url>
      
        <content type="html"><![CDATA[<h2 id="é€‚é…å™¨æ¨¡å¼"><a href="#é€‚é…å™¨æ¨¡å¼" class="headerlink" title="é€‚é…å™¨æ¨¡å¼"></a>é€‚é…å™¨æ¨¡å¼</h2><p><strong>å®šä¹‰ï¼š</strong>å°†ä¸€ä¸ªç±»çš„æ¥å£è½¬æ¢ä¸ºç”¨æˆ·å¸Œæœ›çš„å¦ä¸€ä¸ªæ¥å£ã€‚è¿™ä½¿å¾—åŸæœ¬ç”±äºæ¥å£ä¸å…¼å®¹è€Œä¸èƒ½ä¸€èµ·å·¥ä½œçš„é‚£äº›ç±»å°±å¯ä»¥ä¸€èµ·å·¥ä½œäº†</p><p>æ¥ä¸‹æ¥æˆ‘ä»¬æ¥æ¨¡æ‹ŸUSBè½¬æ¥ç½‘çº¿å£ï¼Œä»è€Œä½¿ç”µè„‘ä¸Šç½‘çš„æ¡ˆä¾‹</p><p>ç½‘çº¿æ¥å£</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">NetWorkThread</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">connectNetWork</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åä¸ºçš„ç½‘çº¿</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HuaWeiNetWorkThread</span> <span class="keyword">implements</span> <span class="title">NetWorkThread</span></span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">connectNetWork</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;åä¸ºç½‘çº¿è¿æ¥ç½‘ç»œï¼Œå¯ä»¥ä¸Šç½‘äº†&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è‡ªåˆ¶çš„ç½‘çº¿</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CustomerNetWorkThread</span> <span class="keyword">implements</span> <span class="title">NetWorkThread</span></span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">connectNetWork</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;è‡ªåˆ¶ç½‘çº¿ï¼Œå¯ä»¥ä¸Šç½‘äº†&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>é€‚é…å™¨ï¼ˆç½‘çº¿å£å˜ä¸ºUSBå£ï¼‰</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Adapter</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">netWorkToUSB</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åä¸ºçš„é€‚é…å™¨ï¼ˆè½¬æ¥å£ï¼‰</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HuaWeiAdapter</span> <span class="keyword">implements</span> <span class="title">Adapter</span></span>&#123;</span><br><span class="line">    <span class="keyword">private</span> NetWorkThread netWorkThread;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setNetWorkThread</span><span class="params">(NetWorkThread netWorkThread)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.netWorkThread = netWorkThread;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">netWorkToUSB</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(netWorkThread==<span class="keyword">null</span>)&#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;é€‚é…å™¨æ²¡æœ‰ç½‘çº¿æ’å…¥ï¼&quot;</span>);</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">&quot;åä¸ºé€‚é…å™¨é€‚é…äº†ç½‘çº¿&quot;</span>);</span><br><span class="line">        netWorkThread.connectNetWork();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç”µè„‘</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Computer</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> Adapter adapter;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setAdapter</span><span class="params">(Adapter adapter)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.adapter = adapter;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">connectToNetWork</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(adapter!=<span class="keyword">null</span>)&#123;</span><br><span class="line">            adapter.netWorkToUSB();</span><br><span class="line">        &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;æ²¡æœ‰æ’ç½‘çº¿ï¼&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å®¢æˆ·ç«¯</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Client</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Computer computer = <span class="keyword">new</span> Computer();</span><br><span class="line">        computer.connectToNetWork();</span><br><span class="line">        System.out.println(<span class="string">&quot;===================&quot;</span>);</span><br><span class="line">        HuaWeiAdapter huaWeiAdapter = <span class="keyword">new</span> HuaWeiAdapter();</span><br><span class="line">        computer.setAdapter(huaWeiAdapter);</span><br><span class="line">        computer.connectToNetWork();</span><br><span class="line">        System.out.println(<span class="string">&quot;===================&quot;</span>);</span><br><span class="line">        huaWeiAdapter.setNetWorkThread(<span class="keyword">new</span> HuaWeiNetWorkThread());</span><br><span class="line">        computer.connectToNetWork();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ§åˆ¶å°è¾“å‡º</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">æ²¡æœ‰æ’ç½‘çº¿ï¼</span><br><span class="line">===================</span><br><span class="line">é€‚é…å™¨æ²¡æœ‰ç½‘çº¿æ’å…¥ï¼</span><br><span class="line">===================</span><br><span class="line">åä¸ºé€‚é…å™¨é€‚é…äº†ç½‘çº¿</span><br><span class="line">åä¸ºç½‘çº¿è¿æ¥ç½‘ç»œï¼Œå¯ä»¥ä¸Šç½‘äº†</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> è®¾è®¡æ¨¡å¼ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> è®¾è®¡æ¨¡å¼ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ã€5-Mediumã€‘æœ€é•¿å›æ–‡æ•°</title>
      <link href="/%E7%AE%97%E6%B3%95/%E5%88%B7%E9%A2%98%E7%AF%87/2022/02/28/%E3%80%905-Medium%E3%80%91%E6%9C%80%E9%95%BF%E5%9B%9E%E6%96%87%E6%95%B0/"/>
      <url>/%E7%AE%97%E6%B3%95/%E5%88%B7%E9%A2%98%E7%AF%87/2022/02/28/%E3%80%905-Medium%E3%80%91%E6%9C%80%E9%95%BF%E5%9B%9E%E6%96%87%E6%95%B0/</url>
      
        <content type="html"><![CDATA[<h2 id="æœ€é•¿å›æ–‡æ•°"><a href="#æœ€é•¿å›æ–‡æ•°" class="headerlink" title="æœ€é•¿å›æ–‡æ•°"></a>æœ€é•¿å›æ–‡æ•°</h2><p>ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸² <code>s</code>ï¼Œæ‰¾åˆ° <code>s</code> ä¸­æœ€é•¿çš„å›æ–‡å­ä¸²ã€‚</p><p><strong>ç¤ºä¾‹ 1ï¼š</strong></p><figure class="highlight nix"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼š<span class="attr">s</span> = <span class="string">&quot;babad&quot;</span></span><br><span class="line">è¾“å‡ºï¼š<span class="string">&quot;bab&quot;</span></span><br><span class="line">è§£é‡Šï¼š<span class="string">&quot;aba&quot;</span> åŒæ ·æ˜¯ç¬¦åˆé¢˜æ„çš„ç­”æ¡ˆã€‚</span><br></pre></td></tr></table></figure><p><strong>ç¤ºä¾‹ 2ï¼š</strong></p><figure class="highlight nix"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼š<span class="attr">s</span> = <span class="string">&quot;cbbd&quot;</span></span><br><span class="line">è¾“å‡ºï¼š<span class="string">&quot;bb&quot;</span></span><br></pre></td></tr></table></figure><p><strong>æç¤ºï¼š</strong></p><ul><li><code>1 &lt;= s.length &lt;= 1000</code></li><li><code>s</code> ä»…ç”±æ•°å­—å’Œè‹±æ–‡å­—æ¯ç»„æˆ</li></ul><p><strong>Related Topics</strong></p><ul><li>å­—ç¬¦ä¸²</li><li>åŠ¨æ€è§„åˆ’</li></ul><h3 id="æ³•ä¸€ï¼šæš´åŠ›æšä¸¾"><a href="#æ³•ä¸€ï¼šæš´åŠ›æšä¸¾" class="headerlink" title="æ³•ä¸€ï¼šæš´åŠ›æšä¸¾"></a>æ³•ä¸€ï¼šæš´åŠ›æšä¸¾</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">longestPalindrome</span><span class="params">(String s)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(s.length() &lt; <span class="number">2</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> s;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">char</span>[] chars = s.toCharArray();</span><br><span class="line">        <span class="keyword">int</span> begin = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> end = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; s.length() - <span class="number">1</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = i+<span class="number">1</span> ; j &lt; s.length(); j++) &#123;</span><br><span class="line">                <span class="keyword">if</span>((j - i + <span class="number">1</span>) &gt; (end - begin + <span class="number">1</span>) &amp;&amp; isValid(chars,i,j))&#123;</span><br><span class="line">                    begin = i;</span><br><span class="line">                    end = j;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> s.substring(begin, end+<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">isValid</span><span class="params">(<span class="keyword">char</span>[] chars, <span class="keyword">int</span> left, <span class="keyword">int</span> right)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">while</span>(left &lt; right)&#123;</span><br><span class="line">            <span class="keyword">if</span>(chars[left] != chars[right])&#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            left++;</span><br><span class="line">            right--;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="æ³•äºŒï¼šä¸­å¿ƒæ‰©æ•£"><a href="#æ³•äºŒï¼šä¸­å¿ƒæ‰©æ•£" class="headerlink" title="æ³•äºŒï¼šä¸­å¿ƒæ‰©æ•£"></a>æ³•äºŒï¼šä¸­å¿ƒæ‰©æ•£</h3><p>å°†æ¯â€ä¸€ä½â€ä½œä¸ºä¸­å¿ƒå‘ä¸¤è¾¹æ‰©æ’’ï¼Œ</p><p>æ¯æ¬¡æ‰©æ•£åˆ†ä¸¤ç§æƒ…å†µï¼Œ</p><p>ç¬¬ä¸€ç§æƒ…å†µæ˜¯ä»¥å½“å‰é‚£ä¸€ä½ä¸ºä¸­å¿ƒå‘ä¸¤è¾¹æ‰©æ•£</p><p>ç¬¬äºŒç§æƒ…å†µæ˜¯ä»¥å½“å‰é‚£ä¸€ä½å’Œä¸‹ä¸€ä½ä¸ºä¸­å¿ƒå‘ä¸¤è¾¹æ‰©æ•£</p><p>å–è¿™ä¸¤ç§æƒ…å†µçš„æœ€å€¼max</p><p>å¦‚æœmaxæ¯”maxLenå¤§çš„è¯ï¼Œè®¡ç®—å¾—å‡ºbeginâ€˜</p><p>æœ€åç›´æ¥è¿”å›æˆªå–çš„å­—ç¬¦ä¸²</p><p>è¿™æ˜¯æˆ‘çš„è§£æ³•</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">longestPalindrome</span><span class="params">(String s)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (s.length() &lt; <span class="number">2</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> s;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> begin = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> maxLen = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; s.length(); i++) &#123;</span><br><span class="line">            <span class="keyword">int</span> max = Math.max(expand(s,i,i),expand(s,i,i+<span class="number">1</span>));</span><br><span class="line">            <span class="keyword">if</span>(max &gt; maxLen)&#123;</span><br><span class="line">                maxLen = max;</span><br><span class="line">                begin = i - (max - <span class="number">1</span>)/<span class="number">2</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> s.substring(begin, maxLen+begin);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">expand</span><span class="params">(String s, <span class="keyword">int</span> left, <span class="keyword">int</span> right)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">while</span>(left&gt;=<span class="number">0</span> &amp;&amp; right&lt;s.length() &amp;&amp; s.charAt(left) == s.charAt(right))&#123;</span><br><span class="line">            left--;</span><br><span class="line">            right++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> right - left - <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™æ˜¯å®˜æ–¹çš„è§£æ³•</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">longestPalindrome</span><span class="params">(String s)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (s == <span class="keyword">null</span> || s.length() &lt; <span class="number">1</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> start = <span class="number">0</span>, end = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; s.length(); i++) &#123;</span><br><span class="line">            <span class="keyword">int</span> len1 = expandAroundCenter(s, i, i);</span><br><span class="line">            <span class="keyword">int</span> len2 = expandAroundCenter(s, i, i + <span class="number">1</span>);</span><br><span class="line">            <span class="keyword">int</span> len = Math.max(len1, len2);</span><br><span class="line">            <span class="keyword">if</span> (len &gt; end - start) &#123;</span><br><span class="line">                start = i - (len - <span class="number">1</span>) / <span class="number">2</span>;</span><br><span class="line">                end = i + len / <span class="number">2</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> s.substring(start, end + <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">expandAroundCenter</span><span class="params">(String s, <span class="keyword">int</span> left, <span class="keyword">int</span> right)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">while</span> (left &gt;= <span class="number">0</span> &amp;&amp; right &lt; s.length() &amp;&amp; s.charAt(left) == s.charAt(right)) &#123;</span><br><span class="line">            --left;</span><br><span class="line">            ++right;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> right - left - <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="æ³•ä¸‰ï¼šåŠ¨æ€è§„åˆ’"><a href="#æ³•ä¸‰ï¼šåŠ¨æ€è§„åˆ’" class="headerlink" title="æ³•ä¸‰ï¼šåŠ¨æ€è§„åˆ’"></a>æ³•ä¸‰ï¼šåŠ¨æ€è§„åˆ’</h3><p>å¯¹äºä¸€ä¸ªå­ä¸²è€Œè¨€ï¼Œå¦‚æœå®ƒæ˜¯å›æ–‡ä¸²ï¼Œå¹¶ä¸”é•¿åº¦å¤§äº 2ï¼Œé‚£ä¹ˆå°†å®ƒé¦–å°¾çš„ä¸¤ä¸ªå­—æ¯å»é™¤ä¹‹åï¼Œå®ƒä»ç„¶æ˜¯ä¸ªå›æ–‡ä¸²ã€‚</p><p>ä¾‹å¦‚å¯¹äºå­—ç¬¦ä¸² â€œababaâ€™â€ï¼Œå¦‚æœæˆ‘ä»¬å·²ç»çŸ¥é“ â€œbabâ€ æ˜¯å›æ–‡ä¸²<strong>è¿™å±‚å…³ç³»</strong>ï¼Œé‚£ä¹ˆ â€œababaâ€ ä¸€å®šæ˜¯å›æ–‡ä¸²ï¼Œè¿™æ˜¯å› ä¸ºå®ƒçš„é¦–å°¾ä¸¤ä¸ªå­—æ¯éƒ½æ˜¯a</p><p>ä½¿ç”¨<code>dp[][]</code>äºŒä½æ•°ç»„æ¥å­˜å‚¨è¿™å±‚<strong>å…³ç³»</strong></p><p>å³ä½¿ç”¨<code>dp[i][j]</code>æ¥è¡¨ç¤ºså­—ç¬¦ä¸²çš„iåˆ°jæ˜¯å¦æ˜¯å›æ–‡æ•°</p><p>å¦‚æœå½“å‰è¦åˆ¤æ–­çš„èŒƒå›´æ˜¯<code>dp[left][right]</code>ï¼Œå­—ç¬¦ä¸²é•¿åº¦ä¸ºx</p><p>ç¬¬ä¸€æ­¥å…ˆçœ‹é¦–å°¾æ˜¯å¦ä¸€è‡´ï¼Œ</p><p>å¦‚æœä¸ä¸€è‡´ï¼Œåˆ™<code>dp[left][right]</code>ç›´æ¥ä¸ºfalseï¼Œ</p><p>å¦‚æœä¸€è‡´ï¼Œåˆ™è¿›å…¥ä¸‹ä¸€æ­¥åˆ¤æ–­</p><p>å¦‚æœå½“å‰åˆ¤æ–­çš„å­—ç¬¦ä¸²é•¿åº¦å°äº3</p><blockquote><p>ä¸ºä»€ä¹ˆæ˜¯3å‘¢ï¼Ÿ</p><p>å¦‚æœé•¿åº¦ä¸º1ï¼Œåˆ™æœ¬èº«å°±æ˜¯å­—ç¬¦ä¸²ï¼Œå½¢æˆè‡ªå›æ–‡</p><p>å¦‚æœé•¿åº¦ä¸º2ï¼Œåˆ™é¦–å°¾ä¸€è‡´çš„æƒ…å†µä¸‹ï¼Œå¯ä»¥ç›´æ¥åˆ¤æ–­ä¸ºå›æ–‡</p><p>å¦‚æœé•¿åº¦ä¸º3ï¼Œåˆ™é¦–å°¾ä¸€è‡´çš„æƒ…å†µä¸‹ï¼Œä¹Ÿå¯ä»¥ç›´æ¥åˆ¤æ–­å›æ–‡</p><p>è¿™ä¸‰ç»„æ•°æ®æ˜¯åé¢åšåˆ¤æ–­çš„æ”¯æ’‘</p></blockquote><p>åˆ™ç›´æ¥å°†<code>dp[left][right]</code>èµ‹å€¼ä¸ºtrue</p><p>åä¹‹å°†<code>dp[left+1][right-1]</code>ï¼ˆå³å»æ‰é¦–å°¾çš„æ—¶å€™æ˜¯å¦ä¸ºå›æ–‡æ•°ï¼‰çš„å›æ–‡ç»“æ„èµ‹å€¼ç»™<code>dp[i][j]</code></p><p>è¿™äº›ç»“æŸåï¼Œå½“<code>dp[left][right]</code>æ˜¯trueæ—¶ï¼Œ</p><p>åˆ™å°†å½“å‰å¾ªç¯é•¿åº¦å’Œå­˜å‚¨çš„maxLenè¿›è¡Œæ¯”è¾ƒï¼Œ</p><p>å¦‚æœå½“å‰å¾ªç¯é•¿åº¦è¾ƒå¤§ï¼Œåˆ™å°†å…¶èµ‹å€¼ç»™maxLenï¼Œå°†leftèµ‹å€¼ç»™begin</p><p>åä¹‹ï¼Œç›´æ¥è¿›è¡Œä¸‹ä¸€æ¬¡å¾ªç¯</p><p><strong>å®˜æ–¹ä»£ç ï¼š</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">longestPalindrome</span><span class="params">(String s)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> len = s.length();</span><br><span class="line">        <span class="keyword">if</span> (len &lt; <span class="number">2</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> s;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> maxLen = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">int</span> begin = <span class="number">0</span>;</span><br><span class="line">        <span class="comment">// dp[i][j] è¡¨ç¤º s[i..j] æ˜¯å¦æ˜¯å›æ–‡ä¸²</span></span><br><span class="line">        <span class="keyword">boolean</span>[][] dp = <span class="keyword">new</span> <span class="keyword">boolean</span>[len][len];</span><br><span class="line">        <span class="comment">// åˆå§‹åŒ–ï¼šæ‰€æœ‰é•¿åº¦ä¸º 1 çš„å­ä¸²éƒ½æ˜¯å›æ–‡ä¸²</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len; i++) &#123;</span><br><span class="line">            dp[i][i] = <span class="keyword">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">char</span>[] charArray = s.toCharArray();</span><br><span class="line">        <span class="comment">// é€’æ¨å¼€å§‹</span></span><br><span class="line">        <span class="comment">// å…ˆæšä¸¾å­ä¸²é•¿åº¦</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> L = <span class="number">2</span>; L &lt;= len; L++) &#123;</span><br><span class="line">            <span class="comment">// æšä¸¾å·¦è¾¹ç•Œï¼Œå·¦è¾¹ç•Œçš„ä¸Šé™è®¾ç½®å¯ä»¥å®½æ¾ä¸€äº›</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len; i++) &#123;</span><br><span class="line">                <span class="comment">// ç”± L å’Œ i å¯ä»¥ç¡®å®šå³è¾¹ç•Œï¼Œå³ j - i + 1 = L å¾—</span></span><br><span class="line">                <span class="keyword">int</span> j = L + i - <span class="number">1</span>;</span><br><span class="line">                <span class="comment">// å¦‚æœå³è¾¹ç•Œè¶Šç•Œï¼Œå°±å¯ä»¥é€€å‡ºå½“å‰å¾ªç¯</span></span><br><span class="line">                <span class="keyword">if</span> (j &gt;= len) &#123;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span> (charArray[i] != charArray[j]) &#123;</span><br><span class="line">                    dp[i][j] = <span class="keyword">false</span>;</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    <span class="keyword">if</span> (j - i &lt; <span class="number">3</span>) &#123;</span><br><span class="line">                        dp[i][j] = <span class="keyword">true</span>;</span><br><span class="line">                    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                        dp[i][j] = dp[i + <span class="number">1</span>][j - <span class="number">1</span>];</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="comment">// åªè¦ dp[i][L] == true æˆç«‹ï¼Œå°±è¡¨ç¤ºå­ä¸² s[i..L] æ˜¯å›æ–‡ï¼Œæ­¤æ—¶è®°å½•å›æ–‡é•¿åº¦å’Œèµ·å§‹ä½ç½®</span></span><br><span class="line">                <span class="keyword">if</span> (dp[i][j] &amp;&amp; j - i + <span class="number">1</span> &gt; maxLen) &#123;</span><br><span class="line">                    maxLen = j - i + <span class="number">1</span>;</span><br><span class="line">                    begin = i;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> s.substring(begin, begin + maxLen);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸‹é¢æ˜¯æˆ‘ç†è§£æ€è·¯åå†™çš„</p><p>å¯¹äºå˜é‡çš„å‘½åæ›´è´´è¿‘å…¶æœ¬èº«çš„å«ä¹‰</p><p>å¯èƒ½ä¼šæ›´å¥½ç†è§£ä¸€ç‚¹</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">longestPalindrome1</span><span class="params">(String s)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> len = s.length();</span><br><span class="line">    <span class="keyword">if</span>(len &lt; <span class="number">2</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> s;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> begin = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> maxLen = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">char</span>[] chars = s.toCharArray();</span><br><span class="line">    <span class="keyword">boolean</span>[][] dp = <span class="keyword">new</span> <span class="keyword">boolean</span>[len][len];</span><br><span class="line">    <span class="comment">// dp[i][j]å³è¡¨ç¤ºs[i..j]æ˜¯å¦ä¸ºå›æ–‡æ•°</span></span><br><span class="line">    <span class="comment">// å¯¹è§’çº¿å³ä¸ºæ¯ä¸ªå­—ç¬¦æœ¬èº«é‚£å°±å¯ä»¥ç›´æ¥åˆå§‹åŒ–ä¸ºtrue</span></span><br><span class="line">    <span class="comment">// ä¹Ÿå¯ä»¥ä¸åˆå§‹åŒ–è¿™ä¸ªï¼Œä½†æ˜¯ä¸ºäº†è¯­ä¹‰å®Œæ•´ï¼Œæœ€å¥½è¿˜æ˜¯åŠ ä¸Š</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len; i++) &#123;</span><br><span class="line">        dp[i][i] = <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//xè¡¨ç¤ºé•¿åº¦ï¼Œä»é•¿åº¦ä¸º2å¼€å§‹ï¼Œå› ä¸ºé•¿åº¦ä¸º1çš„æƒ…å†µå¯ä»¥ç›´æ¥åˆ¤æ–­</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> x = <span class="number">2</span> ; x &lt;= len; x++) &#123;</span><br><span class="line">        <span class="comment">//å¾ªç¯æ¬¡æ•°ä¸ºæ€»é•¿åº¦å‡å½“å‰å¾ªç¯çš„é•¿åº¦å†åŠ ä¸€</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> left = <span class="number">0</span>; left &lt; len - x + <span class="number">1</span>; left++) &#123;</span><br><span class="line">            <span class="comment">//x=right-left+1</span></span><br><span class="line">            <span class="keyword">int</span> right = x + left - <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">if</span>(chars[left] != chars[right])&#123;</span><br><span class="line">                dp[left][right] = <span class="keyword">false</span>;</span><br><span class="line">            &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">if</span>(x &lt; <span class="number">4</span>)&#123;</span><br><span class="line">                    dp[left][right] = <span class="keyword">true</span>;</span><br><span class="line">                &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">                    dp[left][right] = dp[left+<span class="number">1</span>][right-<span class="number">1</span>];</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(dp[left][right] &amp;&amp; x &gt; maxLen)&#123;</span><br><span class="line">                begin = left;</span><br><span class="line">                maxLen = x;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> s.substring(begin, maxLen+begin);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
          <category> åˆ·é¢˜ç¯‡ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç®—æ³• </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å…³äºæƒé™ä¿®é¥°ç¬¦protected</title>
      <link href="/%E7%90%90%E7%A2%8E%E7%9A%84%E7%9F%A5%E8%AF%86/2022/02/28/%E5%85%B3%E4%BA%8E%E6%9D%83%E9%99%90%E4%BF%AE%E9%A5%B0%E7%AC%A6protected/"/>
      <url>/%E7%90%90%E7%A2%8E%E7%9A%84%E7%9F%A5%E8%AF%86/2022/02/28/%E5%85%B3%E4%BA%8E%E6%9D%83%E9%99%90%E4%BF%AE%E9%A5%B0%E7%AC%A6protected/</url>
      
        <content type="html"><![CDATA[<h2 id="æƒé™ä¿®é¥°ç¬¦"><a href="#æƒé™ä¿®é¥°ç¬¦" class="headerlink" title="æƒé™ä¿®é¥°ç¬¦"></a>æƒé™ä¿®é¥°ç¬¦</h2><p>æˆ‘ä»¬å…ˆå›é¡¾ä¸€ä¸‹javaä¸­çš„æƒé™ä¿®é¥°ç¬¦</p><table><thead><tr><th align="center">æƒé™ä¿®é¥°ç¬¦</th><th align="center">åŒç±»</th><th align="center">åŒåŒ…</th><th align="center">å­ç±»</th><th align="center">å…¶ä»–åŒ…</th></tr></thead><tbody><tr><td align="center">public</td><td align="center">âˆš</td><td align="center">âˆš</td><td align="center">âˆš</td><td align="center">âˆš</td></tr><tr><td align="center">protected</td><td align="center">âˆš</td><td align="center">âˆš</td><td align="center">âˆš</td><td align="center">Ã—</td></tr><tr><td align="center">default</td><td align="center">âˆš</td><td align="center">âˆš</td><td align="center">Ã—</td><td align="center">Ã—</td></tr><tr><td align="center">private</td><td align="center">âˆš</td><td align="center">Ã—</td><td align="center">Ã—</td><td align="center">Ã—</td></tr></tbody></table><p>å¯¹äºpublicå’Œprivateå¤§å®¶éƒ½å¾ˆäº†è§£äº†ï¼Œä½†æ˜¯å¯¹äº<strong>protected</strong>ï¼Œå¤§å®¶å¯èƒ½å¯¹å®ƒçš„æ¦‚å¿µå¯èƒ½å°±ä¸€å¥è¯ï¼šè¢«protectedä¿®é¥°çš„æˆå‘˜å¯¹äºæœ¬åŒ…å’Œå…¶å­ç±»å¯è§ã€‚</p><p>è¯¥æƒé™ä¿®é¥°ç¬¦çš„å…³é”®æ˜¯</p><ul><li>åŸºç±»çš„protectedæˆå‘˜å±æ€§æ˜¯åŒ…å†…å¯è§çš„ï¼Œå¹¶ä¸”å¯¹æ‰€æœ‰å­ç±»å¯è§</li><li>è‹¥å­ç±»ä¸åŸºç±»ä¸åœ¨åŒä¸€åŒ…ä¸‹ï¼Œåˆ™åœ¨<strong>å­ç±»ä¸­</strong>ï¼Œå­ç±»å®ä¾‹å¯ä»¥è®¿é—®ä»åŸºç±»ç»§æ‰¿æ¥çš„protectedæ–¹æ³•ï¼Œè€Œä¸èƒ½è®¿é—®åŸºç±»å®ä¾‹çš„protectedæ–¹æ³•</li></ul><p>é‡åˆ°protected</p><p>é¦–å…ˆæ€è€ƒè¿™ä¸ªprotectedæ¥è‡ªä½•æ–¹</p><p>æ¥ç€çœ‹å…¶å’Œè¿™ä¸ªåœ°æ–¹æ˜¯ä¸æ˜¯åŒåŒ…</p><p>æœ€åçœ‹å…¶æ˜¯å¦æœ‰çˆ¶å­ç±»å…³ç³»</p><p>å¯ä»¥é€šè¿‡ä»¥ä¸‹å‡ ä¸ªTestæ¥æŒæ¡protectedçš„ç”¨æ³•</p><blockquote><p><strong>æ³¨æ„ï¼šè§‚å¯ŸåŒ…é™å®šå</strong></p></blockquote><p>æ¨¡å‹</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.lizhi.protect.p1;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Feather1</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">f</span><span class="params">()</span></span>&#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> Object <span class="title">clone</span><span class="params">()</span> <span class="keyword">throws</span> CloneNotSupportedException </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">super</span>.clone();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.lizhi.protect.p1;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Son1</span> <span class="keyword">extends</span> <span class="title">Feather1</span></span>&#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.lizhi.protect.p11;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.lizhi.protect.p1.Feather1;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Son11</span> <span class="keyword">extends</span> <span class="title">Feather1</span> </span>&#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>æµ‹è¯•</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.lizhi.protect.p1;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.lizhi.protect.p11.Son11;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> CloneNotSupportedException </span>&#123;</span><br><span class="line">        Feather1 feather1 = <span class="keyword">new</span> Feather1();</span><br><span class="line">        Son1 son1 = <span class="keyword">new</span> Son1();</span><br><span class="line">        Son11 son2 = <span class="keyword">new</span> Son11();</span><br><span class="line">        son1.f();<span class="comment">//ç¼–è¯‘é€šè¿‡ï¼Œå› ä¸ºè¯¥æµ‹è¯•ç±»ä¸Feather1å¤„äºåŒä¸€åŒ…ä¸‹</span></span><br><span class="line">        son1.clone();<span class="comment">//ç¼–è¯‘é€šè¿‡ï¼Œå› ä¸ºè¯¥æµ‹è¯•ç±»ä¸Feather1å¤„äºåŒä¸€åŒ…ä¸‹</span></span><br><span class="line">        son2.f();<span class="comment">//ç¼–è¯‘é€šè¿‡ï¼Œå› ä¸ºè¯¥æµ‹è¯•ç±»ä¸Feather1å¤„äºåŒä¸€åŒ…ä¸‹</span></span><br><span class="line">        son2.clone();<span class="comment">//ç¼–è¯‘é€šè¿‡ï¼Œå› ä¸ºè¯¥æµ‹è¯•ç±»ä¸Feather1å¤„äºåŒä¸€åŒ…ä¸‹</span></span><br><span class="line">        feather1.f();<span class="comment">//ç¼–è¯‘é€šè¿‡ï¼Œå› ä¸ºè¯¥æµ‹è¯•ç±»ä¸Feather1å¤„äºåŒä¸€åŒ…ä¸‹</span></span><br><span class="line">        feather1.clone();<span class="comment">//ç¼–è¯‘é€šè¿‡ï¼Œå› ä¸ºè¯¥æµ‹è¯•ç±»ä¸Feather1å¤„äºåŒä¸€åŒ…ä¸‹</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>æµ‹è¯•</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.lizhi.protect.p11;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.lizhi.protect.p1.Feather1;</span><br><span class="line"><span class="keyword">import</span> com.lizhi.protect.p1.Son1;</span><br><span class="line"><span class="keyword">import</span> com.lizhi.protect.p11.Son11;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> CloneNotSupportedException </span>&#123;</span><br><span class="line">        Feather1 feather1 = <span class="keyword">new</span> Feather1();</span><br><span class="line">        Son1 son1 = <span class="keyword">new</span> Son1();</span><br><span class="line">        Son11 son2 = <span class="keyword">new</span> Son11();</span><br><span class="line">        son1.f();<span class="comment">//ç¼–è¯‘ä¸é€šè¿‡ï¼Œå› ä¸ºè¯¥æµ‹è¯•ç±»ä¸Feather1å¤„äºä¸åŒä¸€åŒ…ä¸‹ï¼Œè¯¥ç±»ä¹Ÿä¸æ˜¯Feather1çš„å­ç±»</span></span><br><span class="line">        son1.clone();<span class="comment">//ç¼–è¯‘ä¸é€šè¿‡ï¼Œå› ä¸ºè¯¥æµ‹è¯•ç±»ä¸Feather1å¤„äºä¸åŒä¸€åŒ…ä¸‹ï¼Œè¯¥ç±»ä¹Ÿä¸æ˜¯Feather1çš„å­ç±»</span></span><br><span class="line">        son2.f();<span class="comment">//ç¼–è¯‘ä¸é€šè¿‡ï¼Œå› ä¸ºè¯¥æµ‹è¯•ç±»ä¸Feather1å¤„äºä¸åŒä¸€åŒ…ä¸‹ï¼Œè¯¥ç±»ä¹Ÿä¸æ˜¯Feather1çš„å­ç±»</span></span><br><span class="line">        son2.clone();<span class="comment">//ç¼–è¯‘ä¸é€šè¿‡ï¼Œå› ä¸ºè¯¥æµ‹è¯•ç±»ä¸Feather1å¤„äºä¸åŒä¸€åŒ…ä¸‹ï¼Œè¯¥ç±»ä¹Ÿä¸æ˜¯Feather1çš„å­ç±»</span></span><br><span class="line">        feather1.f();<span class="comment">//ç¼–è¯‘ä¸é€šè¿‡ï¼Œå› ä¸ºè¯¥æµ‹è¯•ç±»ä¸Feather1å¤„äºä¸åŒä¸€åŒ…ä¸‹ï¼Œè¯¥ç±»ä¹Ÿä¸æ˜¯Feather1çš„å­ç±»</span></span><br><span class="line">        feather1.clone();<span class="comment">//ç¼–è¯‘ä¸é€šè¿‡ï¼Œå› ä¸ºè¯¥æµ‹è¯•ç±»ä¸Feather1å¤„äºä¸åŒä¸€åŒ…ä¸‹ï¼Œè¯¥ç±»ä¹Ÿä¸æ˜¯Feather1çš„å­ç±»</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>æµ‹è¯•</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.lizhi.protect.p11;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.lizhi.protect.p1.Feather1;</span><br><span class="line"><span class="keyword">import</span> com.lizhi.protect.p1.Son1;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Son11</span> <span class="keyword">extends</span> <span class="title">Feather1</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> CloneNotSupportedException </span>&#123;</span><br><span class="line">        Feather1 feather1 = <span class="keyword">new</span> Feather1();</span><br><span class="line">        Son1 son1 = <span class="keyword">new</span> Son1();</span><br><span class="line">        Son11 son2 = <span class="keyword">new</span> Son11();</span><br><span class="line">        son2.f();<span class="comment">//ç¼–è¯‘é€šè¿‡ï¼Œå› ä¸ºè¯¥æµ‹è¯•ç±»æ‰€åœ¨çš„åœ°æ–¹æ˜¯Feather1çš„å­ç±»</span></span><br><span class="line">        son2.clone();<span class="comment">//ç¼–è¯‘é€šè¿‡ï¼Œå› ä¸ºè¯¥æµ‹è¯•ç±»æ‰€åœ¨çš„åœ°æ–¹æ˜¯Feather1çš„å­ç±»</span></span><br><span class="line">        feather1.f();<span class="comment">//ç¼–è¯‘ä¸é€šè¿‡ï¼Œå› ä¸ºè¯¥æµ‹è¯•ç±»ä¸Feather1å¤„äºä¸åŒä¸€åŒ…ä¸‹</span></span><br><span class="line">        feather1.clone();<span class="comment">//ç¼–è¯‘ä¸é€šè¿‡ï¼Œå› ä¸ºè¯¥æµ‹è¯•ç±»ä¸Feather1å¤„äºä¸åŒä¸€åŒ…ä¸‹</span></span><br><span class="line">        son1.f();<span class="comment">//ç¼–è¯‘ä¸é€šè¿‡ï¼Œå› ä¸ºè¯¥æµ‹è¯•ç±»ä¸Feather1å¤„äºä¸åŒä¸€åŒ…ä¸‹</span></span><br><span class="line">        son1.clone();<span class="comment">//ç¼–è¯‘ä¸é€šè¿‡ï¼Œå› ä¸ºè¯¥æµ‹è¯•ç±»ä¸Feather1å¤„äºä¸åŒä¸€åŒ…ä¸‹</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>æµ‹è¯•</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.lizhi.protect.p1;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.lizhi.protect.p11.Son11;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Feather1</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">f</span><span class="params">()</span></span>&#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> Object <span class="title">clone</span><span class="params">()</span> <span class="keyword">throws</span> CloneNotSupportedException </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">super</span>.clone();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> CloneNotSupportedException </span>&#123;</span><br><span class="line">        Feather1 feather1 = <span class="keyword">new</span> Feather1();</span><br><span class="line">        Son1 son1 = <span class="keyword">new</span> Son1();</span><br><span class="line">        Son11 son2 = <span class="keyword">new</span> Son11();</span><br><span class="line">        son2.f();<span class="comment">//ç¼–è¯‘é€šè¿‡ï¼Œå› ä¸ºè¯¥æµ‹è¯•ç±»æ˜¯Son1å’ŒSon11çš„çˆ¶ç±»</span></span><br><span class="line">        son2.clone();<span class="comment">//ç¼–è¯‘é€šè¿‡ï¼Œå› ä¸ºè¯¥æµ‹è¯•ç±»æ˜¯Son1å’ŒSon11çš„çˆ¶ç±»</span></span><br><span class="line">        feather1.f();<span class="comment">//ç¼–è¯‘é€šè¿‡ï¼Œå› ä¸ºè¯¥æµ‹è¯•ç±»æ˜¯Son1å’ŒSon11çš„çˆ¶ç±»</span></span><br><span class="line">        feather1.clone();<span class="comment">//ç¼–è¯‘é€šè¿‡ï¼Œå› ä¸ºè¯¥æµ‹è¯•ç±»æ˜¯Son1å’ŒSon11çš„çˆ¶ç±»</span></span><br><span class="line">        son1.f();<span class="comment">//ç¼–è¯‘é€šè¿‡ï¼Œå› ä¸ºè¯¥æµ‹è¯•ç±»æ˜¯Son1å’ŒSon11çš„çˆ¶ç±»</span></span><br><span class="line">        son1.clone();<span class="comment">//ç¼–è¯‘é€šè¿‡ï¼Œå› ä¸ºè¯¥æµ‹è¯•ç±»æ˜¯Son1å’ŒSon11çš„çˆ¶ç±»</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>æµ‹è¯•</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.lizhi.protect.p4;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.lizhi.protect.p44.Test4;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyObject4</span> <span class="keyword">extends</span> <span class="title">Test4</span></span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> Object <span class="title">clone</span><span class="params">()</span> <span class="keyword">throws</span> CloneNotSupportedException </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">super</span>.clone();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.lizhi.protect.p44;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.lizhi.protect.p4.MyObject4;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test4</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> CloneNotSupportedException </span>&#123;</span><br><span class="line">        MyObject4 myObject4 = <span class="keyword">new</span> MyObject4();</span><br><span class="line">        myObject4.clone();<span class="comment">//ç¼–è¯‘ä¸é€šè¿‡</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>è¯´æ˜ï¼š</strong>myobject4çš„clone<strong>ç›´æ¥</strong>æ¥è‡ªMyObject4ç±»æœ¬èº«</p><p>å…¶èŒƒå›´æ˜¯MyObjcet4çš„å­ç±»ä¸å…¶åŒåŒ…çš„ç±»</p><p>Test4éƒ½ä¸æ»¡è¶³</p><p>æ‰€ä»¥ç¼–è¯‘ä¸é€šè¿‡</p><p><strong>æµ‹è¯•</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.lizhi.protect.p4;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.lizhi.protect.p44.Test4;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyObject4</span> <span class="keyword">extends</span> <span class="title">Test4</span></span>&#123;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.lizhi.protect.p44;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.lizhi.protect.p4.MyObject4;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test4</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> CloneNotSupportedException </span>&#123;</span><br><span class="line">        MyObject4 myObject4 = <span class="keyword">new</span> MyObject4();</span><br><span class="line">        myObject4.clone();<span class="comment">//ç¼–è¯‘é€šè¿‡</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>è¯´æ˜ï¼š</strong>myobject4çš„clone<strong>ç›´æ¥</strong>æ¥æºäºTest4</p><p>èŒƒå›´æ˜¯Test4å­ç±»åŠå…¶åŒåŒ…çš„ç±»</p><p>æ»¡è¶³ä¸å…¶åŒåŒ…</p><p>ç¼–è¯‘é€šè¿‡</p>]]></content>
      
      
      <categories>
          
          <category> çç¢çš„çŸ¥è¯† </category>
          
      </categories>
      
      
        <tags>
            
            <tag> çç¢çš„çŸ¥è¯† </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è®¾è®¡æ¨¡å¼-é—¨é¢æ¨¡å¼</title>
      <link href="/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/2022/02/28/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E9%97%A8%E9%9D%A2%E6%A8%A1%E5%BC%8F/"/>
      <url>/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/2022/02/28/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E9%97%A8%E9%9D%A2%E6%A8%A1%E5%BC%8F/</url>
      
        <content type="html"><![CDATA[<h2 id="é—¨é¢æ¨¡å¼"><a href="#é—¨é¢æ¨¡å¼" class="headerlink" title="é—¨é¢æ¨¡å¼"></a>é—¨é¢æ¨¡å¼</h2><p><strong>å®šä¹‰ï¼š</strong>ä¸ºå­ç³»ç»Ÿä¸­çš„ä¸€ç»„æ¥å£æä¾›ä¸€ä¸ªä¸€è‡´çš„é«˜å±‚æ¥å£ï¼Œä½¿å¾—è¿™ä¸€å­ç³»ç»Ÿæ›´åŠ å®¹æ˜“ä½¿ç”¨</p><h3 id="å®ç°"><a href="#å®ç°" class="headerlink" title="å®ç°"></a>å®ç°</h3><p>å­ç³»ç»Ÿ1</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">System1</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">operateA</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;å­ç³»ç»Ÿ1çš„Aæ“ä½œ&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å­ç³»ç»Ÿ2</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">System2</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">operateB</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;å­ç³»ç»Ÿ2çš„Bæ“ä½œ&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å­ç³»ç»Ÿ3</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">System3</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">operateC</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;å­ç³»ç»Ÿ3çš„Cæ“ä½œ&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç³»ç»Ÿé—¨é¢</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SystemFacade</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> System1 system1 = <span class="keyword">new</span> System1();</span><br><span class="line">    <span class="keyword">private</span> System2 system2 = <span class="keyword">new</span> System2();</span><br><span class="line">    <span class="keyword">private</span> System3 system3 = <span class="keyword">new</span> System3();</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">operateABC</span><span class="params">()</span></span>&#123;</span><br><span class="line">        system1.operateA();</span><br><span class="line">        system2.operateB();</span><br><span class="line">        system3.operateC();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å®¢æˆ·ç«¯è°ƒç”¨</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Client</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">new</span> SystemFacade().operateABC();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> è®¾è®¡æ¨¡å¼ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> è®¾è®¡æ¨¡å¼ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è®¾è®¡æ¨¡å¼-äº«å…ƒæ¨¡å¼</title>
      <link href="/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/2022/02/26/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E4%BA%AB%E5%85%83%E6%A8%A1%E5%BC%8F/"/>
      <url>/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/2022/02/26/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E4%BA%AB%E5%85%83%E6%A8%A1%E5%BC%8F/</url>
      
        <content type="html"><![CDATA[<h2 id="äº«å…ƒæ¨¡å¼"><a href="#äº«å…ƒæ¨¡å¼" class="headerlink" title="äº«å…ƒæ¨¡å¼"></a>äº«å…ƒæ¨¡å¼</h2><p><strong>å®šä¹‰ï¼š</strong>è¿ç”¨å…±äº«æŠ€æœ¯æœ‰æ•ˆåœ°æ”¯æŒå¤§é‡<strong>ç»†ç²’åº¦</strong>çš„å¯¹è±¡</p><p><strong>ä¼˜ç‚¹ï¼š</strong>å¦‚æœç³»ç»Ÿæœ‰å¤§é‡ç±»ä¼¼çš„å¯¹è±¡ï¼Œå¯ä»¥èŠ‚çœå¤§é‡çš„å†…å­˜å’ŒCPUèµ„æº</p><h3 id="å®ç°"><a href="#å®ç°" class="headerlink" title="å®ç°"></a>å®ç°</h3><p><strong>åœºæ™¯ï¼š</strong>å‡å¦‚æˆ‘è¦å¼€å‘ä¸€æ¬¾æ¸¸æˆï¼Œç„¶åæ¸¸æˆé‡Œé¢çš„åœ°å›¾æœ‰å¾ˆå¤šæ ‘æœ¨</p><p>è¿™ä¸ªæ—¶å€™ï¼Œæˆ‘ä»¬ä¸å¯èƒ½åˆ›å»ºå‡ ä¸‡ä¸ªæ ‘çš„å¯¹è±¡</p><p>Tree</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="meta">@AllArgsConstructor</span></span><br><span class="line"><span class="meta">@ToString</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Tree</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> String name;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>TreeNode</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="meta">@AllArgsConstructor</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TreeNode</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> Tree tree;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> x;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> y;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>TreeFactory</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TreeFactory</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> ConcurrentHashMap&lt;String, Tree&gt; map = <span class="keyword">new</span> ConcurrentHashMap&lt;&gt;();</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Tree <span class="title">getTree</span><span class="params">(String name)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(map.containsKey(name))&#123;</span><br><span class="line">            <span class="keyword">return</span> map.get(name);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">addTree</span><span class="params">(String name)</span></span>&#123;</span><br><span class="line">        map.put(name,<span class="keyword">new</span> Tree(name));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸»å‡½æ•°</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    TreeFactory.addTree(<span class="string">&quot;æ¢§æ¡æ ‘&quot;</span>);</span><br><span class="line">    TreeFactory.addTree(<span class="string">&quot;é¦™æ¨Ÿæ ‘&quot;</span>);</span><br><span class="line">    TreeFactory.addTree(<span class="string">&quot;é“¶ææ ‘&quot;</span>);</span><br><span class="line">    TreeFactory.addTree(<span class="string">&quot;é¢åŒ…æ ‘&quot;</span>);</span><br><span class="line">    TreeNode treeNode1 = <span class="keyword">new</span> TreeNode(TreeFactory.getTree(<span class="string">&quot;æ¢§æ¡æ ‘&quot;</span>),<span class="number">1</span>,<span class="number">1</span>);</span><br><span class="line">    TreeNode treeNode2 = <span class="keyword">new</span> TreeNode(TreeFactory.getTree(<span class="string">&quot;æ¢§æ¡æ ‘&quot;</span>),<span class="number">1</span>,<span class="number">2</span>);</span><br><span class="line">    TreeNode treeNode3 = <span class="keyword">new</span> TreeNode(TreeFactory.getTree(<span class="string">&quot;æ¢§æ¡æ ‘&quot;</span>),<span class="number">1</span>,<span class="number">3</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> è®¾è®¡æ¨¡å¼ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> è®¾è®¡æ¨¡å¼ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ã€64-Mediumã€‘æœ€å°è·¯å¾„å’Œ</title>
      <link href="/%E7%AE%97%E6%B3%95/%E5%88%B7%E9%A2%98%E7%AF%87/2022/02/25/%E3%80%9064-Medium%E3%80%91%E6%9C%80%E5%B0%8F%E8%B7%AF%E5%BE%84%E5%92%8C/"/>
      <url>/%E7%AE%97%E6%B3%95/%E5%88%B7%E9%A2%98%E7%AF%87/2022/02/25/%E3%80%9064-Medium%E3%80%91%E6%9C%80%E5%B0%8F%E8%B7%AF%E5%BE%84%E5%92%8C/</url>
      
        <content type="html"><![CDATA[<h2 id="æœ€å°è·¯å¾„å’Œ"><a href="#æœ€å°è·¯å¾„å’Œ" class="headerlink" title="æœ€å°è·¯å¾„å’Œ"></a>æœ€å°è·¯å¾„å’Œ</h2><p>ç»™å®šä¸€ä¸ªåŒ…å«éè´Ÿæ•´æ•°çš„ <code>m x n  </code> çš„ç½‘æ ¼ <code>grid</code> ï¼Œè¯·æ‰¾å‡ºä¸€æ¡ä»å·¦ä¸Šè§’åˆ°å³ä¸‹è§’çš„è·¯å¾„ï¼Œä½¿å¾—è·¯å¾„ä¸Šçš„æ•°å­—æ€»å’Œä¸ºæœ€å°ã€‚</p><p><strong>è¯´æ˜ï¼š</strong>æ¯æ¬¡åªèƒ½å‘ä¸‹æˆ–è€…å‘å³ç§»åŠ¨ä¸€æ­¥ã€‚</p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šgrid = <span class="string">[[1,3,1],[1,5,1],[4,2,1]]</span></span><br><span class="line">è¾“å‡ºï¼š<span class="number">7</span></span><br><span class="line">è§£é‡Šï¼šå› ä¸ºè·¯å¾„ <span class="number">1</span>â†’<span class="number">3</span>â†’<span class="number">1</span>â†’<span class="number">1</span>â†’<span class="number">1</span> çš„æ€»å’Œæœ€å°ã€‚</span><br></pre></td></tr></table></figure><p><strong>ç¤ºä¾‹ 2ï¼š</strong></p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šgrid = <span class="string">[[1,2,3],[4,5,6]]</span></span><br><span class="line">è¾“å‡ºï¼š<span class="number">12</span></span><br></pre></td></tr></table></figure><p><strong>æç¤ºï¼š</strong></p><ul><li><code>m == grid.length</code></li><li><code>n == grid[i].length</code></li><li><code>1 &lt;= m, n &lt;= 200</code></li><li><code>0 &lt;= grid[i][j] &lt;= 100</code></li></ul><p>åˆ†æï¼šä¸€èˆ¬æ¥è¯´ï¼Œé‡åˆ°è¿™ç§ç»Ÿè®¡å¯è¡Œè·¯å¾„çš„æ•°é‡ï¼Œæˆ–è€…æ±‚æœ€å°è·¯å¾„çš„æ—¶å€™ï¼Œä½¿ç”¨<strong>åŠ¨æ€è§„åˆ’</strong>å’Œ<strong>æœç´¢</strong>è¿™ä¸¤ç§æ–¹æ³•ï¼Œä½†æ˜¯æœç´¢æ›´é€‚ç”¨äºæ•°æ®è§„æ¨¡è¾ƒå°çš„é¢˜ç›®</p><h3 id="åŠ¨æ€è§„åˆ’"><a href="#åŠ¨æ€è§„åˆ’" class="headerlink" title="åŠ¨æ€è§„åˆ’"></a>åŠ¨æ€è§„åˆ’</h3><p>åŠ¨æ€è§„åˆ’ç®—æ³•ï¼Œæˆ‘ä»¬ä¸»è¦å…³æ³¨ä»¥ä¸‹ä¸¤ç‚¹ã€‚</p><ol><li><p>çŠ¶æ€çš„è®¾ç½®ã€‚åœ¨è¿™ä¸ªé¢˜ç›®é‡Œï¼Œç”±äºè¦æ±‚æœ€å°è·¯å¾„å’Œï¼Œæˆ‘ä»¬å¯ä»¥ä»¤ dp[ i ] [ j ] ä»£è¡¨ä»ï¼ˆiï¼Œjï¼‰ç‚¹èµ°åˆ°å³ä¸‹è§’ç‚¹çš„æœ€å°è·¯å¾„å’Œã€‚</p></li><li><p>çŠ¶æ€è½¬ç§»æ–¹ç¨‹ã€‚æˆ‘ä»¬è€ƒè™‘å¦‚ä½•æ¥æ±‚å‡º dp [ i] [j]ã€‚ç”±äºæ¯æ¬¡åªèƒ½å¾€å³æˆ–è€…ä¸‹èµ°ï¼Œæ‰€ä»¥ä»ï¼ˆiï¼Œjï¼‰åªèƒ½èµ°åˆ°ï¼ˆi+1ï¼Œjï¼‰æˆ–è€…ï¼ˆiï¼Œj+1)ã€‚æ¢è¨€ä¹‹ï¼Œdp[ i ] [ j ] çš„å‰ç»§çŠ¶æ€åªæœ‰dp[ i+1 ] [ j ], dp[ i ] [ j+1 ], æ‰€ä»¥æˆ‘ä»¬åœ¨ä¸¤è€…å–æœ€å°ï¼Œç„¶ååŠ ä¸Šè¿™ä¸ªæ ¼å­å†…çš„æ•°å³å¯</p></li></ol><p>  dp(i,j) &#x3D; grid(i,j) + min(dp(i + 1,j),dp(i,j + 1))</p><p>æ˜¯éœ€è¦ç‰¹æ®Šå¤„ç†çš„ï¼Œå½“ç„¶è¿˜æœ‰ç»ˆç‚¹å…ƒç´ ä¹Ÿæ˜¯è¦åšä¸ªæ’é™¤ï¼Œä¸‹é¢å…ˆçœ‹æµç¨‹å›¾</p><p>å°±ä»¥æ¡ˆä¾‹ä¸€çš„çŸ©é˜µä¸ºä¾‹å­ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šgrid = [[1,3,1],[1,5,1],[4,2,1]]</span><br><span class="line">è¾“å‡ºï¼š7</span><br><span class="line">è§£é‡Šï¼šå› ä¸ºè·¯å¾„ 1â†’3â†’1â†’1â†’1 çš„æ€»å’Œæœ€å°ã€‚</span><br></pre></td></tr></table></figure><h4 id="é€†å‘æ€ç»´"><a href="#é€†å‘æ€ç»´" class="headerlink" title="é€†å‘æ€ç»´"></a>é€†å‘æ€ç»´</h4><p>ä»ç»ˆç‚¹è€ƒè™‘é—®é¢˜ï¼Œæ€è€ƒä¸Šä¸€ç‚¹åœ¨å“ª</p><p>æœ€åä¸€åˆ—æ˜¯åªèƒ½å‘ä¸Šå›</p><p>æœ€åä¸€è¡Œæ˜¯åªèƒ½å‘å·¦å›</p><p>ç»ˆç‚¹ä¸åšå¤„ç†</p><img src="/%E7%AE%97%E6%B3%95/%E5%88%B7%E9%A2%98%E7%AF%87/2022/02/25/%E3%80%9064-Medium%E3%80%91%E6%9C%80%E5%B0%8F%E8%B7%AF%E5%BE%84%E5%92%8C/%E7%9F%A9%E9%98%B5%E5%9B%BE.png" class title="çŸ©é˜µå›¾"><img src="/%E7%AE%97%E6%B3%95/%E5%88%B7%E9%A2%98%E7%AF%87/2022/02/25/%E3%80%9064-Medium%E3%80%91%E6%9C%80%E5%B0%8F%E8%B7%AF%E5%BE%84%E5%92%8C/process-01.png" class title="process-01"><img src="/%E7%AE%97%E6%B3%95/%E5%88%B7%E9%A2%98%E7%AF%87/2022/02/25/%E3%80%9064-Medium%E3%80%91%E6%9C%80%E5%B0%8F%E8%B7%AF%E5%BE%84%E5%92%8C/process-02.png" class title="process-02"><img src="/%E7%AE%97%E6%B3%95/%E5%88%B7%E9%A2%98%E7%AF%87/2022/02/25/%E3%80%9064-Medium%E3%80%91%E6%9C%80%E5%B0%8F%E8%B7%AF%E5%BE%84%E5%92%8C/process-03.png" class title="process-03"><img src="/%E7%AE%97%E6%B3%95/%E5%88%B7%E9%A2%98%E7%AF%87/2022/02/25/%E3%80%9064-Medium%E3%80%91%E6%9C%80%E5%B0%8F%E8%B7%AF%E5%BE%84%E5%92%8C/process-04.png" class title="process-04"><img src="/%E7%AE%97%E6%B3%95/%E5%88%B7%E9%A2%98%E7%AF%87/2022/02/25/%E3%80%9064-Medium%E3%80%91%E6%9C%80%E5%B0%8F%E8%B7%AF%E5%BE%84%E5%92%8C/process-05.png" class title="process-05"><img src="/%E7%AE%97%E6%B3%95/%E5%88%B7%E9%A2%98%E7%AF%87/2022/02/25/%E3%80%9064-Medium%E3%80%91%E6%9C%80%E5%B0%8F%E8%B7%AF%E5%BE%84%E5%92%8C/process-06.png" class title="process-06"><img src="/%E7%AE%97%E6%B3%95/%E5%88%B7%E9%A2%98%E7%AF%87/2022/02/25/%E3%80%9064-Medium%E3%80%91%E6%9C%80%E5%B0%8F%E8%B7%AF%E5%BE%84%E5%92%8C/process-07.png" class title="process-07"><img src="/%E7%AE%97%E6%B3%95/%E5%88%B7%E9%A2%98%E7%AF%87/2022/02/25/%E3%80%9064-Medium%E3%80%91%E6%9C%80%E5%B0%8F%E8%B7%AF%E5%BE%84%E5%92%8C/process-08.png" class title="process-08"><img src="/%E7%AE%97%E6%B3%95/%E5%88%B7%E9%A2%98%E7%AF%87/2022/02/25/%E3%80%9064-Medium%E3%80%91%E6%9C%80%E5%B0%8F%E8%B7%AF%E5%BE%84%E5%92%8C/process-09.png" class title="process-09"><img src="/%E7%AE%97%E6%B3%95/%E5%88%B7%E9%A2%98%E7%AF%87/2022/02/25/%E3%80%9064-Medium%E3%80%91%E6%9C%80%E5%B0%8F%E8%B7%AF%E5%BE%84%E5%92%8C/process-10.png" class title="process-10"><p>ä¸Šä»£ç ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">minPathSum</span><span class="params">(<span class="keyword">int</span>[][] grid)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> height = grid.length;</span><br><span class="line">        <span class="keyword">int</span> width = grid[<span class="number">0</span>].length;</span><br><span class="line">        <span class="comment">// ä»ç»ˆç‚¹å¾€èµ·ç‚¹èµ°</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = height - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = width - <span class="number">1</span>; j &gt;= <span class="number">0</span>; j--) &#123;</span><br><span class="line">                <span class="keyword">if</span> (i == height - <span class="number">1</span> &amp;&amp; j != width - <span class="number">1</span>) &#123;</span><br><span class="line">                    grid[i][j] += grid[i][j + <span class="number">1</span>];</span><br><span class="line">                &#125; <span class="keyword">else</span> <span class="keyword">if</span> (i != height - <span class="number">1</span> &amp;&amp; j == width - <span class="number">1</span>) &#123;</span><br><span class="line">                    grid[i][j] += grid[i + <span class="number">1</span>][j];</span><br><span class="line">                &#125; <span class="keyword">else</span> <span class="keyword">if</span> (i != height - <span class="number">1</span> &amp;&amp; j != width - <span class="number">1</span>) &#123;</span><br><span class="line">                    grid[i][j] += Math.min(grid[i + <span class="number">1</span>][j], grid[i][j + <span class="number">1</span>]);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> grid[<span class="number">0</span>][<span class="number">0</span>];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="æ­£å‘æ€ç»´"><a href="#æ­£å‘æ€ç»´" class="headerlink" title="æ­£å‘æ€ç»´"></a>æ­£å‘æ€ç»´</h4><p>å³ä»èµ·ç‚¹å‡ºå‘ï¼Œæ€è€ƒä¸‹ä¸€ç‚¹åœ¨å“ª</p><p>åªæœ‰ç¬¬ä¸€è¡Œæ˜¯å¯ä»¥å‘å³</p><p>åªæœ‰ç¬¬ä¸€åˆ—æ˜¯å¯ä»¥å‘ä¸‹</p><p>èµ·ç‚¹ä¸åšå¤„ç†</p><img src="/%E7%AE%97%E6%B3%95/%E5%88%B7%E9%A2%98%E7%AF%87/2022/02/25/%E3%80%9064-Medium%E3%80%91%E6%9C%80%E5%B0%8F%E8%B7%AF%E5%BE%84%E5%92%8C/%E7%9F%A9%E9%98%B5%E5%9B%BE.png" class title="çŸ©é˜µå›¾"><img src="/%E7%AE%97%E6%B3%95/%E5%88%B7%E9%A2%98%E7%AF%87/2022/02/25/%E3%80%9064-Medium%E3%80%91%E6%9C%80%E5%B0%8F%E8%B7%AF%E5%BE%84%E5%92%8C/process2-01.png" class title="process2-01"><img src="/%E7%AE%97%E6%B3%95/%E5%88%B7%E9%A2%98%E7%AF%87/2022/02/25/%E3%80%9064-Medium%E3%80%91%E6%9C%80%E5%B0%8F%E8%B7%AF%E5%BE%84%E5%92%8C/process2-02.png" class title="process2-02"><img src="/%E7%AE%97%E6%B3%95/%E5%88%B7%E9%A2%98%E7%AF%87/2022/02/25/%E3%80%9064-Medium%E3%80%91%E6%9C%80%E5%B0%8F%E8%B7%AF%E5%BE%84%E5%92%8C/process2-03.png" class title="process2-03"><img src="/%E7%AE%97%E6%B3%95/%E5%88%B7%E9%A2%98%E7%AF%87/2022/02/25/%E3%80%9064-Medium%E3%80%91%E6%9C%80%E5%B0%8F%E8%B7%AF%E5%BE%84%E5%92%8C/process2-04.png" class title="process2-04"><img src="/%E7%AE%97%E6%B3%95/%E5%88%B7%E9%A2%98%E7%AF%87/2022/02/25/%E3%80%9064-Medium%E3%80%91%E6%9C%80%E5%B0%8F%E8%B7%AF%E5%BE%84%E5%92%8C/process2-05.png" class title="process2-05"><img src="/%E7%AE%97%E6%B3%95/%E5%88%B7%E9%A2%98%E7%AF%87/2022/02/25/%E3%80%9064-Medium%E3%80%91%E6%9C%80%E5%B0%8F%E8%B7%AF%E5%BE%84%E5%92%8C/process2-06.png" class title="process2-06"><img src="/%E7%AE%97%E6%B3%95/%E5%88%B7%E9%A2%98%E7%AF%87/2022/02/25/%E3%80%9064-Medium%E3%80%91%E6%9C%80%E5%B0%8F%E8%B7%AF%E5%BE%84%E5%92%8C/process2-07.png" class title="process2-07"><img src="/%E7%AE%97%E6%B3%95/%E5%88%B7%E9%A2%98%E7%AF%87/2022/02/25/%E3%80%9064-Medium%E3%80%91%E6%9C%80%E5%B0%8F%E8%B7%AF%E5%BE%84%E5%92%8C/process2-08.png" class title="process2-08"><img src="/%E7%AE%97%E6%B3%95/%E5%88%B7%E9%A2%98%E7%AF%87/2022/02/25/%E3%80%9064-Medium%E3%80%91%E6%9C%80%E5%B0%8F%E8%B7%AF%E5%BE%84%E5%92%8C/process2-09.png" class title="process2-09"><p>ä¸Šä»£ç ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">minPathSum</span><span class="params">(<span class="keyword">int</span>[][] grid)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> rows = grid.length;</span><br><span class="line">        <span class="keyword">int</span> columns = grid[<span class="number">0</span>].length;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; rows; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; columns; j++) &#123;</span><br><span class="line">                <span class="keyword">if</span> (i == <span class="number">0</span> &amp;&amp; j != <span class="number">0</span>) &#123;</span><br><span class="line">                    grid[i][j] += grid[i][j - <span class="number">1</span>];</span><br><span class="line">                &#125; <span class="keyword">else</span> <span class="keyword">if</span> (j == <span class="number">0</span> &amp;&amp; i != <span class="number">0</span>) &#123;</span><br><span class="line">                    grid[i][j] += grid[i - <span class="number">1</span>][j];</span><br><span class="line">                &#125; <span class="keyword">else</span> <span class="keyword">if</span> (i != <span class="number">0</span>) &#123;</span><br><span class="line">                    grid[i][j] += Math.min(grid[i - <span class="number">1</span>][j], grid[i][j - <span class="number">1</span>]);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> grid[rows - <span class="number">1</span>][columns - <span class="number">1</span>];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="ä¼˜åŒ–ï¼ˆçŠ¶æ€å‹ç¼©ï¼‰"><a href="#ä¼˜åŒ–ï¼ˆçŠ¶æ€å‹ç¼©ï¼‰" class="headerlink" title="ä¼˜åŒ–ï¼ˆçŠ¶æ€å‹ç¼©ï¼‰"></a>ä¼˜åŒ–ï¼ˆçŠ¶æ€å‹ç¼©ï¼‰</h4><p>è¿™æ˜¯å®˜æ–¹çš„ä¼˜åŒ–è¯´æ˜ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">æˆ‘ä»¬å¯ä»¥ç”¨ä¸€ä¸ªä¸€ç»´æ•°ç»„dpæ¥ä»£æ›¿äºŒç»´æ•°ç»„ï¼Œdp æ•°ç»„çš„å¤§å°å’Œgridçš„åˆ—å¤§å°ç›¸åŒã€‚</span><br><span class="line"></span><br><span class="line">è¿™æ˜¯å› ä¸ºå¯¹äºæŸä¸ªå›ºå®šçŠ¶æ€ï¼Œåªéœ€è¦è€ƒè™‘ä¸‹æ–¹å’Œå³æ–¹çš„èŠ‚ç‚¹ã€‚</span><br><span class="line"></span><br><span class="line">æˆ‘ä»¬å°±å¯ä»¥ä¸€è¡Œä¸€è¡Œè®¡ç®—ï¼Œæ¥èŠ‚çœç©ºé—´å¤æ‚åº¦ã€‚</span><br></pre></td></tr></table></figure><p>è¿™æ˜¯æˆ‘ä¸ªäººçš„è§£è¯»ï¼ˆå¯¹äºé€†å‘æ€ç»´ï¼‰</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">æƒ³è¦å¾—åˆ°æœ€åçš„ç»“æœï¼Œå°±éœ€è¦ä»ç¬¬ä¸€è¡Œå¼€å§‹è®¡ç®—ï¼Œç„¶åè¯¥è¡Œçš„æ•°æ®ä¸ºä¸‹ä¸€è¡Œçš„è®¡ç®—æä¾›æ•°æ®ã€‚</span><br><span class="line">è¿™ä¸€è¡Œè®¡ç®—å®Œæˆåï¼Œä¸Šä¸€è¡Œå°±å¤±å»äº†ä½œç”¨ï¼Œè€Œä¸”æˆ‘ä»¬éœ€è¦çš„å°±åªæ˜¯è®¡ç®—å®Œæˆåçš„æœ€åä¸€è¡Œæ•°æ®</span><br><span class="line">è¿”å›çš„ä¹Ÿå°±æ˜¯è¿™æœ€åä¸€è¡Œçš„æœ€åä¸€ä¸ªæ•°æ®ä¹Ÿå°±æ˜¯dp[rows-1][colums-1]</span><br></pre></td></tr></table></figure><p>è¿™é‡Œå°±ä¸ç”»æµç¨‹å›¾äº†ï¼Œç›´æ¥ä¸Šä»£ç </p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">minPathSum</span><span class="params">(<span class="keyword">int</span>[][] grid)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> rows = grid.length;</span><br><span class="line">        <span class="keyword">int</span> columns = grid[<span class="number">0</span>].length;</span><br><span class="line">        <span class="keyword">int</span>[] dp = <span class="keyword">new</span> <span class="keyword">int</span>[columns];</span><br><span class="line">        Arrays.fill(dp, Integer.MAX_VALUE);</span><br><span class="line">        dp[<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; rows; i++) &#123;</span><br><span class="line">            dp[<span class="number">0</span>] = dp[<span class="number">0</span>] + grid[i][<span class="number">0</span>];</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt; columns; j++) &#123;</span><br><span class="line">                dp[j] = Math.min(dp[j], dp[j - <span class="number">1</span>]) + grid[i][j];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> dp[columns - <span class="number">1</span>];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
          <category> åˆ·é¢˜ç¯‡ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç®—æ³• </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Redis-ç¼“å­˜ç©¿é€å’Œé›ªå´©</title>
      <link href="/javaEE/Redis/2022/02/25/Redis-%E7%BC%93%E5%AD%98%E7%A9%BF%E9%80%8F%E5%92%8C%E9%9B%AA%E5%B4%A9/"/>
      <url>/javaEE/Redis/2022/02/25/Redis-%E7%BC%93%E5%AD%98%E7%A9%BF%E9%80%8F%E5%92%8C%E9%9B%AA%E5%B4%A9/</url>
      
        <content type="html"><![CDATA[<h2 id="ç¼“å­˜ç©¿é€å’Œé›ªå´©"><a href="#ç¼“å­˜ç©¿é€å’Œé›ªå´©" class="headerlink" title="ç¼“å­˜ç©¿é€å’Œé›ªå´©"></a>ç¼“å­˜ç©¿é€å’Œé›ªå´©</h2><p>ç¼“å­˜çš„æ—¶å€™ï¼Œå¤§å¤§æé«˜äº†åº”ç”¨ç¨‹åºçš„æ€§èƒ½å’Œæ•ˆç‡ï¼Œç‰¹åˆ«æ˜¯æ•°æ®æŸ¥è¯¢æ–¹é¢ã€‚ä½†åŒæ—¶ï¼Œå®ƒå¸¦æ¥å¥½å¤„çš„åŒæ—¶ï¼Œä¹Ÿå¸¦æ¥äº†é—®é¢˜ã€‚</p><p>ç¼“å­˜ç©¿é€å’Œé›ªå´©å°±æ˜¯ä¸¤ä¸ªç»å…¸çš„é—®é¢˜ï¼Œå½“ç„¶ä¸šç•Œä¹Ÿå·²ç»æœ‰äº†æ¯”è¾ƒæµè¡Œçš„è§£å†³æ–¹æ¡ˆ</p><h3 id="ç¼“å­˜ç©¿é€ï¼ˆæŸ¥ä¸åˆ°ï¼‰"><a href="#ç¼“å­˜ç©¿é€ï¼ˆæŸ¥ä¸åˆ°ï¼‰" class="headerlink" title="ç¼“å­˜ç©¿é€ï¼ˆæŸ¥ä¸åˆ°ï¼‰"></a>ç¼“å­˜ç©¿é€ï¼ˆæŸ¥ä¸åˆ°ï¼‰</h3><p><strong>æ¦‚å¿µï¼š</strong>ç¼“å­˜ç©¿é€çš„æ¦‚å¿µå¾ˆç®€å•ï¼Œç”¨æˆ·æƒ³è¦æŸ¥è¯¢ä¸€ä¸ªæ•°æ®ï¼Œå‘ç°Rediså†…å­˜æ•°æ®åº“ä¸­æ²¡æœ‰ï¼Œä¹Ÿå°±æ˜¯ç¼“å­˜æ²¡æœ‰<strong>å‘½ä¸­</strong>ï¼Œäºæ˜¯å»æŒä¹…å±‚æ•°æ®åº“æŸ¥è¯¢ã€‚å‘ç°ä¹Ÿæ²¡æœ‰ï¼Œäºæ˜¯æœ¬æ¬¡æŸ¥è¯¢å¤±è´¥ã€‚å½“è¿™ç§æŸ¥è¯¢æƒ…å†µå¾ˆå¤šçš„æ—¶å€™ï¼Œç¼“å­˜éƒ½æ²¡æœ‰å‘½ä¸­ï¼Œéƒ½æ—¶å»è¯·æ±‚äº†æŒä¹…å±‚æ•°æ®åº“ã€‚å°±æ˜¯æ„å‘³ç€è¯¥ç¼“å­˜æ— ç”¨ï¼Œä¹Ÿå°±æ˜¯ç¼“å­˜ç©¿é€ã€‚</p><p><strong>è§£å†³æ–¹æ¡ˆï¼š</strong></p><ol><li>å¸ƒéš†è¿‡æ»¤å™¨</li></ol><p>å¸ƒéš†è¿‡æ»¤å™¨æ˜¯ä¸€ç§æ•°æ®ç»“æ„ï¼Œå¯¹æ‰€æœ‰èƒ½æŸ¥è¯¢åˆ°çš„å‚æ•°ä»¥hashçš„å½¢å¼å­˜å‚¨ï¼Œåœ¨æ§åˆ¶å±‚å…ˆè¿›è¡Œæ ¡éªŒï¼Œä¸ç¬¦åˆåˆ™è¯¥è¯·æ±‚ç›´æ¥ä¸¢å¼ƒï¼Œä»è€Œè§£å†³é—®é¢˜</p><img src="/javaEE/Redis/2022/02/25/Redis-%E7%BC%93%E5%AD%98%E7%A9%BF%E9%80%8F%E5%92%8C%E9%9B%AA%E5%B4%A9/%E5%B8%83%E9%9A%86%E8%BF%87%E6%BB%A4%E5%99%A8.png" class title="å¸ƒéš†è¿‡æ»¤å™¨"><ol start="2"><li>ç½®ç©ºç¼“å­˜</li></ol><p>å½“å­˜å‚¨å±‚æœªå‘½ä¸­çš„æ—¶å€™ï¼ŒåŠæ—¶è¿”å›çš„æ˜¯nullå¯¹è±¡ï¼Œç¼“å­˜ä¹Ÿå°†å…¶å­˜å‚¨èµ·æ¥åŒæ—¶è®¾ç½®ä¸€ä¸ªè¿‡æœŸæ—¶é—´ï¼Œä¹‹åå†ä»æ•°æ®åº“ä¸­æŸ¥è¯¢ï¼Œä¿æŠ¤äº†mysql</p><p>é—®é¢˜ï¼š</p><img src="/javaEE/Redis/2022/02/25/Redis-%E7%BC%93%E5%AD%98%E7%A9%BF%E9%80%8F%E5%92%8C%E9%9B%AA%E5%B4%A9/%E8%AE%BE%E7%BD%AE%E7%A9%BA%E5%80%BC.png" class title="è®¾ç½®ç©ºå€¼"><ol><li>æœ‰å¯èƒ½ä¼šå­˜æ”¾å¾ˆå¤šå¾ˆå¤šå€¼ä¸ºç©ºçš„é”®å€¼å¯¹ï¼Œæµªè´¹æ–‡ä»¶</li><li>åŠæ—¶è®¾ç½®äº†è¿‡æœŸæ—¶é—´ï¼Œä½†æ˜¯å¦‚æœmysqlåœ¨è¿™ä¸ªè¿‡æœŸæ—¶é—´è¿˜æ²¡åˆ°çš„æ—¶å€™ï¼Œå·²ç»æœ‰æŸ¥è¯¢ç»“æœäº†ï¼Œä½†æ˜¯å› ä¸ºè¿‡æœŸæ—¶é—´æ²¡åˆ°ï¼Œå´è¿˜æ˜¯è®¿é—®ä¸äº†mysqlï¼Œä»è€ŒæŸ¥è¯¢åˆ°æ•°æ®</li></ol><h3 id="ç¼“å­˜å‡»ç©¿ï¼ˆæŸ¥å¾—å¤ªå¤šäº†ï¼‰"><a href="#ç¼“å­˜å‡»ç©¿ï¼ˆæŸ¥å¾—å¤ªå¤šäº†ï¼‰" class="headerlink" title="ç¼“å­˜å‡»ç©¿ï¼ˆæŸ¥å¾—å¤ªå¤šäº†ï¼‰"></a>ç¼“å­˜å‡»ç©¿ï¼ˆæŸ¥å¾—å¤ªå¤šäº†ï¼‰</h3><p><strong>æ¦‚è¿°ï¼š</strong>è¿™é‡Œéœ€è¦æ³¨æ„å’Œç¼“å­˜å‡»ç©¿çš„åŒºåˆ«ï¼Œç¼“å­˜å‡»ç©¿ï¼Œæ˜¯æŒ‡ä¸€ä¸ªkeyåœ¨ä¸åœçš„æ‰›ç€å¤§å¹¶å‘ï¼Œå¤§å¹¶å‘é›†ä¸­å¯¹<strong>è¿™ä¸€ä¸ªç‚¹</strong>è¿›è¡Œè®¿é—®ï¼Œå½“è¿™ä¸ªkeyåœ¨å¤±æ•ˆçš„ç¬é—´ï¼ŒæŒç»­çš„å¤§å¹¶å‘å°±ç©¿ç ´ç¼“å­˜ï¼Œç›´æ¥è¯·æ±‚æ•°æ®åº“ï¼Œå°±åƒåœ¨ä¸€ä¸ªå±éšœä¸Šå‡¿å¼€äº†ä¸€ä¸ªæ´ã€‚å½“æŸä¸ªkeyåœ¨è¿‡æœŸçš„ç¬é—´ï¼Œæœ‰å¤§é‡çš„è¯·æ±‚å¹¶å‘è®¿é—®ï¼Œè¿™ç±»æ•°æ®ä¸€èˆ¬æ˜¯çƒ­ç‚¹æ•°æ®ï¼Œç”±äºç¼“å­˜è¿‡æœŸï¼Œä¼šåŒæ—¶è®¿é—®æ•°æ®åº“æ¥æŸ¥è¯¢æœ€æ–°æ•°æ®ï¼Œå¹¶ä¸”å›å†™ç¼“å­˜ï¼Œä¼šå¯¼ä½¿æ•°æ®åº“ç¬é—´å‹åŠ›è¿‡å¤§ã€‚<br><strong>è§£å†³æ–¹æ¡ˆï¼š</strong></p><ol><li>è®¾ç½®çƒ­ç‚¹æ•°æ®æ°¸ä¸è¿‡æœŸï¼Œä»ç¼“å­˜å±‚é¢æ¥çœ‹ï¼Œæ²¡æœ‰è®¾ç½®è¿‡æœŸæ—¶é—´ï¼Œæ‰€ä»¥ä¸ä¼šå‡ºç°çƒ­ç‚¹ key è¿‡æœŸåäº§ç”Ÿçš„é—®é¢˜ã€‚</li><li>åŠ äº’æ–¥é”åˆ†å¸ƒå¼é”ï¼šä½¿ç”¨åˆ†å¸ƒå¼é”ï¼Œä¿è¯å¯¹äºæ¯ä¸ªkeyåŒæ—¶åªæœ‰ä¸€ä¸ªçº¿ç¨‹å»æŸ¥è¯¢åç«¯æœåŠ¡ï¼Œå…¶ä»–çº¿ç¨‹æ²¡æœ‰è·å¾—åˆ†å¸ƒå¼é”çš„æƒé™</li></ol><h3 id="é›ªå´©"><a href="#é›ªå´©" class="headerlink" title="é›ªå´©"></a>é›ªå´©</h3><p><strong>æ¦‚å¿µï¼š</strong>æŒ‡çš„æ˜¯åœ¨æŸä¸€æ—¶é—´æ®µï¼Œç¼“å­˜é›†ä¸­è¿‡æœŸå¤±æ•ˆæˆ–è€…é›†ä¸­å®•æœº</p><p>æ­£å¸¸ï¼š</p><img src="/javaEE/Redis/2022/02/25/Redis-%E7%BC%93%E5%AD%98%E7%A9%BF%E9%80%8F%E5%92%8C%E9%9B%AA%E5%B4%A9/%E6%AD%A3%E5%B8%B8%E7%BC%93%E5%AD%98.png" class title="æ­£å¸¸ç¼“å­˜"><p>é›ªå´©ï¼š</p><img src="/javaEE/Redis/2022/02/25/Redis-%E7%BC%93%E5%AD%98%E7%A9%BF%E9%80%8F%E5%92%8C%E9%9B%AA%E5%B4%A9/%E9%9B%AA%E5%B4%A9.png" class title="é›ªå´©"><p>å¦‚æœæ˜¯è‡ªç„¶keyè¿‡æœŸï¼Œå€’æ˜¯å½±å“ä¸å¤§ï¼Œä½†æ˜¯å¦‚æœæ˜¯èŠ‚ç‚¹å®•æœºæˆ–è€…æ–­ç”µï¼Œè¿™å°±å¾ˆæœ‰å¯èƒ½ä¼šå°†æ•°æ®åº“å†²å®</p><p><strong>è§£å†³æ–¹æ¡ˆï¼š</strong></p><ol><li>redisé›†ç¾¤</li><li>é™æµé™çº§ï¼šåœ¨ç¼“å­˜å¤±æ•ˆåï¼Œé€šè¿‡åŠ é”æˆ–è€…é˜Ÿåˆ—æ¥æ§åˆ¶æ•°æ®åº“å†™ç¼“å­˜çš„çº¿ç¨‹ä¸ªæ•°</li><li>æ•°æ®é¢„çƒ­ï¼šåœ¨æ­£å¼éƒ¨ç½²å‰ï¼Œå…ˆæŠŠå¯èƒ½çš„æ•°æ®é¢„å…ˆè®¿é—®ä¸€éï¼Œè¿™æ ·çš„è¯å¯èƒ½å¤§é‡è®¿é—®çš„æ•°æ®å°±ä¼šåŠ è½½åˆ°ç¼“å­˜ä¸­å»ï¼Œåœ¨å³å°†å‘ç”Ÿé«˜å¹¶å‘è®¿é—®å‰ï¼Œæ‰‹åŠ¨è§¦å‘åŠ è½½å™¨ç¼“å­˜ä¸åŒçš„keyï¼Œè®¾ç½®ä¸åŒçš„è¿‡æœŸæ—¶é—´ï¼Œè®©ç¼“å­˜è¿‡æœŸæ—¶é—´ç‚¹æ¯”è¾ƒå‡åŒ€</li></ol>]]></content>
      
      
      <categories>
          
          <category> javaEE </category>
          
          <category> Redis </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Redis </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Redis-ä¸»ä»å¤åˆ¶</title>
      <link href="/javaEE/Redis/2022/02/25/Redis-%E4%B8%BB%E4%BB%8E%E5%A4%8D%E5%88%B6/"/>
      <url>/javaEE/Redis/2022/02/25/Redis-%E4%B8%BB%E4%BB%8E%E5%A4%8D%E5%88%B6/</url>
      
        <content type="html"><![CDATA[<h2 id="ä¸»ä»å¤åˆ¶"><a href="#ä¸»ä»å¤åˆ¶" class="headerlink" title="ä¸»ä»å¤åˆ¶"></a>ä¸»ä»å¤åˆ¶</h2><p>ä¸»ä»å¤åˆ¶ï¼Œæ˜¯æŒ‡å°†ä¸€å°RedisæœåŠ¡å™¨ä¸­çš„æ•°æ®ï¼Œå¤åˆ¶åˆ°å…¶ä»–çš„RedisæœåŠ¡å™¨ä¸Šã€‚</p><p>å‰è€…ç§°ä¸ºä¸»èŠ‚ç‚¹(master&#x2F;leader)ï¼Œåè€…ç§°ä¸ºä»èŠ‚ç‚¹(slave&#x2F;follower)</p><p>æ•°æ®çš„å¤åˆ¶æ˜¯<strong>å•å‘</strong>çš„ï¼Œåªèƒ½ç”±ä¸»èŠ‚ç‚¹åˆ°ä»èŠ‚ç‚¹ã€‚Masterä»¥å†™ä¸ºä¸»ï¼ŒSlave ä»¥è¯»ä¸ºä¸»ã€‚</p><p>ä¸”ä¸€ä¸ªä¸»èŠ‚ç‚¹å¯ä»¥æœ‰å¤šä¸ªä»èŠ‚ç‚¹(æˆ–æ²¡æœ‰ä»èŠ‚ç‚¹)ï¼Œä½†ä¸€ä¸ªä»èŠ‚ç‚¹åªèƒ½æœ‰ä¸€ä¸ªä¸»èŠ‚ç‚¹ã€‚</p><h3 id="ä½œç”¨"><a href="#ä½œç”¨" class="headerlink" title="ä½œç”¨"></a>ä½œç”¨</h3><p>ä¸»ä»å¤åˆ¶çš„ä½œç”¨ä¸»è¦åŒ…æ‹¬ï¼š</p><p>1ã€<strong>æ•°æ®å†—ä½™ï¼š</strong>ä¸»ä»å¤åˆ¶å®ç°äº†æ•°æ®çš„çƒ­å¤‡ä»½ï¼Œæ˜¯æŒä¹…åŒ–ä¹‹å¤–çš„ä¸€ç§æ•°æ®å†—ä½™æ–¹å¼ã€‚<br>2ã€<strong>æ•…éšœæ¢å¤ï¼š</strong>å½“ä¸»èŠ‚ç‚¹å‡ºç°é—®é¢˜æ—¶ï¼Œå¯ä»¥ç”±ä»èŠ‚ç‚¹æä¾›æœåŠ¡ï¼Œå®ç°å¿«é€Ÿçš„æ•…éšœæ¢å¤<br>3ã€<strong>è´Ÿè½½å‡è¡¡ï¼š</strong>åœ¨ä¸»ä»å¤åˆ¶çš„åŸºç¡€ä¸Šï¼Œé…åˆ<strong>è¯»å†™åˆ†ç¦»</strong>ï¼Œå¯ä»¥ç”±ä¸»èŠ‚ç‚¹æä¾›å†™æœåŠ¡ï¼Œç”±ä»èŠ‚ç‚¹æä¾›è¯»æœåŠ¡ï¼Œåˆ†æ‹…æœåŠ¡å™¨è´Ÿè½½ï¼›å°¤å…¶æ˜¯åœ¨å†™å°‘è¯»å¤šçš„åœºæ™¯ä¸‹ï¼Œé€šè¿‡å¤šä¸ªä»èŠ‚ç‚¹åˆ†æ‹…è¯»è´Ÿè½½ï¼Œå¯ä»¥å¤§å¤§æé«˜RedisæœåŠ¡å™¨çš„å¹¶å‘é‡ã€‚<br>4ã€<strong>é«˜å¯ç”¨ï¼ˆé›†ç¾¤ï¼‰åŸºçŸ³ï¼š</strong>ä¸»ä»å¤åˆ¶è¿˜æ˜¯å“¨å…µæ¨¡å¼å’Œéƒ¨ç½²é›†ç¾¤èƒ½å¤Ÿå®æ–½çš„åŸºç¡€ï¼Œå› æ­¤è¯´ä¸»ä»å¤åˆ¶æ˜¯Redisé«˜å¯ç”¨çš„åŸºç¡€ã€‚</p><img src="/javaEE/Redis/2022/02/25/Redis-%E4%B8%BB%E4%BB%8E%E5%A4%8D%E5%88%B6/%E4%B8%BB%E4%BB%8E%E5%A4%8D%E5%88%B6.png" class title="ä¸»ä»å¤åˆ¶"><p>ä¸€èˆ¬æ¥è¯´ï¼Œè¦å°†Redisè¿ç”¨äºå·¥ç¨‹é¡¹ç›®ä¸­ï¼Œåªä½¿ç”¨ä¸€å°Redisæ˜¯ä¸‡ä¸‡ä¸èƒ½çš„ï¼Œæœ€å°‘ä¸‰å°ï¼ˆä¸€ä¸»äºŒä»ï¼‰</p><p>â€‹1ã€ä»ç»“æ„ä¸Šï¼Œå•ä¸ªRedisæœåŠ¡å™¨ä¼šå‘ç”Ÿå•ç‚¹æ•…éšœï¼Œå¹¶ä¸”ä¸€å°æœåŠ¡å™¨éœ€è¦å¤„ç†æ‰€æœ‰çš„è¯·æ±‚è´Ÿè½½ï¼Œå‹åŠ›è¾ƒå¤§<br>â€‹2ã€ä»å®¹é‡ä¸Šï¼Œä¸èƒ½å°†ä¸€å°æœåŠ¡æ‰€æœ‰å†…å­˜ç”¨ä½œRediså­˜å‚¨å†…å­˜ï¼Œå•å°Redisæœ€å¤§ä½¿ç”¨å†…å­˜ä¸åº”è¯¥è¶…è¿‡<strong>20G</strong>ã€‚</p><h3 id="é…ç½®å­èŠ‚ç‚¹"><a href="#é…ç½®å­èŠ‚ç‚¹" class="headerlink" title="é…ç½®å­èŠ‚ç‚¹"></a>é…ç½®å­èŠ‚ç‚¹</h3><p>æˆ‘ä»¬è¿™é‡Œä½¿ç”¨dockeræ¥åš</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å¤åˆ¶ä¸¤ä»½é…ç½®æ–‡ä»¶ç»™ä»èŠ‚ç‚¹é•œåƒä½¿ç”¨</span></span><br><span class="line">[root@iZbp18qscowpmxk6xpk38iZ redis]<span class="comment"># ls</span></span><br><span class="line">redis-01.conf  redis-02.conf  redis.conf</span><br><span class="line"></span><br><span class="line"><span class="comment"># éœ€è¦ä¿®æ”¹è¿™ä¸‰ä»½æ–‡ä»¶ï¼Œå°†ç»‘å®šæœ¬åœ°çš„é…ç½®æ³¨é‡Šæ‰ï¼Œå…³é—­å®‰å…¨æ¨¡å¼</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ†åˆ«ä»¥åå°æ–¹å¼å¯åŠ¨ä¸¤ä¸ªä»èŠ‚ç‚¹</span></span><br><span class="line">[root@iZbp18qscowpmxk6xpk38iZ redis]<span class="comment"># docker run -P -it -d -v /home/redis/redis-01.conf:/etc/redis/redis.conf --name=salveRedis01 redis</span></span><br><span class="line">a593c51bc1100e892f5d18c34ba5a05f637d1b3a4a29e5840cfeb18a633355f5</span><br><span class="line">[root@iZbp18qscowpmxk6xpk38iZ redis]<span class="comment"># docker run -P -it -d -v /home/redis/redis-02.conf:/etc/redis/redis.conf --name=salveRedis02 redis</span></span><br><span class="line">08833de79be2cf719402b4f4cf42bf06d0f0a84a22e188f2b2f4d03f54ca48c1</span><br><span class="line"><span class="comment"># æŸ¥çœ‹æ˜ å°„ç«¯å£ï¼Œè¿™é‡Œä¸€å®šä¸€å®šè¦æ³¨æ„ï¼ï¼æœåŠ¡å™¨è¦å¼€å®‰å…¨ç»„ï¼ï¼ï¼ä¸ç„¶å°±æ˜¯è¿æ¥å¤±è´¥å“ï¼ï¼ï¼</span></span><br><span class="line">[root@iZbp18qscowpmxk6xpk38iZ redis]<span class="comment"># docker ps</span></span><br><span class="line">CONTAINER ID   IMAGE          COMMAND                  CREATED          STATUS              PORTS                                               NAMES</span><br><span class="line">a593c51bc110   redis          <span class="string">&quot;docker-entrypoint.sâ€¦&quot;</span>   24 minutes ago   Up About a minute   0.0.0.0:49169-&gt;6379/tcp                             salveRedis01</span><br><span class="line">08833de79be2   redis          <span class="string">&quot;docker-entrypoint.sâ€¦&quot;</span>   24 minutes ago   Up About a minute   0.0.0.0:49170-&gt;6379/tcp                             salveRedis02</span><br><span class="line">0e9919007f5d   redis          <span class="string">&quot;docker-entrypoint.sâ€¦&quot;</span>   38 minutes ago   Up 2 minutes        0.0.0.0:49168-&gt;6379/tcp                             masterRedis</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹ä¸»èŠ‚ç‚¹çš„åŸºæœ¬ä¿¡æ¯</span></span><br><span class="line">[root@iZbp18qscowpmxk6xpk38iZ ~]<span class="comment"># docker exec -it masterRedis redis-cli</span></span><br><span class="line">127.0.0.1:6379&gt; info replication</span><br><span class="line"><span class="comment"># Replication</span></span><br><span class="line">role:master          <span class="comment"># å½“å‰èŠ‚ç‚¹çš„è§’è‰²</span></span><br><span class="line">connected_slaves:0   <span class="comment"># å½“å‰èŠ‚ç‚¹çš„å­èŠ‚ç‚¹</span></span><br><span class="line">master_failover_state:no-failover</span><br><span class="line">master_replid:f37ca91dd3b3578e83031f9ea087d64f9994dd9a</span><br><span class="line">master_replid2:0000000000000000000000000000000000000000</span><br><span class="line">master_repl_offset:0</span><br><span class="line">second_repl_offset:-1</span><br><span class="line">repl_backlog_active:0</span><br><span class="line">repl_backlog_size:1048576</span><br><span class="line">repl_backlog_first_byte_offset:0</span><br><span class="line">repl_backlog_histlen:0</span><br><span class="line"></span><br><span class="line"><span class="comment"># è¿›å…¥å­èŠ‚ç‚¹1å·çš„å®¢æˆ·ç«¯ï¼Œå¹¶é…ç½®çˆ¶èŠ‚ç‚¹</span></span><br><span class="line">[root@iZbp18qscowpmxk6xpk38iZ redis]<span class="comment"># docker exec -it salveRedis01 redis-cli</span></span><br><span class="line">127.0.0.1:6379&gt; SLAVEOF 116.62.151.26 49168</span><br><span class="line">OK</span><br><span class="line">127.0.0.1:6379&gt; role</span><br><span class="line">1) <span class="string">&quot;slave&quot;</span></span><br><span class="line">2) <span class="string">&quot;116.62.151.26&quot;</span></span><br><span class="line">3) (<span class="built_in">integer</span>) 49168</span><br><span class="line">4) <span class="string">&quot;connected&quot;</span>         <span class="comment">#è¯´æ˜è¿æ¥æˆåŠŸï¼Œå¦‚æœæ²¡å¼€å®‰å…¨ç»„çš„è¯ï¼Œè¿™ä¸€è¡Œä¼šæ˜¯connectingä¸‹ä¸€è¡Œæ˜¯-1ï¼Œè¡¨ç¤ºè¿æ¥å¤±è´¥</span></span><br><span class="line">5) (<span class="built_in">integer</span>) 42</span><br><span class="line"></span><br><span class="line"><span class="comment"># è¿›å…¥å­èŠ‚ç‚¹2å·çš„å®¢æˆ·ç«¯ï¼Œå¹¶é…ç½®çˆ¶èŠ‚ç‚¹</span></span><br><span class="line">[root@iZbp18qscowpmxk6xpk38iZ redis]<span class="comment"># docker exec -it salveRedis02 redis-cli</span></span><br><span class="line">127.0.0.1:6379&gt; SLAVEOF 116.62.151.26 49168</span><br><span class="line">OK</span><br><span class="line">127.0.0.1:6379&gt; role</span><br><span class="line">1) <span class="string">&quot;slave&quot;</span></span><br><span class="line">2) <span class="string">&quot;116.62.151.26&quot;</span></span><br><span class="line">3) (<span class="built_in">integer</span>) 49168</span><br><span class="line">4) <span class="string">&quot;connected&quot;</span></span><br><span class="line">5) (<span class="built_in">integer</span>) 112</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹çˆ¶èŠ‚ç‚¹çš„åŸºæœ¬ä¿¡æ¯</span></span><br><span class="line">127.0.0.1:6379&gt; info replication</span><br><span class="line"><span class="comment"># Replication</span></span><br><span class="line">role:master</span><br><span class="line">connected_slaves:2              <span class="comment"># ä¸¤ä¸ªå­èŠ‚ç‚¹</span></span><br><span class="line">slave0:ip=116.62.151.26,port=6379,state=online,offset=112,lag=0</span><br><span class="line">slave1:ip=116.62.151.26,port=6379,state=online,offset=112,lag=1</span><br><span class="line">master_failover_state:no-failover</span><br><span class="line">master_replid:92ee701d04326eb2c74d8de1ea0fc2ec010f97df</span><br><span class="line">master_replid2:0000000000000000000000000000000000000000</span><br><span class="line">master_repl_offset:112</span><br><span class="line">second_repl_offset:-1</span><br><span class="line">repl_backlog_active:1</span><br><span class="line">repl_backlog_size:1048576</span><br><span class="line">repl_backlog_first_byte_offset:1</span><br><span class="line">repl_backlog_histlen:112</span><br><span class="line"></span><br><span class="line"><span class="comment"># åœ¨çˆ¶èŠ‚ç‚¹æµ‹è¯•æ˜¯å¦æ•°æ®åŒæ­¥</span></span><br><span class="line">127.0.0.1:6379&gt; keys *</span><br><span class="line">(empty array)</span><br><span class="line">127.0.0.1:6379&gt; <span class="built_in">set</span> k1 v1</span><br><span class="line">OK</span><br><span class="line"></span><br><span class="line"><span class="comment"># å­èŠ‚ç‚¹1å·æŸ¥è¯¢</span></span><br><span class="line">127.0.0.1:6379&gt; get k1</span><br><span class="line"><span class="string">&quot;v1&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å­èŠ‚ç‚¹2å·æŸ¥è¯¢</span></span><br><span class="line">127.0.0.1:6379&gt; get k1</span><br><span class="line"><span class="string">&quot;v1&quot;</span></span><br></pre></td></tr></table></figure><p>ä¹Ÿå¯ä»¥åœ¨é…ç½®æ–‡ä»¶ä¸­é…ç½®çˆ¶èŠ‚ç‚¹</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># é…ç½®ä¸»èŠ‚ç‚¹çš„ipçš„ç«¯å£</span></span><br><span class="line">slaveof ä¸»æœºip ç«¯å£</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¦‚æœä¸»æœºä½¿ç”¨äº†config set masterauth passwordï¼Œæˆ–è€…ä¸»æœºé…ç½®æ–‡ä»¶ä¸­ requirepass password</span></span><br><span class="line"><span class="comment"># åˆ™è¿™é‡Œé…ç½®æ–‡ä»¶å°±è¦åŠ ä¸Šä¸»æœºçš„å¯†ç æ¥éªŒè¯</span></span><br><span class="line">masterauth password</span><br></pre></td></tr></table></figure><p>ä¸»æœºå¯ä»¥å†™å…¥ä¹Ÿå¯ä»¥è¯»å–ï¼Œä½†æ˜¯ä»èŠ‚ç‚¹æ˜¯ä¸å¯ä»¥å†™å…¥çš„ï¼Œåªå¯ä»¥è¯»å–ä¸»èŠ‚ç‚¹å†™å…¥çš„å€¼</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; <span class="built_in">set</span> k2 v2</span><br><span class="line">(error) READONLY You can<span class="string">&#x27;t write against a read only replica.</span></span><br></pre></td></tr></table></figure><p>ä¸»æœºå®•æœºäº†ä¹‹åï¼Œä»æœºä¾æ—§å¯ä»¥è¯»ï¼Œä½†æ˜¯è¿™æ ·çš„è¯ï¼Œå°±ä¸èƒ½å¾€é‡Œé¢å†™å…¥æ•°æ®äº†ã€‚</p><p>ï¼ˆè¿™é‡Œéœ€è¦ä½¿ç”¨<strong>å“¨å…µæ¨¡å¼</strong>ï¼Œå³å½“ä¸»æœºå®•æœºåï¼Œä»æœºä¸­ä¼šé€‰ä¸¾å‡ºæ¥ä¸€ä¸ªä¸»æœºï¼Œè¿™æ ·çš„è¯å°±ä¿ç•™äº†å†™å…¥æ“ä½œï¼‰</p><p>å½“ä¸»æœºæ¢å¤è¿è¡Œï¼Œåˆ™æ¢å¤å†™å…¥åŠŸèƒ½</p><p>ä»æœºå®•æœºçš„è¯ï¼Œå¯¹ä¸»æœºæ²¡æœ‰ä»»ä½•å½±å“</p><p>å½“ä»æœºè¿è¡Œåï¼Œå°±æ¢å¤ä¸»æœºä¸­çš„æ•°æ®</p><h3 id="å¤åˆ¶åŸç†"><a href="#å¤åˆ¶åŸç†" class="headerlink" title="å¤åˆ¶åŸç†"></a>å¤åˆ¶åŸç†</h3><p>Slave å¯åŠ¨æˆåŠŸè¿æ¥åˆ° master åä¼šå‘é€ä¸€ä¸ªsyncå‘½ä»¤</p><p>Master æ¥åˆ°å‘½ä»¤ï¼Œå¯åŠ¨åå°çš„å­˜ç›˜è¿›ç¨‹ï¼ŒåŒæ—¶æ”¶é›†æ‰€æœ‰æ¥æ”¶åˆ°çš„ç”¨äºä¿®æ”¹æ•°æ®é›†å‘½ä»¤ï¼Œåœ¨åå°è¿›ç¨‹æ‰§è¡Œå®Œæ¯•ä¹‹åï¼Œmasterå°†ä¼ é€<br>æ•´ä¸ªæ•°æ®æ–‡ä»¶åˆ°slaveï¼Œå¹¶å®Œæˆä¸€æ¬¡å®Œå…¨åŒæ­¥ã€‚</p><ul><li><p>å…¨é‡å¤åˆ¶ï¼šslaveæœåŠ¡åœ¨æ¥æ”¶åˆ°æ•°æ®åº“æ–‡ä»¶æ•°æ®åï¼Œå°†å…¶å­˜ç›˜å¹¶åŠ è½½åˆ°å†…å­˜ä¸­ã€‚</p></li><li><p>å¢é‡å¤åˆ¶ï¼šMaster ç»§ç»­å°†æ–°çš„æ‰€æœ‰æ”¶é›†åˆ°çš„ä¿®æ”¹å‘½ä»¤ä¾æ¬¡ä¼ ç»™slaveï¼Œå®ŒæˆåŒæ­¥</p></li></ul><p>ä½†æ˜¯åªè¦æ˜¯é‡æ–°è¿æ¥masterï¼Œä¸€æ¬¡å®Œå…¨åŒæ­¥ï¼ˆå…¨é‡å¤åˆ¶ï¼‰å°†è¢«è‡ªåŠ¨æ‰§è¡Œ</p><h3 id="ä¸»ä»è¿æ¥çš„å½¢å¼"><a href="#ä¸»ä»è¿æ¥çš„å½¢å¼" class="headerlink" title="ä¸»ä»è¿æ¥çš„å½¢å¼"></a>ä¸»ä»è¿æ¥çš„å½¢å¼</h3><ol><li>ä¸€å¯¹å¤š</li></ol><img src="/javaEE/Redis/2022/02/25/Redis-%E4%B8%BB%E4%BB%8E%E5%A4%8D%E5%88%B6/%E4%B8%BB%E4%BB%8E%E5%A4%8D%E5%88%B6.png" class title="ä¸»ä»å¤åˆ¶"><ol start="2"><li>é“¾çŠ¶</li></ol><img src="/javaEE/Redis/2022/02/25/Redis-%E4%B8%BB%E4%BB%8E%E5%A4%8D%E5%88%B6/%E9%93%BE%E7%8A%B6%E4%B8%BB%E4%BB%8E%E5%A4%8D%E5%88%B6.png" class title="é“¾çŠ¶ä¸»ä»å¤åˆ¶"><h3 id="å“¨å…µï¼ˆSentinelï¼‰æ¨¡å¼"><a href="#å“¨å…µï¼ˆSentinelï¼‰æ¨¡å¼" class="headerlink" title="å“¨å…µï¼ˆSentinelï¼‰æ¨¡å¼"></a>å“¨å…µï¼ˆSentinelï¼‰æ¨¡å¼</h3><p>è¯¥æ¨¡å¼å°±æ˜¯ä¸ºäº†è§£å†³å½“ä¸»æœºå®•æœºåï¼Œä»æœºç¾¤æ— æ³•æœ‰å†™å…¥æƒé™çš„é—®é¢˜ã€‚</p><p>è¯¥æ¨¡å¼ä¸‹ï¼Œå®ƒä¼šè‡ªåŠ¨ç›‘æ§ä¸»æœºæ˜¯å¦æ•…éšœï¼Œå½“ä¸»æœºå®•æœºåï¼Œä»æœºç¾¤ä¸­ä¼š<strong>è‡ªç«‹ä¸€ä¸ªä¸»æœº</strong>ï¼Œä»è€Œå°±æœ‰äº†å†™å…¥çš„åŠŸèƒ½</p><p>å“¨å…µæ¨¡å¼æ˜¯ä¸€ç§ç‰¹æ®Šçš„æ¨¡å¼ï¼Œå®ƒæ˜¯ä¸€ä¸ªç‹¬ç«‹çš„è¿›ç¨‹ã€‚</p><p>å…¶åŸç†å°±æ˜¯å“¨å…µé€šè¿‡å‘é€å‘½ä»¤ï¼Œç­‰å¾…redisæœåŠ¡å™¨å“åº”ï¼Œä»è€Œç›‘æ§å¤šä¸ªRediså®ä¾‹çš„åŠŸèƒ½</p><img src="/javaEE/Redis/2022/02/25/Redis-%E4%B8%BB%E4%BB%8E%E5%A4%8D%E5%88%B6/%E5%93%A8%E5%85%B5%E6%A8%A1%E5%BC%8F.png" class title="å“¨å…µæ¨¡å¼"><p>è¿™é‡Œçš„å“¨å…µæœ‰ä¸¤ä¸ªä½œç”¨</p><ol><li>ç›‘æ§æœåŠ¡å™¨çš„çŠ¶æ€</li><li>å½“ä¸»æœºå®•æœºåï¼Œä¼šè‡ªåŠ¨é€‰æ‹©ä¸€ä¸ªå­èŠ‚ç‚¹ä½œä¸ºä¸»æœºï¼Œç„¶åé€šè¿‡<strong>å‘å¸ƒè®¢é˜…æ¨¡å¼</strong>é€šçŸ¥å…¶ä»–å­èŠ‚ç‚¹ï¼Œä¿®æ”¹é…ç½®æ–‡ä»¶</li></ol><p>å½“ç„¶ï¼Œå¦‚æœå“¨å…µæŒ‚äº†æ€ä¹ˆåŠï¼Ÿæ‰€ä»¥éœ€è¦é…ç½®å¤šä¸ªå“¨å…µï¼Œç„¶åè¿™å‡ ä¸ªå“¨å…µå†äº’ç›¸ç›‘è§†</p><img src="/javaEE/Redis/2022/02/25/Redis-%E4%B8%BB%E4%BB%8E%E5%A4%8D%E5%88%B6/%E5%93%A8%E5%85%B5%E9%9B%86%E7%BE%A4.png" class title="å“¨å…µé›†ç¾¤"><p>å‡è®¾ä¸»æœåŠ¡å™¨å®•æœºï¼Œå“¨å…µ1å…ˆæ£€æµ‹åˆ°è¿™ä¸ªç»“æœï¼Œç³»ç»Ÿå¹¶ä¸ä¼šé©¬ä¸Šè¿›è¡Œé‡æ–°é€‰ä¸¾çš„è¿‡ç¨‹ï¼Œä»…ä»…æ˜¯å“¨å…µ1ä¸»è§‚çš„è®¤ä¸ºä¸»æœåŠ¡å™¨ä¸å¯ç”¨ï¼Œè¿™ä¸ªç°è±¡ç§°ä¸º<strong>ä¸»è§‚ä¸‹çº¿</strong>ã€‚å½“åé¢çš„å“¨å…µä¹Ÿæ£€æµ‹åˆ°ä¸»æœåŠ¡å™¨ä¸å¯ç”¨ï¼Œå¹¶ä¸”æ•°é‡è¾¾åˆ°ä¸€å®šå€¼æ—¶ï¼Œé‚£ä¹ˆå“¨å…µä¹‹é—´å°±ä¼šè¿›è¡Œä¸€æ¬¡æŠ•ç¥¨ï¼ŒæŠ•ç¥¨çš„ç»“æœç”±ä¸€ä¸ªå“¨å…µå‘èµ·ï¼Œè¿›è¡Œfailoverï¼ˆæ•…éšœè½¬ç§»ï¼‰æ“ä½œã€‚</p><p>åˆ‡æ¢æˆåŠŸåï¼Œå°±ä¼šé€šè¿‡å‘å¸ƒè®¢é˜…æ¨¡å¼ï¼Œè®©å„ä¸ªå“¨å…µæŠŠè‡ªå·±ç›‘æ§çš„ä»æœåŠ¡å™¨å®ç°åˆ‡æ¢ä¸»æœºï¼Œè¿™ä¸ªè¿‡ç¨‹ç§°ä¸º<strong>å®¢è§‚ä¸‹çº¿</strong>ã€‚</p><h4 id="é…ç½®æ–‡ä»¶"><a href="#é…ç½®æ–‡ä»¶" class="headerlink" title="é…ç½®æ–‡ä»¶"></a>é…ç½®æ–‡ä»¶</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å“¨å…µè¿›ç¨‹çš„ç«¯å£</span></span><br><span class="line">port 26379</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ˜¯å¦ä»¥åå°è¿è¡Œ</span></span><br><span class="line">daemonize no</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç»‘å®šçš„çº¿ç¨‹</span></span><br><span class="line">pidfile /var/run/redis-sentinel.pid</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ—¥å¿—åç§°</span></span><br><span class="line">logfile <span class="string">&quot;&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æ—¥å¿—ä¿å­˜ç›®å½•</span></span><br><span class="line">dir /tmp</span><br><span class="line"></span><br><span class="line"><span class="comment"># é…ç½®ç›‘è§†è°</span></span><br><span class="line"><span class="comment"># 2ä»£è¡¨è‡³å°‘è¦æœ‰ç»“æœå“¨å…µç¡®è®¤ä¸»æœºå®•æœº</span></span><br><span class="line">sentinel monitor mymaster 127.0.0.1 6379 2</span><br><span class="line"></span><br><span class="line">sentinel down-after-milliseconds mymaster 30000</span><br><span class="line"></span><br><span class="line">acllog-max-len 128</span><br><span class="line"></span><br><span class="line">sentinel parallel-syncs mymaster 1</span><br><span class="line"></span><br><span class="line">sentinel failover-timeout mymaster 180000</span><br><span class="line"></span><br><span class="line">sentinel deny-scripts-reconfig yes</span><br><span class="line"></span><br><span class="line">SENTINEL resolve-hostnames no</span><br><span class="line"></span><br><span class="line">SENTINEL announce-hostnames no</span><br></pre></td></tr></table></figure><p>å¯åŠ¨å“¨å…µè¿›ç¨‹</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@iZbp18qscowpmxk6xpk38iZ redis]<span class="comment"># docker run -d -p 49103:26379 -v /home/redis/sentinel.conf:/etc/redis/sentinel.conf --name=sentinel redis redis-sentinel /etc/redis/sentinel.conf </span></span><br></pre></td></tr></table></figure><p>ä¼˜ç‚¹ï¼š</p><ol><li>ä¸»ä»å¯ä»¥è‡ªåŠ¨åˆ‡æ¢ï¼Œå¯ç”¨æ€§ä¼šæ›´å¥½</li></ol><p>ç¼ºç‚¹ï¼š</p><ol><li>redisä¸å¥½åœ¨çº¿æ‰©å®¹</li><li>å®ç°å“¨å…µæ¨¡å¼çš„é…ç½®ä¼˜ç‚¹éº»çƒ¦</li></ol>]]></content>
      
      
      <categories>
          
          <category> javaEE </category>
          
          <category> Redis </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Redis </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Redis-å‘å¸ƒè®¢é˜…</title>
      <link href="/javaEE/Redis/2022/02/25/Redis-%E5%8F%91%E5%B8%83%E8%AE%A2%E9%98%85/"/>
      <url>/javaEE/Redis/2022/02/25/Redis-%E5%8F%91%E5%B8%83%E8%AE%A2%E9%98%85/</url>
      
        <content type="html"><![CDATA[<h2 id="Rediså‘å¸ƒè®¢é˜…"><a href="#Rediså‘å¸ƒè®¢é˜…" class="headerlink" title="Rediså‘å¸ƒè®¢é˜…"></a>Rediså‘å¸ƒè®¢é˜…</h2><p>Rediså‘å¸ƒè®¢é˜…æ˜¯ä¸€ç§æ¶ˆæ¯é€šä¿¡çš„æ¨¡å¼ï¼šå‘å¸ƒè€…å‘é€æ¶ˆæ¯ï¼Œè®¢é˜…è€…æ¥æ”¶æ¶ˆæ¯</p><img src="/javaEE/Redis/2022/02/25/Redis-%E5%8F%91%E5%B8%83%E8%AE%A2%E9%98%85/Redis%E5%8F%91%E5%B8%83%E8%AE%A2%E9%98%85.png" class title="Rediså‘å¸ƒè®¢é˜…"><p>ä¸‰ä¸ªè§’è‰²ï¼šæ¶ˆæ¯å‘å¸ƒè€…ã€æ¶ˆæ¯æ¥æ”¶è€…ã€è®¢é˜…çš„é¢‘é“</p><table><thead><tr><th>å‘½ä»¤</th><th>ä½œç”¨</th></tr></thead><tbody><tr><td><code>publish channel message</code></td><td>å‘å¸ƒæ¶ˆæ¯åˆ°æŒ‡å®šé¢‘é“</td></tr><tr><td><code>psubscribe pattern [pattern..]</code></td><td>è®¢é˜…ä¸€ä¸ªæˆ–è€…å¤šä¸ªç¬¦åˆç»™ç‚¹patternçš„é¢‘é“</td></tr><tr><td><code>pubsub subcommand [argument [argument..]]</code></td><td>æŸ¥çœ‹è®¢é˜…å’Œå‘å¸ƒç³»ç»ŸçŠ¶æ€</td></tr><tr><td><code>punsubscribe [pattern [pattern..]]</code></td><td>é€€è®¢æ‰€æœ‰ç¬¦åˆæ¨¡å¼çš„é¢‘é“</td></tr><tr><td><code> subscribe channel [channel..]</code></td><td>è®¢é˜…æŒ‡å®šé¢‘é“</td></tr><tr><td><code>unsubscribe channel [channel..]</code></td><td>é€€è®¢æŒ‡å®šé¢‘é“</td></tr></tbody></table><p>ä¸‹é¢ç›´æ¥ä¸Šæ¡ˆä¾‹ï¼š</p><p>å……å½“è®¢é˜…è€…çš„cli</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; SUBSCRIBE study</span><br><span class="line">Reading messages... (press Ctrl-C to quit)</span><br><span class="line">1) <span class="string">&quot;subscribe&quot;</span></span><br><span class="line">2) <span class="string">&quot;study&quot;</span></span><br><span class="line">3) (<span class="built_in">integer</span>) 1</span><br></pre></td></tr></table></figure><p>å……å½“å‘å¸ƒè€…çš„cli</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; PUBLISH study study</span><br><span class="line">(<span class="built_in">integer</span>) 1</span><br></pre></td></tr></table></figure><p>è®¢é˜…è€…</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; SUBSCRIBE study</span><br><span class="line">Reading messages... (press Ctrl-C to quit)</span><br><span class="line">1) <span class="string">&quot;subscribe&quot;</span></span><br><span class="line">2) <span class="string">&quot;study&quot;</span></span><br><span class="line">3) (<span class="built_in">integer</span>) 1</span><br><span class="line">1) <span class="string">&quot;message&quot;</span></span><br><span class="line">2) <span class="string">&quot;study&quot;</span></span><br><span class="line">3) <span class="string">&quot;designpattern&quot;</span></span><br></pre></td></tr></table></figure><p><strong>åŸç†ï¼š</strong></p><p>Redisè®¢é˜…å‘å¸ƒåº•å±‚æ˜¯ä½¿ç”¨Cå®ç°çš„</p><p>Redis é€šè¿‡ PUBLISH ã€SUBSCRIBE å’Œ PSUBSCRIBE ç­‰å‘½ä»¤å®ç°å‘å¸ƒå’Œè®¢é˜…åŠŸèƒ½ã€‚</p><p>é€šè¿‡ SUBSCRIBE å‘½ä»¤è®¢é˜…æŸé¢‘é“åï¼Œredis-server é‡Œç»´æŠ¤äº†ä¸€ä¸ªå­—å…¸ï¼Œå­—å…¸çš„é”®å°±æ˜¯ä¸€ä¸ªä¸ªé¢‘é“ï¼è€Œå­—å…¸çš„å€¼åˆ™æ˜¯ä¸€ä¸ªé“¾è¡¨ï¼Œ<br>é“¾è¡¨ä¸­ä¿å­˜äº†æ‰€æœ‰è®¢é˜…è¿™ä¸ª channel çš„å®¢æˆ·ç«¯ã€‚SUBSCRIBE å‘½ä»¤çš„å…³é”®ï¼Œå°±æ˜¯å°†å®¢æˆ·ç«¯æ·»åŠ åˆ°ç»™å®š channel çš„è®¢é˜…é“¾è¡¨ä¸­ã€‚<br>é€šè¿‡ PUBLISH å‘½ä»¤å‘è®¢é˜…è€…å‘é€æ¶ˆæ¯ï¼Œredis-server ä¼šä½¿ç”¨ç»™å®šçš„é¢‘é“ä½œä¸ºé”®ï¼Œåœ¨å®ƒæ‰€ç»´æŠ¤çš„ channel å­—å…¸ä¸­æŸ¥æ‰¾è®°å½•äº†è®¢é˜…è¿™<br>ä¸ªé¢‘é“çš„æ‰€æœ‰å®¢æˆ·ç«¯çš„é“¾è¡¨ï¼Œéå†è¿™ä¸ªé“¾è¡¨ï¼Œå°†æ¶ˆæ¯å‘å¸ƒç»™æ‰€æœ‰è®¢é˜…è€…ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> javaEE </category>
          
          <category> Redis </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Redis </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è®¾è®¡æ¨¡å¼-åŸå‹æ¨¡å¼</title>
      <link href="/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/2022/02/25/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E5%8E%9F%E5%9E%8B%E6%A8%A1%E5%BC%8F/"/>
      <url>/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/2022/02/25/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E5%8E%9F%E5%9E%8B%E6%A8%A1%E5%BC%8F/</url>
      
        <content type="html"><![CDATA[<h2 id="åŸå‹æ¨¡å¼"><a href="#åŸå‹æ¨¡å¼" class="headerlink" title="åŸå‹æ¨¡å¼"></a>åŸå‹æ¨¡å¼</h2><p>è¯¥è®¾è®¡æ¨¡å¼ä¸»è¦ç”¨äº<strong>å¯¹è±¡çš„å¤åˆ¶</strong></p><p>æ­¤è®¾è®¡æ¨¡å¼æœ‰å¤šç§å®ç°ï¼š</p><ol><li>jdkå†…ç½®cloneableæ¥å£</li><li>è‡ªå®šä¹‰æ¥å£</li></ol><h3 id="jdkå†…ç½®cloneableæ¥å£"><a href="#jdkå†…ç½®cloneableæ¥å£" class="headerlink" title="jdkå†…ç½®cloneableæ¥å£"></a>jdkå†…ç½®cloneableæ¥å£</h3><p>æˆ‘ä»¬éƒ½çŸ¥é“objectä¸­æœ‰ä¸€ä¸ªprotectedæ–¹æ³•ï¼Œå«cloneï¼Œå¯ä»¥çœ‹åˆ°è¿™æ˜¯ä¸€ä¸ªnativeæ–¹æ³•ï¼ˆå³è¯¥æ–¹æ³•æ˜¯ç”±C++ç¼–å†™çš„ï¼Œå…·ä½“å®ç°æ˜¯æ ¹æ®æ“ä½œç³»ç»Ÿè€Œå®šï¼‰</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@HotSpotIntrinsicCandidate</span></span><br><span class="line"><span class="function"><span class="keyword">protected</span> <span class="keyword">native</span> Object <span class="title">clone</span><span class="params">()</span> <span class="keyword">throws</span> CloneNotSupportedException</span>;</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬æ¥è‡ªå·±é‡å†™ä¸€ä¸ªè¿™ä¸ªæ–¹æ³•è¯•ä¸€è¯•</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Video</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> Date gmtCreated;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Video</span><span class="params">(String name, Date gmtCreated)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">        <span class="keyword">this</span>.gmtCreated = gmtCreated;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Video</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Date <span class="title">getGmtCreated</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> gmtCreated;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setGmtCreated</span><span class="params">(Date gmtCreated)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.gmtCreated = gmtCreated;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> Video <span class="title">clone</span><span class="params">()</span> <span class="keyword">throws</span> CloneNotSupportedException </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> (Video)<span class="keyword">super</span>.clone();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Video&#123;&quot;</span> +</span><br><span class="line">                <span class="string">&quot;name=&#x27;&quot;</span> + name + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&quot;, gmtCreated=&quot;</span> + gmtCreated +</span><br><span class="line">                <span class="string">&#x27;&#125;&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸»ç¨‹åº</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> CloneNotSupportedException </span>&#123;</span><br><span class="line">    Video video = <span class="keyword">new</span> Video();</span><br><span class="line">    video.setName(<span class="string">&quot;è§†é¢‘ä¸€å·&quot;</span>);</span><br><span class="line">    video.setGmtCreated(<span class="keyword">new</span> Date());</span><br><span class="line">    System.out.println(video);</span><br><span class="line">    System.out.println(video.hashCode());</span><br><span class="line">    System.out.println(video.getGmtCreated().hashCode());</span><br><span class="line">    System.out.println(<span class="string">&quot;=============å…‹éš†å================&quot;</span>);</span><br><span class="line">    Video clone = (Video) video.clone();</span><br><span class="line">    System.out.println(clone);</span><br><span class="line">    System.out.println(clone.hashCode());</span><br><span class="line">    System.out.println(clone.getGmtCreated().hashCode());</span><br><span class="line">    System.out.println();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ§åˆ¶å°è¾“å‡º</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Video&#123;name=<span class="string">&#x27;è§†é¢‘ä¸€å·&#x27;</span>, gmtCreated=Fri Feb 25 10:31:04 CST 2022&#125;</span><br><span class="line">269468037</span><br><span class="line">784235907</span><br><span class="line">=============å…‹éš†å================</span><br><span class="line">Exception <span class="keyword">in</span> thread <span class="string">&quot;main&quot;</span> java.lang.CloneNotSupportedException: com.lizhi.demo1.Video</span><br><span class="line">at java.base/java.lang.Object.clone(Native Method)</span><br><span class="line">at com.lizhi.demo1.Video.clone(Video.java:35)</span><br><span class="line">at com.lizhi.demo1.CloneApplication.main(CloneApplication.java:13)</span><br></pre></td></tr></table></figure><p>å¯ä»¥å‘ç°ï¼ŒæŠ¥é”™äº†ï¼Œè¿™æ˜¯æ€ä¹ˆå›äº‹ï¼Œæˆ‘ä¸æ˜¯å·²ç»é‡å†™äº†æ–¹æ³•å—ï¼Ÿ</p><p>å…¶å®åŸå› å°±æ˜¯è¯¥ç±»æ²¡æœ‰ä¸€ä¸ªæ ‡è®°æ¥å£Cloneable</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * A class implements the &lt;code&gt;Cloneable&lt;/code&gt; interface to</span></span><br><span class="line"><span class="comment"> * indicate to the &#123;<span class="doctag">@link</span> java.lang.Object#clone()&#125; method that it</span></span><br><span class="line"><span class="comment"> * is legal for that method to make a</span></span><br><span class="line"><span class="comment"> * field-for-field copy of instances of that class.</span></span><br><span class="line"><span class="comment"> * &lt;p&gt;</span></span><br><span class="line"><span class="comment"> * Invoking Object&#x27;s clone method on an instance that does not implement the</span></span><br><span class="line"><span class="comment"> * &lt;code&gt;Cloneable&lt;/code&gt; interface results in the exception</span></span><br><span class="line"><span class="comment"> * &lt;code&gt;CloneNotSupportedException&lt;/code&gt; being thrown.</span></span><br><span class="line"><span class="comment"> * &lt;p&gt;</span></span><br><span class="line"><span class="comment"> * By convention, classes that implement this interface should override</span></span><br><span class="line"><span class="comment"> * &#123;<span class="doctag">@code</span> Object.clone&#125; (which is protected) with a public method.</span></span><br><span class="line"><span class="comment"> * See &#123;<span class="doctag">@link</span> java.lang.Object#clone()&#125; for details on overriding this</span></span><br><span class="line"><span class="comment"> * method.</span></span><br><span class="line"><span class="comment"> * &lt;p&gt;</span></span><br><span class="line"><span class="comment"> * Note that this interface does &lt;i&gt;not&lt;/i&gt; contain the &#123;<span class="doctag">@code</span> clone&#125; method.</span></span><br><span class="line"><span class="comment"> * Therefore, it is not possible to clone an object merely by virtue of the</span></span><br><span class="line"><span class="comment"> * fact that it implements this interface.  Even if the clone method is invoked</span></span><br><span class="line"><span class="comment"> * reflectively, there is no guarantee that it will succeed.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span>  unascribed</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@see</span>     java.lang.CloneNotSupportedException</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@see</span>     java.lang.Object#clone()</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@since</span>   1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Cloneable</span> </span>&#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å°†videoå®ç°è¯¥æ¥å£åï¼Œå¯åŠ¨ç¨‹åºï¼Œæ§åˆ¶å°è¾“å‡º</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Video&#123;name=<span class="string">&#x27;è§†é¢‘ä¸€å·&#x27;</span>, gmtCreated=Fri Feb 25 10:37:07 CST 2022&#125;</span><br><span class="line">269468037</span><br><span class="line">784153335</span><br><span class="line">=============å…‹éš†å================</span><br><span class="line">Video&#123;name=<span class="string">&#x27;è§†é¢‘ä¸€å·&#x27;</span>, gmtCreated=Fri Feb 25 10:37:07 CST 2022&#125;</span><br><span class="line">1681595665</span><br><span class="line">784153335</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬å¯ä»¥æƒŠå¥‡çš„å‘ç°ï¼Œ</p><p>ä¸¤è€…çš„å†…å®¹æ‰“å°å‡ºæ¥ä¸€æ¨¡ä¸€æ ·ï¼Œä¸¤è€…çš„å¯¹è±¡ä¸»ä½“çš„hashcodeæ˜¯ä¸åŒçš„ï¼Œè¯´æ˜videoå’Œcloneæ˜¯è´§çœŸä»·å®çš„ä¸¤ä¸ªå¯¹è±¡ã€‚</p><p>ä½†æ˜¯æˆ‘ä»¬ä¹Ÿå‘ç°ä»–ä»¬çš„gmtCreatedå˜é‡çš„hashcodeæ˜¯ä¸€æ ·çš„ï¼Œè¿™è¯´æ˜ä¸¤è€…æŒ‡å‘çš„æ˜¯åŒä¸€ä¸ªgmtCreatedï¼Œæœ‰æ—¶å€™æˆ‘ä»¬ä¼šæœ‰è¿™æ ·çš„éœ€æ±‚ï¼Œæœ‰æ—¶å€™æˆ‘ä»¬ä¸éœ€è¦å°†å¤åˆ¶åçš„å¯¹è±¡å†…éƒ¨æŒ‡å‘çš„å¯¹è±¡è¿˜æ˜¯åŸæ¥çš„é‚£ä¸ªå¯¹è±¡ï¼Œè¿™æ—¶å€™æˆ‘ä»¬å°±è¦ä¿®æ”¹cloneæ–¹æ³•</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">protected</span> Object <span class="title">clone</span><span class="params">()</span> <span class="keyword">throws</span> CloneNotSupportedException </span>&#123;</span><br><span class="line">    Object obj = <span class="keyword">super</span>.clone();</span><br><span class="line">    Video v = (Video) obj;</span><br><span class="line">    v.setGmtCreated((Date) v.getGmtCreated().clone());</span><br><span class="line">    <span class="keyword">return</span> obj;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="è‡ªå®šä¹‰æ¥å£"><a href="#è‡ªå®šä¹‰æ¥å£" class="headerlink" title="è‡ªå®šä¹‰æ¥å£"></a>è‡ªå®šä¹‰æ¥å£</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Copyable</span> </span>&#123;</span><br><span class="line">    <span class="function">Object <span class="title">copy</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å…·ä½“å®ç°å°±ä¸å†™å•¦ï¼Œæœ¬è´¨æ˜¯ä¸€æ ·çš„ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> è®¾è®¡æ¨¡å¼ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> è®¾è®¡æ¨¡å¼ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è®¾è®¡æ¨¡å¼-å»ºé€ è€…æ¨¡å¼</title>
      <link href="/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/2022/02/25/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E5%BB%BA%E9%80%A0%E8%80%85%E6%A8%A1%E5%BC%8F/"/>
      <url>/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/2022/02/25/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E5%BB%BA%E9%80%A0%E8%80%85%E6%A8%A1%E5%BC%8F/</url>
      
        <content type="html"><![CDATA[<h2 id="å»ºé€ è€…æ¨¡å¼"><a href="#å»ºé€ è€…æ¨¡å¼" class="headerlink" title="å»ºé€ è€…æ¨¡å¼"></a>å»ºé€ è€…æ¨¡å¼</h2><p>è¯¥è®¾è®¡æ¨¡å¼è§£å†³çš„é—®é¢˜æ˜¯åœ¨ç”¨æˆ·ä¸çŸ¥é“å¯¹è±¡çš„å»ºé€ è¿‡ç¨‹å’Œç»†èŠ‚çš„æƒ…å†µä¸‹å°±å¯ä»¥ç›´æ¥åˆ›å»º<strong>å¤æ‚çš„å¯¹è±¡</strong>ã€‚</p><p>è¯¥æ¨¡å¼æœ‰ä¸¤ç§å®ç°æ–¹å‘ï¼š</p><ol><li>æœ‰ä¸€ä¸ªåˆ¶é€ è€…æœ‰è‡ªå·±çš„ä¸€å¥—åˆ¶é€ æ–¹æ¡ˆæ¥åˆ¶é€ è¯¥å¯¹è±¡</li><li>è‡ªå·±æŒ‡å®šåˆ¶é€ è®¡åˆ’</li></ol><h3 id="åˆ¶é€ è€…åˆ¶é€ "><a href="#åˆ¶é€ è€…åˆ¶é€ " class="headerlink" title="åˆ¶é€ è€…åˆ¶é€ "></a>åˆ¶é€ è€…åˆ¶é€ </h3><p>åœºæ™¯ï¼šé€ æ±½è½¦</p><p>æ±½è½¦ç±»</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="meta">@NoArgsConstructor</span></span><br><span class="line"><span class="meta">@ToString</span></span><br><span class="line"><span class="meta">@AllArgsConstructor</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Car</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> CarBody carBody;</span><br><span class="line">    <span class="keyword">private</span> Engine engine;</span><br><span class="line">    <span class="keyword">private</span> Lamp lamp;</span><br><span class="line">    <span class="keyword">private</span> Window window;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isWhole</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(carBody!=<span class="keyword">null</span>&amp;&amp;engine!=<span class="keyword">null</span>&amp;&amp;lamp!=<span class="keyword">null</span>&amp;&amp;window!=<span class="keyword">null</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç»„ä»¶æ¥å£</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è½¦èº«</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">CarBody</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">printName</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¼•æ“</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Engine</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">printName</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è½¦çª—</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Window</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">printName</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¥½çš„è½¦èº«</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">GoodCarBody</span> <span class="keyword">implements</span> <span class="title">CarBody</span></span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">printName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;å¥½çš„è½¦èº«&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸å¥½çš„è½¦èº«</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BadCarBody</span> <span class="keyword">implements</span> <span class="title">CarBody</span></span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">printName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;å·®çš„è½¦èº«&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¥½çš„å¼•æ“</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">GoodEngine</span> <span class="keyword">implements</span> <span class="title">Engine</span></span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">printName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;å¥½çš„å‘åŠ¨æœº&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸å¥½çš„å¼•æ“</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BadEngine</span> <span class="keyword">implements</span> <span class="title">Engine</span></span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">printName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;å·®çš„å‘åŠ¨æœº&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¥½çš„è½¦çª—</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">GoodWindow</span> <span class="keyword">implements</span> <span class="title">Window</span></span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">printName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;å¥½çš„è½¦çª—&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸å¥½çš„è½¦çª—</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BadWindow</span> <span class="keyword">implements</span> <span class="title">Window</span></span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">printName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;å·®çš„è½¦çª—&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è½¦çš„å»ºé€ è€…</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">CarBuilder</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">addCarBody</span><span class="params">(CarBody carBody)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">addWindow</span><span class="params">(Window window)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">addLamp</span><span class="params">(Lamp lamp)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">addEngine</span><span class="params">(Engine engine)</span></span>;</span><br><span class="line">    <span class="function">Car <span class="title">getCar</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å…·ä½“çš„å»ºé€ è€…</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DaZhongCarBulder</span> <span class="keyword">implements</span> <span class="title">CarBuilder</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> Car car;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">DaZhongCarBulder</span><span class="params">()</span></span>&#123;</span><br><span class="line">        car = <span class="keyword">new</span> Car();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addCarBody</span><span class="params">(CarBody carBody)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(carBody==<span class="keyword">null</span>)&#123;</span><br><span class="line">            car.setCarBody(<span class="keyword">new</span> GoodCarBody());</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        car.setCarBody(carBody);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addWindow</span><span class="params">(Window window)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(window==<span class="keyword">null</span>)&#123;</span><br><span class="line">            car.setWindow(<span class="keyword">new</span> GoodWindow());</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        car.setWindow(window);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addLamp</span><span class="params">(Lamp lamp)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(lamp==<span class="keyword">null</span>)&#123;</span><br><span class="line">            car.setLamp(<span class="keyword">new</span> GoodLamp());</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        car.setLamp(lamp);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addEngine</span><span class="params">(Engine engine)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(engine==<span class="keyword">null</span>)&#123;</span><br><span class="line">            car.setEngine(<span class="keyword">new</span> GoodEngine());</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        car.setEngine(engine);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Car <span class="title">getCar</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(!car.isWhole())&#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException(<span class="string">&quot;é›¶ä»¶ä¸é½ï¼Œè½¦ä¸èƒ½å‡ºå‚&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> car;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æŒ‡å¯¼è€…</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Director</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Car <span class="title">getCar</span><span class="params">(CarBuilder carBuilder)</span></span>&#123;</span><br><span class="line">        carBuilder.addWindow(<span class="keyword">null</span>);</span><br><span class="line">        carBuilder.addCarBody(<span class="keyword">null</span>);</span><br><span class="line">        carBuilder.addLamp(<span class="keyword">new</span> BadLamp());</span><br><span class="line">        carBuilder.addEngine(<span class="keyword">null</span>);</span><br><span class="line">        <span class="keyword">return</span> carBuilder.getCar();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="è‡ªå®šä¹‰å»ºé€ "><a href="#è‡ªå®šä¹‰å»ºé€ " class="headerlink" title="è‡ªå®šä¹‰å»ºé€ "></a>è‡ªå®šä¹‰å»ºé€ </h3><p>æˆ‘ä»¬å‘ç°ï¼Œæœ‰è½¦ç”±å››éƒ¨åˆ†ç»„æˆï¼Œè¿™å››éƒ¨åˆ†å¯ä»¥æ˜¯åŒä¸€ä¸ªå·¥å‚é€ å‡ºæ¥çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥ç»“åˆä¸€ä¸ªæŠ½è±¡å·¥å‚æ¨¡å¼ï¼Œå°†äº§å“åˆ¶é€ äº¤ç»™å·¥å‚ã€‚</p><p>ç»„ä»¶å·¥å‚æ¥å£</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">ComponentFactory</span> </span>&#123;</span><br><span class="line">    <span class="function">CarBody <span class="title">getCarBody</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function">Engine <span class="title">getEngine</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function">Window <span class="title">getWindow</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function">Lamp <span class="title">getLamp</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸å¥½çš„ç»„ä»¶å·¥å‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BadFactory</span> <span class="keyword">implements</span> <span class="title">ComponentFactory</span></span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> CarBody <span class="title">getCarBody</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> BadCarBody();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Engine <span class="title">getEngine</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> BadEngine();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Window <span class="title">getWindow</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> BadWindow();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Lamp <span class="title">getLamp</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> BadLamp();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¥½çš„ç»„ä»¶å·¥å‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">GoodFactory</span> <span class="keyword">implements</span> <span class="title">ComponentFactory</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> CarBody <span class="title">getCarBody</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> GoodCarBody();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Engine <span class="title">getEngine</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> GoodEngine();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Window <span class="title">getWindow</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> GoodWindow();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Lamp <span class="title">getLamp</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> GoodLamp();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ”¹é€ CarBuilder</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">CarBuilder</span> </span>&#123;</span><br><span class="line">    <span class="function">CarBuilder <span class="title">addCarBody</span><span class="params">(CarBody carBody)</span></span>;</span><br><span class="line">    <span class="function">CarBuilder <span class="title">addWindow</span><span class="params">(Window window)</span></span>;</span><br><span class="line">    <span class="function">CarBuilder <span class="title">addLamp</span><span class="params">(Lamp lamp)</span></span>;</span><br><span class="line">    <span class="function">CarBuilder <span class="title">addEngine</span><span class="params">(Engine engine)</span></span>;</span><br><span class="line">    <span class="function">Car <span class="title">getCar</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å…·ä½“åˆ¶é€ å•†</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DaZhongCarBulder</span> <span class="keyword">implements</span> <span class="title">CarBuilder</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> Car car;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">DaZhongCarBulder</span><span class="params">()</span></span>&#123;</span><br><span class="line">        car = <span class="keyword">new</span> Car();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> CarBuilder <span class="title">addCarBody</span><span class="params">(CarBody carBody)</span> </span>&#123;</span><br><span class="line">        car.setCarBody(carBody);</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> CarBuilder <span class="title">addWindow</span><span class="params">(Window window)</span> </span>&#123;</span><br><span class="line">        car.setWindow(window);</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> CarBuilder <span class="title">addLamp</span><span class="params">(Lamp lamp)</span> </span>&#123;</span><br><span class="line">        car.setLamp(lamp);</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> CarBuilder <span class="title">addEngine</span><span class="params">(Engine engine)</span> </span>&#123;</span><br><span class="line">        car.setEngine(engine);</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Car <span class="title">getCar</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(!car.isWhole())&#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException(<span class="string">&quot;é›¶ä»¶ä¸é½ï¼Œè½¦ä¸èƒ½å‡ºå‚&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> car;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å®¢æˆ·ç«¯è‡ªå®šä¹‰åˆ¶é€ </p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Customer</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        DaZhongCarBulder daZhongCarBulder = <span class="keyword">new</span> DaZhongCarBulder();</span><br><span class="line">        ComponentFactory goodFactory = <span class="keyword">new</span> GoodFactory();</span><br><span class="line">        ComponentFactory badFactory = <span class="keyword">new</span> BadFactory();</span><br><span class="line">        <span class="comment">// è¿™å°±æ˜¯é“¾å¼ç¼–ç¨‹</span></span><br><span class="line">        Car car = daZhongCarBulder</span><br><span class="line">                .addCarBody(goodFactory.getCarBody())</span><br><span class="line">                .addEngine(badFactory.getEngine())</span><br><span class="line">                .addLamp(goodFactory.getLamp())</span><br><span class="line">                .addWindow(goodFactory.getWindow())</span><br><span class="line">                .getCar();</span><br><span class="line">        System.out.println(car);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="åŠ æ·±ç†è§£"><a href="#åŠ æ·±ç†è§£" class="headerlink" title="åŠ æ·±ç†è§£"></a>åŠ æ·±ç†è§£</h3><p>å†æ¥ä¸ªæ¡ˆä¾‹ï¼škfcç‚¹é¤</p><p>é¦–å…ˆé£Ÿç‰©æ¥å£</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Food</span> </span>&#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>é¥®æ–™æ¥å£</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Drink</span> <span class="keyword">extends</span> <span class="title">Food</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">drink</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è–¯æ¡æ¥å£</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Chip</span> <span class="keyword">extends</span> <span class="title">Food</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">eatChip</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç‚¸é¸¡æ¥å£</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Chicken</span> <span class="keyword">extends</span> <span class="title">Food</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">eatChicken</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¥¥å°”è‰¯ç‚¸é¸¡</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">OrleansFriedChicken</span> <span class="keyword">implements</span> <span class="title">Chicken</span></span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">eatChicken</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;å¥¥å°”è‰¯ç‚¸é¸¡&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å­œç„¶ç‚¸é¸¡</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CuminFriedChicken</span> <span class="keyword">implements</span> <span class="title">Chicken</span></span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">eatChicken</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;å­œç„¶ç‚¸é¸¡&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¯ä¹</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Cola</span> <span class="keyword">implements</span> <span class="title">Drink</span></span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">drink</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;å¯å£å¯ä¹&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¤§è–¯æ¡</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BigChip</span> <span class="keyword">implements</span> <span class="title">Chip</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">eatChip</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;å¤§ä»½è–¯æ¡&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç™¾äº‹å¯ä¹</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BaiShi</span> <span class="keyword">implements</span> <span class="title">Drink</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">drink</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;ç™¾äº‹å¯ä¹&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è®¢å•</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="meta">@ToString</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Order</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> List&lt;Food&gt; foods;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Order</span><span class="params">()</span></span>&#123;</span><br><span class="line">        foods = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addFood</span><span class="params">(Food food)</span></span>&#123;</span><br><span class="line">        foods.add(food);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç‚¹å•å°ç¨‹åº</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">OrderApplication</span> <span class="keyword">implements</span> <span class="title">Builder</span></span>&#123;</span><br><span class="line">    <span class="keyword">private</span> Order order;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">OrderApplication</span><span class="params">()</span></span>&#123;</span><br><span class="line">        order = <span class="keyword">new</span> Order();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Builder <span class="title">addFood</span><span class="params">(Food food)</span> </span>&#123;</span><br><span class="line">        order.addFood(food);</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Order <span class="title">getOrder</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(order.getFoods().size()==<span class="number">0</span>)&#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException(<span class="string">&quot;æ‚¨æœªç‚¹å•ï¼&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> order;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å®¢æˆ·ç«¯</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    OrderApplication orderApplication = <span class="keyword">new</span> OrderApplication();</span><br><span class="line">    Order order = orderApplication</span><br><span class="line">            .addFood(<span class="keyword">new</span> BigChip())</span><br><span class="line">            .addFood(<span class="keyword">new</span> OrleansFriedChicken())</span><br><span class="line">            .addFood(<span class="keyword">new</span> Cola())</span><br><span class="line">            .getOrder();</span><br><span class="line">    System.out.println(order);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> è®¾è®¡æ¨¡å¼ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> è®¾è®¡æ¨¡å¼ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è®¾è®¡æ¨¡å¼-æ¦‚è¿°</title>
      <link href="/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/2022/02/24/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E6%A6%82%E8%BF%B0/"/>
      <url>/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/2022/02/24/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E6%A6%82%E8%BF%B0/</url>
      
        <content type="html"><![CDATA[<h2 id="ä»€ä¹ˆæ˜¯è®¾è®¡æ¨¡å¼ï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯è®¾è®¡æ¨¡å¼ï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯è®¾è®¡æ¨¡å¼ï¼Ÿ"></a>ä»€ä¹ˆæ˜¯è®¾è®¡æ¨¡å¼ï¼Ÿ</h2><p>Design Patternæ˜¯å‰è¾ˆä»¬å¯¹ä»£ç å¼€å‘ç»éªŒçš„æ€»ç»“ä¸å½’çº³ï¼Œæ˜¯è§£å†³ç‰¹å®šé—®é¢˜çš„ä¸€ç³»åˆ—è§£å†³æ–¹æ¡ˆã€‚</p><p>1995å¹´ï¼Œç”±GoFï¼ˆGang of Fourï¼‰å››äººå¸®åˆä½œå‡ºç‰ˆäº†ã€Šè®¾è®¡æ¨¡å¼ï¼šå¯å¤ç”¨é¢å‘å¯¹è±¡è½¯ä»¶çš„åŸºç¡€ã€‹ä¸€ä¹¦ï¼Œä¸€å…±æ”¶å½•äº†23ç§è®¾è®¡æ¨¡å¼ï¼Œäººç§°Gof23è®¾è®¡æ¨¡å¼</p><h3 id="åˆ›å»ºå‹æ¨¡å¼ï¼š"><a href="#åˆ›å»ºå‹æ¨¡å¼ï¼š" class="headerlink" title="åˆ›å»ºå‹æ¨¡å¼ï¼š"></a>åˆ›å»ºå‹æ¨¡å¼ï¼š</h3><ul><li>å•ä¾‹æ¨¡å¼</li><li>ç®€å•å·¥å‚æ¨¡å¼</li><li>æŠ½è±¡å·¥å‚æ¨¡å¼</li><li>å»ºé€ è€…æ¨¡å¼</li><li>åŸå‹æ¨¡å¼</li></ul><h3 id="ç»“æ„å‹æ¨¡å¼"><a href="#ç»“æ„å‹æ¨¡å¼" class="headerlink" title="ç»“æ„å‹æ¨¡å¼"></a>ç»“æ„å‹æ¨¡å¼</h3><ul><li>é€‚é…å™¨æ¨¡å¼</li><li>æ¡¥æ¥æ¨¡å¼</li><li>è£…é¥°å™¨æ¨¡å¼</li><li>ç»„åˆæ¨¡å¼</li><li>é—¨é¢æ¨¡å¼</li><li>äº«å…ƒæ¨¡å¼</li><li>ä»£ç†æ¨¡å¼</li></ul><h3 id="è¡Œä¸ºå‹æ¨¡å¼"><a href="#è¡Œä¸ºå‹æ¨¡å¼" class="headerlink" title="è¡Œä¸ºå‹æ¨¡å¼"></a>è¡Œä¸ºå‹æ¨¡å¼</h3><ul><li>æ¨¡æ¿æ–¹æ³•æ¨¡å¼</li><li>å‘½ä»¤æ¨¡å¼</li><li>è¿­ä»£å™¨æ¨¡å¼</li><li>è§‚å¯Ÿè€…æ¨¡å¼</li><li>ä¸­ä»‹è€…æ¨¡å¼</li><li>å¤‡å¿˜å½•æ¨¡å¼</li><li>è§£é‡Šå™¨æ¨¡å¼</li><li>çŠ¶æ€æ¨¡å¼</li><li>ç­–ç•¥æ¨¡å¼</li><li>èŒè´£é“¾æ¨¡å¼</li><li>è®¿é—®è€…æ¨¡å¼</li></ul>]]></content>
      
      
      <categories>
          
          <category> è®¾è®¡æ¨¡å¼ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> è®¾è®¡æ¨¡å¼ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ã€4-Hardã€‘å¯»æ‰¾ä¸¤ä¸ªæ­£åºæ•°ç»„çš„ä¸­ä½æ•°</title>
      <link href="/%E7%AE%97%E6%B3%95/%E5%88%B7%E9%A2%98%E7%AF%87/2022/02/24/%E3%80%904-Hard%E3%80%91%E5%AF%BB%E6%89%BE%E4%B8%A4%E4%B8%AA%E6%AD%A3%E5%BA%8F%E6%95%B0%E7%BB%84%E7%9A%84%E4%B8%AD%E4%BD%8D%E6%95%B0/"/>
      <url>/%E7%AE%97%E6%B3%95/%E5%88%B7%E9%A2%98%E7%AF%87/2022/02/24/%E3%80%904-Hard%E3%80%91%E5%AF%BB%E6%89%BE%E4%B8%A4%E4%B8%AA%E6%AD%A3%E5%BA%8F%E6%95%B0%E7%BB%84%E7%9A%84%E4%B8%AD%E4%BD%8D%E6%95%B0/</url>
      
        <content type="html"><![CDATA[<h2 id="å¯»æ‰¾ä¸¤ä¸ªæ­£åºæ•°ç»„çš„ä¸­ä½æ•°"><a href="#å¯»æ‰¾ä¸¤ä¸ªæ­£åºæ•°ç»„çš„ä¸­ä½æ•°" class="headerlink" title="å¯»æ‰¾ä¸¤ä¸ªæ­£åºæ•°ç»„çš„ä¸­ä½æ•°"></a>å¯»æ‰¾ä¸¤ä¸ªæ­£åºæ•°ç»„çš„ä¸­ä½æ•°</h2><p>ç»™å®šä¸¤ä¸ªå¤§å°åˆ†åˆ«ä¸º <code>m</code> å’Œ <code>n</code> çš„æ­£åºï¼ˆä»å°åˆ°å¤§ï¼‰æ•°ç»„ <code>nums1</code> å’Œ <code>nums2</code>ã€‚è¯·ä½ æ‰¾å‡ºå¹¶è¿”å›è¿™ä¸¤ä¸ªæ­£åºæ•°ç»„çš„ <strong>ä¸­ä½æ•°</strong> ã€‚</p><p>ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦åº”è¯¥ä¸º <code>O(log (m+n))</code> ã€‚</p><p><strong>ç¤ºä¾‹ 1ï¼š</strong></p><figure class="highlight inform7"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šnums1 = <span class="comment">[1,3]</span>, nums2 = <span class="comment">[2]</span></span><br><span class="line">è¾“å‡ºï¼š2.00000</span><br><span class="line">è§£é‡Šï¼šåˆå¹¶æ•°ç»„ = <span class="comment">[1,2,3]</span> ï¼Œä¸­ä½æ•° 2</span><br></pre></td></tr></table></figure><p><strong>ç¤ºä¾‹ 2ï¼š</strong></p><figure class="highlight gcode"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼š<span class="symbol">nums1</span> = [<span class="number">1</span>,<span class="number">2</span>], <span class="symbol">nums2</span> = [<span class="number">3</span>,<span class="number">4</span>]</span><br><span class="line">è¾“å‡ºï¼š<span class="number">2.50000</span></span><br><span class="line">è§£é‡Šï¼šåˆå¹¶æ•°ç»„ = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>] ï¼Œä¸­ä½æ•° <span class="comment">(2 + 3)</span> / <span class="number">2</span> = <span class="number">2.5</span></span><br></pre></td></tr></table></figure><p><strong>æç¤ºï¼š</strong></p><ul><li><code>nums1.length == m</code></li><li><code>nums2.length == n</code></li><li><code>0 &lt;= m &lt;= 1000</code></li><li><code>0 &lt;= n &lt;= 1000</code></li><li><code>1 &lt;= m + n &lt;= 2000</code></li><li><code>-106 &lt;= nums1[i], nums2[i] &lt;= 106</code></li></ul><p><strong>Related Topics</strong></p><ul><li>æ•°ç»„</li><li>äºŒåˆ†æŸ¥æ‰¾</li><li>åˆ†æ²»</li></ul><h3 id="åˆå¹¶å–ä¸­é—´å€¼"><a href="#åˆå¹¶å–ä¸­é—´å€¼" class="headerlink" title="åˆå¹¶å–ä¸­é—´å€¼"></a>åˆå¹¶å–ä¸­é—´å€¼</h3><p>è¿™ç§æ–¹æ³•åº”è¯¥æ˜¯å¤§å¤šæ•°äººçš„ç¬¬ä¸€ååº”</p><p>ä½¿ç”¨ä¸€ä¸ªlisté›†åˆå­˜æ”¾ä¸¤ä¸ªæ•°ç»„çš„å€¼åæ’åº</p><p>åˆ¤æ–­é›†åˆé•¿åº¦çš„å¥‡å¶æ€§</p><p>å¶æ•°ï¼Œè¿”å›ä¸­é—´ä¸¤ä¸ªæ•°çš„å’Œçš„å¹³å‡å€¼</p><p>å¥‡æ•°ï¼Œè¿”å›ä¸­é—´é‚£ä¸ªæ•°</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">double</span> <span class="title">findMedianSortedArrays</span><span class="params">(<span class="keyword">int</span>[] nums1, <span class="keyword">int</span>[] nums2)</span> </span>&#123;</span><br><span class="line">        List&lt;Integer&gt; list = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> k : nums1) &#123;</span><br><span class="line">            list.add(k);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j : nums2) &#123;</span><br><span class="line">            list.add(j);</span><br><span class="line">        &#125;</span><br><span class="line">        Collections.sort(list);</span><br><span class="line">        <span class="keyword">int</span> size = list.size();</span><br><span class="line">        <span class="keyword">if</span>(size%<span class="number">2</span>==<span class="number">0</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> (list.get(size/<span class="number">2</span>)+list.get(size/<span class="number">2</span>-<span class="number">1</span>))/<span class="number">2.0</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> list.get(size/<span class="number">2</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="å½’å¹¶"><a href="#å½’å¹¶" class="headerlink" title="å½’å¹¶"></a>å½’å¹¶</h3><p>å†æ¥ç†ä¸€ç†é¢˜ç›®çš„æ„æ€</p><p>æœ‰ä¸¤ä¸ªæ­£åºæ•°ç»„<code>num1</code>å’Œ<code>nums2</code></p><p>è¦è¿”å›è¿™ä¸¤ä¸ªæ­£åºæ•°ç»„çš„ä¸­ä½æ•°</p><p>è¿™ä¸å°±æ˜¯å½’å¹¶ä¸­åˆå¹¶ä¸¤ä¸ªæœ‰åºæ•°ç»„ä¸€æ ·çš„æ€è·¯å—</p><p>ä½†æ˜¯è¿™é‡Œä¸éœ€è¦å®Œå…¨åˆå¹¶ï¼Œåªéœ€è¦åˆå¹¶åˆ°ä¸­é—´çš„ä½ç½®å°±å¯äº†</p><p>è¯´å¹²å°±å¹²</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">double</span> <span class="title">findMedianSortedArrays</span><span class="params">(<span class="keyword">int</span>[] nums1, <span class="keyword">int</span>[] nums2)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// æ€»é•¿åº¦</span></span><br><span class="line">        <span class="keyword">int</span> wholeSize = nums1.length + nums2.length;</span><br><span class="line">        <span class="comment">// å»ä¸­é—´å€¼</span></span><br><span class="line">        <span class="keyword">int</span> mid = wholeSize / <span class="number">2</span>;</span><br><span class="line">        <span class="comment">// æ–°å»ºä¸­é—´å€¼+1é•¿åº¦çš„æ•°ç»„</span></span><br><span class="line">        <span class="keyword">int</span>[] temp = <span class="keyword">new</span> <span class="keyword">int</span>[mid + <span class="number">1</span>];</span><br><span class="line">        <span class="keyword">int</span> index1 = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> index2 = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; temp.length; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (index1 == nums1.length) &#123;</span><br><span class="line">            <span class="comment">// num1å·²ç»æ”¾å®Œäº†ï¼Œç›´æ¥æ”¾num2çš„å€¼å³å¯</span></span><br><span class="line">                temp[i] = nums2[index2++];</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (index2 == nums2.length) &#123;</span><br><span class="line">            <span class="comment">// num1å·²ç»æ”¾å®Œäº†ï¼Œç›´æ¥æ”¾num2çš„å€¼å³å¯</span></span><br><span class="line">                temp[i] = nums1[index1++];</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (nums1[index1] &lt;= nums2[index2]) &#123;</span><br><span class="line">            <span class="comment">// num1ç›¸å¯¹æ¯”è¾ƒå°ï¼Œæ‰€ä»¥æ”¾num1çš„å€¼</span></span><br><span class="line">                temp[i] = nums1[index1++];</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="comment">// num2ç›¸å¯¹æ¯”è¾ƒå°ï¼Œæ‰€ä»¥æ”¾num2çš„å€¼</span></span><br><span class="line">                temp[i] = nums2[index2++];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// å¦‚æœæ€»é•¿åº¦æ˜¯å¶æ•°ï¼Œåˆ™è¿”å›æœ€åä¸¤ä¸ªæ•°çš„å’Œçš„å¹³å‡æ•°</span></span><br><span class="line">        <span class="comment">// å¦‚æœæ€»é•¿åº¦æ˜¯å¥‡æ•°ï¼Œåˆ™ç›´æ¥è¿”å›æœ€åä¸€ä¸ªæ•°å³å¯</span></span><br><span class="line">        <span class="keyword">return</span> wholeSize % <span class="number">2</span> == <span class="number">0</span> ? (temp[mid] + temp[mid - <span class="number">1</span>]) / <span class="number">2.0</span> : temp[mid];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
          <category> åˆ·é¢˜ç¯‡ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç®—æ³• </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è®¾è®¡æ¨¡å¼-OOPä¸ƒå¤§åŸåˆ™</title>
      <link href="/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/2022/02/24/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-OOP%E4%B8%83%E5%A4%A7%E5%8E%9F%E5%88%99/"/>
      <url>/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/2022/02/24/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-OOP%E4%B8%83%E5%A4%A7%E5%8E%9F%E5%88%99/</url>
      
        <content type="html"><![CDATA[<h2 id="OOPä¸ƒå¤§åŸåˆ™"><a href="#OOPä¸ƒå¤§åŸåˆ™" class="headerlink" title="OOPä¸ƒå¤§åŸåˆ™"></a>OOPä¸ƒå¤§åŸåˆ™</h2><h3 id="å¼€é—­åŸåˆ™-Open-Closed-Principle-ï¼ŒOCP"><a href="#å¼€é—­åŸåˆ™-Open-Closed-Principle-ï¼ŒOCP" class="headerlink" title="å¼€é—­åŸåˆ™(Open-Closed Principle ï¼ŒOCP)"></a>å¼€é—­åŸåˆ™(Open-Closed Principle ï¼ŒOCP)</h3><p><strong>å®šä¹‰ï¼š</strong>å¯¹æ‹“å±•å¼€æ”¾ï¼Œå¯¹ä¿®æ”¹å…³é—­</p><p><strong>é—®é¢˜çš„ç”±æ¥ï¼š</strong>åœ¨è½¯ä»¶çš„ç”Ÿå‘½å‘¨æœŸçš„ï¼Œå› ä¸ºå˜åŒ–ã€å‡çº§å’Œç»´æŠ¤ç­‰åŸå› éœ€è¦å¯¹è½¯ä»¶åŸæœ‰ä»£ç è¿›è¡Œä¿®æ”¹æ—¶ï¼Œå¯èƒ½ä¼šç»™æ—§çš„ä»£ç å¼•å…¥é”™è¯¯ã€‚</p><p><strong>è§£å†³åŠæ³•ï¼š</strong>å½“è½¯ä»¶éœ€è¦å‘ç”Ÿå˜åŒ–çš„æ—¶å€™ï¼Œå°½é‡é€šè¿‡æ‰©å±•è½¯ä»¶å®ä½“çš„è¡Œä¸ºæ¥å®ç°å˜åŒ–ï¼Œè€Œä¸æ˜¯é€šè¿‡ä¿®æ”¹å·²æœ‰çš„ä»£ç æ¥å®ç°å˜åŒ–ã€‚</p><p><strong>ä¸ºä»€ä¹ˆè¦éµå¾ªå¼€é—­åŸåˆ™</strong></p><p>ã€€ã€€1ã€åªè¦æ˜¯é¢å‘å¯¹è±¡çš„ç¼–ç¨‹ï¼Œåœ¨å¼€å‘è¿‡ç¨‹ä¸­éƒ½ä¼šå¼ºè°ƒå¼€é—­åŸåˆ™</p><p>ã€€ã€€2ã€æ˜¯æœ€åŸºç¡€çš„è®¾è®¡åŸåˆ™ï¼Œå…¶ä»–äº”ä¸ªè®¾è®¡åŸåˆ™éƒ½æ˜¯å¼€é—­åŸåˆ™çš„å…·ä½“å½¢æ€</p><p>ã€€ã€€3ã€å¯ä»¥æé«˜ä»£ç çš„å¤ç”¨æ€§</p><p>ã€€ã€€4ã€å¯ä»¥æé«˜ä»£ç çš„å¯ç»´æŠ¤æ€§</p><h3 id="å•ä¸€èŒè´£åŸåˆ™ï¼ˆSingle-Responsibility-Principle-SRPï¼‰"><a href="#å•ä¸€èŒè´£åŸåˆ™ï¼ˆSingle-Responsibility-Principle-SRPï¼‰" class="headerlink" title="å•ä¸€èŒè´£åŸåˆ™ï¼ˆSingle Responsibility Principle,SRPï¼‰"></a>å•ä¸€èŒè´£åŸåˆ™ï¼ˆSingle Responsibility Principle,SRPï¼‰</h3><p><strong>å®šä¹‰ï¼š</strong>å¦‚æœä¸€ä¸ªç±»å…·æœ‰å¤šä¸ªèŒè´£ï¼Œåº”å½“å°†å¯¹è±¡è§£è€¦ï¼Œæé«˜å†…èšï¼Œåˆ†åˆ«åˆ›å»ºä¸€äº›ç±»å»ä¸€ ä¸€å®Œæˆè¿™äº›èŒè´£ï¼Œ</p><p><strong>æ ¸å¿ƒï¼š</strong>é«˜å†…èšã€ä½è€¦åˆã€‚</p><p><strong>ä¼˜ç‚¹ï¼š</strong></p><p>ã€€ã€€1ã€é™ä½ç±»çš„åŠŸèƒ½å¤æ‚åº¦</p><p>ã€€ã€€2ã€æé«˜ç³»ç»Ÿçš„å¯ç»´æŠ¤æ€§</p><p>ã€€ã€€3ã€å˜æ›´é£é™©ä½</p><h3 id="é‡Œæ°æ›¿æ¢åŸåˆ™ï¼ˆLiskov-Substitution-Principle-ï¼ŒLSPï¼‰"><a href="#é‡Œæ°æ›¿æ¢åŸåˆ™ï¼ˆLiskov-Substitution-Principle-ï¼ŒLSPï¼‰" class="headerlink" title="é‡Œæ°æ›¿æ¢åŸåˆ™ï¼ˆLiskov Substitution Principle ï¼ŒLSPï¼‰"></a>é‡Œæ°æ›¿æ¢åŸåˆ™ï¼ˆLiskov Substitution Principle ï¼ŒLSPï¼‰</h3><p><strong>å®šä¹‰ï¼š</strong> å­ç±»å¯¹è±¡èƒ½å¤Ÿæ›¿ä»£ç¨‹åºä¸­çˆ¶ç±»å¯¹è±¡å‡ºç°çš„ä»»ä½•åœ°æ–¹ï¼Œå¹¶ä¸”ä¿è¯åŸæ¥çš„ç¨‹åºçš„é€»è¾‘è¡Œä¸ºä¸å˜åŠæ­£ç¡®æ€§ä¸è¢«ç ´å</p><p>é‡Œæ°æ›¿æ¢è‡³å°‘åŒ…å«ä¸€ä¸‹ä¸¤ä¸ªå«ä¹‰ï¼š</p><p>ã€€1ã€å¦‚æœç»§æ‰¿æ˜¯ä¸ºäº†å®ç°ä»£ç é‡ç”¨ï¼Œé‚£ä¹ˆå…±äº«çš„çˆ¶ç±»æ–¹æ³•å°±åº”è¯¥ä¿æŒä¸å˜ï¼Œä¸èƒ½è¢«å­ç±»é‡æ–°å®šä¹‰ã€‚å­ç±»åªèƒ½é€šè¿‡æ–°æ·»åŠ æ–¹æ³•æ¥æ‰©å±•åŠŸèƒ½ï¼Œçˆ¶ç±»å’Œå­ç±»éƒ½å¯ä»¥å®ä¾‹åŒ–ï¼Œè€Œå­ç±»ç»§æ‰¿çš„æ–¹æ³•å’Œçˆ¶ç±»æ˜¯ä¸€æ ·çš„ï¼Œçˆ¶ç±»è°ƒç”¨æ–¹æ³•çš„åœ°æ–¹ï¼Œå­ç±»ä¹Ÿå¯ä»¥è°ƒç”¨åŒä¸€ä¸ªç»§æ‰¿å¾—æ¥çš„ä¸€è‡´çš„æ–¹æ³•ï¼Œè¿™æ—¶ç”¨å­ç±»å¯¹è±¡å°†çˆ¶ç±»å¯¹è±¡æ›¿æ¢æ‰æ—¶ï¼Œå½“ç„¶é€»è¾‘ä¸€è‡´ï¼Œç›¸å®‰æ— äº‹ã€‚</p><p>â€‹2ã€å¦‚æœç»§æ‰¿çš„ç›®çš„æ˜¯ä¸ºäº†å¤šæ€ï¼Œè€Œå¤šæ€çš„å‰æå°±æ˜¯å­ç±»è¦†ç›–å¹¶é‡æ–°å®šä¹‰çˆ¶ç±»çš„æ–¹æ³•ï¼Œæˆ‘ä»¬åº”è¯¥å°†çˆ¶ç±»å®šä¹‰ä¸ºæŠ½è±¡ç±»ï¼Œå¹¶å®šä¹‰æŠ½è±¡æ–¹æ³•ï¼Œè®©å­ç±»é‡æ–°å®šä¹‰è¿™äº›æ–¹æ³•ï¼Œå½“çˆ¶ç±»æ˜¯æŠ½è±¡ç±»æ—¶ï¼Œçˆ¶ç±»å°±æ˜¯ä¸èƒ½å®ä¾‹åŒ–çš„ï¼Œä¹Ÿå°±ä¸å­˜åœ¨å­ç±»æ›¿æ¢çˆ¶ç±»å®ä¾‹çš„ç°è±¡ã€‚ </p><p><strong>ä¼˜ç‚¹ï¼š</strong>å¯ä»¥å¤§å¤§å‡å°‘ç¨‹åºçš„bugä»¥åŠå¢å¼ºä»£ç çš„å¯è¯»æ€§ã€‚</p><h3 id="ä¾èµ–å€’ç½®åŸåˆ™ï¼ˆDependency-Inversion-Principle-ï¼ŒDIPï¼‰"><a href="#ä¾èµ–å€’ç½®åŸåˆ™ï¼ˆDependency-Inversion-Principle-ï¼ŒDIPï¼‰" class="headerlink" title="ä¾èµ–å€’ç½®åŸåˆ™ï¼ˆDependency Inversion Principle ï¼ŒDIPï¼‰"></a>ä¾èµ–å€’ç½®åŸåˆ™ï¼ˆDependency Inversion Principle ï¼ŒDIPï¼‰</h3><p><strong>å®šä¹‰ï¼š</strong>é¢å‘æ¥å£ç¼–ç¨‹</p><p>æœ¬è´¨å°±æ˜¯é€šè¿‡æŠ½è±¡(æ¥å£æˆ–æŠ½è±¡ç±»)ä½¿å„ä¸ªç±»æˆ–æ¨¡å—çš„å®ç°å½¼æ­¤ç‹¬ç«‹ï¼Œä¸äº’ç›¸å½±å“ï¼Œå®ç°æ¨¡å—é—´çš„æ¾è€¦åˆã€‚</p><h3 id="æ¥å£éš”ç¦»åŸåˆ™-Interface-Segregation-Principle-ISP"><a href="#æ¥å£éš”ç¦»åŸåˆ™-Interface-Segregation-Principle-ISP" class="headerlink" title="æ¥å£éš”ç¦»åŸåˆ™(Interface Segregation Principle, ISP)"></a>æ¥å£éš”ç¦»åŸåˆ™(Interface Segregation Principle, ISP)</h3><p><strong>å®šä¹‰ï¼š</strong>è¦ç”¨å„ä¸ªç±»å»ºç«‹ä»–ä»¬éœ€è¦çš„ä¸“ç”¨æ¥å£</p><p>å®ƒåŒ…å«äº†2å±‚æ„æ€ï¼š</p><p><strong>æ¥å£çš„è®¾è®¡åŸåˆ™ï¼š</strong>æ¥å£çš„è®¾è®¡åº”è¯¥éµå¾ªæœ€å°æ¥å£åŸåˆ™ï¼Œä¸è¦æŠŠç”¨æˆ·ä½¿ç”¨ä¸åˆ°çš„æ–¹æ³•å¡è¿›åŒä¸€ä¸ªæ¥å£é‡Œã€‚å¦‚æœä¸€ä¸ªæ¥å£çš„æœ‰æ–¹æ³•æ²¡æœ‰è¢«ç”¨æˆ·ä½¿ç”¨åˆ°ï¼Œåˆ™è¯´æ˜è¯¥æ¥å£å·²ç»è‡ƒè‚¿äº†ï¼Œåº”è¯¥å°†å…¶åˆ†å‰²æˆå‡ ä¸ªåŠŸèƒ½ä¸“ä¸€çš„æ¥å£ã€‚</p><p><strong>æ¥å£çš„ä¾èµ–ï¼ˆç»§æ‰¿ï¼‰åŸåˆ™ï¼š</strong>å¦‚æœä¸€ä¸ªæ¥å£aç»§æ‰¿å¦ä¸€ä¸ªæ¥å£bï¼Œåˆ™æ¥å£aç›¸å½“äºç»§æ‰¿äº†æ¥å£bçš„æ–¹æ³•ï¼Œé‚£ä¹ˆæ¥å£aä¹Ÿåº”è¯¥éµå¾ªä¸Šè¿°åŸåˆ™ï¼šä¸åº”è¯¥åŒ…å«ç”¨æˆ·ä¸ä½¿ç”¨çš„æ–¹æ³•ã€‚ åä¹‹ï¼Œåˆ™è¯´æ˜æ¥å£aè¢«bç»™æ±¡æŸ“äº†ï¼Œåº”è¯¥é‡æ–°è®¾è®¡å®ƒä»¬çš„å…³ç³»ã€‚</p><h3 id="è¿ªç±³ç‰¹æ³•åˆ™ï¼ˆLaw-of-Demeter-ï¼ŒLODï¼‰"><a href="#è¿ªç±³ç‰¹æ³•åˆ™ï¼ˆLaw-of-Demeter-ï¼ŒLODï¼‰" class="headerlink" title="è¿ªç±³ç‰¹æ³•åˆ™ï¼ˆLaw of Demeter ï¼ŒLODï¼‰"></a>è¿ªç±³ç‰¹æ³•åˆ™ï¼ˆLaw of Demeter ï¼ŒLODï¼‰</h3><p><strong>å®šä¹‰ï¼š</strong>åªä¸ç›´æ¥æœ‹å‹äº¤è°ˆï¼Œä¸ä¸é™Œç”Ÿäººé€šä¿¡</p><p><strong>ç›´æ¥æœ‹å‹çš„å®šä¹‰ï¼š</strong></p><p>1ï¼‰å½“å‰å¯¹è±¡æœ¬èº«ï¼ˆthisï¼‰</p><p>2ï¼‰ä»¥å‚é‡å½¢å¼ä¼ å…¥åˆ°å½“å‰å¯¹è±¡æ–¹æ³•ä¸­çš„å¯¹è±¡</p><p>3ï¼‰å½“å‰å¯¹è±¡çš„å®ä¾‹å˜é‡</p><p>4ï¼‰å½“å‰å¯¹è±¡çš„å®ä¾‹å˜é‡å¦‚æœæ˜¯ä¸€ä¸ªèšé›†ï¼Œé‚£ä¹ˆèšé›†ä¸­çš„å…ƒç´ ä¹Ÿéƒ½æ˜¯æœ‹å‹</p><p>5ï¼‰å½“å‰å¯¹è±¡æ‰€åˆ›å»ºçš„å¯¹è±¡</p><h3 id="åˆæˆå¤ç”¨åŸåˆ™ï¼ˆComposite-x2F-Aggregate-Reuse-Principle-ï¼ŒCARPï¼‰"><a href="#åˆæˆå¤ç”¨åŸåˆ™ï¼ˆComposite-x2F-Aggregate-Reuse-Principle-ï¼ŒCARPï¼‰" class="headerlink" title="åˆæˆå¤ç”¨åŸåˆ™ï¼ˆComposite&#x2F;Aggregate Reuse Principle ï¼ŒCARPï¼‰"></a>åˆæˆå¤ç”¨åŸåˆ™ï¼ˆComposite&#x2F;Aggregate Reuse Principle ï¼ŒCARPï¼‰</h3><p><strong>å®šä¹‰ï¼š</strong>å°½é‡å…ˆä½¿ç”¨<strong>ç»„åˆæˆ–è€…å†…èš</strong>ç­‰å…³è”å…³ç³»æ¥å®ç°ï¼Œå…¶æ¬¡æ‰è€ƒè™‘ä½¿ç”¨ç»§æ‰¿æ¥å®ç°ï¼Œå› ä¸ºjavaæ˜¯å•ç»§æ‰¿</p>]]></content>
      
      
      <categories>
          
          <category> è®¾è®¡æ¨¡å¼ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> è®¾è®¡æ¨¡å¼ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Redis-é…ç½®æ–‡ä»¶</title>
      <link href="/javaEE/Redis/2022/02/24/Redis-%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6/"/>
      <url>/javaEE/Redis/2022/02/24/Redis-%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6/</url>
      
        <content type="html"><![CDATA[<h2 id="é…ç½®æ–‡ä»¶redis-conf"><a href="#é…ç½®æ–‡ä»¶redis-conf" class="headerlink" title="é…ç½®æ–‡ä»¶redis.conf"></a>é…ç½®æ–‡ä»¶redis.conf</h2><h3 id="åŸºç¡€é…ç½®"><a href="#åŸºç¡€é…ç½®" class="headerlink" title="åŸºç¡€é…ç½®"></a>åŸºç¡€é…ç½®</h3><p>ä¸‹é¢ä¸ºå¸¸ç”¨çš„é…ç½®</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Redis configuration file example.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Note that in order to read the configuration file, Redis must be</span></span><br><span class="line"><span class="comment"># started with the file path as first argument:</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># ./redis-server /path/to/redis.conf</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># è¯´æ˜å•ä½å’Œä¸åŒºåˆ†å¤§å°å†™</span></span><br><span class="line"><span class="comment"># Note on units: when memory size is needed, it is possible to specify</span></span><br><span class="line"><span class="comment"># it in the usual form of 1k 5GB 4M and so forth:</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># 1k =&gt; 1000 bytes</span></span><br><span class="line"><span class="comment"># 1kb =&gt; 1024 bytes</span></span><br><span class="line"><span class="comment"># 1m =&gt; 1000000 bytes</span></span><br><span class="line"><span class="comment"># 1mb =&gt; 1024*1024 bytes</span></span><br><span class="line"><span class="comment"># 1g =&gt; 1000000000 bytes</span></span><br><span class="line"><span class="comment"># 1gb =&gt; 1024*1024*1024 bytes</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># units are case insensitive so 1GB 1Gb 1gB are all the same.</span></span><br><span class="line"></span><br><span class="line"><span class="comment">################################## INCLUDES ###################################</span></span><br><span class="line"><span class="comment"># å¯ä»¥é…ç½®å¤šä¸ªconfæ–‡ä»¶ç»„åˆèµ·æ¥</span></span><br><span class="line"><span class="comment"># Include one or more other config files here.  This is useful if you</span></span><br><span class="line"><span class="comment"># have a standard template that goes to all Redis servers but also need</span></span><br><span class="line"><span class="comment"># to customize a few per-server settings.  Include files can include</span></span><br><span class="line"><span class="comment"># other files, so use this wisely.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Note that option &quot;include&quot; won&#x27;t be rewritten by command &quot;CONFIG REWRITE&quot;</span></span><br><span class="line"><span class="comment"># from admin or Redis Sentinel. Since Redis always uses the last processed</span></span><br><span class="line"><span class="comment"># line as value of a configuration directive, you&#x27;d better put includes</span></span><br><span class="line"><span class="comment"># at the beginning of this file to avoid overwriting config change at runtime.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># If instead you are interested in using includes to override configuration</span></span><br><span class="line"><span class="comment"># options, it is better to use include as the last line.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># include /path/to/local.conf</span></span><br><span class="line"><span class="comment"># include /path/to/other.conf</span></span><br><span class="line"></span><br><span class="line"><span class="comment">################################## NETWORK #####################################</span></span><br><span class="line"><span class="comment"># ç½‘ç»œæ¨¡å—</span></span><br><span class="line"><span class="built_in">bind</span> 127.0.0.1</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¼€å¯ä¿æŠ¤æ¨¡å¼</span></span><br><span class="line">protected-mode yes</span><br><span class="line"></span><br><span class="line"><span class="comment"># è¿æ¥çš„æœåŠ¡å™¨ç«¯å£</span></span><br><span class="line">port 6379</span><br><span class="line"></span><br><span class="line">tcp-backlog 511</span><br><span class="line"></span><br><span class="line"><span class="comment"># è¶…æ—¶æ—¶é—´</span></span><br><span class="line">timeout 0</span><br><span class="line"></span><br><span class="line">tcp-keepalive 300</span><br><span class="line"></span><br><span class="line"><span class="comment">################################# GENERAL #####################################</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># When Redis is supervised by upstart or systemd, this parameter has no impact.</span></span><br><span class="line"><span class="comment"># é»˜è®¤ä¸º daemonize no</span></span><br><span class="line"><span class="comment"># éœ€è¦æ‰‹åŠ¨æ”¹ä¸ºyesï¼Œæˆ‘ä»¬éœ€è¦åå°å¯åŠ¨</span></span><br><span class="line">daemonize yes</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¦‚æœä»¥åå°æ–¹å¼è¿è¡Œï¼Œå°±éœ€è¦æŒ‡å®šä¸€ä¸ªpidæ–‡ä»¶</span></span><br><span class="line">pidfile /var/run/redis_6379.pid</span><br><span class="line"></span><br><span class="line"><span class="comment"># Specify the server verbosity level.</span></span><br><span class="line"><span class="comment"># This can be one of:</span></span><br><span class="line"><span class="comment"># debug (a lot of information, useful for development/testing)</span></span><br><span class="line"><span class="comment"># verbose (many rarely useful info, but not a mess like the debug level)</span></span><br><span class="line"><span class="comment"># notice (moderately verbose, what you want in production probably)ç”Ÿäº§ç¯å¢ƒ</span></span><br><span class="line"><span class="comment"># warning (only very important / critical messages are logged)</span></span><br><span class="line"><span class="comment"># æ—¥å¿—çº§åˆ«</span></span><br><span class="line">loglevel notice</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç”Ÿæˆçš„æ—¥å¿—æ–‡ä»¶å</span></span><br><span class="line">logfile <span class="string">&quot;&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># é»˜è®¤æœ‰16ä¸ªæ•°æ®åº“</span></span><br><span class="line">databases 16</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ˜¯å¦æ˜¾ç¤ºlogo</span></span><br><span class="line">always-show-logo yes</span><br><span class="line"></span><br><span class="line">set-proc-title yes</span><br><span class="line"></span><br><span class="line">proc-title-template <span class="string">&quot;&#123;title&#125; &#123;listen-addr&#125; &#123;server-mode&#125;&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">################################## SECURITY ###################################</span></span><br><span class="line"><span class="comment"># å¯ä»¥è®¾ç½®Redisçš„å¯†ç </span></span><br><span class="line"></span><br><span class="line"><span class="comment"># auth</span></span><br><span class="line"><span class="comment"># config set requirepass root</span></span><br><span class="line"><span class="comment"># è®¾ç½®å¯†ç ä½¿ç”¨å‘½ä»¤</span></span><br><span class="line">requirepass root</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">################################### CLIENTS ####################################</span></span><br><span class="line"><span class="comment"># å®¢æˆ·ç«¯çš„ä¸€äº›é™</span></span><br><span class="line"><span class="comment"># æœ€å¤§å®¢æˆ·ç«¯è¿æ¥æ•°</span></span><br><span class="line">maxclients 10000</span><br><span class="line"></span><br><span class="line"><span class="comment">############################## MEMORY MANAGEMENT ################################</span></span><br><span class="line"><span class="comment"># å†…å­˜è®¾ç½®</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># è®¾ç½®æœ€å¤§å†…å­˜</span></span><br><span class="line"><span class="comment"># maxmemory &lt;bytes&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># The default is:</span></span><br><span class="line"><span class="comment"># å†…å­˜æ»¡äº†ï¼Œæœ‰ä»€ä¹ˆç­–ç•¥ï¼Œå’ŒJUCä¸­çš„é‚£å››ç§æ‹’ç»ç­–ç•¥æœ‰ç‚¹ç±»ä¼¼</span></span><br><span class="line"><span class="comment"># 1.volatile-lru:åªå¯¹è®¾ç½®äº†è¿‡æœŸæ—¶é—´çš„keyè¿›è¡Œlru</span></span><br><span class="line"><span class="comment"># 2.allkeys-lru:åˆ é™¤lruç®—æ³•çš„key</span></span><br><span class="line"><span class="comment"># 3.volatile-random:éšæœºåˆ é™¤å³å°†è¿‡æœŸçš„</span></span><br><span class="line"><span class="comment"># 4.allkeys-random:éšæœºåˆ é™¤</span></span><br><span class="line"><span class="comment"># 5.volatile-ttl:åˆ é™¤å³å°†è¿‡æœŸçš„</span></span><br><span class="line"><span class="comment"># 6.noeviction:è¿”å›é”™è¯¯</span></span><br><span class="line">maxmemory-policy noeviction</span><br><span class="line"></span><br><span class="line"><span class="comment">############################# LAZY FREEING ####################################</span></span><br><span class="line"></span><br><span class="line">lazyfree-lazy-eviction no</span><br><span class="line">lazyfree-lazy-expire no</span><br><span class="line">lazyfree-lazy-server-del no</span><br><span class="line">replica-lazy-flush no</span><br><span class="line"></span><br><span class="line">lazyfree-lazy-user-del no</span><br><span class="line"></span><br><span class="line">lazyfree-lazy-user-flush no</span><br></pre></td></tr></table></figure><h3 id="é…ç½®RDBï¼ˆRedis-DataBaseï¼‰æŒä¹…åŒ–"><a href="#é…ç½®RDBï¼ˆRedis-DataBaseï¼‰æŒä¹…åŒ–" class="headerlink" title="é…ç½®RDBï¼ˆRedis DataBaseï¼‰æŒä¹…åŒ–"></a>é…ç½®RDBï¼ˆRedis DataBaseï¼‰æŒä¹…åŒ–</h3><p>Redisæ˜¯å†…å­˜æ€§æ•°æ®åº“ï¼Œå¦‚æœä¸è®²å†…å­˜ä¸­çš„æ•°æ®ä¿å­˜åˆ°ç£ç›˜ä¸­ï¼Œé‚£ä¹ˆä¸€æ—¦æœåŠ¡å™¨é€€å‡ºï¼ŒæœåŠ¡å™¨ä¸­çš„æœåŠ¡å™¨çŠ¶æ€ä¹Ÿå°±æ¶ˆå¤±äº†ï¼Œæ‰€ä»¥éœ€è¦å­¦ä¼šRedisä¸­çš„æŒä¹…åŒ–æ“ä½œ</p><img src="/javaEE/Redis/2022/02/24/Redis-%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6/RDB%E6%96%87%E4%BB%B6.png" class title="RDBæ–‡ä»¶"><p>åœ¨æŒ‡å®šçš„æ—¶é—´é—´éš”å†…å°†å†…å­˜ä¸­çš„æ•°æ®é›†å¿«ç…§å†™å…¥ç£ç›˜ï¼Œä¹Ÿå°±æ˜¯Snapshotå¿«ç…§ï¼Œå®ƒæ¢å¤æ—¶æ˜¯å°†å¿«ç…§æ–‡ä»¶ç›´æ¥è¯»å–åˆ°å†…å­˜é‡Œã€‚</p><p>Redisä¼šå•ç‹¬åˆ›å»ºï¼ˆforkï¼‰ä¸€ä¸ªå­è¿›ç¨‹æ¥è¿›è¡ŒæŒä¹…åŒ–ï¼Œä¼šå…ˆå°†æ•°æ®å†™å…¥åˆ°ä¸€ä¸ªä¸´æ—¶æ–‡ä»¶ä¸­ï¼Œå¾…æŒä¹…åŒ–è¿‡ç¨‹éƒ½ç»“æŸäº†ï¼Œå†ç”¨è¿™ä¸ªä¸´æ—¶æ–‡<br>ä»¶æ›¿æ¢ä¸Šæ¬¡æŒä¹…åŒ–å¥½çš„æ–‡ä»¶ã€‚æ•´ä¸ªè¿‡ç¨‹ä¸­ï¼Œä¸»è¿›ç¨‹æ˜¯ä¸è¿›è¡Œä»»ä½•IOæ“ä½œçš„ã€‚è¿™å°±ç¡®ä¿äº†æé«˜çš„æ€§èƒ½ã€‚å¦‚æœéœ€è¦è¿›è¡Œå¤§è§„æ¨¡æ•°æ®çš„æ¢<br>å¤ï¼Œä¸”å¯¹äºæ•°æ®æ¢å¤çš„å®Œæ•´æ€§ä¸æ˜¯éå¸¸æ•æ„Ÿï¼Œé‚£RDBæ–¹å¼è¦æ¯”AOFæ–¹å¼æ›´åŠ çš„é«˜æ•ˆã€‚</p><p>RDBçš„ä¼˜ç‚¹æ˜¯æ•ˆç‡é«˜ï¼Œå¯¹äºæ•°æ®çš„å®Œæ•´æ€§è¦æ±‚ä¸é«˜</p><p>RDBçš„ç¼ºç‚¹æ˜¯æœ€åä¸€æ¬¡æŒä¹…åŒ–åçš„æ•°æ®å¯èƒ½ä¸¢å¤±ã€‚</p><p>rdbæ–‡ä»¶é»˜è®¤ä¿å­˜ä¸º<code>dump.rdb</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">################################ SNAPSHOTTING  ################################</span></span><br><span class="line"><span class="comment"># å¿«ç…§ï¼šåšæŒä¹…åŒ–çš„æ—¶å€™ä¼šç”¨åˆ°ã€‚</span></span><br><span class="line"><span class="comment"># åœ¨è§„å®šçš„æ—¶é—´å†…æ‰§è¡Œäº†å¤šå°‘æ¬¡æ“ä½œå°±ä¼šç”Ÿæˆä¸€ä¸ª.rdbæ–‡ä»¶æˆ–è€….aofæ–‡ä»¶</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Redisæ˜¯å†…å­˜æ•°æ®åº“ï¼Œå¦‚æœæ²¡æœ‰æŒä¹…åŒ–ï¼Œç”¨å®Œæ•°æ®å°±æ²¡äº†</span></span><br><span class="line"><span class="comment"># æŒä¹…åŒ–è§„åˆ™</span></span><br><span class="line"><span class="comment"># 3600så†…è‡³å°‘æœ‰ä¸€ä¸ªkeyè¿›è¡Œäº†ä¿®æ”¹ï¼Œåˆ™è¿›è¡ŒæŒä¹…åŒ–æ“ä½œ</span></span><br><span class="line"> save 3600 1</span><br><span class="line"><span class="comment"># 300så†…è‡³å°‘æœ‰100ä¸ªkeyè¿›è¡Œäº†ä¿®æ”¹ï¼Œåˆ™è¿›è¡ŒæŒä¹…åŒ–æ“ä½œ</span></span><br><span class="line"> save 300 100</span><br><span class="line"><span class="comment"># 60så†…è‡³å°‘æœ‰10000ä¸ªkeyè¿›è¡Œäº†ä¿®æ”¹ï¼Œåˆ™è¿›è¡ŒæŒä¹…åŒ–æ“ä½œ</span></span><br><span class="line"> save 60 10000</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŒä¹…åŒ–å‡ºé”™åï¼Œæ˜¯å¦è¿˜ç»§ç»­å·¥ä½œ</span></span><br><span class="line">stop-writes-on-bgsave-error yes</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ˜¯å¦å‹ç¼©rdbæ–‡ä»¶ï¼Œæ¶ˆè€—CPUèµ„æº</span></span><br><span class="line">rdbcompression yes</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ˜¯å¦æ ¡éªŒrdbæ–‡ä»¶çš„æ•°ç›®</span></span><br><span class="line">rdbchecksum yes</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŒä¹…åŒ–ç”Ÿæˆçš„æ–‡ä»¶åå­—</span></span><br><span class="line">dbfilename dump.rdb</span><br><span class="line"></span><br><span class="line">rdb-del-sync-files no</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä¿å­˜çš„ç›®å½•ï¼Œå½“å‰ç›®å½•</span></span><br><span class="line">dir ./</span><br></pre></td></tr></table></figure><h3 id="é…ç½®AOFï¼ˆAppend-Only-Fileï¼‰æ–‡ä»¶"><a href="#é…ç½®AOFï¼ˆAppend-Only-Fileï¼‰æ–‡ä»¶" class="headerlink" title="é…ç½®AOFï¼ˆAppend Only Fileï¼‰æ–‡ä»¶"></a>é…ç½®AOFï¼ˆAppend Only Fileï¼‰æ–‡ä»¶</h3><p>ä»¥æ—¥å¿—çš„å½¢å¼æ¥è®°å½•æ¯ä¸ªå†™æ“ä½œï¼Œå°†Redisæ‰§è¡Œè¿‡çš„æ‰€æœ‰æŒ‡ä»¤è®°å½•ä¸‹æ¥ï¼ˆè¯»æ“ä½œä¸è®°å½•ï¼‰ï¼Œåªè®¸è¿½åŠ æ–‡ä»¶ä½†ä¸å¯ä»¥æ”¹å†™æ–‡ä»¶ï¼Œredis<br>å¯åŠ¨ä¹‹åˆä¼šè¯»å–è¯¥æ–‡ä»¶é‡æ–°æ„å»ºæ•°æ®ï¼Œæ¢è¨€ä¹‹ï¼Œredisé‡å¯çš„è¯å°±æ ¹æ®æ—¥å¿—æ–‡ä»¶çš„å†…å®¹å°†å†™æŒ‡ä»¤ä»å‰åˆ°åæ‰§è¡Œä¸€æ¬¡ä»¥å®Œæˆæ•°æ®çš„æ¢å¤<br>å·¥ä½œ</p><img src="/javaEE/Redis/2022/02/24/Redis-%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6/AOF%E6%96%87%E4%BB%B6.png" class title="AOFæ–‡ä»¶"><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">############################## APPEND ONLY MODE ###############################</span></span><br><span class="line"><span class="comment"># æŒä¹…åŒ–æ–‡ä»¶aofçš„é…ç½®</span></span><br><span class="line"><span class="comment"># é»˜è®¤å…³é—­aofï¼Œé»˜è®¤å¼€å¯rdbçš„æŒä¹…åŒ–ï¼Œå¤§éƒ¨åˆ†æƒ…å†µä¸‹ï¼Œrdbå®Œå…¨å¤Ÿç”¨</span></span><br><span class="line">appendonly no</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŒä¹…åŒ–æ–‡ä»¶çš„åå­—</span></span><br><span class="line">appendfilename <span class="string">&quot;appendonly.aof&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># appendfsync always # æ¯æ¬¡ä¿®æ”¹éƒ½åŒæ­¥ä¸€ä¸‹</span></span><br><span class="line">appendfsync everysec <span class="comment"># æ¯1séƒ½åŒæ­¥ä¸€ä¸‹</span></span><br><span class="line"><span class="comment"># appendfsync no     # ä¸åŒæ­¥ï¼Œæ“ä½œç³»ç»Ÿè‡ªå·±åŒæ­¥</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æ˜¯å¦é‡å†™</span></span><br><span class="line"><span class="comment"># incrby view 10</span></span><br><span class="line"><span class="comment"># incrby view 20</span></span><br><span class="line"><span class="comment"># é‡å†™å</span></span><br><span class="line"><span class="comment"># incrby 30</span></span><br><span class="line">no-appendfsync-on-rewrite no</span><br><span class="line"></span><br><span class="line">auto-aof-rewrite-percentage 100</span><br><span class="line">auto-aof-rewrite-min-size 64mb</span><br></pre></td></tr></table></figure><p>å¦‚æœaofä¸­è¢«æ¶æ„ç¯¡æ”¹äº†ï¼Œè¿™æ—¶å€™redisæ˜¯å¯åŠ¨ä¸èµ·æ¥çš„ï¼Œè¿™æ—¶å€™å¯ä»¥ä½¿ç”¨redisæä¾›çš„ä¸€ä¸ªå·¥å…·<code>redis-check-aof.exe</code></p><p>ä¼˜ç‚¹ï¼šæ¯ä¸€æ¬¡ä¿®æ”¹éƒ½åŒæ­¥ï¼Œæ–‡ä»¶çš„å®Œæ•´æ€§ä¼šæ›´å¥½ï¼Œ</p><p>ç¼ºç‚¹ï¼šè¯¥æ–‡ä»¶è¿œè¿œå¤§äºrdbï¼Œä¿®å¤é€Ÿåº¦è¿œè¿œæ…¢äºrdbï¼Œè¿è¡Œæ•ˆç‡æ¯”rdbä½</p><p><strong>å°ç»“ï¼š</strong></p><ol><li><p>RDB æŒä¹…åŒ–æ–¹å¼èƒ½å¤Ÿåœ¨æŒ‡å®šçš„æ—¶é—´é—´éš”å†…å¯¹ä½ çš„æ•°æ®è¿›è¡Œå¿«ç…§å­˜å‚¨</p></li><li><p>AOF æŒä¹…åŒ–æ–¹å¼è®°å½•æ¯æ¬¡å¯¹æœåŠ¡å™¨å†™çš„æ“ä½œï¼Œå½“æœåŠ¡å™¨é‡å¯çš„æ—¶å€™ä¼šé‡æ–°æ‰§è¡Œè¿™äº›å‘½ä»¤æ¥æ¢å¤åŸå§‹çš„æ•°æ®ï¼ŒAOFå‘½ä»¤ä»¥Redis å<br>è‡ªåŠ ä¿å­˜æ¯æ¬¡å†™çš„æ“ä½œåˆ°æ–‡ä»¶æœªå°¾ï¼ŒRedisè¿˜èƒ½å¯¹AOFæ–‡ä»¶è¿›è¡Œåå°é‡å†™ï¼Œä½¿å¾—AOFæ–‡ä»¶çš„ä½“ç§¯ä¸è‡³äºè¿‡å¤§ã€‚</p></li><li><p><strong>åªåšç¼“å­˜ï¼Œå¦‚æœä½ åªå¸Œæœ›ä½ çš„æ•°æ®åœ¨æœåŠ¡å™¨è¿è¡Œçš„æ—¶å€™å­˜åœ¨ï¼Œä½ ä¹Ÿå¯ä»¥ä¸ä½¿ç”¨ä»»ä½•æŒä¹…åŒ–</strong></p></li><li><p>åŒæ—¶å¼€å¯ä¸¤ç§æŒä¹…åŒ–æ–¹å¼</p></li></ol><ul><li>åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå½“redisé‡å¯çš„æ—¶å€™ä¼šä¼˜å…ˆè½½å…¥AOFæ–‡ä»¶æ¥æ¢å¤åŸå§‹çš„æ•°æ®ï¼Œå› ä¸ºåœ¨é€šå¸¸æƒ…å†µä¸‹AOFæ–‡ä»¶ä¿å­˜çš„æ•°æ®é›†è¦æ¯”RDB<br> æ–‡ä»¶ä¿å­˜çš„æ•°æ®é›†è¦å®Œæ•´ã€‚</li><li>RDB çš„æ•°æ®ä¸å®æ—¶ï¼ŒåŒæ—¶ä½¿ç”¨ä¸¤è€…æ—¶æœåŠ¡å™¨é‡å¯ä¹Ÿåªä¼šæ‰¾AOFæ–‡ä»¶ï¼Œé‚£è¦ä¸è¦åªä½¿ç”¨AOFå‘¢ï¼Ÿä½œè€…å»ºè®®ä¸è¦ï¼Œå› ä¸ºRDBæ›´é€‚åˆ<br> ç”¨äºå¤‡ä»½æ•°æ®åº“ï¼ˆAOFåœ¨ä¸æ–­å˜åŒ–ä¸å¥½å¤‡ä»½ï¼‰ï¼Œå¿«é€Ÿé‡å¯ï¼Œè€Œä¸”ä¸ä¼šæœ‰AOFå¯èƒ½æ½œåœ¨çš„Bugï¼Œç•™ç€ä½œä¸ºä¸€ä¸ªä¸‡ä¸€çš„æ‰‹æ®µã€‚</li></ul><ol start="5"><li>æ€§èƒ½å»ºè®®</li></ol><ul><li>å› ä¸ºRDBæ–‡ä»¶åªç”¨ä½œåå¤‡ç”¨é€”ï¼Œå»ºè®®åªåœ¨Slaveä¸ŠæŒä¹…åŒ–RDBæ–‡ä»¶ï¼Œè€Œä¸”åªè¦15åˆ†é’Ÿå¤‡ä»½ä¸€æ¬¡å°±å¤Ÿäº†ï¼Œåªä¿ç•™ save 900 1è¿™æ¡è§„åˆ™ã€‚</li><li>å¦‚æœEnable AOFï¼Œå¥½å¤„æ˜¯åœ¨æœ€æ¶åŠ£æƒ…å†µä¸‹ä¹Ÿåªä¼šä¸¢å¤±ä¸è¶…è¿‡ä¸¤ç§’æ•°æ®ï¼Œå¯åŠ¨è„šæœ¬è¾ƒç®€å•åªloadè‡ªå·±çš„AOFæ–‡ä»¶å°±å¯ä»¥äº†<ul><li>ä»£ä»·ä¸€æ˜¯å¸¦æ¥äº†æŒç»­çš„IO</li><li>ä»£ä»·äºŒæ˜¯AOF rewrite çš„æœ€åå°† rewrite è¿‡ç¨‹ä¸­äº§ç”Ÿçš„æ–°æ•°æ®å†™åˆ°æ–°æ–‡ä»¶é€ æˆçš„é˜»å¡å‡ ä¹æ˜¯ä¸å¯é¿å…çš„ã€‚åªè¦ç¡¬ç›˜è®¸å¯ï¼Œåº”è¯¥å°½é‡å‡å°‘AOF rewrite çš„é¢‘ç‡ï¼ŒAOFé‡å†™çš„åŸºç¡€å¤§å°é»˜è®¤å€¼64Må¤ªå°äº†ï¼Œå¯ä»¥è®¾åˆ°5Gä»¥ä¸Šï¼Œé»˜è®¤è¶…è¿‡åŸå¤§å°100%å¤§å°é‡å†™å¯ä»¥æ”¹åˆ°é€‚å½“çš„æ•°å€¼ã€‚</li></ul></li><li>å¦‚æœä¸Enable AOFï¼Œä»…é Master-Slave Repllcationï¼ˆä¸»ä»å¤åˆ¶ï¼‰å®ç°é«˜å¯ç”¨æ€§ä¹Ÿå¯ä»¥ï¼Œèƒ½çœæ‰ä¸€å¤§ç¬”IOï¼Œä¹Ÿå‡å°‘äº†rewriteæ—¶å¸¦æ¥çš„ç³»ç»Ÿæ³¢åŠ¨ã€‚ä»£ä»·æ˜¯å¦‚æœMaster&#x2F;Slave åŒæ—¶æ–­ç”µï¼Œä¼šä¸¢å¤±åå‡ åˆ†é’Ÿçš„æ•°æ®ï¼Œå¯åŠ¨è„šæœ¬ä¹Ÿè¦æ¯”è¾ƒä¸¤ä¸ªMaster&#x2F;Slaveä¸­çš„RDBæ–‡ä»¶ï¼Œè½½å…¥è¾ƒæ–°çš„é‚£ä¸ªã€‚</li></ul>]]></content>
      
      
      <categories>
          
          <category> javaEE </category>
          
          <category> Redis </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Redis </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Redis-æ•´åˆSpringBoot</title>
      <link href="/javaEE/Redis/2022/02/24/Redis-%E6%95%B4%E5%90%88SpringBoot/"/>
      <url>/javaEE/Redis/2022/02/24/Redis-%E6%95%B4%E5%90%88SpringBoot/</url>
      
        <content type="html"><![CDATA[<h2 id="SpringBootæ•´åˆRedis"><a href="#SpringBootæ•´åˆRedis" class="headerlink" title="SpringBootæ•´åˆRedis"></a>SpringBootæ•´åˆRedis</h2><p>åœ¨SpringBoot2.xä¹‹åï¼Œåº•å±‚å·²ç»ä¸å†ä½¿ç”¨jedisæ“ä½œRedisäº†ï¼Œè€Œæ˜¯lettuce</p><p>jedisï¼šé‡‡ç”¨çš„ç›´è¿ï¼Œå¦‚æœæœ‰å¤šä¸ªçº¿ç¨‹æ“ä½œçš„è¯ï¼Œæ˜¯ä¸å®‰å…¨çš„ï¼Œéœ€è¦ä½¿ç”¨jedis poolè¿æ¥æ± æ¥è§£å†³é—®é¢˜ï¼ˆBIOæ¨¡å¼ï¼‰</p><p>lettcueï¼šé‡‡ç”¨nettyï¼Œå®ä¾‹å¯ä»¥åœ¨å¤šä¸ªå®ä¾‹ä¸­å…±äº«ï¼Œä¸å­˜åœ¨çº¿ç¨‹ä¸å®‰å…¨çš„é—®é¢˜ï¼ˆDubboåº•å±‚ä¹Ÿç”¨åˆ°äº†å®ƒï¼‰ï¼ˆNIOæ¨¡å¼ï¼‰</p><h3 id="å¦‚ä½•ä½¿ç”¨"><a href="#å¦‚ä½•ä½¿ç”¨" class="headerlink" title="å¦‚ä½•ä½¿ç”¨"></a>å¦‚ä½•ä½¿ç”¨</h3><p>1ã€å¯¼å…¥ä¾èµ–</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-data-redis<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.6.3<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><p>2ã€è§‚å¯ŸRedisAutoConfigurationæºç </p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration(</span></span><br><span class="line"><span class="meta">    proxyBeanMethods = false</span></span><br><span class="line"><span class="meta">)</span></span><br><span class="line"><span class="meta">@ConditionalOnClass(&#123;RedisOperations.class&#125;)</span></span><br><span class="line"><span class="meta">@EnableConfigurationProperties(&#123;RedisProperties.class&#125;)</span></span><br><span class="line"><span class="meta">@Import(&#123;LettuceConnectionConfiguration.class, JedisConnectionConfiguration.class&#125;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">RedisAutoConfiguration</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">RedisAutoConfiguration</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="comment">// è¿™è¯´æ˜æˆ‘ä»¬å¯ä»¥è‡ªå®šä¹‰template</span></span><br><span class="line">    <span class="meta">@ConditionalOnMissingBean(</span></span><br><span class="line"><span class="meta">        name = &#123;&quot;redisTemplate&quot;&#125;</span></span><br><span class="line"><span class="meta">    )</span></span><br><span class="line">    <span class="meta">@ConditionalOnSingleCandidate(RedisConnectionFactory.class)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> RedisTemplate&lt;Object, Object&gt; <span class="title">redisTemplate</span><span class="params">(RedisConnectionFactory redisConnectionFactory)</span> </span>&#123;</span><br><span class="line">        RedisTemplate&lt;Object, Object&gt; template = <span class="keyword">new</span> RedisTemplate();</span><br><span class="line">        template.setConnectionFactory(redisConnectionFactory);</span><br><span class="line">        <span class="keyword">return</span> template;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="comment">// å› ä¸ºæˆ‘ä»¬å¹³æ—¶ä½¿ç”¨stringä¼šéå¸¸å¤šï¼Œæ‰€ä»¥å†…ç½®äº†ä¸€ä¸ªStringRedisTemplate</span></span><br><span class="line">    <span class="meta">@ConditionalOnMissingBean</span></span><br><span class="line">    <span class="meta">@ConditionalOnSingleCandidate(RedisConnectionFactory.class)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> StringRedisTemplate <span class="title">stringRedisTemplate</span><span class="params">(RedisConnectionFactory redisConnectionFactory)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> StringRedisTemplate(redisConnectionFactory);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>3ã€é…ç½®è¿æ¥ï¼Œçœ‹æºç å¯ä»¥å‘ç°ï¼Œå°±ç®—æˆ‘ä»¬ä¸é…ç½®ï¼Œspringbootä¹Ÿé»˜è®¤å¯ä»¥è¿æ¥æœ¬åœ°çš„redis</p><img src="/javaEE/Redis/2022/02/24/Redis-%E6%95%B4%E5%90%88SpringBoot/RedisProperties.png" class title="RedisProperties"><p>4ã€æµ‹è¯•</p><p>å…ˆæ‰“å¼€å‘½ä»¤è¡Œå®¢æˆ·ç«¯æŸ¥çœ‹å…¨éƒ¨çš„key</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; keys *</span><br><span class="line">(empty list or <span class="built_in">set</span>)</span><br></pre></td></tr></table></figure><p>æµ‹è¯•ç±»æµ‹è¯•</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@SpringBootTest</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SpringbootRedisApplicationTests</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> StringRedisTemplate redisTemplate;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">contextLoads</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        RedisConnection connection = redisTemplate.getConnectionFactory().getConnection();</span><br><span class="line">        connection.flushAll();</span><br><span class="line">        connection.flushDb();</span><br><span class="line">        redisTemplate.opsForValue().set(<span class="string">&quot;springboot integrated Redis&quot;</span>,<span class="string">&quot;success&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å‘½ä»¤è¡Œå®¢æˆ·ç«¯æŸ¥çœ‹å…¨éƒ¨çš„keyï¼Œå¯ä»¥å‘ç°æ•°æ®æˆåŠŸæ’å…¥äº†</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; keys *</span><br><span class="line">1) <span class="string">&quot;springboot integrated Redis&quot;</span></span><br></pre></td></tr></table></figure><h4 id="åºåˆ—åŒ–å™¨"><a href="#åºåˆ—åŒ–å™¨" class="headerlink" title="åºåˆ—åŒ–å™¨"></a>åºåˆ—åŒ–å™¨</h4><p>å…ˆçœ‹ä¸‹æºç </p><img src="/javaEE/Redis/2022/02/24/Redis-%E6%95%B4%E5%90%88SpringBoot/RedisTemplate%E4%B8%AD%E7%9A%84%E5%BA%8F%E5%88%97%E5%8C%96%E5%99%A8.png" class title="RedisTemplateä¸­çš„åºåˆ—åŒ–å™¨"><p>å¦‚æœæˆ‘ä»¬æ²¡æœ‰è‡ªå®šä¹‰è¿™äº›åºåˆ—åŒ–ï¼Œé‚£ä¹ˆä»–ä»¬éƒ½ä¼šè¢«è®¾ç½®ä¸ºå†…ç½®çš„defaultSerializerï¼Œé‚£ä¹ˆè¿™ç§jdkçš„åºåˆ—åŒ–ä¼šä½¿æˆ‘ä»¬çš„ä¸­æ–‡è½¬ä¹‰ï¼Œè¿™æ—¶å€™æˆ‘ä»¬éœ€è¦ä½¿ç”¨JSONæ¥å®ç°åºåˆ—åŒ–</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (<span class="keyword">this</span>.defaultSerializer == <span class="keyword">null</span>) &#123;</span><br><span class="line">    <span class="keyword">this</span>.defaultSerializer = <span class="keyword">new</span> JdkSerializationRedisSerializer(<span class="keyword">this</span>.classLoader != <span class="keyword">null</span> ? <span class="keyword">this</span>.classLoader : <span class="keyword">this</span>.getClass().getClassLoader());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸‹é¢æˆ‘ä»¬ç›´æ¥ä¸Šæ¡ˆä¾‹ï¼š</p><h4 id="ä½¿ç”¨jdkå†…ç½®åºåˆ—åŒ–å™¨"><a href="#ä½¿ç”¨jdkå†…ç½®åºåˆ—åŒ–å™¨" class="headerlink" title="ä½¿ç”¨jdkå†…ç½®åºåˆ—åŒ–å™¨"></a>ä½¿ç”¨jdkå†…ç½®åºåˆ—åŒ–å™¨</h4><p>User</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="meta">@NoArgsConstructor</span></span><br><span class="line"><span class="meta">@AllArgsConstructor</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">User</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> age;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç›´æ¥æµ‹è¯•å°†å¯¹è±¡å†™å…¥</p><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">@Test</span><br><span class="line"><span class="type">void</span> testSerialization()&#123;</span><br><span class="line">    <span class="keyword">User</span> <span class="keyword">user</span> = <span class="built_in">new</span> <span class="keyword">User</span>();</span><br><span class="line">    <span class="keyword">user</span>.setName(&quot;zhima&quot;);</span><br><span class="line">    <span class="keyword">user</span>.setAge(<span class="number">19</span>);</span><br><span class="line">    redisTemplate.opsForValue().<span class="keyword">set</span>(&quot;user&quot;, <span class="keyword">user</span>);</span><br><span class="line">    <span class="keyword">System</span>.<span class="keyword">out</span>.println(redisTemplate.opsForValue().<span class="keyword">get</span>(&quot;user&quot;));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ‰§è¡Œå‘ç°æŠ¥é”™äº†ï¼Œè¿™å°±æƒ³åˆ°äº†æˆ‘ä»¬ä»æºç ä¸­çœ‹åˆ°çš„JdkSerializationRedisSerializerï¼Œå¦‚æœæˆ‘ä»¬æ²¡æœ‰é…ç½®è‡ªå·±æƒ³è¦çš„åºåˆ—åŒ–å™¨ï¼Œé‚£ä¹ˆå°±é»˜è®¤ä¸ºæ­¤åºåˆ—åŒ–å™¨ï¼Œæ‰€ä»¥çŸ¥é“æŠ¥è¿™ä¸ªé”™è¯¯çš„åŸå› æ˜¯useræ²¡æœ‰å®ç°åºåˆ—åŒ–æ¥å£ï¼Œé‚£æˆ‘ä»¬æ¥å®ç°ä»¥ä¸‹åºåˆ—åŒ–æ¥å£</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">org.springframework.data.redis.serializer.SerializationException: Cannot serialize; nested exception is org.springframework.core.serializer.support.SerializationFailedException: Failed to serialize object using DefaultSerializer; nested exception is java.lang.IllegalArgumentException: DefaultSerializer requires a Serializable payload but received an object of <span class="built_in">type</span> [com.lizhi.springbootredis.pojo.User]</span><br></pre></td></tr></table></figure><p>è¿™æ—¶å€™å†æ‰§è¡Œï¼Œçœ‹æ§åˆ¶å°</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">User(name=zhima, age=19)</span><br></pre></td></tr></table></figure><h4 id="è‡ªå®šä¹‰åºåˆ—åŒ–å™¨"><a href="#è‡ªå®šä¹‰åºåˆ—åŒ–å™¨" class="headerlink" title="è‡ªå®šä¹‰åºåˆ—åŒ–å™¨"></a>è‡ªå®šä¹‰åºåˆ—åŒ–å™¨</h4><img src="/javaEE/Redis/2022/02/24/Redis-%E6%95%B4%E5%90%88SpringBoot/RedisSerializer%E6%8E%A5%E5%8F%A3%E5%AE%9E%E7%8E%B0%E7%B1%BB.png" class title="RedisSerializeræ¥å£å®ç°ç±»"><p>é…ç½®è‡ªå®šä¹‰redisTemplate</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Bean(&quot;myRedisTemplate&quot;)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> RedisTemplate&lt;String, Object&gt; <span class="title">redisTemplate</span><span class="params">(RedisConnectionFactory redisConnectionFactory)</span></span>&#123;</span><br><span class="line">    RedisTemplate&lt;String, Object&gt; template = <span class="keyword">new</span> RedisTemplate();</span><br><span class="line">    template.setConnectionFactory(redisConnectionFactory);</span><br><span class="line">    Jackson2JsonRedisSerializer&lt;Object&gt; objectJackson2JsonRedisSerializer = <span class="keyword">new</span> Jackson2JsonRedisSerializer&lt;&gt;(Object.class);</span><br><span class="line">    StringRedisSerializer stringRedisSerializer = <span class="keyword">new</span> StringRedisSerializer();</span><br><span class="line">    ObjectMapper om = <span class="keyword">new</span> ObjectMapper();</span><br><span class="line">    om.setVisibility(PropertyAccessor.ALL, JsonAutoDetect.Visibility.ANY);</span><br><span class="line">    om.enableDefaultTyping(ObjectMapper.DefaultTyping.NON_FINAL);</span><br><span class="line">    objectJackson2JsonRedisSerializer.setObjectMapper(om);</span><br><span class="line">    <span class="comment">// hashçš„valueä½¿ç”¨JSONåºåˆ—åŒ–</span></span><br><span class="line">    template.setHashValueSerializer(objectJackson2JsonRedisSerializer);</span><br><span class="line">    <span class="comment">// valueä½¿ç”¨JSONåºåˆ—åŒ–</span></span><br><span class="line">    template.setValueSerializer(objectJackson2JsonRedisSerializer);</span><br><span class="line">    <span class="comment">// hashè¡¨çš„keyä½¿ç”¨stringçš„åºåˆ—åŒ–å™¨</span></span><br><span class="line">    template.setHashKeySerializer(stringRedisSerializer);</span><br><span class="line">    <span class="comment">// keyé‡‡ç”¨stringçš„åºåˆ—åŒ–å™¨</span></span><br><span class="line">    template.setKeySerializer(stringRedisSerializer);</span><br><span class="line">    template.afterPropertiesSet();</span><br><span class="line">    <span class="keyword">return</span> template;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å†æ‰§è¡Œåˆšåˆšçš„æµ‹è¯•ï¼Œå°±ä¼šå‘ç°ï¼Œå‘½ä»¤è¡Œä¸­çš„keyå·²ç»æ˜¯ä¸€ä¸ªæ­£å¸¸çš„å­—ç¬¦ä¸²äº†</p><h4 id="å·¥å…·ç±»RedisUtils"><a href="#å·¥å…·ç±»RedisUtils" class="headerlink" title="å·¥å…·ç±»RedisUtils"></a>å·¥å…·ç±»RedisUtils</h4><p>è¿™æ ·ä½¿ç”¨åŸç”Ÿçš„APIå¤ªéº»çƒ¦äº†ï¼Œæˆ‘ä»¬å¯ä»¥è‡ªå·±ç¼–å†™ä¸€ä¸ªå·¥å…·ç±»ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">é“¾æ¥:https://pan.baidu.com/s/1CZG5D8QUsz1NnqBjXZf0tgÂ </span><br><span class="line">æå–ç :24m2</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> javaEE </category>
          
          <category> Redis </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Redis </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Redis-é€šè¿‡Jredisæ“ä½œRedis</title>
      <link href="/javaEE/Redis/2022/02/24/Redis-%E9%80%9A%E8%BF%87Jedis%E6%93%8D%E4%BD%9CRedis/"/>
      <url>/javaEE/Redis/2022/02/24/Redis-%E9%80%9A%E8%BF%87Jedis%E6%93%8D%E4%BD%9CRedis/</url>
      
        <content type="html"><![CDATA[<h2 id="Jedis"><a href="#Jedis" class="headerlink" title="Jedis"></a>Jedis</h2><p>Jediså…¶å®å°±æ˜¯javaç”¨æ¥æ“ä½œRedisçš„ä¸€ä¸ªå·¥å…·åŒ…</p><h3 id="å¦‚ä½•ä½¿ç”¨"><a href="#å¦‚ä½•ä½¿ç”¨" class="headerlink" title="å¦‚ä½•ä½¿ç”¨"></a>å¦‚ä½•ä½¿ç”¨</h3><p>1ã€å¯¼å…¥ä¾èµ–</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- https://mvnrepository.com/artifact/redis.clients/jedis --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>redis.clients<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jedis<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>4.1.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.alibaba<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>fastjson<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.2.78<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br></pre></td></tr></table></figure><p>2ã€ä½¿ç”¨å°è£…å¥½çš„å¯¹è±¡æµ‹è¯•è¿æ¥Redis</p><img src="/javaEE/Redis/2022/02/24/Redis-%E9%80%9A%E8%BF%87Jedis%E6%93%8D%E4%BD%9CRedis/Jedis%E7%B1%BB%E6%9E%84%E9%80%A0%E6%96%B9%E6%B3%95.png" class title="Jedisç±»æ„é€ æ–¹æ³•"><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestPing</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Jedis jedis = <span class="keyword">new</span> Jedis(<span class="string">&quot;127.0.0.1&quot;</span>,<span class="number">6379</span>);</span><br><span class="line">        System.out.println(jedis.ping());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// æ§åˆ¶å°è¾“å‡ºPONG</span></span><br></pre></td></tr></table></figure><p>å¯ä»¥ç‚¹è¿›æºç çœ‹ä¸€ä¸‹</p><img src="/javaEE/Redis/2022/02/24/Redis-%E9%80%9A%E8%BF%87Jedis%E6%93%8D%E4%BD%9CRedis/Jedis%E7%B1%BB%E6%BA%90%E7%A0%81.png" class title="Jedisç±»æºç "><p>æˆ‘ä»¬ä¼šå‘ç°ï¼Œè¿™äº›æ–¹æ³•ä¸å°±æ˜¯æˆ‘ä»¬å½“æ—¶å†™çš„é‚£äº›å—ï¼Œåªä¸è¿‡éƒ½è¢«å°è£…æˆäº†æ–¹æ³•ä¾›æˆ‘ä»¬ä½¿ç”¨ã€‚</p><h3 id="å®ç°äº‹åŠ¡"><a href="#å®ç°äº‹åŠ¡" class="headerlink" title="å®ç°äº‹åŠ¡"></a>å®ç°äº‹åŠ¡</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TransactionTest</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Jedis jedis = <span class="keyword">new</span> Jedis(<span class="string">&quot;127.0.0.1&quot;</span>, <span class="number">6379</span>);</span><br><span class="line">        jedis.flushDB();</span><br><span class="line">        jedis.set(<span class="string">&quot;money&quot;</span>,<span class="string">&quot;100&quot;</span>);</span><br><span class="line">        jedis.set(<span class="string">&quot;out&quot;</span>,<span class="string">&quot;0&quot;</span>);</span><br><span class="line">        jedis.watch(<span class="string">&quot;money&quot;</span>);</span><br><span class="line">        Transaction multi = jedis.multi();</span><br><span class="line">        jedis.decrBy(<span class="string">&quot;mondy&quot;</span>,<span class="number">30</span>);</span><br><span class="line">        jedis.incrBy(<span class="string">&quot;out&quot;</span>,<span class="number">30</span>);</span><br><span class="line">        multi.exec();</span><br><span class="line">        jedis.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å®é™…ä¸Šå’Œå‘½ä»¤è¡Œçš„å‘½ä»¤æ˜¯ä¸€æ¨¡ä¸€æ ·çš„</p>]]></content>
      
      
      <categories>
          
          <category> javaEE </category>
          
          <category> Redis </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Redis </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Redis-å®ç°ä¹è§‚é”</title>
      <link href="/javaEE/Redis/2022/02/24/Redis-%E5%AE%9E%E7%8E%B0%E4%B9%90%E8%A7%82%E9%94%81/"/>
      <url>/javaEE/Redis/2022/02/24/Redis-%E5%AE%9E%E7%8E%B0%E4%B9%90%E8%A7%82%E9%94%81/</url>
      
        <content type="html"><![CDATA[<h3 id="æµ…å®ç°ä¸€ä¸‹ä¹è§‚é”"><a href="#æµ…å®ç°ä¸€ä¸‹ä¹è§‚é”" class="headerlink" title="æµ…å®ç°ä¸€ä¸‹ä¹è§‚é”"></a>æµ…å®ç°ä¸€ä¸‹ä¹è§‚é”</h3><p>è¿™é‡Œéœ€è¦ä½¿ç”¨watchï¼Œç›´æ¥ä¸Šæ¡ˆä¾‹å§</p><p>éœ€æ±‚ï¼šç°æœ‰å­˜æ¬¾100å…ƒï¼ŒèŠ±å‡ºå»30å…ƒï¼Œè¿˜å‰©ä¸‹70å…ƒ</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; <span class="built_in">set</span> money 100</span><br><span class="line">OK</span><br><span class="line">127.0.0.1:6379&gt; <span class="built_in">set</span> out 0</span><br><span class="line">OK</span><br><span class="line">127.0.0.1:6379&gt; watch money</span><br><span class="line">OK</span><br><span class="line">127.0.0.1:6379&gt; multi</span><br><span class="line">OK</span><br><span class="line">127.0.0.1:6379&gt; decrby money 30</span><br><span class="line">QUEUED</span><br><span class="line">127.0.0.1:6379&gt; incrby out 30</span><br><span class="line">QUEUED</span><br><span class="line">127.0.0.1:6379&gt; <span class="built_in">exec</span></span><br><span class="line">1) (<span class="built_in">integer</span>) 70</span><br><span class="line">2) (<span class="built_in">integer</span>) 30</span><br><span class="line"><span class="comment"># watchåœ¨äº‹åŠ¡æ‰§è¡Œç»“æŸåå°±å¤±æ•ˆäº†</span></span><br></pre></td></tr></table></figure><p>ç°åœ¨æˆ‘ä»¬å¼€ä¸¤ä¸ªå®¢æˆ·ç«¯cli-1å’Œcli-2ï¼ŒæŒ‰ç…§ä»¥ä¸‹çš„å‘½ä»¤å’Œé¡ºåºæ‰§è¡Œ</p><p><strong>cli-1</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; watch money</span><br><span class="line">OK</span><br><span class="line">127.0.0.1:6379&gt; multi</span><br><span class="line">OK</span><br><span class="line">127.0.0.1:6379&gt; decrby money 20</span><br><span class="line">QUEUED</span><br><span class="line">127.0.0.1:6379&gt; incrby out 20</span><br><span class="line">QUEUED</span><br></pre></td></tr></table></figure><p><strong>cli-2</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; get money</span><br><span class="line"><span class="string">&quot;70&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; incrby money 230</span><br><span class="line">(<span class="built_in">integer</span>) 300</span><br><span class="line">127.0.0.1:6379&gt; get money</span><br><span class="line"><span class="string">&quot;300&quot;</span></span><br></pre></td></tr></table></figure><p><strong>cli-1</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; <span class="built_in">exec</span> <span class="comment"># ç›‘è§†çš„å€¼å‘ç”Ÿäº†æ”¹å˜ï¼Œæ‰€ä»¥è¯¥äº‹åŠ¡æ‰§è¡Œå¤±è´¥ï¼Œè¿™ä¸ªæ—¶å€™moneyä¸Šçš„watchæ²¡æœ‰è§£é™¤ï¼Œå¯ä»¥é€šè¿‡unwactchè§£é™¤</span></span><br><span class="line">(nil)</span><br><span class="line">127.0.0.1:6379&gt; get money</span><br><span class="line"><span class="string">&quot;300&quot;</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> javaEE </category>
          
          <category> Redis </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Redis </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¤šå¹¶å‘ä¸­çš„é”</title>
      <link href="/javaEE/JUC/2022/02/23/JUC-%E5%A4%9A%E5%B9%B6%E5%8F%91%E4%B8%AD%E7%9A%84%E9%94%81/"/>
      <url>/javaEE/JUC/2022/02/23/JUC-%E5%A4%9A%E5%B9%B6%E5%8F%91%E4%B8%AD%E7%9A%84%E9%94%81/</url>
      
        <content type="html"><![CDATA[<h3 id="ä¸ºä»€ä¹ˆéœ€è¦é”ï¼Ÿ"><a href="#ä¸ºä»€ä¹ˆéœ€è¦é”ï¼Ÿ" class="headerlink" title="ä¸ºä»€ä¹ˆéœ€è¦é”ï¼Ÿ"></a>ä¸ºä»€ä¹ˆéœ€è¦é”ï¼Ÿ</h3><p>åœ¨å•çº¿ç¨‹ç¯å¢ƒä¸‹ï¼Œä¸è®ºæ€ä¹ˆæ“ä½œæ•°æ®éƒ½ä¸ä¼šå‡ºç°ä»€ä¹ˆè‡´å‘½çš„æ“ä½œï¼Œä½†æ˜¯åœ¨è¿™ä¸ªå¤šå¹¶å‘çš„æ—¶ä»£ï¼Œæˆ‘ä»¬æ›´å¤šçš„è¦è€ƒè™‘å¤šå¹¶å‘ï¼Œå¹¶ä¿è¯å¤šå¹¶å‘ç¯å¢ƒçš„å®‰å…¨æ€§ã€‚</p><p>åœ¨å¹¶å‘ç¯å¢ƒä¸‹ï¼Œå¤šä¸ªçº¿ç¨‹äº‰æŠ¢æ“ä½œ<strong>åŒä¸€ä»½æ•°æ®</strong>ï¼Œè¿™æ ·å¯èƒ½ä¼šå¯¼è‡´æ•°æ®å¼‚å¸¸ï¼Œè¿™ä¸ªæ—¶å€™å°±éœ€è¦ä¸€ç§æœºåˆ¶æ¥ä¿è¯è¿™ä¸€ä»½æ•°æ®çš„å®‰å…¨æ€§ã€‚</p><img src="/javaEE/JUC/2022/02/23/JUC-%E5%A4%9A%E5%B9%B6%E5%8F%91%E4%B8%AD%E7%9A%84%E9%94%81/JVM%E5%86%85%E5%AD%98%E7%AE%80%E7%95%A5%E5%9B%BE.png" class title="JVMå†…å­˜ç®€ç•¥å›¾"><h3 id="é”æ˜¯å¦‚ä½•å®ç°çš„ï¼Ÿ"><a href="#é”æ˜¯å¦‚ä½•å®ç°çš„ï¼Ÿ" class="headerlink" title="é”æ˜¯å¦‚ä½•å®ç°çš„ï¼Ÿ"></a>é”æ˜¯å¦‚ä½•å®ç°çš„ï¼Ÿ</h3><p>åœ¨javaä¸­ï¼Œæ¯ä¸€ä¸ªObjectéƒ½æœ‰ä¸€æŠŠé”ï¼Œè¿™æŠŠé”æ”¾åœ¨å¯¹è±¡çš„å¯¹è±¡å¤´ä¸­ï¼Œé”ä¸­è®°å½•äº†å½“å‰å¯¹è±¡è¢«å“ªä¸ªçº¿ç¨‹æ‰€å ç”¨ã€‚</p><h4 id="å†…å­˜ä¸­çš„å¯¹è±¡ç»“æ„"><a href="#å†…å­˜ä¸­çš„å¯¹è±¡ç»“æ„" class="headerlink" title="å†…å­˜ä¸­çš„å¯¹è±¡ç»“æ„"></a>å†…å­˜ä¸­çš„å¯¹è±¡ç»“æ„</h4><img src="/javaEE/JUC/2022/02/23/JUC-%E5%A4%9A%E5%B9%B6%E5%8F%91%E4%B8%AD%E7%9A%84%E9%94%81/%E5%AF%B9%E8%B1%A1%E7%BB%93%E6%9E%84.png" class title="å¯¹è±¡ç»“æ„"><p><strong>å¯¹é½å¡«å……å­—èŠ‚</strong>æ˜¯ä¸ºäº†æ»¡è¶³javaå¯¹è±¡å¿…é¡»æ˜¯8æ¯”ç‰¹çš„å€æ•°è¿™ä¸€æ¡ä»¶æ‰€è®¾è®¡çš„</p><p><strong>å®ä¾‹æ•°æ®</strong>æ˜¯ä¸ºäº†ä¿å­˜å¯¹è±¡å±æ€§å’Œæ–¹æ³•çš„</p><p><strong>å¯¹è±¡å¤´</strong>æ˜¯ä¸ºäº†ä¿å­˜å¯¹è±¡çš„è¿è¡Œæ—¶æ•°æ®ï¼Œå¯¹è±¡å¤´åŒ…å«äº†ä¸¤éƒ¨åˆ†ï¼Œä¸€ä¸ªæ˜¯Mark Word ä¸€ä¸ªæ˜¯Class Pointer</p><ul><li><p>Class Pointer æŒ‡å‘Classå¯¹è±¡</p></li><li><p>Mark Word (32 bit)å­˜æ”¾äº†å¾ˆå¤šå’Œå½“å‰å¯¹è±¡è¿è¡Œæ—¶çŠ¶æ€æœ‰å…³çš„æ•°æ®</p><ul><li>hashCode</li><li>é”çŠ¶æ€</li></ul></li></ul><img src="/javaEE/JUC/2022/02/23/JUC-%E5%A4%9A%E5%B9%B6%E5%8F%91%E4%B8%AD%E7%9A%84%E9%94%81/%E5%AF%B9%E8%B1%A1%E5%A4%B4%E7%9A%84MarkWord.png" class title="å¯¹è±¡å¤´çš„MarkWord"><h3 id="synchronizedå®ç°åŸç†"><a href="#synchronizedå®ç°åŸç†" class="headerlink" title="synchronizedå®ç°åŸç†"></a>synchronizedå®ç°åŸç†</h3><p>synchronizedè¢«ç¼–è¯‘åä¼šç”Ÿæˆmonitorenterå’Œmonitorexitä¸¤ä¸ªå­—èŠ‚ç æŒ‡ä»¤ï¼Œä¾èµ–è¿™ä¸¤ä¸ªæŒ‡ä»¤å°±å¯ä»¥å®ç°é”çš„æœºåˆ¶ï¼Œä»è€Œå®ç°çº¿ç¨‹çš„åŒæ­¥</p><p>è¿™æ˜¯æœªä¸Šé”çš„ä»£ç ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.concurrent.TimeUnit;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestSync</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> count;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">add</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            TimeUnit.MILLISECONDS.sleep(<span class="number">30</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(Thread.currentThread().getName()+<span class="string">&quot;:===&gt;&quot;</span>+count++);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    TestSync ts = <span class="keyword">new</span> TestSync();</span><br><span class="line">    <span class="keyword">new</span> Thread(()-&gt;&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">1000</span>; i++) &#123;</span><br><span class="line">            ts.add();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;).start();</span><br><span class="line">    <span class="keyword">new</span> Thread(()-&gt;&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">1000</span>; i++) &#123;</span><br><span class="line">            ts.add();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;).start();</span><br><span class="line">    <span class="keyword">new</span> Thread(()-&gt;&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">1000</span>; i++) &#123;</span><br><span class="line">            ts.add();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;).start();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><img src="/javaEE/JUC/2022/02/23/JUC-%E5%A4%9A%E5%B9%B6%E5%8F%91%E4%B8%AD%E7%9A%84%E9%94%81/%E6%9C%AA%E5%8A%A0%E9%94%81%E7%9A%84%E7%BB%93%E6%9E%9C.png" class title="æœªåŠ é”çš„ç»“æœ"><p>æˆ‘ä»¬æ¥åŠ ä¸€ä¸‹synchronizedä»£ç å—</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.lizhi;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.TimeUnit;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestSync</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> count;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">add</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">synchronized</span>(<span class="keyword">this</span>)&#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                TimeUnit.MILLISECONDS.sleep(<span class="number">30</span>);</span><br><span class="line">            &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">            System.out.println(Thread.currentThread().getName()+<span class="string">&quot;:===&gt;&quot;</span>+count++);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><img src="/javaEE/JUC/2022/02/23/JUC-%E5%A4%9A%E5%B9%B6%E5%8F%91%E4%B8%AD%E7%9A%84%E9%94%81/%E5%8A%A0%E9%94%81%E7%9A%84%E7%BB%93%E6%9E%9C.png" class title="åŠ é”çš„ç»“æœ"><p>å¯ä»¥å‘ç°ç»“æœååˆ†æ­£ç¡®ï¼Œæˆ‘ä»¬æ¥åç¼–è¯‘ä¸€ä¸‹ï¼Œå¾—åˆ°ä»¥ä¸‹å­—èŠ‚ç æ–‡ä»¶</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line">javap -c .\TestSync.class</span><br><span class="line">Compiled from <span class="string">&quot;TestSync.java&quot;</span></span><br><span class="line">public class com.lizhi.TestSync &#123;</span><br><span class="line">  public com.lizhi.TestSync();</span><br><span class="line">    Code:</span><br><span class="line">       0: aload_0</span><br><span class="line">       1: invokespecial <span class="comment">#1                  // Method java/lang/Object.&quot;&lt;init&gt;&quot;:()V</span></span><br><span class="line">       4: <span class="built_in">return</span></span><br><span class="line"></span><br><span class="line">  public void add();</span><br><span class="line">    Code:</span><br><span class="line">       0: aload_0</span><br><span class="line">       1: dup</span><br><span class="line">       2: astore_1</span><br><span class="line">       3: monitorenter</span><br><span class="line">       4: getstatic     <span class="comment">#2                  // Field java/util/concurrent/TimeUnit.MILLISECONDS:Ljava/util/concurrent/TimeUnit;</span></span><br><span class="line">       7: ldc2_w        <span class="comment">#3                  // long 30l</span></span><br><span class="line">      10: invokevirtual <span class="comment">#5                  // Method java/util/concurrent/TimeUnit.sleep:(J)V</span></span><br><span class="line">      13: goto          21</span><br><span class="line">      16: astore_2</span><br><span class="line">      17: aload_2</span><br><span class="line">      18: invokevirtual <span class="comment">#7                  // Method java/lang/InterruptedException.printStackTrace:()V</span></span><br><span class="line">      21: getstatic     <span class="comment">#8                  // Field java/lang/System.out:Ljava/io/PrintStream;</span></span><br><span class="line">      24: invokestatic  <span class="comment">#9                  // Method java/lang/Thread.currentThread:()Ljava/lang/Thread;</span></span><br><span class="line">      27: invokevirtual <span class="comment">#10                 // Method java/lang/Thread.getName:()Ljava/lang/String;</span></span><br><span class="line">      30: aload_0</span><br><span class="line">      31: dup</span><br><span class="line">      32: getfield      <span class="comment">#11                 // Field count:I</span></span><br><span class="line">      35: dup_x1</span><br><span class="line">      36: iconst_1</span><br><span class="line">      37: iadd</span><br><span class="line">      38: putfield      <span class="comment">#11                 // Field count:I</span></span><br><span class="line">      41: invokedynamic <span class="comment">#12,  0             // InvokeDynamic #0:makeConcatWithConstants:(Ljava/lang/String;I)Ljava/lang/String;</span></span><br><span class="line">      46: invokevirtual <span class="comment">#13                 // Method java/io/PrintStream.println:(Ljava/lang/String;)V</span></span><br><span class="line">      49: aload_1</span><br><span class="line">      50: monitorexit</span><br><span class="line">      51: goto          59</span><br><span class="line">      54: astore_3</span><br><span class="line">      55: aload_1</span><br><span class="line">      56: monitorexit</span><br><span class="line">      57: aload_3</span><br><span class="line">      58: athrow</span><br><span class="line">      59: <span class="built_in">return</span></span><br><span class="line">    Exceptio n table:</span><br><span class="line">       from    to  target <span class="built_in">type</span></span><br><span class="line">           4    13    16   Class java/lang/InterruptedException</span><br><span class="line">           4    51    54   any</span><br><span class="line">          54    57    54   any</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°åœ¨ç¬¬3è¡Œå’Œç¬¬50è¡Œå‡ºç°äº†monitorenterå’Œmonitorexit</p><h4 id="Monitor"><a href="#Monitor" class="headerlink" title="Monitor"></a>Monitor</h4><p>è¯¥å•è¯çš„æ„æ€æ˜¯ç›‘è§†å™¨ï¼Œå¯ä»¥å°†å…¶æƒ³æˆä¸€é—´å®¾é¦†çš„å®¢æˆ¿ï¼ŒæŠŠå„ä¸ªçº¿ç¨‹æƒ³åƒæˆå®¢äººã€‚å¦‚æœå®¢äººæœªé€€æˆ¿ï¼Œåœ¨è¿™ä¹‹åçš„å®¢äººåˆ™æ— æ³•å…¥ä½ï¼Œåªèƒ½ç­‰å¾…è¿™ä¸ªå®¢äººé€€æˆ¿åæ–¹å¯å…¥ä½ã€‚</p><img src="/javaEE/JUC/2022/02/23/JUC-%E5%A4%9A%E5%B9%B6%E5%8F%91%E4%B8%AD%E7%9A%84%E9%94%81/monitor%E7%9A%84%E7%AD%89%E5%BE%85%E6%9C%BA%E5%88%B6.jpg" class title="monitorçš„ç­‰å¾…æœºåˆ¶"><p><strong>monitoræ˜¯ä¾èµ–äºæ“ä½œç³»ç»Ÿçš„mutex lockæ¥å®ç°çš„</strong></p><p>javaçº¿ç¨‹å®é™…ä¸Šæ˜¯å¯¹æ“ä½œç³»ç»Ÿçº¿ç¨‹çš„æ˜ å°„ï¼Œæ¯å½“æŒ‚èµ·æˆ–è€…å”¤é†’ä¸€ä¸ªçº¿ç¨‹éƒ½è¦åˆ‡æ¢</p><p>æ“ä½œç³»ç»Ÿå†…æ ¸æ€ï¼Œè¿™ç§æ“ä½œæ˜¯æ¯”è¾ƒé‡é‡çº§çš„ï¼Œåœ¨ä¸€äº›æƒ…å†µä¸‹ç”šè‡³åˆ‡æ¢æ—¶é—´ä¼šè¶…è¿‡ä»»åŠ¡æœ¬èº«æ‰§è¡Œçš„æ—¶é—´ï¼Œè¿™æ ·çš„æƒ…å†µä¸‹ï¼Œä½¿ç”¨synchronizedçš„ä¼šå¯¹ç³»ç»Ÿçš„æ€§èƒ½äº§ç”Ÿå¾ˆä¸¥é‡çš„å½±å“ï¼Œä½†æ˜¯ä»java6å¼€å§‹ï¼Œsynchronizedè¿›è¡Œäº†ä¼˜åŒ–ï¼Œå¼•å…¥äº†åå‘é”å’Œè½»é‡çº§é”ã€‚</p><h4 id="é”çš„å››ç§çŠ¶æ€"><a href="#é”çš„å››ç§çŠ¶æ€" class="headerlink" title="é”çš„å››ç§çŠ¶æ€"></a>é”çš„å››ç§çŠ¶æ€</h4><p>ç”±ä½åˆ°é«˜åˆ†åˆ«æ˜¯ï¼šæ— é”ã€åå‘é”ã€è½»é‡çº§é”ã€é‡é‡çº§é”ã€‚</p><p>è¿™å°±ä¸Mark Wordä¸­çš„å››ç§çŠ¶æ€å¯¹åº”ä¸Šäº†</p><p>æ³¨æ„ï¼šé”åªèƒ½å‡çº§ä¸èƒ½é™çº§</p><p><strong>æ— é”</strong></p><p>æ— é”å³<strong>æ²¡æœ‰</strong>å¯¹è‡ªèº«èµ„æºä¸Šé”ï¼Œæ‰€æœ‰çº¿ç¨‹éƒ½å¯ä»¥æ‹¿åˆ°èµ„æºå¹¶æ“ä½œ</p><p>è¿™å°±å¯èƒ½å‡ºç°ä¸¤ç§æƒ…å†µ</p><ol><li>æŸä¸ªå¯¹è±¡ä¸ä¼šå‡ºç°åœ¨å¤šçº¿ç¨‹ç¯å¢ƒä¸‹ï¼Œæˆ–è€…è¯´å³ä½¿å‡ºç°åœ¨å¤šçº¿ç¨‹ç¯å¢ƒä¸‹ä¹Ÿä¸ä¼šå‡ºç°ç«äº‰çš„æƒ…å†µ</li><li>èµ„æºä¼šè¢«ç«äº‰ï¼Œä½†æ˜¯æˆ‘ä¸æƒ³å¯¹èµ„æºé”å®šï¼Œä¸è¿‡è¿™æ ·ä¹Ÿä¸è¡Œï¼Œä¼šå¯¼è‡´ä¸€äº›é—®é¢˜ï¼Œå°±æƒ³é€šè¿‡ä¸€ç§å…¶ä»–æœºåˆ¶æ¥æ§åˆ¶å¤šçº¿ç¨‹ï¼Œ</li></ol><p>æ¯”å¦‚è¯´ï¼Œå¦‚æœæœ‰å¤šä¸ªè¿›ç¨‹æƒ³ä¿®æ”¹åŒä¸€ä¸ªå€¼ï¼Œä½†æ˜¯åªèƒ½æœ‰ä¸€ä¸ªçº¿ç¨‹ä¿®æ”¹æˆåŠŸï¼Œå…¶ä»–å¤±è´¥çš„çº¿ç¨‹éœ€è¦ä¸æ–­å°è¯•ï¼Œç›´åˆ°ä¿®æ”¹æˆåŠŸ ï¼Œè¿™å°±æ˜¯CASï¼ˆCompare And Swapï¼‰,CASåœ¨æ“ä½œç³»ç»Ÿä¸­é€šè¿‡ä¸€æ¡æŒ‡ä»¤æ¥å®ç°ï¼Œæ‰€ä»¥å…¶å°±å¯ä»¥ä¿è¯åŸå­æ€§ï¼Œæœ‰äº†è¿™ç§æœºåˆ¶ï¼Œæˆ‘ä»¬å°±å¯ä»¥å®ç°æ— é”ç¼–ç¨‹</p><p><strong>åå‘é”</strong></p><p>å‡å¦‚ä¸€ä¸ªå¯¹è±¡è¢«åŠ é”äº†ï¼Œé‚£ä¹ˆåœ¨å®é™…è¿è¡Œè¿‡ç¨‹ä¸­åªæœ‰ä¸€ä¸ªçº¿ç¨‹ä¼šè·å¾—è¿™ä¸ªå¯¹è±¡é”ï¼Œå¹¶åªæœ‰å½“çº¿ç¨‹æ‰§è¡Œå®Œä»»åŠ¡ï¼Œæ‰ä¼šå°†é”é‡Šæ”¾ã€‚</p><p>æˆ‘ä»¬è®¾æƒ³çš„æ˜¯ï¼Œæœ€å¥½è¿™ä¸ªå¯¹è±¡èƒ½å¤Ÿè®¤è¯†è¿™ä¸ªçº¿ç¨‹ï¼Œå½“è¿™ä¸ªçº¿ç¨‹è¿‡æ¥ï¼Œé‚£ä¹ˆè¿™ä¸ªå¯¹è±¡å°±æŠŠè‡ªå·±çš„é”ç»™ä»–ï¼Œè¿™å¯ä»¥è¯´è¿™ä¸ªå¯¹è±¡åçˆ±è¿™ä¸ªçº¿ç¨‹ï¼Œè¿™å°±æ˜¯åå‘é”çš„æ¦‚å¿µ</p><p>é‚£ä¹ˆè¿™ä¸ªè®¤è¯†çš„äººï¼Œè¢«è¿™ä¸ªå¯¹è±¡è®°åœ¨å“ªé‡Œå‘¢ï¼Ÿé‚£å°±æ˜¯åœ¨å¯¹è±¡å¤´ä¸­MarkWordçš„çº¿ç¨‹IDä¸­ï¼Œå‡å¦‚æƒ…å†µå‘ç”Ÿäº†å˜åŒ–ï¼Œè¿™ä¸ªå¯¹è±¡å‘ç°ï¼Œä¸æ­¢æœ‰ä¸€ä¸ªçº¿ç¨‹åœ¨äº‰æŠ¢é”ï¼Œé‚£ä¹ˆè¯¥åå‘é”ä¼šç›´æ¥å‡çº§æˆè½»é‡çº§é”</p><p><strong>è½»é‡çº§é”</strong></p><p>é‚£å½“é”å‡çº§ä¸ºè½»é‡çº§é”çš„æ—¶å€™ï¼Œå¦‚ä½•åˆ¤æ–­çº¿ç¨‹å’Œæ‰€ä¹‹é—´çš„ç»‘å®šå…³ç³»å‘¢ï¼Ÿå¯ä»¥å†çœ‹ä¸‹é‚£å¼ markwordçš„è¡¨ï¼Œè¿™é‡Œå·²ç»ä¸å†ä½¿ç”¨çº¿ç¨‹IDè¿™ä¸ªå­—æ®µäº†ï¼Œè€Œæ˜¯å°†30bitå˜ä¸ºæŒ‡å‘çº¿ç¨‹æ ˆä¸­çš„é”è®°å½•ï¼ˆLock Recordï¼‰çš„æŒ‡é’ˆ</p><p>å½“ä¸€ä¸ªçº¿ç¨‹æƒ³è¦è·å¾—å¯¹è±¡çš„é”çš„æ—¶å€™ï¼ŒåŠ å…¥çœ‹åˆ°é”çš„æ ‡å¿—ä½ä¸º00é‚£ä¹ˆå°±çŸ¥é“å®ƒæ˜¯è½»é‡çº§é”ï¼Œè¿™æ—¶å€™çº¿ç¨‹ä¼šåœ¨è‡ªå·±çš„è™šæ‹Ÿæœºæ ˆä¸­å¼€è¾Ÿä¸€å—è¢«ç§°ä¸ºLock Recordçš„ç©ºé—´ï¼ˆçº¿ç¨‹ç§æœ‰çš„å“¦ï¼‰ï¼Œè¯¥æ§ä»¶ç”¨æ¥å­˜æ”¾å¯¹è±¡å¤´ä¸­çš„Mark wordçš„å‰¯æœ¬ä»¥åŠowneræŒ‡é’ˆï¼Œçº¿ç¨‹é€šè¿‡CASå»å°è¯•è·å¾—é”ï¼Œä¸€æ—¦è·å–é‚£ä¹ˆå°†ä¼šå¤åˆ¶è¯¥å¯¹è±¡å¤´ä¸­çš„markwordåˆ°æœ¬çº¿ç¨‹çš„Lock recordä¸­å¹¶ä¸”å°†Locker recordä¸­çš„owneræŒ‡é’ˆæŒ‡å‘è¯¥å¯¹è±¡ï¼Œå¹¶ä¸”å¯¹è±¡çš„å‰ä¸‰åä½å°†ä¼šç”Ÿæˆä¸€ä¸ªæŒ‡é’ˆï¼ŒæŒ‡å‘çº¿ç¨‹è™šæ‹Ÿæœºæ ˆä¸­çš„Lock Recordï¼Œè¿™æ ·ä¸€æ¥å°±å®ç°äº†çº¿ç¨‹å’Œå¯¹è±¡é”çš„ç»‘å®šã€‚</p><p>å½“çº¿ç¨‹å·²ç»è¢«æŠ¢å äº†ï¼Œé‚£å…¶ä»–æƒ³æŠ¢å çš„çº¿ç¨‹ä¼šè‡ªæ—‹ç­‰å¾…ï¼ˆå¯ä»¥ç†è§£ä¸ºè½®è¯¢ï¼‰ï¼Œä¸æ–­å°è¯•æ‹¿åˆ°é”ï¼Œè¿™ç§æ“ä½œåŒºåˆ«äºè¢«æ“ä½œç³»ç»ŸæŒ‚èµ·é˜»å¡ï¼Œå¦‚æœå¯¹è±¡çš„é”å¾ˆå¿«å°±è¢«é‡Šæ”¾çš„è¯ï¼Œè‡ªæ—‹å°±ä¸éœ€è¦è¿›è¡Œç³»ç»Ÿä¸­æ–­å’Œé‡æ–°æ¢å¤ï¼Œæ‰€ä»¥å®ƒçš„æ•ˆç‡ä¼šæ›´é«˜ã€‚</p><p>è‡ªæ—‹ç›¸å½“äºCPUç©ºè½¬ï¼Œå¦‚æœCPUç©ºè½¬æ—¶é—´è¿‡é•¿ï¼Œæ€§èƒ½ä¹Ÿä¼šäº§ç”ŸæŸè€—ï¼Œç„¶åå°±æœ‰äº†ä¸€ç§ä¼˜åŒ–ï¼Œå°±æ˜¯é€‚åº”æ€§è‡ªæ—‹ã€‚ç®€å•æ¥è¯´ï¼Œå°±æ˜¯è‡ªæ—‹çš„æ—¶é—´ä¼šæ ¹æ®ä¸Šä¸€æ¬¡åœ¨åŒä¸€ä¸ªé”ä¸Šè‡ªæ—‹çš„æ—¶é—´ä»¥åŠé”çš„çŠ¶æ€æ¥å†³å®šçš„</p><p><strong>é‡é‡çº§é”</strong></p><p>å¦‚æœåŒæ—¶æœ‰å¤šä¸ªçº¿ç¨‹è¦è·å¾—è¿™ä¸ªå¯¹è±¡é”ï¼Œä¹Ÿå°±æ˜¯è¯´ä¸€æ—¦è‡ªæ—‹ç­‰å¾…çš„çº¿ç¨‹è¶…è¿‡ä¸€ä¸ªï¼Œåˆ™ä¼šå‡çº§ä¸ºé‡é‡çº§é”ï¼Œé‚£ä¹ˆè¿™ä¸ªæ—¶å€™ï¼Œè¿™å°±éœ€è¦ä½¿ç”¨monitoræ¥å¯¹çº¿ç¨‹è¿›è¡Œæ§åˆ¶ï¼Œæ­¤æ—¶å°†ä¼šå®Œå…¨é”å®šèµ„æºï¼Œå¯¹çº¿ç¨‹çš„ç®¡æ§ä¹Ÿæ›´ä¸ºä¸¥æ ¼</p><h3 id="æ— é”ç¼–ç¨‹"><a href="#æ— é”ç¼–ç¨‹" class="headerlink" title="æ— é”ç¼–ç¨‹"></a>æ— é”ç¼–ç¨‹</h3><p>javaä¸­çš„synchronizedå°±æ˜¯æ‚²è§‚é”ï¼ˆPessimistic Concurrency Controlï¼‰ï¼Œä»€ä¹ˆå«æ‚²è§‚é”å‘¢ï¼Ÿ</p><p>ç®€å•æ¥è¯´å°±æ˜¯æ“ä½œç³»ç»Ÿä¼šæ‚²è§‚åœ°è®¤ä¸ºï¼Œå¦‚æœä¸ä¸¥æ ¼åŒæ­¥çº¿ç¨‹è°ƒç”¨ï¼Œé‚£ä¹ˆä¸€å®šä¼šäº§ç”Ÿå¼‚å¸¸ï¼Œæ‰€ä»¥äº’æ–¥é”ä¼šé”å®šèµ„æºï¼Œç›´ä¾›ä¸€ä¸ªçº¿ç¨‹ä½¿ç”¨ï¼Œè€Œé˜»å¡å…¶ä»–çº¿ç¨‹ï¼Œå› æ­¤å«æ‚²è§‚é”ï¼Œä½†æ˜¯æ‚²è§‚é”ä¸æ˜¯ä¸‡èƒ½çš„ï¼Œå¦‚æœå¤§éƒ¨åˆ†æ“ä½œéƒ½æ˜¯è¯»çš„æ“ä½œï¼Œé‚£ä¹ˆå°±æ²¡æœ‰å¿…è¦åœ¨æ¯æ¬¡è°ƒç”¨çš„æ—¶å€™éƒ½é”å®šèµ„æºã€‚å¯èƒ½ä¼šå‡ºç°åŒæ­¥ä»£ç å—æ‰§è¡Œçš„è€—æ—¶è¿œè¿œå°äºçº¿ç¨‹åˆ‡æ¢çš„è€—æ—¶ã€‚ä½¿ç”¨æ‚²è§‚é”ï¼Œä¼šå¯¼è‡´æ€§èƒ½ååˆ†ä¸å®¹ä¹è§‚ï¼Œæ¯”å¦‚å¤§é‡ç”¨æˆ·éœ€è¦åŒæ—¶è¯»å–åŒä¸€ä»½èµ„æºï¼Œå¦‚æœä½¿ç”¨çš„æ˜¯æ‚²è§‚é”ï¼Œåˆ™åŒä¸€æ—¶é—´åªèƒ½æœ‰ä¸€ä¸ªç”¨æˆ·å¯ä»¥æŸ¥çœ‹ï¼Œå…¶ä»–ç”¨æˆ·éƒ½åœ¨ä¸€ç›´ç™½å±ï¼Œä½†æ˜¯ï¼å…¶å®å¯¹äºè¯»çš„æ“ä½œï¼Œå³ä½¿æ˜¯å¤šä¸ªçº¿ç¨‹åŒæ—¶æ“ä½œè¯¥æ•°æ®ï¼Œä¹Ÿä¸ä¼šå¯¹è¯¥æ•°æ®é€ æˆå½±å“ï¼Œæˆ‘ä»¬èƒ½ä¸èƒ½åœ¨ä¸é”å®šèµ„æºçš„æƒ…å†µä¸‹ï¼Œä¹Ÿå¯ä»¥å¯¹çº¿ç¨‹è°ƒç”¨è¿›è¡Œä¸€äº›åè°ƒå‘¢ï¼Ÿè¿™æ—¶å€™å°±å‡ºç°äº†ä¹è§‚é”è¿™ç§æœºåˆ¶ï¼Œå®ç°åŸç†å°±æ˜¯CASï¼ˆCompare And Swapï¼‰</p><h4 id="CAS"><a href="#CAS" class="headerlink" title="CAS"></a>CAS</h4><p>æˆ‘ä»¬æ¥ä¸¾ä¸ªæ —å­ï¼šäººå°±æ˜¯çº¿ç¨‹ï¼Œå•æ‰€å°±æ˜¯å¯¹è±¡ï¼Œè¯¥å¯¹è±¡æœ‰ä¸€ä¸ªå€¼æ¥è¡¨ç¤ºæ˜¯å¦è¢«å ç”¨occupy 0è¡¨ç¤ºç©ºé—² 1è¡¨ç¤ºæœ‰äºº</p><p>å¾ˆå¤šäººè¦å»æŠ¢å•æ‰€ï¼Œç„¶åçº¿ç¨‹Aï¼ˆOld Value &#x3D; 0 ï¼Œnew Value &#x3D;1ï¼‰ã€Bï¼ˆOld Value &#x3D; 0ï¼Œnew Value &#x3D; 1ï¼‰è¿™ä¸¤ä¸ªäººå†²åˆ°äº†æœ€å‰é¢ï¼Œç„¶åAç‡å…ˆå’Œå•æ‰€çš„occupyæ¯”è¾ƒï¼ˆCompareï¼‰å‘ç°å’ŒoldValueä¸€è‡´ï¼Œåˆ™å°†oldValueä¸å•æ‰€çš„occupyäº¤æ¢ï¼ˆAnd Swapï¼‰ï¼Œè¿™æ—¶å€™Bä¸€çœ‹è‡ªå·±çš„oldValueä¸å•æ‰€çš„occupyï¼ˆ1ï¼‰ä¸ä¸€è‡´ï¼Œä»–å¾ˆä¸ç”˜å¿ƒï¼Œä½†ä¹Ÿåªèƒ½åœ¨å•æ‰€å¤–è¸±æ­¥ï¼ˆè‡ªæ—‹ï¼‰ï¼Œé€šå¸¸åœ¨ç­‰äº†ä¸€æ®µæ—¶é—´åï¼ˆè®¾ç½®æœ€å¤§è‡ªæ—‹æ¬¡æ•°ï¼‰ï¼Œéª‚å‡ºä¸€å¥å›½ç²¹åå°±ç¦»å»äº†</p><p>è¿™æ—¶å€™å¯èƒ½å°±å‡ºç°äº†é—®é¢˜ï¼Œå› ä¸ºCompareå’ŒSwapæ˜¯ä¸¤ä¸ªæ“ä½œï¼Œæ²¡æœ‰åŸå­æ€§ï¼Œè¿™å°±æœ‰å¯èƒ½å‡ºç°ï¼Œå½“Aå³å°†å°†å€¼æ”¹ä¸º1çš„é‚£ä¸€åˆ¹é‚£ï¼ŒBæŠ¢åˆ°äº†æ—¶é—´ç‰‡ï¼Œå°†å…¶æ”¹ä¸ºäº†1ï¼Œç„¶åAä¹Ÿå°†å…¶æ”¹ä¸º1ï¼Œè¿™å°±å¾ˆå°´å°¬äº†ï¼Œä¸¤ä¸ªäººä¸€èµ·è¿›å…¥äº†å•æ‰€ã€‚</p><p>é‚£ä¹ˆå¦‚ä½•ä¿è¯CASçš„åŸå­æ€§å‘¢ï¼Ÿéš¾é“è¿˜æ˜¯é”æ¥å®ç°åŒæ­¥å—ï¼Ÿè¿™ä¸å°±æ˜¯ä¸€ä¸ªé¸¡ç”Ÿè›‹è›‹ç”Ÿé¸¡çš„é—®é¢˜äº†å—ï¼Ÿ</p><p>å…¶å®å•Šï¼Œå„ç§ä¸åŒæ¶æ„çš„CPUéƒ½æä¾›äº†æŒ‡ä»¤çº§åˆ«çš„CASåŸå­æ“ä½œï¼Œ</p><p>æ¯”å¦‚åœ¨X86æ¶æ„ä¸‹ï¼Œé€šè¿‡cmpxchgæŒ‡ä»¤å¯ä»¥æ”¯æŒCAS</p><p>åœ¨ARMä¸‹ï¼Œé€šè¿‡LL&#x2F;SCæ¥å®ç°CSâ€¦â€¦</p><p>ä¹Ÿå°±æ˜¯è¯´ä¸é€šè¿‡æ“ä½œç³»ç»Ÿçš„åŒæ­¥åŸè¯­ï¼ˆæ¯”å¦‚ mutexï¼‰ï¼ŒCPUå·²ç»å®ç°äº†CSï¼Œä¸Šå±‚åªéœ€è¦è°ƒç”¨å³å¯ï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥ä¸ä¾èµ–é”æ¥è¿›è¡Œçº¿ç¨‹åŒæ­¥ï¼Œä½†æ˜¯è¿™ä¹Ÿä¸æ„å‘³ç€æ— é”å¯ä»¥å®Œå…¨ä»£æ›¿æœ‰é”</p><h4 id="åˆ©ç”¨CASç‰¹æ€§æ¥è¿›è¡Œæ— é”ç¼–ç¨‹"><a href="#åˆ©ç”¨CASç‰¹æ€§æ¥è¿›è¡Œæ— é”ç¼–ç¨‹" class="headerlink" title="åˆ©ç”¨CASç‰¹æ€§æ¥è¿›è¡Œæ— é”ç¼–ç¨‹"></a>åˆ©ç”¨CASç‰¹æ€§æ¥è¿›è¡Œæ— é”ç¼–ç¨‹</h4><p>éœ€æ±‚ï¼šä½¿ç”¨ä¸‰æ¡çº¿ç¨‹ï¼Œå°†ä¸€ä¸ªå€¼ï¼Œä»0ç´¯åŠ åˆ°1000</p><p>1ã€é”™è¯¯</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Application2</span> </span>&#123;</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">int</span> count =<span class="number">0</span> ;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">3</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">new</span> Thread(()-&gt;&#123;</span><br><span class="line">                <span class="keyword">while</span>(count&lt;<span class="number">1000</span>)&#123;</span><br><span class="line">                    System.out.println(Thread.currentThread().getName()+<span class="string">&quot;:==&gt;&quot;</span>+count++);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;).start();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>2ã€ä½¿ç”¨synchronized</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Application2</span> </span>&#123;</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">int</span> count =<span class="number">0</span> ;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">3</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">new</span> Thread(()-&gt;&#123;</span><br><span class="line">                <span class="keyword">while</span>(count&lt;<span class="number">1000</span>)&#123;</span><br><span class="line">                    <span class="keyword">synchronized</span> (Application2.class)&#123;</span><br><span class="line">                        System.out.println(Thread.currentThread().getName()+<span class="string">&quot;:==&gt;&quot;</span>+count++);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;).start();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>3ã€æ— é”</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Application2</span> </span>&#123;</span><br><span class="line">    <span class="keyword">static</span> AtomicInteger count =<span class="keyword">new</span> AtomicInteger(<span class="number">0</span>) ;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">3</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">new</span> Thread(()-&gt;&#123;</span><br><span class="line">                <span class="keyword">while</span>(count.get()&lt;<span class="number">1000</span>)&#123;</span><br><span class="line">                    System.out.println(Thread.currentThread().getName()+<span class="string">&quot;:==&gt;&quot;</span>+count.getAndIncrement());</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;).start();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ¢ç©¶æºç </p><p>AtomicIntegerçš„getAndIncrementæ–¹æ³•</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">int</span> <span class="title">getAndIncrement</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> U.getAndAddInt(<span class="keyword">this</span>, VALUE, <span class="number">1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Uçš„getAndAddIntæ–¹æ³•</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> jdk.internal.misc.Unsafe U = jdk.internal.misc.Unsafe.getUnsafe();</span><br></pre></td></tr></table></figure><p>Uæ˜¯ä¸€ä¸ªæ“ä½œåº•å±‚çš„ç±»</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@HotSpotIntrinsicCandidate</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">int</span> <span class="title">getAndAddInt</span><span class="params">(Object o, <span class="keyword">long</span> offset, <span class="keyword">int</span> delta)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> v;</span><br><span class="line">    <span class="keyword">do</span> &#123;</span><br><span class="line">        v = getIntVolatile(o, offset);</span><br><span class="line">    &#125; <span class="keyword">while</span> (!weakCompareAndSetInt(o, offset, v, v + delta));</span><br><span class="line">    <span class="keyword">return</span> v;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@HotSpotIntrinsicCandidate</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">boolean</span> <span class="title">weakCompareAndSetInt</span><span class="params">(Object o, <span class="keyword">long</span> offset,</span></span></span><br><span class="line"><span class="params"><span class="function">                                          <span class="keyword">int</span> expected,</span></span></span><br><span class="line"><span class="params"><span class="function">                                          <span class="keyword">int</span> x)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> compareAndSetInt(o, offset, expected, x);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@HotSpotIntrinsicCandidate</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">native</span> <span class="keyword">boolean</span> <span class="title">compareAndSetInt</span><span class="params">(Object o, <span class="keyword">long</span> offset,</span></span></span><br><span class="line"><span class="params"><span class="function">                                             <span class="keyword">int</span> expected,</span></span></span><br><span class="line"><span class="params"><span class="function">                                             <span class="keyword">int</span> x)</span></span>;</span><br></pre></td></tr></table></figure><p>å¯åŠ¨æ¬¡æ•°å¯ä»¥é€šè¿‡å¯åŠ¨å‚æ•°æ¥é…ç½®ï¼Œé»˜è®¤æ˜¯10ï¼Œæ‰€ä»¥ä¸ä¼šå‡ºç°æ­»å¾ªç¯</p><blockquote><p>Unsafe</p></blockquote><img src="/javaEE/JUC/2022/02/23/JUC-%E5%A4%9A%E5%B9%B6%E5%8F%91%E4%B8%AD%E7%9A%84%E9%94%81/Unsafe%E7%9A%84%E5%8A%9F%E8%83%BD%E5%9B%BE.png" class title="Unsafeçš„åŠŸèƒ½å›¾">]]></content>
      
      
      <categories>
          
          <category> javaEE </category>
          
          <category> JUC </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JUC </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Redis-äº‹åŠ¡</title>
      <link href="/javaEE/Redis/2022/02/23/Redis-%E4%BA%8B%E5%8A%A1/"/>
      <url>/javaEE/Redis/2022/02/23/Redis-%E4%BA%8B%E5%8A%A1/</url>
      
        <content type="html"><![CDATA[<h2 id="äº‹åŠ¡"><a href="#äº‹åŠ¡" class="headerlink" title="äº‹åŠ¡"></a>äº‹åŠ¡</h2><h3 id="å›é¡¾"><a href="#å›é¡¾" class="headerlink" title="å›é¡¾"></a>å›é¡¾</h3><p>æˆ‘ä»¬åœ¨MySQLä¸­å­¦ä¹ çš„äº‹åŠ¡å…·æœ‰ACIDåŸåˆ™</p><p><strong>åŸå­æ€§ï¼ˆAtomicityï¼‰</strong></p><p>åŸå­æ€§æ˜¯æŒ‡äº‹åŠ¡æ˜¯ä¸€ä¸ªä¸å¯åˆ†å‰²çš„å·¥ä½œå•ä½ï¼Œäº‹åŠ¡ä¸­çš„æ“ä½œè¦ä¹ˆéƒ½å‘ç”Ÿï¼Œè¦ä¹ˆéƒ½ä¸å‘ç”Ÿã€‚</p><p><strong>ä¸€è‡´æ€§ï¼ˆConsistencyï¼‰</strong></p><p>äº‹åŠ¡å‰åæ•°æ®çš„å®Œæ•´æ€§å¿…é¡»ä¿æŒä¸€è‡´ã€‚</p><p><strong>éš”ç¦»æ€§ï¼ˆIsolationï¼‰</strong></p><p>äº‹åŠ¡çš„éš”ç¦»æ€§æ˜¯å¤šä¸ªç”¨æˆ·å¹¶å‘è®¿é—®æ•°æ®åº“æ—¶ï¼Œæ•°æ®åº“ä¸ºæ¯ä¸€ä¸ªç”¨æˆ·å¼€å¯çš„äº‹åŠ¡ï¼Œä¸èƒ½è¢«å…¶ä»–äº‹åŠ¡çš„æ“ä½œæ•°æ®æ‰€å¹²æ‰°ï¼Œå¤šä¸ªå¹¶å‘äº‹åŠ¡ä¹‹é—´è¦ç›¸äº’éš”ç¦»ã€‚</p><p><strong>æŒä¹…æ€§ï¼ˆDurabilityï¼‰</strong></p><p>æŒä¹…æ€§æ˜¯æŒ‡ä¸€ä¸ªäº‹åŠ¡ä¸€æ—¦è¢«æäº¤ï¼Œå®ƒå¯¹æ•°æ®åº“ä¸­æ•°æ®çš„æ”¹å˜å°±æ˜¯æ°¸ä¹…æ€§çš„ï¼Œæ¥ä¸‹æ¥å³ä½¿æ•°æ®åº“å‘ç”Ÿæ•…éšœä¹Ÿä¸åº”è¯¥å¯¹å…¶æœ‰ä»»ä½•å½±å“</p><h3 id="Redisä¸­çš„äº‹åŠ¡"><a href="#Redisä¸­çš„äº‹åŠ¡" class="headerlink" title="Redisä¸­çš„äº‹åŠ¡"></a>Redisä¸­çš„äº‹åŠ¡</h3><p>äº‹åŠ¡çš„æœ¬è´¨å³ï¼šä¸€ç»„å‘½ä»¤ä¸€èµ·æ‰§è¡Œï¼Œä¸å…è®¸è¢«æ’é˜Ÿã€‚</p><p>åœ¨Redisä¸­ï¼Œå•æ¡å‘½ä»¤æ˜¯åŸå­æ€§çš„ï¼Œä½†æ˜¯äº‹åŠ¡ä¸ä¿è¯åŸå­æ€§</p><p>äº‹åŠ¡æ²¡æœ‰éš”ç¦»çº§åˆ«çš„æ¦‚å¿µ</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å¼€å¯äº‹åŠ¡</span></span><br><span class="line">127.0.0.1:6379&gt; multi</span><br><span class="line">OK</span><br><span class="line"></span><br><span class="line"><span class="comment"># å‘½ä»¤å…¥é˜Ÿ</span></span><br><span class="line">127.0.0.1:6379&gt; hset user:1 name zhima</span><br><span class="line">QUEUED</span><br><span class="line">127.0.0.1:6379&gt; hset user:1 age 19</span><br><span class="line">QUEUED</span><br><span class="line">127.0.0.1:6379&gt; hset user:1 address Suzhou</span><br><span class="line">QUEUED</span><br><span class="line">127.0.0.1:6379&gt; hmget user:1 name age address</span><br><span class="line">QUEUED</span><br><span class="line"><span class="comment"># æ‰§è¡Œäº‹åŠ¡</span></span><br><span class="line">127.0.0.1:6379&gt; <span class="built_in">exec</span></span><br><span class="line">1) (<span class="built_in">integer</span>) 1</span><br><span class="line">2) (<span class="built_in">integer</span>) 1</span><br><span class="line">3) (<span class="built_in">integer</span>) 1</span><br><span class="line">4) 1) <span class="string">&quot;zhima&quot;</span></span><br><span class="line">   2) <span class="string">&quot;19&quot;</span></span><br><span class="line">   3) <span class="string">&quot;Suzhou&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ä¸­é€”æ”¾å¼ƒäº‹åŠ¡</span></span><br><span class="line">127.0.0.1:6379&gt; discard</span><br></pre></td></tr></table></figure><blockquote><p>ç¼–è¯‘æ—¶å¼‚å¸¸ï¼šå³ä»£ç æœ¬èº«åˆé—®é€€ï¼Œæ¯”å¦‚<code>127.0.0.1:6379&gt; asdmlk  (error) ERR unknown command &#39;asdmlk&#39;</code>å‘½ä»¤è¡Œä¼šç›´æ¥æŠ¥é”™</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; multi</span><br><span class="line">OK</span><br><span class="line">127.0.0.1:6379&gt; <span class="built_in">set</span> k1 v1</span><br><span class="line">QUEUED</span><br><span class="line">127.0.0.1:6379&gt; <span class="built_in">set</span> k2 v2</span><br><span class="line">QUEUED</span><br><span class="line">127.0.0.1:6379&gt; getset k2</span><br><span class="line">(error) ERR wrong number of arguments <span class="keyword">for</span> <span class="string">&#x27;getset&#x27;</span> <span class="built_in">command</span></span><br><span class="line">127.0.0.1:6379&gt; <span class="built_in">set</span> k3 v3</span><br><span class="line">QUEUED</span><br><span class="line">127.0.0.1:6379&gt; <span class="built_in">exec</span></span><br><span class="line">(error) EXECABORT Transaction discarded because of previous errors.</span><br><span class="line">127.0.0.1:6379&gt; get k3</span><br><span class="line">(nil)</span><br><span class="line">127.0.0.1:6379&gt; get k2</span><br><span class="line">(nil)</span><br></pre></td></tr></table></figure><p>å¯ä»¥å‘ç°æ‰€æœ‰çš„å‘½ä»¤éƒ½æ²¡æœ‰æ‰§è¡Œã€‚</p><blockquote><p>è¿è¡Œæ—¶å¼‚å¸¸ï¼šå¦‚æœäº‹åŠ¡é˜Ÿåˆ—ä¸­å­˜åœ¨è¿™ç§é”™è¯¯ï¼Œå…¶ä»–è¯­å¥ç…§å¸¸æ‰§è¡Œï¼Œè¯¥è¯­å¥ä¸æ‰§è¡Œï¼ŒæŠ›å‡ºå¼‚å¸¸</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; <span class="built_in">set</span> k1 var</span><br><span class="line">OK</span><br><span class="line">127.0.0.1:6379&gt; multi</span><br><span class="line">OK</span><br><span class="line">127.0.0.1:6379&gt; incr k1</span><br><span class="line">QUEUED</span><br><span class="line">127.0.0.1:6379&gt; get k1</span><br><span class="line">QUEUED</span><br><span class="line">127.0.0.1:6379&gt; <span class="built_in">exec</span></span><br><span class="line">1) (error) ERR value is not an <span class="built_in">integer</span> or out of range</span><br><span class="line">2) <span class="string">&quot;var&quot;</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> javaEE </category>
          
          <category> Redis </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Redis </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CSå’ŒBSæ¶æ„æ˜¯ä»€ä¹ˆï¼Ÿ</title>
      <link href="/%E7%90%90%E7%A2%8E%E7%9A%84%E7%9F%A5%E8%AF%86/2022/02/23/CS%E5%92%8CBS%E6%9E%B6%E6%9E%84%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F/"/>
      <url>/%E7%90%90%E7%A2%8E%E7%9A%84%E7%9F%A5%E8%AF%86/2022/02/23/CS%E5%92%8CBS%E6%9E%B6%E6%9E%84%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F/</url>
      
        <content type="html"><![CDATA[<h2 id="C-x2F-Sæ¶æ„å’ŒB-x2F-Sæ¶æ„"><a href="#C-x2F-Sæ¶æ„å’ŒB-x2F-Sæ¶æ„" class="headerlink" title="C&#x2F;Sæ¶æ„å’ŒB&#x2F;Sæ¶æ„"></a>C&#x2F;Sæ¶æ„å’ŒB&#x2F;Sæ¶æ„</h2><h3 id="C-x2F-Sæ¶æ„"><a href="#C-x2F-Sæ¶æ„" class="headerlink" title="C&#x2F;Sæ¶æ„"></a>C&#x2F;Sæ¶æ„</h3><blockquote><p>Client&#x2F;Serverå®¢æˆ·ç«¯&#x2F;æœåŠ¡å™¨</p></blockquote><p>å®¢æˆ·ç«¯æ˜¯é’ˆå¯¹æŸä¸€å…·ä½“ä¸šåŠ¡ä¸“é—¨å¼€å‘çš„è½¯ä»¶ï¼Œæ˜¯éœ€è¦ä¸“é—¨å®‰è£…çš„è½¯ä»¶ã€‚</p><p>ç”±äºå®¢æˆ·ç«¯æ˜¯ä¸“ç”¨çš„è½¯ä»¶ï¼Œæ‰€ä»¥å®¢æˆ·ç«¯ç¨‹åºä¸€èˆ¬ä¹Ÿå…·æœ‰å¯¹å…·ä½“ä¸šåŠ¡è¿›è¡Œå¤„ç†çš„èƒ½åŠ›ï¼Œå¯ä»¥å‡è½»æœåŠ¡ç«¯å‹åŠ›</p><p><strong>ä¼˜ç‚¹ï¼š</strong>é€Ÿåº¦å¿«ï¼Œå®‰å…¨æ€§è¾ƒé«˜</p><p><strong>è‡´å‘½é—®é¢˜ï¼š</strong>ç‰ˆæœ¬å‡çº§æˆæœ¬å¾ˆé«˜</p><p>å°±æ¯”å¦‚QQã€å¾®ä¿¡ç­‰åº”ç”¨ç¨‹åº</p><h3 id="B-x2F-Sæ¶æ„"><a href="#B-x2F-Sæ¶æ„" class="headerlink" title="B&#x2F;Sæ¶æ„"></a>B&#x2F;Sæ¶æ„</h3><blockquote><p>Browser&#x2F;Serveæµè§ˆå™¨&#x2F;æœåŠ¡å™¨</p></blockquote><p>å®ƒå…¶å®ä¹Ÿæ˜¯ä¸€ç§ç‰¹æ®Šçš„C&#x2F;Sæ¶æ„ï¼Œåªä¸è¿‡è¿™ä¸ªClientæ˜¯æµè§ˆå™¨ï¼Œæ˜¯ä¸€ä¸ªé€šç”¨çš„å®¢æˆ·ç«¯ï¼ˆæµè§ˆå™¨ï¼‰ï¼Œæ‰€ä»¥æ²¡æœ‰å¯¹å…·ä½“ä¸šåŠ¡è¿›è¡Œå¤„ç†çš„èƒ½åŠ›ï¼Œé€Ÿåº¦é™ä½ã€‚</p><p><strong>ä¼˜ç‚¹ï¼š</strong>ä¸å­˜åœ¨å®¢æˆ·ç«¯å‡çº§çš„é—®é¢˜</p><p><strong>è‡´å‘½é—®é¢˜ï¼š</strong>é€Ÿåº¦æ…¢ï¼Œè€ƒè™‘å…¼å®¹æ€§çš„é—®é¢˜ï¼Œå®‰å…¨æ€§ä½</p><p>å°±æ¯”å¦‚ï¼Œç½‘é¡µç‰ˆQQ</p>]]></content>
      
      
      <categories>
          
          <category> çç¢çš„çŸ¥è¯† </category>
          
      </categories>
      
      
        <tags>
            
            <tag> çç¢çš„çŸ¥è¯† </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ã€3-Mediumã€‘æ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²</title>
      <link href="/%E7%AE%97%E6%B3%95/%E5%88%B7%E9%A2%98%E7%AF%87/2022/02/22/%E3%80%903-Medium%E3%80%91%E6%97%A0%E9%87%8D%E5%A4%8D%E5%AD%97%E7%AC%A6%E7%9A%84%E6%9C%80%E9%95%BF%E5%AD%90%E4%B8%B2/"/>
      <url>/%E7%AE%97%E6%B3%95/%E5%88%B7%E9%A2%98%E7%AF%87/2022/02/22/%E3%80%903-Medium%E3%80%91%E6%97%A0%E9%87%8D%E5%A4%8D%E5%AD%97%E7%AC%A6%E7%9A%84%E6%9C%80%E9%95%BF%E5%AD%90%E4%B8%B2/</url>
      
        <content type="html"><![CDATA[<h2 id="æ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²"><a href="#æ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²" class="headerlink" title="æ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²"></a>æ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²</h2><p>ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸² <code>s</code> ï¼Œè¯·ä½ æ‰¾å‡ºå…¶ä¸­ä¸å«æœ‰é‡å¤å­—ç¬¦çš„ <strong>æœ€é•¿å­ä¸²</strong> çš„é•¿åº¦ã€‚</p><p><strong>ç¤ºä¾‹ 1:</strong></p><figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">è¾“å…¥: s = &quot;abcabcbb&quot;</span></span><br><span class="line"><span class="section">è¾“å‡º: 3 </span></span><br><span class="line"><span class="section">è§£é‡Š: å› ä¸ºæ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²æ˜¯ &quot;abc&quot;ï¼Œæ‰€ä»¥å…¶é•¿åº¦ä¸º 3ã€‚</span></span><br></pre></td></tr></table></figure><p><strong>ç¤ºä¾‹ 2:</strong></p><figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">è¾“å…¥: s = &quot;bbbbb&quot;</span></span><br><span class="line"><span class="section">è¾“å‡º: 1</span></span><br><span class="line"><span class="section">è§£é‡Š: å› ä¸ºæ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²æ˜¯ &quot;b&quot;ï¼Œæ‰€ä»¥å…¶é•¿åº¦ä¸º 1ã€‚</span></span><br></pre></td></tr></table></figure><p><strong>ç¤ºä¾‹ 3:</strong></p><figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">è¾“å…¥: s = &quot;pwwkew&quot;</span></span><br><span class="line"><span class="section">è¾“å‡º: 3</span></span><br><span class="line"><span class="section">è§£é‡Š: å› ä¸ºæ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²æ˜¯ &quot;wke&quot;ï¼Œæ‰€ä»¥å…¶é•¿åº¦ä¸º 3ã€‚</span></span><br><span class="line">     è¯·æ³¨æ„ï¼Œä½ çš„ç­”æ¡ˆå¿…é¡»æ˜¯ å­ä¸² çš„é•¿åº¦ï¼Œ<span class="string">&quot;pwke&quot;</span> æ˜¯ä¸€ä¸ªå­åºåˆ—ï¼Œä¸æ˜¯å­ä¸²ã€‚</span><br></pre></td></tr></table></figure><p><strong>æç¤ºï¼š</strong></p><ul><li><code>0 &lt;= s.length &lt;= 5 * 104</code></li><li><code>s</code> ç”±è‹±æ–‡å­—æ¯ã€æ•°å­—ã€ç¬¦å·å’Œç©ºæ ¼ç»„æˆ</li></ul><p><strong>Related Topics</strong></p><ul><li>å“ˆå¸Œè¡¨</li><li>å­—ç¬¦ä¸²</li><li>æ»‘åŠ¨çª—å£</li></ul><h3 id="æš´åŠ›è§£æ³•"><a href="#æš´åŠ›è§£æ³•" class="headerlink" title="æš´åŠ›è§£æ³•"></a>æš´åŠ›è§£æ³•</h3><p>éå†æ•°ç»„çš„æ‰€æœ‰çš„åŒºé—´ï¼Œå°†æ»¡è¶³é¢˜æ„åŒºé—´é•¿åº¦çš„æœ€å¤§å€¼è¿”å›</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">lengthOfLongestSubstring</span><span class="params">(String s)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> len = s.length();</span><br><span class="line">        <span class="keyword">if</span> (len &lt;= <span class="number">1</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> len;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> maxLength = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = i + <span class="number">1</span>; j &lt; len; j++) &#123;</span><br><span class="line">                <span class="comment">// å¦‚æœæ˜¯æ— é‡å¤çš„å­ä¸²æ‰éœ€è¦å’Œ maxLength ä½œæ¯”è¾ƒ</span></span><br><span class="line">                <span class="keyword">if</span> (allUnique(s, i, j)) &#123;</span><br><span class="line">                    maxLength = Math.max(maxLength, j - i + <span class="number">1</span>);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> maxLength;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * è¯¥å‡½æ•°çš„ä½œç”¨æ˜¯è¿”å›è¯¥åŒºé—´æ˜¯å¦æœ‰é‡å¤çš„å­—ç¬¦ï¼Œæœ‰åˆ™è¿”å›falseï¼Œæ²¡æœ‰åˆ™è¿”å›true</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> s</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> i</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> j</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">allUnique</span><span class="params">(String s, <span class="keyword">int</span> i, <span class="keyword">int</span> j)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// è¿™é‡Œä½¿ç”¨ArrayListä¹Ÿæ˜¯å¯ä»¥çš„</span></span><br><span class="line">        Set&lt;Character&gt; set = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">        <span class="comment">// çœ‹sçš„[i,j]åŒºé—´å†…æ˜¯å¦æœ‰é‡å¤çš„å­—ç¬¦</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> x = i; x &lt;= j; x++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (set.contains(s.charAt(x))) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            set.add(s.charAt(x));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸­é—´ä¼šæœ‰é‡å¤çš„æ¯”è¾ƒ</p><p>å¯¼è‡´æ•ˆç‡ååˆ†ä½ä¸‹</p><p>å½“stringé•¿åº¦ååˆ†å¤§çš„æ—¶å€™ï¼Œä¸€å®šä¼šå¯¼è‡´è¶…æ—¶</p><h3 id="æ»‘åŠ¨çª—å£æ³•"><a href="#æ»‘åŠ¨çª—å£æ³•" class="headerlink" title="æ»‘åŠ¨çª—å£æ³•"></a>æ»‘åŠ¨çª—å£æ³•</h3><p>æ€è·¯å¦‚ä¸‹ç»„å›¾æ‰€ç¤º</p><img src="/%E7%AE%97%E6%B3%95/%E5%88%B7%E9%A2%98%E7%AF%87/2022/02/22/%E3%80%903-Medium%E3%80%91%E6%97%A0%E9%87%8D%E5%A4%8D%E5%AD%97%E7%AC%A6%E7%9A%84%E6%9C%80%E9%95%BF%E5%AD%90%E4%B8%B2/%E6%BB%91%E5%8A%A8%E7%AA%97%E5%8F%A3process01.png" class title="æ»‘åŠ¨çª—å£process01"><img src="/%E7%AE%97%E6%B3%95/%E5%88%B7%E9%A2%98%E7%AF%87/2022/02/22/%E3%80%903-Medium%E3%80%91%E6%97%A0%E9%87%8D%E5%A4%8D%E5%AD%97%E7%AC%A6%E7%9A%84%E6%9C%80%E9%95%BF%E5%AD%90%E4%B8%B2/%E6%BB%91%E5%8A%A8%E7%AA%97%E5%8F%A3process02.png" class title="æ»‘åŠ¨çª—å£process02"><img src="/%E7%AE%97%E6%B3%95/%E5%88%B7%E9%A2%98%E7%AF%87/2022/02/22/%E3%80%903-Medium%E3%80%91%E6%97%A0%E9%87%8D%E5%A4%8D%E5%AD%97%E7%AC%A6%E7%9A%84%E6%9C%80%E9%95%BF%E5%AD%90%E4%B8%B2/%E6%BB%91%E5%8A%A8%E7%AA%97%E5%8F%A3process03.png" class title="æ»‘åŠ¨çª—å£process03"><img src="/%E7%AE%97%E6%B3%95/%E5%88%B7%E9%A2%98%E7%AF%87/2022/02/22/%E3%80%903-Medium%E3%80%91%E6%97%A0%E9%87%8D%E5%A4%8D%E5%AD%97%E7%AC%A6%E7%9A%84%E6%9C%80%E9%95%BF%E5%AD%90%E4%B8%B2/%E6%BB%91%E5%8A%A8%E7%AA%97%E5%8F%A3process04.png" class title="æ»‘åŠ¨çª—å£process04"><img src="/%E7%AE%97%E6%B3%95/%E5%88%B7%E9%A2%98%E7%AF%87/2022/02/22/%E3%80%903-Medium%E3%80%91%E6%97%A0%E9%87%8D%E5%A4%8D%E5%AD%97%E7%AC%A6%E7%9A%84%E6%9C%80%E9%95%BF%E5%AD%90%E4%B8%B2/%E6%BB%91%E5%8A%A8%E7%AA%97%E5%8F%A3process05.png" class title="æ»‘åŠ¨çª—å£process05"><img src="/%E7%AE%97%E6%B3%95/%E5%88%B7%E9%A2%98%E7%AF%87/2022/02/22/%E3%80%903-Medium%E3%80%91%E6%97%A0%E9%87%8D%E5%A4%8D%E5%AD%97%E7%AC%A6%E7%9A%84%E6%9C%80%E9%95%BF%E5%AD%90%E4%B8%B2/%E6%BB%91%E5%8A%A8%E7%AA%97%E5%8F%A3process06.png" class title="æ»‘åŠ¨çª—å£process06"><img src="/%E7%AE%97%E6%B3%95/%E5%88%B7%E9%A2%98%E7%AF%87/2022/02/22/%E3%80%903-Medium%E3%80%91%E6%97%A0%E9%87%8D%E5%A4%8D%E5%AD%97%E7%AC%A6%E7%9A%84%E6%9C%80%E9%95%BF%E5%AD%90%E4%B8%B2/%E6%BB%91%E5%8A%A8%E7%AA%97%E5%8F%A3process07.png" class title="æ»‘åŠ¨çª—å£process07"><img src="/%E7%AE%97%E6%B3%95/%E5%88%B7%E9%A2%98%E7%AF%87/2022/02/22/%E3%80%903-Medium%E3%80%91%E6%97%A0%E9%87%8D%E5%A4%8D%E5%AD%97%E7%AC%A6%E7%9A%84%E6%9C%80%E9%95%BF%E5%AD%90%E4%B8%B2/%E6%BB%91%E5%8A%A8%E7%AA%97%E5%8F%A3process08.png" class title="æ»‘åŠ¨çª—å£process08"><blockquote><p>ç¤ºä¾‹ä»£ç  1</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="comment">// è¿™æ˜¯å®Œå®Œå…¨å…¨éµå®ˆæ»‘åŠ¨çª—å£çš„æ€è·¯</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">lengthOfLongestSubstring</span><span class="params">(String s)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> size = s.length();</span><br><span class="line">        <span class="keyword">if</span>(size &lt;= <span class="number">1</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> s;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">char</span>[] sArray = s.toCharArray();</span><br><span class="line">        Map&lt;Character, Integer&gt; window = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        <span class="keyword">int</span> left = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> right = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> maxLength = <span class="number">0</span>;</span><br><span class="line">        <span class="comment">// [left,right)æ˜¯æ²¡æœ‰é‡å¤å…ƒç´ çš„åŒºé—´</span></span><br><span class="line">        <span class="keyword">while</span> (right &lt; size) &#123;</span><br><span class="line">            <span class="comment">// å¦‚æœçª—å£ä¸­æ²¡æœ‰æ­¤å…ƒç´ æˆ–è€…å‡ºç°æ¬¡æ•°ä¸º0ï¼Œæ‰©å¤§å³è¾¹ç•Œ</span></span><br><span class="line">            <span class="keyword">while</span> (right &lt; size &amp;&amp; window.getOrDefault(sArray[right], <span class="number">0</span>) == <span class="number">0</span>) &#123;</span><br><span class="line">                window.merge(sArray[right++], <span class="number">1</span>, Integer::sum);</span><br><span class="line">            &#125;</span><br><span class="line">            maxLength = Math.max(right - left, maxLength);</span><br><span class="line">            <span class="comment">// å¦‚æœèµ°åˆ°äº†å°¾éƒ¨ï¼Œä¸éœ€è¦å†ç¼©å°çª—å£äº†ï¼Œç›´æ¥è¿”å›æœ€å¤§å€¼å³å¯</span></span><br><span class="line">            <span class="keyword">if</span> (right == size) &#123;</span><br><span class="line">                <span class="keyword">return</span> maxLength;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// æ²¡æœ‰åˆ°å°¾éƒ¨ï¼Œrightæ‰€åœ¨çš„ä½ç½®å°±æ˜¯[left,right)ä¸­é‡å¤çš„å…ƒç´ </span></span><br><span class="line">            <span class="comment">// </span></span><br><span class="line">            <span class="keyword">while</span> (sArray[left] != sArray[right]) &#123;</span><br><span class="line">                window.merge(sArray[left++], -<span class="number">1</span>, Integer::sum);</span><br><span class="line">            &#125;</span><br><span class="line">            window.merge(sArray[left++], -<span class="number">1</span>, Integer::sum);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> maxLength;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åœ¨è¿™é“é¢˜ç›®ä¸­ç”¨<code>set</code>æ¥å……å½“<code>window</code>ä¹Ÿæ˜¯å¯ä»¥çš„</p><blockquote><p>ç¤ºä¾‹ä»£ç  2</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">lengthOfLongestSubstring</span><span class="params">(String s)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> size = s.length();</span><br><span class="line">        <span class="keyword">if</span>(size &lt;= <span class="number">1</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> s;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">char</span>[] sArray = s.toCharArray();</span><br><span class="line">        Set&lt;Character&gt; window = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">        <span class="keyword">int</span> right = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> left = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> maxLength = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span> (right &lt; size) &#123;</span><br><span class="line">            <span class="comment">// åªè¦çª—å£ä¸­æ²¡æœ‰sArray[right]ï¼Œå°±ä¸€ç›´æ‰©å¤§å³è¾¹ç•Œ</span></span><br><span class="line">            <span class="keyword">while</span> (right &lt; size &amp;&amp; !window.contains(sArray[right])) &#123;</span><br><span class="line">                window.add(sArray[right++]);</span><br><span class="line">            &#125;</span><br><span class="line">            maxLength = Math.max(right - left, maxLength);</span><br><span class="line">            <span class="comment">// è¯´æ˜åˆ°äº†å°¾éƒ¨</span></span><br><span class="line">            <span class="keyword">if</span> (right == size) &#123;</span><br><span class="line">                <span class="keyword">return</span> maxLength;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">while</span> (sArray[left] != sArray[right]) &#123;</span><br><span class="line">                window.remove(sArray[left++]);</span><br><span class="line">            &#125;</span><br><span class="line">            window.remove(sArray[left++]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> maxLength;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä½†æ˜¯è¿™ä¸¤ç§éƒ½ä¸å¤§å¥½</p><p>è¿™ä¸¤ç§çš„windowçš„å®šä¹‰éƒ½æ˜¯sçš„<code>[legft,right)</code>åŒºé—´æ˜¯ä¸é‡å¤çš„å­ä¸²</p><p>ä¸‹é¢çœ‹windowçš„å®šä¹‰æ˜¯sçš„<code>[left,right]</code>åŒºé—´ä¸æ˜¯é‡å¤çš„å­ä¸²çš„æ—¶å€™è¯¥å¦‚ä½•å†™ä»£ç </p><blockquote><p>ç¤ºä¾‹ä»£ç  3</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">lengthOfLongestSubstring</span><span class="params">(String s)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> size = s.length();</span><br><span class="line">        <span class="keyword">if</span>(size &lt;= <span class="number">1</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> s;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">char</span>[] sArray = s.toCharArray();</span><br><span class="line">        Set&lt;Character&gt; window = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">        <span class="keyword">int</span> right = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> left = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> maxLength = <span class="number">1</span>;</span><br><span class="line">        <span class="comment">// [left,right]æ˜¯ä¸é‡å¤çš„å­ä¸²</span></span><br><span class="line">        <span class="keyword">while</span> (right &lt; size) &#123;</span><br><span class="line">            <span class="keyword">char</span> rightChar = sArray[right];</span><br><span class="line">            <span class="comment">// ä¿æŒçª—å£ä¸­æ²¡æœ‰å’Œå³å°†åŠ å…¥çš„å³è¾¹ç•Œä¸€æ ·çš„å­—ç¬¦</span></span><br><span class="line">            <span class="keyword">while</span> (window.contains(rightChar)) &#123;</span><br><span class="line">                window.remove(sArray[left++]);</span><br><span class="line">            &#125;</span><br><span class="line">            maxLength = Math.max(maxLength, right - left + <span class="number">1</span>);</span><br><span class="line">            <span class="comment">// å°†å³è¾¹ç•ŒåŠ å…¥çª—å£</span></span><br><span class="line">            window.add(sArray[right++]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> maxLength;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="ä½¿ç”¨é˜Ÿåˆ—ä¼˜åŒ–"><a href="#ä½¿ç”¨é˜Ÿåˆ—ä¼˜åŒ–" class="headerlink" title="ä½¿ç”¨é˜Ÿåˆ—ä¼˜åŒ–"></a>ä½¿ç”¨é˜Ÿåˆ—ä¼˜åŒ–</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">lengthOfLongestSubstring</span><span class="params">(String s)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> size = s.length();</span><br><span class="line">        <span class="keyword">if</span>(size &lt;= <span class="number">1</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> s;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">char</span>[] sArray = s.toCharArray();</span><br><span class="line">        <span class="keyword">int</span> right = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> left = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> maxLength = <span class="number">0</span>;</span><br><span class="line">        LinkedList&lt;Character&gt; window = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">        <span class="keyword">while</span> (right &lt; size) &#123;</span><br><span class="line">            <span class="keyword">while</span> (window.contains(sArray[right])) &#123;</span><br><span class="line">                window.removeFirst();</span><br><span class="line">                left++;</span><br><span class="line">            &#125;</span><br><span class="line">            maxLength = Math.max(maxLength, right - left + <span class="number">1</span>);</span><br><span class="line">            window.addLast(sArray[right++]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> maxLength;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="ä½¿ç”¨mapä¼˜åŒ–"><a href="#ä½¿ç”¨mapä¼˜åŒ–" class="headerlink" title="ä½¿ç”¨mapä¼˜åŒ–"></a>ä½¿ç”¨mapä¼˜åŒ–</h4><p>æˆ‘ä»¬å‘ç°å¯¹äºå¤„ç†leftï¼Œéœ€è¦éå†leftå¾€åèµ°</p><p>é‚£æˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨mapå­˜ä¸€ä¸‹ï¼Œä»è€Œå¯ä»¥å¿«é€Ÿæ‹¿åˆ°çª—å£ä¸­é‡å¤çš„å­—ç¬¦çš„é‚£ä¸€ä¸ªç´¢å¼•</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">lengthOfLongestSubstring</span><span class="params">(String s)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> size = s.length();</span><br><span class="line">        <span class="keyword">if</span>(size &lt;= <span class="number">1</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> s;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">char</span>[] sArray = s.toCharArray();</span><br><span class="line">        <span class="keyword">int</span> right = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> left = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> maxLength = <span class="number">0</span>;</span><br><span class="line">        Map&lt;Character, Integer&gt; window = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        <span class="keyword">while</span> (right &lt; size) &#123;</span><br><span class="line">            <span class="comment">// å¦‚æœå³è¾¹ç•ŒåŠ å…¥å°±ä¼šå¯¼è‡´çª—å£æœ‰é‡å¤å­—ç¬¦äº†</span></span><br><span class="line">            <span class="keyword">if</span> (window.containsKey(sArray[right])) &#123;</span><br><span class="line">                <span class="comment">// æ›´æ–°å·¦è¾¹ç•Œ</span></span><br><span class="line">                left = Math.max(window.get(sArray[right]) + <span class="number">1</span>, left);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// æ›´æ–°æœ€å¤§å€¼</span></span><br><span class="line">            maxLength = Math.max(maxLength, right - left + <span class="number">1</span>);</span><br><span class="line">            <span class="comment">// è¦†ç›–æˆ–ä¿å­˜å¯¹åº”çš„å…³ç³»</span></span><br><span class="line">            window.put(sArray[right], right++);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> maxLength;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="å¯¹mapå†æ¬¡è¿›è¡Œä¼˜åŒ–"><a href="#å¯¹mapå†æ¬¡è¿›è¡Œä¼˜åŒ–" class="headerlink" title="å¯¹mapå†æ¬¡è¿›è¡Œä¼˜åŒ–"></a>å¯¹mapå†æ¬¡è¿›è¡Œä¼˜åŒ–</h4><img src="/%E7%AE%97%E6%B3%95/%E5%88%B7%E9%A2%98%E7%AF%87/2022/02/22/%E3%80%903-Medium%E3%80%91%E6%97%A0%E9%87%8D%E5%A4%8D%E5%AD%97%E7%AC%A6%E7%9A%84%E6%9C%80%E9%95%BF%E5%AD%90%E4%B8%B2/%E9%A2%98%E7%9B%AE%E8%A6%81%E6%B1%82.png" class title="é¢˜ç›®è¦æ±‚"><p>å› ä¸ºå­—ç¬¦æ˜¯ç¡®å®šçš„æ‰€ä»¥ï¼Œæˆ‘ä»¬å¯ä»¥newä¸€ä¸ª128é•¿åº¦çš„æ•°ç»„æ¥å½“hashmapï¼Œé”®æ˜¯å­—ç¬¦çš„ascllç å€¼ï¼Œå€¼æ˜¯ç´¢å¼•ï¼Œä»£ç å¦‚ä¸‹</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">lengthOfLongestSubstring</span><span class="params">(String s)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> len = s.length();</span><br><span class="line">        <span class="keyword">if</span>(len &lt;= <span class="number">1</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> len;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> maxLength = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">int</span> left = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> right = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span>[] window = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">128</span>];</span><br><span class="line">        <span class="keyword">while</span>(right &lt; len)&#123;</span><br><span class="line">            <span class="keyword">char</span> now = s.charAt(right);</span><br><span class="line">            <span class="comment">// å¦‚æœwindow[now]æ²¡æœ‰å€¼å°±æ˜¯0å’ŒåŸæœ¬çš„leftç›¸æ¯”è¾ƒå³å¯</span></span><br><span class="line">            left = Math.max(left, window[now] +<span class="number">1</span>);</span><br><span class="line">            <span class="comment">// æ›´æ–°æœ€å¤§å€¼</span></span><br><span class="line">            maxLength = Math.max(maxLength, right-left+<span class="number">1</span>);</span><br><span class="line">            <span class="comment">// è¦†ç›–æˆ–ä¿å­˜å¯¹åº”çš„å…³ç³»</span></span><br><span class="line">            window[now] = right++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> maxLength;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
          <category> åˆ·é¢˜ç¯‡ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç®—æ³• </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¤§Oè¡¨ç¤ºæ³•</title>
      <link href="/%E7%AE%97%E6%B3%95/%E6%8A%80%E5%B7%A7%E7%AF%87/2022/02/22/%E7%AE%97%E6%B3%95-%E5%A4%A7O%E8%A1%A8%E7%A4%BA%E6%B3%95/"/>
      <url>/%E7%AE%97%E6%B3%95/%E6%8A%80%E5%B7%A7%E7%AF%87/2022/02/22/%E7%AE%97%E6%B3%95-%E5%A4%A7O%E8%A1%A8%E7%A4%BA%E6%B3%95/</url>
      
        <content type="html"><![CDATA[<h2 id="å¦‚ä½•å»è¯„åˆ¤ä¸€ä¸ªç®—æ³•çš„å¥½åå‘¢ï¼Ÿ"><a href="#å¦‚ä½•å»è¯„åˆ¤ä¸€ä¸ªç®—æ³•çš„å¥½åå‘¢ï¼Ÿ" class="headerlink" title="å¦‚ä½•å»è¯„åˆ¤ä¸€ä¸ªç®—æ³•çš„å¥½åå‘¢ï¼Ÿ"></a>å¦‚ä½•å»è¯„åˆ¤ä¸€ä¸ªç®—æ³•çš„å¥½åå‘¢ï¼Ÿ</h2><p>æˆ‘ä»¬å¯ä»¥ä»ä¸¤ä¸ªç»´åº¦åˆ†åˆ«æ˜¯æ—¶é—´å’Œç©ºé—´å»è¯„åˆ¤ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¹Ÿå¯ä»¥æ ¹æ®è¿™ä¸¤ç‚¹å»ä¼˜åŒ–æˆ‘ä»¬çš„ä»£ç ï¼Œä»è€Œä½¿è‡ªå·±çš„ç®—æ³•çš„å¤æ‚åº¦é™ä½ï¼Œæ•ˆç‡æé«˜ã€‚</p><p>é‚£è¿™æ ·è¯´çš„è¯ï¼Œæ˜¯ä¸æ˜¯æˆ‘æ‹¿ç€ä¸åŒçš„ç®—æ³•åœ¨ä¸åŒçš„ç”µè„‘ä¸Šè·‘ç„¶åæ¯”è¾ƒæ—¶é—´ï¼Œè°çš„æ—¶é—´çŸ­ï¼Œè°çš„ç®—æ³•æ›´ç‰›é€¼ã€‚é‚£å¦‚æœä¸¤å°ç”µè„‘çš„æ€§èƒ½æœ¬å°±æœ‰ç€å¾ˆå¤§çš„å·®è·å‘¢ï¼Ÿè¿™æ ·å°±ä¸å…¬å¹³äº†ï¼Œå¯¼è‡´äº†æ¯”è¾ƒçš„åå·®ã€‚</p><h2 id="å¤§Oè¡¨ç¤ºæ³•"><a href="#å¤§Oè¡¨ç¤ºæ³•" class="headerlink" title="å¤§Oè¡¨ç¤ºæ³•"></a>å¤§Oè¡¨ç¤ºæ³•</h2><p>é‚£ä¹ˆæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸€ç§è¡¨ç¤ºæ³•ä¹Ÿå°±æ˜¯å¤§Oè¡¨ç¤ºæ³•æ¥å…·ä½“è¡¨ç¤º<strong>æ—¶é—´å¤æ‚åº¦</strong>å’Œ<strong>ç©ºé—´å¤æ‚åº¦</strong>ã€‚å®ƒå°†ä»£ç çš„æ‰€æœ‰æ­¥éª¤è½¬æ¢ä¸º<strong>å…³äºæ•°æ®è§„æ¨¡nçš„å…¬å¼é¡¹</strong>ï¼Œç„¶åæ’é™¤ä¸ä¼šå¯¹é—®é¢˜çš„æ•´ä½“å¤æ‚åº¦äº§ç”Ÿè¾ƒå¤§å½±å“çš„<strong>ä½é˜¶ã€ç³»æ•°é¡¹å’Œå¸¸æ•°é¡¹</strong>ã€‚</p><img src="/%E7%AE%97%E6%B3%95/%E6%8A%80%E5%B7%A7%E7%AF%87/2022/02/22/%E7%AE%97%E6%B3%95-%E5%A4%A7O%E8%A1%A8%E7%A4%BA%E6%B3%95/Big-OComplexityChart.png" class title="Big-OComplexityChart"><h3 id="æ—¶é—´å¤æ‚åº¦"><a href="#æ—¶é—´å¤æ‚åº¦" class="headerlink" title="æ—¶é—´å¤æ‚åº¦"></a>æ—¶é—´å¤æ‚åº¦</h3><p>å…¶å®è¯¥å€¼è¡¨ç¤ºçš„æ˜¯ï¼Œå½“æ•°æ®çš„é‡çº§å¢åŠ çš„æ—¶å€™ï¼Œæ—¶é—´å¢é•¿çš„ä¸€ä¸ªè¶‹åŠ¿ã€‚</p><p>å…¬å¼ï¼šT(n) &#x3D; O(f(n))</p><p>O(1)çš„ä¾‹å­ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> x = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">int</span> y = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">int</span> temp = x + y;</span><br></pre></td></tr></table></figure><p>O(n)çš„ä¾‹å­ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; n; i++)&#123;</span><br><span class="line">    System.out.println(i);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* è¯¥å¾ªç¯å®é™…ä¼šæ‰§è¡Œå¤šå°‘è¡Œä»£ç å‘¢ï¼Ÿ</span></span><br><span class="line"><span class="comment">* int i = 1;   *  1</span></span><br><span class="line"><span class="comment">* i &lt; n        *  n</span></span><br><span class="line"><span class="comment">* i++          *  n</span></span><br><span class="line"><span class="comment">* sout(i)      *  n</span></span><br><span class="line"><span class="comment">* æ‰€ä»¥æ˜¯O(1+3n)</span></span><br><span class="line"><span class="comment">* æˆ‘ä»¬åœ¨å¼€å§‹å°±è¯´è¿‡äº†éœ€è¦æ’é™¤ä¸ä¼šå¯¹é—®é¢˜çš„æ•´ä½“å¤æ‚åº¦äº§ç”Ÿè¾ƒå¤§å½±å“çš„ä½é˜¶ã€ç³»æ•°é¡¹å’Œå¸¸æ•°é¡¹ã€‚</span></span><br><span class="line"><span class="comment">* æ‰€ä»¥å¤æ‚åº¦æ˜¯O(n)</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure><p>å†æ¥çœ‹ä¸€ä¸ªO(n^2)çš„æ¡ˆä¾‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; n; j++) &#123;</span><br><span class="line">        System.out.println(i+j);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* ä¸€æ ·çš„æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹è¿™ä¸ªå¾ªç¯å®é™…ä¼šæ‰§è¡Œå¤šå°‘æ¬¡</span></span><br><span class="line"><span class="comment">* int i = 0;       *   1</span></span><br><span class="line"><span class="comment">* int j = 0;       *   1</span></span><br><span class="line"><span class="comment">* i &lt; n            *   n</span></span><br><span class="line"><span class="comment">* i++              *   n</span></span><br><span class="line"><span class="comment">* j &lt; n            *   n*n</span></span><br><span class="line"><span class="comment">* j++              *   n*n</span></span><br><span class="line"><span class="comment">* sout(i+j);       *   1</span></span><br><span class="line"><span class="comment">* ä¹Ÿå°±æ˜¯O(n^2+2n+3) = O(n^2)</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure><p>O(logn)çš„ä¾‹å­ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> i=<span class="number">1</span>;</span><br><span class="line"><span class="keyword">while</span>(i &lt; n)&#123;</span><br><span class="line">    i = i * <span class="number">2</span>; </span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* int i = 1;    *  1</span></span><br><span class="line"><span class="comment">* i &lt; n         * (log2)n</span></span><br><span class="line"><span class="comment">* i = i * 2     * (log2)n</span></span><br><span class="line"><span class="comment">* ä¹Ÿå°±æ˜¯O(2(log2)n)==(log2)n</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure><p>O(nlogn)çš„ä¾‹å­ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; n; i++)&#123;</span><br><span class="line">    <span class="keyword">int</span> j = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(j &lt; n)&#123;</span><br><span class="line">        j = j * <span class="number">2</span>; </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//è¿™ä¸ªå¾ˆç®€å•ï¼Œå’Œä¹‹å‰çš„åˆ†ææ˜¯ä¸€æ ·çš„</span></span><br></pre></td></tr></table></figure><h3 id="ç©ºé—´å¤æ‚åº¦"><a href="#ç©ºé—´å¤æ‚åº¦" class="headerlink" title="ç©ºé—´å¤æ‚åº¦"></a>ç©ºé—´å¤æ‚åº¦</h3><p>è¯¥å¤æ‚åº¦è¡¨ç¤ºçš„æ˜¯å†…å­˜ç©ºé—´éšç€æ•°æ®çš„å¢åŠ å¢é•¿çš„è¶‹åŠ¿ã€‚</p><p>å¸¸ç”¨çš„ç©ºé—´å¤æ‚åº¦O(1),O(n),O(n^2)</p><p>O(1)çš„ä¾‹å­ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> x = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">int</span> y = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">int</span> temp = x + y;</span><br></pre></td></tr></table></figure><p>O(n)çš„ä¾‹å­ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span>[] arr = <span class="keyword">new</span> <span class="keyword">int</span>[n];</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++)&#123;</span><br><span class="line">    arr[i] = i;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>O(n^2)çš„ä¾‹å­ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span>[][] arr = <span class="keyword">new</span> <span class="keyword">int</span>[n][n];</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++)&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; n; j++)&#123;</span><br><span class="line">        arr[i][j] = i + j;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
          <category> æŠ€å·§ç¯‡ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç®—æ³• </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Redis-ä¸‰å¤§ç‰¹æ®Šç±»å‹</title>
      <link href="/javaEE/Redis/2022/02/22/Redis-%E4%B8%89%E5%A4%A7%E7%89%B9%E6%AE%8A%E7%B1%BB%E5%9E%8B/"/>
      <url>/javaEE/Redis/2022/02/22/Redis-%E4%B8%89%E5%A4%A7%E7%89%B9%E6%AE%8A%E7%B1%BB%E5%9E%8B/</url>
      
        <content type="html"><![CDATA[<h2 id="ä¸‰ç§ç‰¹æ®Šç±»å‹"><a href="#ä¸‰ç§ç‰¹æ®Šç±»å‹" class="headerlink" title="ä¸‰ç§ç‰¹æ®Šç±»å‹"></a>ä¸‰ç§ç‰¹æ®Šç±»å‹</h2><h3 id="geospatial"><a href="#geospatial" class="headerlink" title="geospatial"></a>geospatial</h3><p>è¯¥æ•°æ®ç±»å‹æ˜¯ç”¨æ¥å­˜å‚¨<strong>åœ°ç†ç©ºé—´</strong>çš„</p><p>é™„è¿‘çš„äººï¼Œå‘é€å®šä½ï¼Œåˆ†äº«å®æ—¶ä½ç½®ï¼Œæ‰“è½¦çš„æ—¶å€™çš„è·ç¦»è®¡ç®—éƒ½å¯ä»¥é€šè¿‡è¿™ä¸ªå®ç°</p><p>æˆ‘ä»¬è¿™é‡Œä½¿ç”¨è¿™å‡ ä¸ªåŸå¸‚çš„ç»çº¬åº¦ä½œä¸ºæµ‹è¯•</p><table><thead><tr><th align="center">åŸå¸‚</th><th align="center">ç»åº¦</th><th align="center">ç»´åº¦</th></tr></thead><tbody><tr><td align="center">ç›¸åŸåŒº</td><td align="center">120.64239</td><td align="center">31.36889</td></tr><tr><td align="center">å´æ±ŸåŒº</td><td align="center">120.638317</td><td align="center">31.159815</td></tr><tr><td align="center">å¤ªä»“</td><td align="center">121.10891</td><td align="center">31.4497</td></tr><tr><td align="center">å¸¸ç†Ÿå¸‚</td><td align="center">120.75225</td><td align="center">31.65374</td></tr><tr><td align="center">æ˜†å±±å¸‚</td><td align="center">120.98074</td><td align="center">31.38464</td></tr></tbody></table><p>è¿™é‡Œæœ‰å…­ä¸ªåŸºæœ¬å‘½ä»¤ï¼Œæˆ‘ä»¬æ¥ä¸€ä¸ªä¸ªçœ‹</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># geoadd key longitude latitude member [longitude latitude member..]</span></span><br><span class="line"><span class="comment"># å¢åŠ ä¸€ä¸ªç»çº¬åº¦çš„åæ ‡</span></span><br><span class="line"><span class="comment"># ä¸¤ææ— æ³•æ·»åŠ ï¼Œä¸€èˆ¬æˆ‘ä»¬é€šè¿‡javaç¨‹åºä¸€æ¬¡æ€§å¯¼å…¥</span></span><br><span class="line">127.0.0.1:6379&gt; geoadd Suzhou 120.64239 31.36889 XiangChengDistrict 120.638317 31.159815 WuJiangDistrict 121.10891 31.4497 TaiCang 120.75225 31.65374 ChangShuCity 120.98074 31.38464 KunShanCity</span><br><span class="line">(<span class="built_in">integer</span>) 5</span><br><span class="line"></span><br><span class="line"><span class="comment"># geodist key member1 member2 [unit]</span></span><br><span class="line"><span class="comment"># è·å–ä¸¤åœ°ä¹‹é—´çš„è·ç¦»å•ä½ä¸ºç±³</span></span><br><span class="line">127.0.0.1:6379&gt; GEODIST Suzhou TaiCang WuJiangDistrict</span><br><span class="line"><span class="string">&quot;55133.1652&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; GEODIST Suzhou TaiCang KunShanCity km</span><br><span class="line"><span class="string">&quot;14.1556&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># geohash key member [member..]</span></span><br><span class="line"><span class="comment"># è·å–memberçš„äºŒç»´çš„ç©ºé—´ç»çº¬åº¦æ•°æ®ç¼–ç </span></span><br><span class="line"><span class="comment"># è¿™ä¸ªå¯ä»¥csdnæœä¸€ä¸‹å…·ä½“çš„ç®—æ³•å®ç°</span></span><br><span class="line">127.0.0.1:6379&gt; geohash Suzhou TaiCang</span><br><span class="line">1) <span class="string">&quot;wtw4gvhzf10&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># geopos key member [member..]</span></span><br><span class="line"><span class="comment"># æŸ¥çœ‹memberçš„ç»çº¬åº¦</span></span><br><span class="line">127.0.0.1:6379&gt; geopos Suzhou TaiCang XiangChengDistrict</span><br><span class="line">1) 1) <span class="string">&quot;121.10891193151474&quot;</span></span><br><span class="line">   2) <span class="string">&quot;31.449701065685858&quot;</span></span><br><span class="line">2) 1) <span class="string">&quot;120.64238995313644&quot;</span></span><br><span class="line">   2) <span class="string">&quot;31.368889085683811&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># georadius key longitude latitude radius m|km|ft|mi [WITHSCOORD] [WITHDIST] [WITHHASH] [COUNT count] [ASC| ESC]</span></span><br><span class="line"><span class="comment"># miæ˜¯è‹±é‡Œï¼Œftæ˜¯è‹±å°º</span></span><br><span class="line"><span class="comment"># ä»¥ç»™å®šçš„ç»çº¬åº¦ä¸ºä¸­å¿ƒï¼Œæ‰¾åˆ°æŸä¸€åŠå¾„å†…çš„å…ƒç´ </span></span><br><span class="line"><span class="comment"># WITHCOORDè¡¨ç¤ºæ˜¾ç¤ºåæ ‡</span></span><br><span class="line"><span class="comment"># WITHDISTè¡¨ç¤ºæ˜¾ç¤ºè·ç¦»è¯¥ç‚¹çš„ä½ç½®</span></span><br><span class="line"><span class="comment"># WITHHASHè¡¨ç¤ºæ˜¾ç¤ºè¯¥åœ°å€çš„hashå€¼</span></span><br><span class="line"><span class="comment"># COUNT countè¡¨ç¤ºæ˜¾ç¤ºå‡ ä¸ª</span></span><br><span class="line"><span class="comment"># ASC| ESC è¡¨ç¤ºæ­£åºè¿˜æ˜¯å€’åº</span></span><br><span class="line">127.0.0.1:6379&gt; georadius Suzhou 120.98080 31.28460 30 km withdist</span><br><span class="line">1) 1) <span class="string">&quot;KunShanCity&quot;</span></span><br><span class="line">   2) <span class="string">&quot;11.1271&quot;</span></span><br><span class="line">2) 1) <span class="string">&quot;TaiCang&quot;</span></span><br><span class="line">   2) <span class="string">&quot;22.0285&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># georadiusbymember key member radius m|km|ft|mi [WITHCOORD] [WITHDIST] [WITHHASH] [COUNT count] [ASC|DESC]</span></span><br><span class="line"><span class="comment"># ä»¥memberä¸ºä¸­å¿ƒradiusä¸ºåŠå¾„ï¼Œæ‰¾åˆ°åœ¨æ­¤èŒƒå›´ä¸­çš„å…ƒç´ </span></span><br><span class="line">127.0.0.1:6379&gt; georadiusbymember Suzhou TaiCang 30 km withcoord withdist withhash asc</span><br><span class="line">1) 1) <span class="string">&quot;TaiCang&quot;</span></span><br><span class="line">   2) <span class="string">&quot;0.0000&quot;</span></span><br><span class="line">   3) (<span class="built_in">integer</span>) 4054798020485654</span><br><span class="line">   4) 1) <span class="string">&quot;121.10891193151474&quot;</span></span><br><span class="line">      2) <span class="string">&quot;31.449701065685858&quot;</span></span><br><span class="line">2) 1) <span class="string">&quot;KunShanCity&quot;</span></span><br><span class="line">   2) <span class="string">&quot;14.1556&quot;</span></span><br><span class="line">   3) (<span class="built_in">integer</span>) 4054794184325796</span><br><span class="line">   4) 1) <span class="string">&quot;120.98073989152908&quot;</span></span><br><span class="line">      2) <span class="string">&quot;31.38463984296795&quot;</span></span><br></pre></td></tr></table></figure><p>geoçš„åº•å±‚å…¶å®æ˜¯Zsetï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨Zsetçš„å‘½ä»¤å»æ“ä½œgeo</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; zrem Suzhou TaiCang</span><br><span class="line">(<span class="built_in">integer</span>) 1</span><br><span class="line">127.0.0.1:6379&gt; zrange Suzhou 0 -1</span><br><span class="line">1) <span class="string">&quot;WuJiangDistrict&quot;</span></span><br><span class="line">2) <span class="string">&quot;XiangChengDistrict&quot;</span></span><br><span class="line">3) <span class="string">&quot;ChangShuCity&quot;</span></span><br><span class="line">4) <span class="string">&quot;KunShanCity&quot;</span></span><br></pre></td></tr></table></figure><h3 id="Hyperloglog"><a href="#Hyperloglog" class="headerlink" title="Hyperloglog"></a>Hyperloglog</h3><blockquote><p>å…ˆæ¥äº†è§£ä¸€ä¸‹åŸºæ•°æ˜¯ä»€ä¹ˆï¼Ÿ</p></blockquote><p>åŸºæ•°å…¶å®å°±æ˜¯ä¸€ä¸ªé›†åˆä¸­<strong>ä¸é‡å¤çš„å…ƒç´ ä¸ªæ•°</strong>ï¼Œå…¶å®å°±æ˜¯ä¸€ä¸ªé›†åˆå»é‡åçš„é›†åˆé•¿åº¦</p><p>ä¸šåŠ¡åœºæ™¯ï¼š</p><p>ç½‘ç«™çš„è®¿é—®é‡ï¼ˆä¸€ä¸ªäººè®¿é—®ä¸€ä¸ªç½‘ç«™å¤šæ¬¡ï¼Œä¹Ÿç®—ä¸€ä¸ªäººï¼‰</p><p>ä¼ ç»Ÿä½¿ç”¨seté›†åˆçš„é‡å¤æ— åºçš„ç‰¹æ€§ï¼Œå¯ä»¥ä¿å­˜ç”¨æˆ·çš„idï¼Œä»¥seté›†åˆçš„é•¿åº¦ä½œä¸ºæ ‡å‡†ã€‚ä½†æ˜¯ï¼Œä¸“é—¨ä½¿ç”¨ä¸€ä¸ªsetæ¥ä¿å­˜ç”¨æˆ·idæœªå…ä¼˜ç‚¹å¥¢ä¾ˆï¼Œå¦‚æœidæ˜¯åˆ†å¸ƒå¼çš„ä¼šå¾ˆå¤æ‚ï¼Œå¯¼è‡´seté›†åˆå¾ˆåºå¤§ï¼Œæ‰€ä»¥éœ€è¦ä¸€ä¸ªæ–¹æ³•æ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚</p><p>Hyperloglogå°±æ˜¯ç”¨æ¥è§£å†³æ­¤é—®é¢˜çš„ç®—æ³•ã€‚</p><p>ä¼˜ç‚¹ï¼šå ç”¨å¾ˆå°çš„å†…å­˜ç©ºé—´å­˜æ”¾2^64ä¸ªæ•°æ®ï¼Œä¹Ÿåªå ç”¨12kb</p><p>ç‘•ç–µï¼šä¼šæœ‰0.81%çš„é”™è¯¯ç‡</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># pfadd key member [member..]</span></span><br><span class="line">127.0.0.1:6379&gt; pfadd <span class="built_in">set</span> a b c d e f g h i j k l</span><br><span class="line">(<span class="built_in">integer</span>) 1</span><br><span class="line"></span><br><span class="line"><span class="comment"># pfcount key [key..]</span></span><br><span class="line"><span class="comment"># è¿”å›åŸºæ•°</span></span><br><span class="line">127.0.0.1:6379&gt; pfcount <span class="built_in">set</span></span><br><span class="line">(<span class="built_in">integer</span>) 12</span><br><span class="line">127.0.0.1:6379&gt; pfadd set2 j k l m n</span><br><span class="line">(<span class="built_in">integer</span>) 1</span><br><span class="line">127.0.0.1:6379&gt; pfcount <span class="built_in">set</span> set2</span><br><span class="line">(<span class="built_in">integer</span>) 14</span><br><span class="line"></span><br><span class="line"><span class="comment"># pfmerge destkey sourcekey [sourcekey..]</span></span><br><span class="line"><span class="comment"># å°†sourcekeyåˆå¹¶åˆ°destkey</span></span><br><span class="line">127.0.0.1:6379&gt; pfmerge <span class="built_in">set</span> set2</span><br><span class="line">OK</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ¢ç©¶åº•å±‚ï¼š</span></span><br><span class="line"><span class="comment"># æˆ‘ä»¬è·å–ä¸€ä¸‹æ­¤æ•°æ®çš„æ•°æ®ç±»å‹ï¼Œå¯ä»¥çœ‹åˆ°å®é™…ä¸Šå­˜å‚¨çš„æ˜¯string</span></span><br><span class="line">127.0.0.1:6379&gt; <span class="built_in">type</span> <span class="built_in">set</span></span><br><span class="line">string</span><br><span class="line">127.0.0.1:6379&gt; get <span class="built_in">set</span></span><br><span class="line"><span class="string">&quot;HYLL\x01\x00\x00\x00\x0c\x00\x00\x00\x00\x00\x00\x00Fm\x80I\xe8\x80@\xc4\x84K\\\x80D&lt;\x848\x80B=\x80K\x83\x80B\xed\x84A\xfc\x8cG\x8e\x80Bm\x80BZ&quot;</span></span><br></pre></td></tr></table></figure><h3 id="Bitmap"><a href="#Bitmap" class="headerlink" title="Bitmap"></a>Bitmap</h3><p>ä½å­˜å‚¨ï¼Œä¸€èˆ¬ä½¿ç”¨ä¸¤ç§çŠ¶æ€çš„åŒºåˆ†</p><p>æ¯”å¦‚ç»Ÿè®¡ä¸­å›½çš„ç”·å­å’Œå¥³å­çš„æ•°ç›®</p><p>14äº¿ä¸ªäºŒè¿›åˆ¶æ•°ï¼Œ0ä»£è¡¨å¥³å­ï¼Œ1ä»£è¡¨ç”·</p><p>0 0 1 1 1 0 1 â€¦</p><p>ç™»å½•ï¼Œå¤´åƒæ˜¯äº®ç€çš„ï¼Œæœªç™»å½•ï¼Œå¤´åƒæ˜¯ç°è‰²çš„ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># setbit key offset value</span></span><br><span class="line"><span class="comment"># è®¾ç½®offsetä½æ˜¯value</span></span><br><span class="line">127.0.0.1:6379&gt; setbit sign 0 0</span><br><span class="line">(<span class="built_in">integer</span>) 0</span><br><span class="line">127.0.0.1:6379&gt; setbit sign 1 1</span><br><span class="line">(<span class="built_in">integer</span>) 0</span><br><span class="line">127.0.0.1:6379&gt; setbit sign 2 0</span><br><span class="line">(<span class="built_in">integer</span>) 0</span><br><span class="line">127.0.0.1:6379&gt; setbit sign 3 1</span><br><span class="line">(<span class="built_in">integer</span>) 0</span><br><span class="line"><span class="comment"># ä¸­å›½signå¯ä»¥ä»£è¡¨</span></span><br><span class="line"><span class="comment"># æ˜ŸæœŸæ—¥æœªæ‰“å¡</span></span><br><span class="line"><span class="comment"># æ˜ŸæœŸä¸€å·²æ‰“å¡</span></span><br><span class="line"><span class="comment"># æ˜ŸæœŸäºŒæœªæ‰“å¡</span></span><br><span class="line"><span class="comment"># æ˜ŸæœŸä¸‰å·²æ‰“å¡</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># getbit key offset</span></span><br><span class="line"><span class="comment"># æŸ¥çœ‹è¯¥å¤©æ˜¯å¦æ‰“å¡</span></span><br><span class="line">127.0.0.1:6379&gt; getbit sign 3</span><br><span class="line">(<span class="built_in">integer</span>) 1</span><br><span class="line"></span><br><span class="line"><span class="comment"># bitcount key [start end]</span></span><br><span class="line"><span class="comment"># æŸ¥çœ‹signä¸­ä¸º1çš„ä¸ªæ•°</span></span><br><span class="line">127.0.0.1:6379&gt; BITCOUNT sign</span><br><span class="line">(<span class="built_in">integer</span>) 2</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> javaEE </category>
          
          <category> Redis </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Redis </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ã€2-Mediumã€‘ä¸¤æ•°ç›¸åŠ </title>
      <link href="/%E7%AE%97%E6%B3%95/%E5%88%B7%E9%A2%98%E7%AF%87/2022/02/21/%E3%80%902-Medium%E3%80%91%E4%B8%A4%E6%95%B0%E7%9B%B8%E5%8A%A0/"/>
      <url>/%E7%AE%97%E6%B3%95/%E5%88%B7%E9%A2%98%E7%AF%87/2022/02/21/%E3%80%902-Medium%E3%80%91%E4%B8%A4%E6%95%B0%E7%9B%B8%E5%8A%A0/</url>
      
        <content type="html"><![CDATA[<h2 id="ä¸¤æ•°ç›¸åŠ "><a href="#ä¸¤æ•°ç›¸åŠ " class="headerlink" title="ä¸¤æ•°ç›¸åŠ "></a>ä¸¤æ•°ç›¸åŠ </h2><p>ç»™ä½ ä¸¤ä¸ª <strong>éç©º</strong> çš„é“¾è¡¨ï¼Œè¡¨ç¤ºä¸¤ä¸ªéè´Ÿçš„æ•´æ•°ã€‚å®ƒä»¬æ¯ä½æ•°å­—éƒ½æ˜¯æŒ‰ç…§ <strong>é€†åº</strong> çš„æ–¹å¼å­˜å‚¨çš„ï¼Œå¹¶ä¸”æ¯ä¸ªèŠ‚ç‚¹åªèƒ½å­˜å‚¨ <strong>ä¸€ä½</strong> æ•°å­—ã€‚</p><p>è¯·ä½ å°†ä¸¤ä¸ªæ•°ç›¸åŠ ï¼Œå¹¶ä»¥ç›¸åŒå½¢å¼è¿”å›ä¸€ä¸ªè¡¨ç¤ºå’Œçš„é“¾è¡¨ã€‚</p><p>ä½ å¯ä»¥å‡è®¾é™¤äº†æ•°å­— 0 ä¹‹å¤–ï¼Œè¿™ä¸¤ä¸ªæ•°éƒ½ä¸ä¼šä»¥ 0 å¼€å¤´ã€‚</p><p>ListNode</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//Definition for singly-linked list.</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ListNode</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> val;</span><br><span class="line">    ListNode next;</span><br><span class="line">    ListNode() &#123;&#125;</span><br><span class="line">    ListNode(<span class="keyword">int</span> val) &#123; <span class="keyword">this</span>.val = val; &#125;</span><br><span class="line">    ListNode(<span class="keyword">int</span> val, ListNode next) &#123; <span class="keyword">this</span>.val = val; <span class="keyword">this</span>.next = next; &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>ç¤ºä¾‹1:</strong></p><figure class="highlight inform7"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šl1 = <span class="comment">[2,4,3]</span>, l2 = <span class="comment">[5,6,4]</span></span><br><span class="line">è¾“å‡ºï¼š<span class="comment">[7,0,8]</span></span><br><span class="line">è§£é‡Šï¼š342 + 465 = 807.</span><br></pre></td></tr></table></figure><p><strong>ç¤ºä¾‹ 2ï¼š</strong></p><figure class="highlight inform7"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šl1 = <span class="comment">[0]</span>, l2 = <span class="comment">[0]</span></span><br><span class="line">è¾“å‡ºï¼š<span class="comment">[0]</span></span><br></pre></td></tr></table></figure><p><strong>ç¤ºä¾‹ 3ï¼š</strong></p><figure class="highlight dns"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šl1 = [<span class="number">9,9,9,9</span>,<span class="number">9</span>,<span class="number">9</span>,<span class="number">9</span>], l2 = [<span class="number">9,9,9,9</span>]</span><br><span class="line">è¾“å‡ºï¼š[<span class="number">8,9,9,9</span>,<span class="number">0,0,0,1</span>]</span><br></pre></td></tr></table></figure><p><strong>å›¾ç¤º1ï¼š</strong></p><img src="/%E7%AE%97%E6%B3%95/%E5%88%B7%E9%A2%98%E7%AF%87/2022/02/21/%E3%80%902-Medium%E3%80%91%E4%B8%A4%E6%95%B0%E7%9B%B8%E5%8A%A0/%E5%9B%BE%E7%A4%BA1.png" class title="å›¾ç¤º1"><p><strong>å›¾ç¤º2ï¼š</strong></p><img src="/%E7%AE%97%E6%B3%95/%E5%88%B7%E9%A2%98%E7%AF%87/2022/02/21/%E3%80%902-Medium%E3%80%91%E4%B8%A4%E6%95%B0%E7%9B%B8%E5%8A%A0/%E5%9B%BE%E7%A4%BA2.png" class title="å›¾ç¤º2"><p><strong>æç¤ºï¼š</strong></p><ul><li>æ¯ä¸ªé“¾è¡¨ä¸­çš„èŠ‚ç‚¹æ•°åœ¨èŒƒå›´ <code>[1, 100]</code> å†…</li><li><code>0 &lt;= Node.val &lt;= 9</code></li><li>é¢˜ç›®æ•°æ®ä¿è¯åˆ—è¡¨è¡¨ç¤ºçš„æ•°å­—ä¸å«å‰å¯¼é›¶</li></ul><p><strong>Related Topics</strong></p><ul><li>é€’å½’</li><li>é“¾è¡¨</li><li>æ•°å­¦</li></ul><h3 id="é“¾è¡¨è½¬å€¼è®¡ç®—"><a href="#é“¾è¡¨è½¬å€¼è®¡ç®—" class="headerlink" title="é“¾è¡¨è½¬å€¼è®¡ç®—"></a>é“¾è¡¨è½¬å€¼è®¡ç®—</h3><p>é‡åˆ°è¿™ç§é“¾è¡¨çš„é¢˜ï¼Œç¬¬ä¸€æ­¥å°±æ˜¯å°†é€»è¾‘å›¾ç”»å‡ºæ¥</p><p>ç»è¿‡è§‚å¯Ÿå¯çŸ¥ï¼Œé“¾è¡¨çš„ç¬¬ä¸€ä½è¡¨ç¤ºè¯¥æ•°å­—çš„ä¸ªä½ï¼Œç¬¬äºŒä½ä»£è¡¨è¯¥æ•°å­—çš„åä½ï¼Œä»¥æ­¤ç±»æ¨ã€‚</p><p>æˆ‘ç¬¬ä¸€ä¸ªæƒ³åˆ°çš„è§£é¢˜æ€è·¯å°±æ˜¯</p><p>1ã€å°†é“¾è¡¨è¡¨ç¤ºçš„æ•°å­—ç®—å‡ºæ¥</p><p>2ã€å°†ä¸¤ä¸ªæ•°å­—åŠ èµ·æ¥</p><p>3ã€ç”¨è¯¥æ•°å­—æ„å»ºå‡ºæ¥ç»“æœé“¾è¡¨å¹¶è¿”å›</p><blockquote><p>ç¤ºä¾‹ä»£ç </p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> ListNode <span class="title">addTwoNumbers</span><span class="params">(ListNode l1, ListNode l2)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">long</span> sum = compute(l1) + compute(l2);</span><br><span class="line">        ListNode listNode = <span class="keyword">new</span> ListNode();</span><br><span class="line">        <span class="comment">// è¿™é‡Œçš„listNodeæ˜¯è™šæ‹ŸèŠ‚ç‚¹ï¼Œæœ€åè¿”å›çš„æ˜¯è¯¥èŠ‚ç‚¹çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹</span></span><br><span class="line">        ListNode temp = listNode;</span><br><span class="line">        <span class="keyword">while</span> (sum != <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="comment">// è¿™é‡Œéœ€è¦ä½¿ç”¨å¼ºè½¬</span></span><br><span class="line">            <span class="comment">// (sum % 10)çš„ç»“æœæ˜¯longç±»å‹ï¼Œç›´æ¥èµ‹å€¼ç»™ListNodeçš„intå‹çš„valä¼šæŠ¥é”™</span></span><br><span class="line">            temp.next = <span class="keyword">new</span> ListNode((<span class="keyword">int</span>) (sum % <span class="number">10</span>));</span><br><span class="line">            temp = temp.next;</span><br><span class="line">            sum /= <span class="number">10</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> listNode.next;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * è¯¥å‡½æ•°æ˜¯ä¸ºäº†è®¡ç®—é“¾è¡¨æ‰€è¡¨ç¤ºçš„å€¼</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">long</span> <span class="title">compute</span><span class="params">(ListNode node)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">long</span> result = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">long</span> i = <span class="number">1</span>; node != <span class="keyword">null</span>; node = node.next, i *= <span class="number">10L</span>) &#123;</span><br><span class="line">            result += node.val * i;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ¥ç®—ä¸€ä¸‹<code>long</code>çš„æœ€å¤§å€¼æ˜¯å¤šå°‘</p><p><code>long</code>åœ¨<code>Java</code>é‡Œé¢ä½¿ç”¨8ä¸ªå­—èŠ‚ä¹Ÿå°±æ˜¯64ä½ï¼Œæœ€å¤§å€¼ä¹Ÿå°±æ˜¯2^64-1ï¼Œä¹Ÿå°±æ˜¯<code>9_223_372_036_854_775_807</code></p><p>æ­¤æ–¹æ³•ä¹ä¸€çœ‹ç¡®å®æ²¡é—®é¢˜</p><p>ä½†æ˜¯é¢˜ç›®æç¤ºæœ‰ä»¥ä¸‹è¦æ±‚</p><img src="/%E7%AE%97%E6%B3%95/%E5%88%B7%E9%A2%98%E7%AF%87/2022/02/21/%E3%80%902-Medium%E3%80%91%E4%B8%A4%E6%95%B0%E7%9B%B8%E5%8A%A0/%E9%A2%98%E7%9B%AE%E8%A6%81%E6%B1%82.png" class title="é¢˜ç›®è¦æ±‚"><p>æµ‹è¯•çš„æ—¶å€™å¯èƒ½ä¼šå‡ºç°100ä½çš„æ•°å­—ï¼Œ<code>long</code>ç±»å‹æœ€å¤§å€¼è¿œè¿œä¸å¤Ÿ</p><p>å½“é“¾è¡¨å¾ˆé•¿çš„æ—¶å€™ï¼Œè¯¥æ–¹æ³•å°±ä¼šè¶…æ—¶å¹¶ä¸”å‘ç”Ÿæº¢å‡ºé”™è¯¯</p><h3 id="é€’å½’"><a href="#é€’å½’" class="headerlink" title="é€’å½’"></a>é€’å½’</h3><p>ç°åœ¨æœ‰ä¸¤ä¸ªé“¾è¡¨ï¼Œè¦æ¸…æ¥šä¸¤ç‚¹</p><p>1ã€ä¸¤ä¸ªé“¾è¡¨çš„é•¿åº¦ä¸ä¸€å®šç›¸åŒ</p><p>2ã€ä¸¤ä¸ªé“¾è¡¨ç›¸åŠ åï¼Œé•¿åº¦ä¸ä¸€å®šä¸å˜</p><p>é€’å½’éœ€è¦å…ˆå°†é€’å½’é€€å‡ºæ¡ä»¶å†™å‡ºæ¥ï¼Œå³ä¸¤è€…éƒ½åˆ°å°¾éƒ¨ï¼Œå…ˆå°±ç®€å•çœ‹çœ‹æˆ‘ç”»çš„æ€è·¯å›¾</p><img src="/%E7%AE%97%E6%B3%95/%E5%88%B7%E9%A2%98%E7%AF%87/2022/02/21/%E3%80%902-Medium%E3%80%91%E4%B8%A4%E6%95%B0%E7%9B%B8%E5%8A%A0/%E9%80%92%E5%BD%92%E8%A7%A3%E9%A2%98%E5%9B%BE.png" class title="é€’å½’è§£é¢˜å›¾"><blockquote><p>ç¤ºä¾‹ä»£ç  1</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> ListNode <span class="title">addTwoNumbers</span><span class="params">(ListNode l1, ListNode l2)</span> </span>&#123;</span><br><span class="line">        ListNode listNode = <span class="keyword">new</span> ListNode();</span><br><span class="line">        add(l1,l2,listNode);</span><br><span class="line">        <span class="keyword">return</span> listNode;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> ListNode <span class="title">add</span><span class="params">(ListNode a,ListNode b,ListNode temp)</span></span>&#123;</span><br><span class="line">        <span class="comment">// å½“ä¸¤ä¸ªé“¾è¡¨éƒ½åˆ°å¤´äº†ï¼Œåˆ™é€€å‡ºé€’å½’</span></span><br><span class="line">        <span class="keyword">if</span>(a==<span class="keyword">null</span>&amp;&amp;b==<span class="keyword">null</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> temp;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// æ­¤å˜é‡æ˜¯ç”¨æ¥æ ‡æ³¨ä¸‹ä¸€æ¬¡é€’å½’çš„æ—¶å€™ä¸¤ä¸ªé“¾è¡¨æ˜¯å¦æ˜¯éƒ½å°¾éƒ¨äº†</span></span><br><span class="line">        <span class="keyword">boolean</span> flag=<span class="keyword">false</span>;</span><br><span class="line">        <span class="comment">// å½“aåˆ°å°¾éƒ¨çš„æ—¶å€™ï¼Œå°†tempçš„æ•°æ®åŸŸå˜ä¸ºè‡ªèº«åŠ ä¸Šbçš„æ•°æ®åŸŸçš„å€¼</span></span><br><span class="line">        <span class="keyword">if</span>(a==<span class="keyword">null</span>)&#123;</span><br><span class="line">            temp.val+=b.val;</span><br><span class="line">            <span class="comment">// åœ¨aå·²ç»åˆ°å°¾éƒ¨çš„æƒ…å†µä¸‹ï¼Œbçš„nextä¸ºnullï¼Œå³bå°†åœ¨ä¸‹ä¸€æ¬¡é€’å½’åˆ°å°¾éƒ¨äº†ï¼Œåˆ™å°†flagå˜ä¸ºtrue</span></span><br><span class="line">            <span class="keyword">if</span>(b.next==<span class="keyword">null</span>)&#123;</span><br><span class="line">                flag=<span class="keyword">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// å½“båˆ°å¤´çš„æ—¶å€™ï¼Œå°†tempçš„æ•°æ®åŸŸå˜ä¸ºè‡ªèº«åŠ ä¸Šbçš„æ•°æ®åŸŸçš„å€¼</span></span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(b==<span class="keyword">null</span>)&#123;</span><br><span class="line">            temp.val+=a.val;</span><br><span class="line">            <span class="comment">// åœ¨bå·²ç»åˆ°å°¾éƒ¨çš„æƒ…å†µä¸‹ï¼Œaçš„nextä¸ºnullï¼Œå³aå°†åœ¨ä¸‹ä¸€æ¬¡é€’å½’åˆ°å°¾éƒ¨äº†ï¼Œåˆ™å°†flagå˜ä¸ºtrue</span></span><br><span class="line">            <span class="keyword">if</span>(a.next==<span class="keyword">null</span>)&#123;</span><br><span class="line">                flag=<span class="keyword">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">            temp.val+=a.val+b.val;</span><br><span class="line">            <span class="keyword">if</span>(a.next==<span class="keyword">null</span>&amp;&amp;b.next==<span class="keyword">null</span>)&#123;</span><br><span class="line">                flag=<span class="keyword">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// leftç”¨æ¥å­˜å‚¨å½“å‰è¿™ä¸€ä½çš„å€¼æ˜¯å¦&gt;=10ï¼Œå¦‚æœæ»¡è¶³ï¼Œåˆ™è¿›1</span></span><br><span class="line">        <span class="keyword">int</span> left=temp.val&gt;=<span class="number">10</span>?<span class="number">1</span>:<span class="number">0</span>;</span><br><span class="line">        <span class="comment">// å°†leftä½œä¸ºåˆå§‹å€¼newå‡ºæ¥tempçš„ä¸‹ä¸€ä¸ªæŒ‡é’ˆ</span></span><br><span class="line">        temp.next = <span class="keyword">new</span> ListNode(left);</span><br><span class="line">        <span class="comment">// ä¸ºäº†é˜²æ­¢è¶…è¿‡åï¼Œæ‰€ä»¥è¿™é‡Œåšäº†å–ä½™çš„æ“ä½œï¼Œ</span></span><br><span class="line">        temp.val = temp.val%<span class="number">10</span>;</span><br><span class="line">        <span class="comment">// å¦‚æœä¸‹ä¸€æ¬¡é€’å½’çš„æ—¶å€™ä¸¤è€…éƒ½åˆ°äº†å°¾éƒ¨ï¼Œå¹¶ä¸”æ²¡æœ‰è¿›1ï¼Œåˆ™ä¸éœ€è¦newå‡ºæ¥tempçš„next </span></span><br><span class="line">        <span class="keyword">if</span>(flag&amp;&amp;left==<span class="number">0</span>)&#123;</span><br><span class="line">            temp.next=<span class="keyword">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//é€’å½’è°ƒç”¨</span></span><br><span class="line">        <span class="keyword">return</span> add(a==<span class="keyword">null</span>?<span class="keyword">null</span>:a.next,b==<span class="keyword">null</span>?<span class="keyword">null</span>:b.next,temp.next);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å…¶å®è¿™ç§é€’å½’å°±æ˜¯åŒ–ç®€ä¸ºç¹äº†</p><p>ä¸‹é¢è¿™ç§åšæ³•æ‰æ˜¯æˆ‘è§‰å¾—æ¯”è¾ƒå¥½çš„</p><blockquote><p>ç¤ºä¾‹ä»£ç  2</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> ListNode <span class="title">addTwoNumbers</span><span class="params">(ListNode l1, ListNode l2)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> addTwoNumbers(l1, l2, <span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> ListNode <span class="title">addTwoNumbers</span><span class="params">(ListNode l1, ListNode l2, <span class="keyword">int</span> flag)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// ä¸¤è€…éƒ½ä¸ºnullæ‰ä¼šç»“æŸé€’å½’</span></span><br><span class="line">        <span class="keyword">if</span> (l1 == <span class="keyword">null</span> &amp;&amp; l2 == <span class="keyword">null</span>) &#123;</span><br><span class="line">            ListNode tail = <span class="keyword">null</span>;</span><br><span class="line">            <span class="comment">// å¯èƒ½æœ€åè¿˜éœ€è¦è¿›ä½</span></span><br><span class="line">            <span class="keyword">if</span> (flag == <span class="number">1</span>) &#123;</span><br><span class="line">                tail = <span class="keyword">new</span> ListNode(<span class="number">1</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> tail;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> sum = flag;</span><br><span class="line">        <span class="keyword">if</span> (l1 != <span class="keyword">null</span>) &#123;</span><br><span class="line">            sum += l1.val;</span><br><span class="line">            l1 = l1.next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (l2 != <span class="keyword">null</span>) &#123;</span><br><span class="line">            sum += l2.val;</span><br><span class="line">            l2 = l2.next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// æ–°å»ºèŠ‚ç‚¹</span></span><br><span class="line">        ListNode node = <span class="keyword">new</span> ListNode(sum % <span class="number">10</span>);</span><br><span class="line">        <span class="comment">// èŠ‚ç‚¹çš„nextå°±é€’å½’å¤„ç†</span></span><br><span class="line">        node.next = addTwoNumbers(l1, l2, sum / <span class="number">10</span>);</span><br><span class="line">        <span class="comment">// è¿”å›è¿™ä¸ªæ–°å»ºçš„èŠ‚ç‚¹ï¼Œæœ€åä¸€å±‚è¿”å›çš„ä¹Ÿå°±æ˜¯å¤´èŠ‚ç‚¹</span></span><br><span class="line">        <span class="keyword">return</span> node;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="é½å¤´å¹¶è¿›éå†"><a href="#é½å¤´å¹¶è¿›éå†" class="headerlink" title="é½å¤´å¹¶è¿›éå†"></a>é½å¤´å¹¶è¿›éå†</h3><p>ç›´æ¥ä¸¤æ¡é“¾è¡¨ä¸€èµ·éå†</p><p>ç”¨ä¸€ä¸ªå˜é‡å­˜å‚¨æ˜¯å¦éœ€è¦è¿›ä½</p><p>è¿™ä¸ªæ€è·¯å…¶å®å’Œç¬¬äºŒç§é€’å½’çš„å†™æ³•æ€è·¯æ˜¯ä¸€æ ·çš„</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> ListNode <span class="title">addTwoNumbers</span><span class="params">(ListNode l1, ListNode l2)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> flag = <span class="number">0</span>;</span><br><span class="line">        <span class="comment">// è™šæ‹Ÿå¤´èŠ‚ç‚¹</span></span><br><span class="line">        ListNode dummy = <span class="keyword">new</span> ListNode(<span class="number">0</span>);</span><br><span class="line">        ListNode node = dummy;</span><br><span class="line">        <span class="comment">// åªæœ‰æœ‰ä¸€ä¸ªæ²¡æœ‰åˆ°å°¾éƒ¨ï¼Œå°±ä¸€ç›´å¾ªç¯</span></span><br><span class="line">        <span class="keyword">while</span> (l1 != <span class="keyword">null</span> || l2 != <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">int</span> sum = flag;</span><br><span class="line">            <span class="keyword">if</span> (l1 != <span class="keyword">null</span>) &#123;</span><br><span class="line">                sum += l1.val;</span><br><span class="line">                l1 = l1.next;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (l2 != <span class="keyword">null</span>) &#123;</span><br><span class="line">                sum += l2.val;</span><br><span class="line">                l2 = l2.next;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// è®°å½•æ˜¯å¦éœ€è¦è¿›ä½</span></span><br><span class="line">            flag = sum / <span class="number">10</span>;</span><br><span class="line">            <span class="comment">// æ–°å»ºèŠ‚ç‚¹å¹¶æ¥åˆ°nodeåé¢</span></span><br><span class="line">            node.next = <span class="keyword">new</span> ListNode(sum % <span class="number">10</span>);</span><br><span class="line">            node = node.next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// å¦‚æœæœ€åä¸€æ¬¡éœ€è¦è¿›ä½ï¼Œéœ€è¦ä¿®è¡¥ä¸€ä¸‹</span></span><br><span class="line">        <span class="keyword">if</span> (flag == <span class="number">1</span>) &#123;</span><br><span class="line">            node.next = <span class="keyword">new</span> ListNode(<span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// åˆ¤æ–­dummyçš„nextæ˜¯å¦ä¸ºç©º</span></span><br><span class="line">        <span class="comment">// ä¸ºç©ºçš„æ—¶å€™å°±æ˜¯l1å’Œl2éƒ½æ˜¯nullï¼Œé‚£ä¹ˆå°±è¿”å›dummyå³å¯</span></span><br><span class="line">        <span class="comment">// ä¸ä¸ºç©ºçš„æ—¶å€™å°±è¯´æ˜l1æˆ–è€…l2æœ‰ä¸€ä¸ªä¸ç©ºï¼Œé‚£å°±ç›´æ¥è¿”å›dummyçš„nextå³å¯</span></span><br><span class="line">        <span class="keyword">return</span> dummy.next == <span class="keyword">null</span> ? dummy : dummy.next;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
          <category> åˆ·é¢˜ç¯‡ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç®—æ³• </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ã€1-Easyã€‘ä¸¤æ•°ä¹‹å’Œ</title>
      <link href="/%E7%AE%97%E6%B3%95/%E5%88%B7%E9%A2%98%E7%AF%87/2022/02/21/%E3%80%901-Easy%E3%80%91%E4%B8%A4%E6%95%B0%E4%B9%8B%E5%92%8C/"/>
      <url>/%E7%AE%97%E6%B3%95/%E5%88%B7%E9%A2%98%E7%AF%87/2022/02/21/%E3%80%901-Easy%E3%80%91%E4%B8%A4%E6%95%B0%E4%B9%8B%E5%92%8C/</url>
      
        <content type="html"><![CDATA[<h2 id="ä¸¤æ•°ä¹‹å’Œ"><a href="#ä¸¤æ•°ä¹‹å’Œ" class="headerlink" title="ä¸¤æ•°ä¹‹å’Œ"></a>ä¸¤æ•°ä¹‹å’Œ</h2><p>ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ <code>nums</code> å’Œä¸€ä¸ªæ•´æ•°ç›®æ ‡å€¼ <code>target</code>ï¼Œè¯·ä½ åœ¨è¯¥æ•°ç»„ä¸­æ‰¾å‡º <strong>å’Œä¸ºç›®æ ‡å€¼</strong> <em><code>target</code></em> çš„é‚£ <strong>ä¸¤ä¸ª</strong> æ•´æ•°ï¼Œå¹¶è¿”å›å®ƒä»¬çš„æ•°ç»„ä¸‹æ ‡ã€‚</p><p>ä½ å¯ä»¥å‡è®¾æ¯ç§è¾“å…¥åªä¼šå¯¹åº”ä¸€ä¸ªç­”æ¡ˆã€‚ä½†æ˜¯ï¼Œæ•°ç»„ä¸­åŒä¸€ä¸ªå…ƒç´ åœ¨ç­”æ¡ˆé‡Œä¸èƒ½é‡å¤å‡ºç°ã€‚</p><p>ä½ å¯ä»¥æŒ‰ä»»æ„é¡ºåºè¿”å›ç­”æ¡ˆã€‚</p><p><strong>ç¤ºä¾‹ 1ï¼š</strong></p><figure class="highlight inform7"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šnums = <span class="comment">[2,7,11,15]</span>, target = 9</span><br><span class="line">è¾“å‡ºï¼š<span class="comment">[0,1]</span></span><br><span class="line">è§£é‡Šï¼šå› ä¸º nums<span class="comment">[0]</span> + nums<span class="comment">[1]</span> == 9 ï¼Œè¿”å› <span class="comment">[0, 1]</span> ã€‚</span><br></pre></td></tr></table></figure><p><strong>ç¤ºä¾‹ 2ï¼š</strong></p><figure class="highlight inform7"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šnums = <span class="comment">[3,2,4]</span>, target = 6</span><br><span class="line">è¾“å‡ºï¼š<span class="comment">[1,2]</span></span><br></pre></td></tr></table></figure><p><strong>ç¤ºä¾‹ 3ï¼š</strong></p><figure class="highlight inform7"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šnums = <span class="comment">[3,3]</span>, target = 6</span><br><span class="line">è¾“å‡ºï¼š<span class="comment">[0,1]</span></span><br></pre></td></tr></table></figure><p><strong>æç¤ºï¼š</strong></p><ul><li><code>2 &lt;= nums.length &lt;= 104</code></li><li><code>-109 &lt;= nums[i] &lt;= 109</code></li><li><code>-109 &lt;= target &lt;= 109</code></li><li><strong>åªä¼šå­˜åœ¨ä¸€ä¸ªæœ‰æ•ˆç­”æ¡ˆ</strong></li><li><strong>è¿›é˜¶ï¼š</strong>ä½ å¯ä»¥æƒ³å‡ºä¸€ä¸ªæ—¶é—´å¤æ‚åº¦å°äº <code>O(n2)</code> çš„ç®—æ³•å—ï¼Ÿ</li></ul><p><strong>Related Topics</strong></p><ul><li>æ•°ç»„</li><li>å“ˆå¸Œè¡¨</li></ul><h3 id="æš´åŠ›æšä¸¾æ³•"><a href="#æš´åŠ›æšä¸¾æ³•" class="headerlink" title="æš´åŠ›æšä¸¾æ³•"></a>æš´åŠ›æšä¸¾æ³•</h3><p>é¢˜ç›®æ„æ€å¾ˆæ˜ç¡®ï¼Œå°±æ˜¯ç»™ä¸€ä¸ª<code>target</code>å’Œä¸€ä¸ªæ•°ç»„</p><p>ç›®æ ‡æ˜¯åœ¨è¿™ä¸ªæ•°ç»„é‡Œé¢æ‰¾åˆ° <strong>å’Œæ˜¯</strong> <code>target</code> çš„é‚£ä¸¤ä¸ªæ•°çš„ç´¢å¼•æ•°ç»„</p><p>æš´åŠ›æšä¸¾å¾ˆç®€å•ï¼Œä»£ç ç›´æ¥ç»™å‡º</p><blockquote><p>ç¤ºä¾‹ä»£ç </p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span>[] twoSum(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> target) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; nums.length; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; nums.length; j++) &#123;</span><br><span class="line">                <span class="comment">// å¦‚æœæ‰¾åˆ°äº†ï¼Œé‚£å°±ä¿å­˜ç»“æœå¹¶è¿”å›</span></span><br><span class="line">                <span class="keyword">if</span> (j != i &amp;&amp; nums[j] == target - nums[i]) &#123;</span><br><span class="line">                    <span class="keyword">return</span> <span class="keyword">new</span> <span class="keyword">int</span>[]&#123;i, j&#125;;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// æ²¡æœ‰ç¬¦åˆè¦æ±‚çš„ä¸¤ä¸ªæ•°</span></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="keyword">int</span>[]&#123;-<span class="number">1</span>, -<span class="number">1</span>&#125;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="å“ˆå¸Œè¡¨"><a href="#å“ˆå¸Œè¡¨" class="headerlink" title="å“ˆå¸Œè¡¨"></a>å“ˆå¸Œè¡¨</h3><p>æš´åŠ›æšä¸¾å–åˆ°<code>target-nums[i]</code>çš„æ–¹æ³•æ˜¯éå†ç®—æ³•</p><p>å…³é”®åœ¨äºå¦‚ä½•å¿«é€ŸçŸ¥é“<code>i</code>åé¢æœ‰æ²¡æœ‰ç­‰äº<code>target-nums[i]</code>çš„å€¼</p><p>é‚£ä¹ˆå°±å¯ä»¥ä½¿ç”¨<code>Map</code>ç»“æ„æ¥è§£å†³è¿™ä¸ªé—®é¢˜</p><blockquote><p>ç¤ºä¾‹ä»£ç </p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span>[] twoSum(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> target) &#123;</span><br><span class="line">        <span class="comment">// é”®ä¸ºnums[i]</span></span><br><span class="line">        <span class="comment">// å€¼ä¸ºç´¢å¼•</span></span><br><span class="line">        HashMap&lt;Integer, Integer&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; nums.length; i++) &#123;</span><br><span class="line">            <span class="comment">// æ‰¾åˆ°äº†target-nums[i]</span></span><br><span class="line">            <span class="keyword">if</span> (map.containsKey(target - nums[i])) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">new</span> <span class="keyword">int</span>[]&#123;map.get(target - nums[i]), i&#125;;</span><br><span class="line">            &#125;</span><br><span class="line">            map.put(nums[i], i);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// è¯´æ˜æ²¡æ‰¾åˆ°</span></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="keyword">int</span>[]&#123;-<span class="number">1</span>, -<span class="number">1</span>&#125;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="Tips"><a href="#Tips" class="headerlink" title="Tips"></a>Tips</h4><p>ç›¸ä¿¡å¾ˆå¤šåŒå­¦çœ‹åˆ°è¿™ç§æ–¹æ³•ï¼Œç¬¬ä¸€ååº”å¯èƒ½ä¸æ˜¯è¿™æ ·å†™çš„</p><p>ä½ çš„ä»£ç å¯èƒ½æ˜¯è¿™æ ·çš„ï¼Œå·®å¼‚å°±åœ¨<code>//==========================</code>ä¹‹é—´çš„ä»£ç </p><p>å…ˆéå†ä¸€éæ•°ç»„ï¼Œç›®çš„æ˜¯å°†å€¼å’Œå…¶ç´¢å¼•å…ˆæ”¾å…¥<code>map</code></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span>[] twoSum(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> target) &#123;</span><br><span class="line">        <span class="comment">// é”®ä¸ºnums[i]</span></span><br><span class="line">        <span class="comment">// å€¼ä¸ºç´¢å¼•</span></span><br><span class="line">        <span class="comment">// ==========================</span></span><br><span class="line">        <span class="comment">// è¿™é‡Œæ‰‹åŠ¨è®¾ç½®å®¹å™¨åˆå§‹å¤§å°</span></span><br><span class="line">        <span class="comment">// è¿™æ ·æŒ‡å®šåˆå§‹å®¹é‡çš„åŸå› æ˜¯æ­¤mapè‚¯å®šä¸ä¼šæ”¾è¶…è¿‡nums.lengthæ•°ç›®çš„å…ƒç´ ï¼Œæ‰€ä»¥å°±è®¾ç½®é»˜è®¤å®¹é‡ä¸ºå…¶æ­£å¥½è¦æ‰©å®¹çš„æ•°é‡+1ï¼Œå°±ä¸ä¼šæ‰©å®¹äº†</span></span><br><span class="line">        <span class="comment">// è¿™é‡Œä¸æ‡‚å¾—è¯ï¼Œå°±ä¸å†™ï¼Œèµ°é»˜è®¤çš„å®¹é‡ç„¶åå®ƒè‡ªå·±æ‰©å®¹ä¹Ÿæ˜¯å¯ä»¥çš„</span></span><br><span class="line">        HashMap&lt;Integer, Integer&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;((<span class="keyword">int</span>)((<span class="keyword">float</span>) nums.length / <span class="number">0.75F</span> + <span class="number">1.0F</span>));</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; nums.length; i++) &#123;</span><br><span class="line">            map.put(nums[i], i);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// ==========================</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; nums.length; i++) &#123;</span><br><span class="line">            <span class="comment">// æ‰¾åˆ°äº†target-nums[i]</span></span><br><span class="line">            <span class="keyword">if</span> (map.containsKey(target - nums[i])) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">new</span> <span class="keyword">int</span>[]&#123;map.get(target - nums[i]), i&#125;;</span><br><span class="line">            &#125;</span><br><span class="line">            map.put(nums[i], i);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// è¯´æ˜æ²¡æ‰¾åˆ°</span></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="keyword">int</span>[]&#123;-<span class="number">1</span>, -<span class="number">1</span>&#125;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸ºä»€ä¹ˆä¸éœ€è¦æå‰éå†ä¸€éå°†å€¼å’Œç´¢å¼•çš„å¯¹åº”å…³ç³»æ”¾å…¥<code>map</code>ä¸­ï¼Œè€Œæ˜¯å¯ä»¥è¾¹éå†è¾¹æŸ¥<code>map</code>å‘¢ï¼Ÿ</p><p>æ¡ˆä¾‹ï¼š<code>nums = [2, 7, 11, 15],target = 13</code></p><ul><li>è¾¹éå†è¾¹æ”¾å…¥<code>map</code></li></ul><p>å½“æ¡ä»¶æˆç«‹çš„æ—¶å€™ï¼Œ<code>nums[i]</code>æ˜¯11ï¼Œ<code>target - nums[i]</code>æ˜¯2</p><p>2æ˜¯åœ¨11ä¹‹å‰éå†çš„ï¼Œæ‰€ä»¥2å’Œå…¶ç´¢å¼•çš„å¯¹åº”å…³ç³»å·²ç»åœ¨<code>map</code>ä¸­äº†ï¼Œäºæ˜¯å¾—åˆ°äº†ç­”æ¡ˆ</p><p>è¿™æ—¶å€™çš„<code>map</code>æ˜¯ä¸å®Œæ•´çš„ï¼Œåªæœ‰2ã€7çš„å¯¹åº”å…³ç³»</p><ul><li>é¢„å¡«å……<code>map</code></li></ul><p>å½“æ¡ä»¶æˆç«‹çš„æ—¶å€™ï¼Œ<code>nums[i]</code>æ˜¯2ï¼Œ<code>target - nums[i]</code>æ˜¯11</p><p>åœ¨éå†2çš„æ—¶å€™ï¼Œ11è¿™ä¸ªå€¼çš„å¯¹åº”å…³ç³»å·²ç»åœ¨<code>map</code>ä¸­äº†ï¼Œäºæ˜¯å¾—åˆ°äº†ç­”æ¡ˆ</p><p>è¿™æ—¶å€™çš„<code>map</code>æ˜¯å®Œæ•´çš„</p><blockquote><p>æ€»ç»“</p></blockquote><p>ç»è¿‡ä¸Šé¢æ¡ˆä¾‹çš„åˆ†æï¼Œåº”è¯¥å¯ä»¥æ„Ÿè§‰åˆ°ä¸¤è€…ä¹‹é—´çš„ä¸åŒäº†ï¼Œæ˜æ˜¾æ„Ÿå—åˆ°è¾¹éå†è¾¹æ”¾<code>map</code>çš„æ–¹æ¡ˆä¼˜äºé¢„å¡«å……çš„æ–¹æ¡ˆ</p><blockquote><p>åˆ†æ</p></blockquote><p>å½“ç„¶ä¸æ˜¯æ¯æ¬¡æ¶‰åŠç±»ä¼¼é¢˜ç›®éƒ½è¿™æ ·çš„ï¼Œè¯¥é¢„éå†è¿˜æ˜¯è¦é¢„éå†çš„ï¼Œä¸‹é¢åˆ†æä¸€ä¸‹ä¸ºå•¥è¿™é¢˜å¯ä»¥è¿™æ ·</p><p>ä¸‹é¢å‡è®¾ç­”æ¡ˆå­˜åœ¨ï¼Œåˆ™<code>target = nums[i] + nums[j] ( i &lt; j )</code></p><p>é¢„éå†æ˜¯åœ¨å½“å‰ä½ç½®<code>i</code>ï¼Œå‘åæ‰¾<code>target - nums[i]</code>çš„ä½ç½®<code>j</code></p><p>å…ˆæ‰¾åˆ°é‚£ä¸ªå°çš„ç´¢å¼•ï¼Œç„¶åå†æ‰¾å¤§çš„é‚£ä¸ªç´¢å¼•</p><p>è¾¹éå†è¾¹å­˜æ˜¯åœ¨å½“å‰ä½ç½®<code>j</code>ï¼Œå‘å‰æ‰¾<code>target - nums[j]</code>çš„ä½ç½®<code>i</code></p><p>å…ˆæ‰¾åˆ°é‚£ä¸ªå¤§çš„ç´¢å¼•ï¼Œç„¶åå†æ‰¾å°çš„é‚£ä¸ªç´¢å¼•</p>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
          <category> åˆ·é¢˜ç¯‡ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç®—æ³• </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å»IOEæ˜¯ä»€ä¹ˆï¼Ÿ</title>
      <link href="/%E7%90%90%E7%A2%8E%E7%9A%84%E7%9F%A5%E8%AF%86/2022/02/21/%E5%8E%BBIOE%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F/"/>
      <url>/%E7%90%90%E7%A2%8E%E7%9A%84%E7%9F%A5%E8%AF%86/2022/02/21/%E5%8E%BBIOE%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F/</url>
      
        <content type="html"><![CDATA[<h2 id="ä»€ä¹ˆå»IOEï¼Ÿ"><a href="#ä»€ä¹ˆå»IOEï¼Ÿ" class="headerlink" title="ä»€ä¹ˆå»IOEï¼Ÿ"></a>ä»€ä¹ˆå»IOEï¼Ÿ</h2><h3 id="Iæ˜¯ä»¥IBMä¸ºä»£è¡¨çš„å°å‹æœº"><a href="#Iæ˜¯ä»¥IBMä¸ºä»£è¡¨çš„å°å‹æœº" class="headerlink" title="Iæ˜¯ä»¥IBMä¸ºä»£è¡¨çš„å°å‹æœº"></a>Iæ˜¯ä»¥IBMä¸ºä»£è¡¨çš„å°å‹æœº</h3><p>å°å‹æœºä¸X86æœåŠ¡å™¨çš„åŒºåˆ«ï¼š</p><ol><li>ä»·æ ¼</li></ol><p>ä¸€å°å°å‹æœºå¯ä»¥ä¹°3-4å°X86æœåŠ¡å™¨</p><ol start="2"><li>æŒ‡ä»¤</li></ol><p>X86         å…¼å®¹æ€§å¥½    æ€§èƒ½å·®</p><p>å°å‹æœº    å…¼å®¹æ€§å·®    æ€§èƒ½å¥½</p><ol start="2"><li>æ€§èƒ½</li><li>é¢†åŸŸ</li></ol><h3 id="Oæ˜¯ä»¥ORACLEä¸ºä»£è¡¨çš„å…³ç³»å‹æ•°æ®åº“æ¶æ„"><a href="#Oæ˜¯ä»¥ORACLEä¸ºä»£è¡¨çš„å…³ç³»å‹æ•°æ®åº“æ¶æ„" class="headerlink" title="Oæ˜¯ä»¥ORACLEä¸ºä»£è¡¨çš„å…³ç³»å‹æ•°æ®åº“æ¶æ„"></a>Oæ˜¯ä»¥ORACLEä¸ºä»£è¡¨çš„å…³ç³»å‹æ•°æ®åº“æ¶æ„</h3><p>2013å¹´5æœˆ17æ—¥ï¼Œæœ€åä¸€å°IBMå°å‹æœºåœ¨æ”¯ä»˜å®ä¸‹çº¿äº†ï¼Œè¿™ä¸ªæ˜¯å»IOEçš„ä¸€ä¸ªé‡è¦çš„ä¸€ä¸ªèŠ‚ç‚¹ã€‚ORACLEæ•°æ®åº“å‘Šåˆ«é˜¿é‡Œå·´å·´æ˜¯åœ¨2013å¹´çš„7æœˆ10æ—¥ï¼Œè¿™ä¸€å¤©é˜¿é‡Œå·´å·´çš„ä¸€ä¸ªé‡è¦å¹¿å‘Šç³»ç»Ÿçš„ORACLEæ•°æ®åº“ä¹Ÿä¸‹çº¿äº†ï¼Œä¹Ÿæ˜¯æ·˜å®æœ€åä¸€ä¸ªORACLEæ•°æ®åº“ï¼Œè¿™ä¸¤ä»¶äº‹æƒ…åˆåœ¨ä¸€èµ·å•Šï¼Œä¹Ÿæ˜¯æ„æˆé˜¿é‡Œå·´å·´çš„ä¸€ä¸ªé‡è¦çš„ä¸€ä¸ªé‡Œç¨‹ç¢‘ã€‚</p><p>é˜¿é‡Œå·´å·´å‘¢ä¸€ç›´æ˜¯é‡‡ç”¨çš„æ˜¯ORCALEæ•°æ®åº“ï¼Œå¹¶åˆ©ç”¨å°å‹æœºå’Œé«˜ç«¯çš„å­˜å‚¨è®¾å¤‡æé«˜æ€§èƒ½å’Œæ•°æ®åº“çš„æ€§èƒ½ï¼Œä½†éšç€ä¸šåŠ¡çš„ä¸åœçš„å‘å±•ï¼Œæ•°æ®é‡æ„ˆå‘åºå¤§ã€‚</p><p>ä¼ ç»Ÿçš„ç§»åŠ¨å¼ORACLEæ•°æ®åº“çš„æ‰©å±•ï¼Œä¹Ÿå­˜åœ¨ç€ä¸€äº›ç“¶é¢ˆã€‚ä¼ ç»Ÿçš„ORACLEè½¯ä»¶ä¸ºä»£è¡¨çš„å…³ç³»æ•°æ®åº“ï¼Œå¤§å¤šæ•°å‘¢æ˜¯ä»¥é›†ä¸­å¼æ¶æ„ä¸ºä¸»ï¼Œè¿™äº›ä¼ ç»Ÿçš„æ•°æ®åº“è½¯ä»¶æ˜¯æœ€å¤§çš„ç‰¹ç‚¹å‘¢ï¼Œå°±æ˜¯å°†æ‰€æœ‰çš„æ•°æ®é›†ä¸­å­˜å‚¨åœ¨ä¸€ä¸ªæ•°æ®åº“ä¸­ï¼Œä¾èµ–å¤§å‹çš„é«˜ç«¯è®¾å¤‡æ¥æé«˜å¤„ç†çš„æ€§èƒ½å’Œæ‰©å±•æ€§ï¼Œé›†ä¸­å¼æ•°æ®åº“çš„æ‰©å±•å‘¢ï¼Œä¸»è¦æ˜¯é‡‡ç”¨å‘ä¸Šæ‰©å±•çš„é‚£è¿™ç§æ–¹å¼å•Šï¼Œå°±æ˜¯é€šè¿‡å¢åŠ CPUå†…å­˜çš„æ–¹å¼æé«˜å¤„ç†èƒ½åŠ›ï¼Œè¿™ç§å¤„ç†çš„æ¶æ„å°±ä½¿å¾—æ•°æ®åº“æˆä¸ºä¸€ä¸ªå¾ˆå¤§çš„ä¸€ä¸ªç³»ç»Ÿç“¶é¢ˆï¼Œè¶Šæ¥è¶Šä¸é€‚åˆç›®å‰æµ·é‡æ•°æ®å¯¹è®¡ç®—èƒ½åŠ›çš„ä¸€ä¸ªéœ€æ±‚ã€‚</p><h3 id="Eæ˜¯ä»¥EMCä¸ºä»£è¡¨çš„é«˜ç«¯SANå­˜å‚¨è®¾å¤‡"><a href="#Eæ˜¯ä»¥EMCä¸ºä»£è¡¨çš„é«˜ç«¯SANå­˜å‚¨è®¾å¤‡" class="headerlink" title="Eæ˜¯ä»¥EMCä¸ºä»£è¡¨çš„é«˜ç«¯SANå­˜å‚¨è®¾å¤‡"></a>Eæ˜¯ä»¥EMCä¸ºä»£è¡¨çš„é«˜ç«¯SANå­˜å‚¨è®¾å¤‡</h3><p>SANï¼šStorage Area Network</p><p>EMCæ˜¯ä¸€å®¶ç¾å›½ä¿¡æ¯å­˜å‚¨å…¬å¸ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> çç¢çš„çŸ¥è¯† </category>
          
      </categories>
      
      
        <tags>
            
            <tag> çç¢çš„çŸ¥è¯† </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Redis-äº”å¤§åŸºç¡€æ•°æ®ç±»å‹</title>
      <link href="/javaEE/Redis/2022/02/21/Redis-%E4%BA%94%E5%A4%A7%E5%9F%BA%E7%A1%80%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/"/>
      <url>/javaEE/Redis/2022/02/21/Redis-%E4%BA%94%E5%A4%A7%E5%9F%BA%E7%A1%80%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/</url>
      
        <content type="html"><![CDATA[<h2 id="åŸºç¡€çŸ¥è¯†"><a href="#åŸºç¡€çŸ¥è¯†" class="headerlink" title="åŸºç¡€çŸ¥è¯†"></a>åŸºç¡€çŸ¥è¯†</h2><p>redisé»˜è®¤æœ‰16ä¸ªæ•°æ®åº“Redisçš„ç“¶é¢ˆæ˜¯æ ¹æ®æœºå™¨çš„å†…å­˜å’Œç½‘ç»œå¸¦å®½ã€‚</p><h3 id="ä¸ºä»€ä¹ˆå•çº¿ç¨‹è¿˜å¯ä»¥è¿™ä¹ˆå¿«ï¼Ÿ"><a href="#ä¸ºä»€ä¹ˆå•çº¿ç¨‹è¿˜å¯ä»¥è¿™ä¹ˆå¿«ï¼Ÿ" class="headerlink" title="ä¸ºä»€ä¹ˆå•çº¿ç¨‹è¿˜å¯ä»¥è¿™ä¹ˆå¿«ï¼Ÿ"></a>ä¸ºä»€ä¹ˆå•çº¿ç¨‹è¿˜å¯ä»¥è¿™ä¹ˆå¿«ï¼Ÿ</h3><p>redisæ˜¯cè¯­è¨€å†™çš„ï¼Œå®˜ç½‘æä¾›çš„æ€§èƒ½æ•°æ®</p><p>1s  11ä¸‡è¯»å–</p><p>1s    8ä¸‡å†™å…¥</p><p>è¯¯åŒºï¼š</p><ol><li>é«˜æ€§èƒ½çš„æœåŠ¡å™¨ä¸€å®šæ˜¯å¤šçº¿ç¨‹çš„</li><li>å¤šçº¿ç¨‹ä¸€å®šæ¯”å•çº¿ç¨‹æ•ˆç‡é«˜</li></ol><p>CPUâ€”&gt;å†…å­˜â€”&gt;ç¡¬ç›˜</p><p>æ ¸å¿ƒï¼šrediså°†æ‰€æœ‰çš„æ•°æ®éƒ½æ”¾å…¥å†…å­˜ä¸­ï¼Œæ‰€ä»¥ç”¨å•çº¿ç¨‹å»æ“ä½œæ•ˆç‡æ˜¯å¾ˆé«˜çš„ï¼Œå¤šçº¿ç¨‹ï¼ˆCPUä¸Šä¸‹æ–‡ä¼šåˆ‡æ¢ï¼Œååˆ†è€—æ—¶ï¼‰ï¼Œå¯¹äºå†…å­˜ç³»ç»Ÿï¼Œæ²¡æœ‰ä¸Šä¸‹æ–‡åˆ‡æ¢æ•ˆç‡ä¼šå¾ˆé«˜ï¼Œå¤šæ¬¡è¯»å†™éƒ½æ˜¯åœ¨ä¸€ä¸ªCPUä¸Šçš„ï¼Œæ²¡æœ‰çº¿ç¨‹è°ƒåº¦çš„è€—æ—¶</p><h2 id="äº”å¤§æ•°æ®ç±»å‹"><a href="#äº”å¤§æ•°æ®ç±»å‹" class="headerlink" title="äº”å¤§æ•°æ®ç±»å‹"></a>äº”å¤§æ•°æ®ç±»å‹</h2><h3 id="åŸºç¡€å‘½ä»¤"><a href="#åŸºç¡€å‘½ä»¤" class="headerlink" title="åŸºç¡€å‘½ä»¤"></a>åŸºç¡€å‘½ä»¤</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åˆ‡æ¢æ•°æ®åº“</span></span><br><span class="line">select index</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹å½“å‰æ•°æ®åº“çš„æ•°æ®æ•°</span></span><br><span class="line">dbsize</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹å½“å‰æ‰€æœ‰ç¬¦åˆpatternçš„key</span></span><br><span class="line">keys pattern</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ˜¯å¦å­˜åœ¨è¯¥keyï¼Œå­˜åœ¨åˆ™è¿”å›1ï¼Œä¸å­˜åœ¨åˆ™è¿”å›0</span></span><br><span class="line">exists key</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç§»é™¤key</span></span><br><span class="line">move key</span><br><span class="line"></span><br><span class="line"><span class="comment">#è®¾ç½®kv</span></span><br><span class="line"><span class="built_in">set</span> key value</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹keyå­˜å‚¨çš„å€¼</span></span><br><span class="line">get key</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹ç±»å‹</span></span><br><span class="line"><span class="built_in">type</span> key</span><br><span class="line"></span><br><span class="line"><span class="comment"># è®¾ç½®è¿‡æœŸæ—¶é—´ä¸ºsecondss</span></span><br><span class="line">expire key seconds</span><br><span class="line"></span><br><span class="line"><span class="comment">#æŸ¥çœ‹å‰©ä½™æ—¶é—´</span></span><br><span class="line">ttl key</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ¸…ç©ºå½“å‰æ•°æ®åº“</span></span><br><span class="line">flushdb</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ¸…ç©ºæ‰€æœ‰çš„æ•°æ®åº“çš„å†…å®¹</span></span><br><span class="line">flushall</span><br><span class="line"></span><br><span class="line"><span class="comment"># éšæœºè¾“å‡ºä¸€ä¸ªkey</span></span><br><span class="line">randomkey</span><br></pre></td></tr></table></figure><h3 id="String"><a href="#String" class="headerlink" title="String"></a>String</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> è¿½åŠ keyå­˜å‚¨çš„valueå­—ç¬¦ä¸²</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> å¦‚æœkeyä¸å­˜åœ¨ï¼Œåˆ™è¯¥å‘½ä»¤ç›¸å½“äº<span class="built_in">set</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> append key value</span></span><br><span class="line">append key &quot;appendstring&quot;</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> æŸ¥çœ‹keyå­˜å‚¨çš„å­—ç¬¦ä¸²çš„é•¿åº¦</span></span><br><span class="line">strlen key</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> è‡ªå¢1ï¼Œè‡ªå‡1çš„æ“ä½œ</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> incr key</span> </span><br><span class="line"><span class="meta">#</span><span class="bash"> decr key</span></span><br><span class="line">127.0.0.1:6379&gt; set views 1</span><br><span class="line">OK</span><br><span class="line">127.0.0.1:6379&gt; incr views</span><br><span class="line">(integer) 2</span><br><span class="line">127.0.0.1:6379&gt; incr views</span><br><span class="line">(integer) 3</span><br><span class="line">127.0.0.1:6379&gt; decr views</span><br><span class="line">(integer) 2</span><br><span class="line">127.0.0.1:6379&gt; decr views</span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> ä¸€æ¬¡æ€§åŠ æˆ–è€…å‡æŒ‡å®šæ•°å­—çš„æ“ä½œ</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> incrby key increment</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> decrby key decrement</span></span><br><span class="line">127.0.0.1:6379&gt; incrby views 10</span><br><span class="line">(integer) 11</span><br><span class="line">127.0.0.1:6379&gt; decrby views 10</span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> è·å–ä¸€ä¸ªèŒƒå›´å†…çš„å­—ç¬¦ä¸²ï¼Œå³substring==&gt;[start,end)</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> æ³¨æ„è¿™é‡Œçš„getrangeæ˜¯é—­åŒºé—´ï¼Œ[start,end]</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> getrange key start end</span></span><br><span class="line">127.0.0.1:6379&gt; set name zhima</span><br><span class="line">OK</span><br><span class="line">127.0.0.1:6379&gt; getrange name 0 3</span><br><span class="line">&quot;zhim&quot;</span><br><span class="line">127.0.0.1:6379&gt; getrange name 0 -1</span><br><span class="line">&quot;zhima&quot;</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> æ›¿æ¢å­—ç¬¦ä¸²</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> setrange key offset value</span></span><br><span class="line">127.0.0.1:6379&gt; set key randomstring</span><br><span class="line">OK</span><br><span class="line">127.0.0.1:6379&gt; setrange key 3 xxx</span><br><span class="line">(integer) 12</span><br><span class="line">127.0.0.1:6379&gt; get key</span><br><span class="line">&quot;ranxxxstring&quot;</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> setex (<span class="built_in">set</span> with expire) è®¾ç½®è¿‡æœŸæ—¶é—´</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> è®¾ç½®è¯¥å­—æ®µè¿‡æœŸæ—¶é—´ä¸º30s</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> setex key seconds value</span></span><br><span class="line">setex key 30 &quot;expire&quot;</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> å¦‚æœä¸å­˜åœ¨åˆ™è®¾ç½®å€¼ï¼Œåœ¨åˆ†å¸ƒå¼é”ä¸­ç»å¸¸ä½¿ç”¨</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> setnx (<span class="built_in">set</span> <span class="keyword">if</span> not exist)</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> setnx key value</span></span><br><span class="line">127.0.0.1:6379&gt; set key1 value1</span><br><span class="line">OK</span><br><span class="line">127.0.0.1:6379&gt; get key1</span><br><span class="line">&quot;value1&quot;</span><br><span class="line">127.0.0.1:6379&gt; setnx key1 &quot;setnx&quot;</span><br><span class="line">(integer) 0</span><br><span class="line">127.0.0.1:6379&gt; set key1 &quot;setnx&quot;</span><br><span class="line">OK</span><br><span class="line">127.0.0.1:6379&gt; get key1</span><br><span class="line">&quot;setnx&quot;</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> æ‰¹é‡è·å–å’Œè®¾ç½®å€¼</span> </span><br><span class="line"><span class="meta">#</span><span class="bash"> mget   mset msetnx</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> mset key value [key value..]</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> mget key [key..]</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> msetex key value [key value..]</span></span><br><span class="line">127.0.0.1:6379&gt; mset k1 v1 k2 v2 k3 v3</span><br><span class="line">OK</span><br><span class="line">127.0.0.1:6379&gt; get k2</span><br><span class="line">&quot;v2&quot;</span><br><span class="line">127.0.0.1:6379&gt; keys *</span><br><span class="line">1) &quot;k2&quot;</span><br><span class="line">2) &quot;k1&quot;</span><br><span class="line">3) &quot;k3&quot;</span><br><span class="line">127.0.0.1:6379&gt; mget k1 k2</span><br><span class="line">1) &quot;v1&quot;</span><br><span class="line">2) &quot;v2&quot;</span><br><span class="line">127.0.0.1:6379&gt; msetnx k1 modifiedv1 k4 v4 # è¯¥æ“ä½œæ˜¯ä¸€ä¸ªåŸå­æ€§çš„æ“ä½œï¼</span><br><span class="line">(integer) 0</span><br><span class="line">127.0.0.1:6379&gt; get k4</span><br><span class="line">(nil)</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> åˆ é™¤</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> del key</span></span><br><span class="line">127.0.0.1:6379&gt; set k1 v1</span><br><span class="line">OK</span><br><span class="line">127.0.0.1:6379&gt; keys *</span><br><span class="line">1) &quot;k1&quot;</span><br><span class="line">127.0.0.1:6379&gt; del k1</span><br><span class="line">(integer) 1</span><br><span class="line">127.0.0.1:6379&gt; keys *</span><br><span class="line">(empty list or set)</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> å¯¹è±¡</span></span><br><span class="line">set user:1&#123;name:zhangsan,age:3&#125; # è®¾ç½®ä¸€ä¸ªuser:1å¯¹è±¡ å€¼ä¸ºjsonå­—ç¬¦ä¸²æ¥ä¿å­˜</span><br><span class="line"><span class="meta">#</span><span class="bash"> è¿™é‡Œçš„keyæ˜¯ä¸€ä¸ªå·§å¦™çš„å±æ€§ï¼š&#123;className&#125;:&#123;id&#125;:&#123;field&#125;ï¼Œåœ¨redisä¸­æ˜¯å¯ä»¥çš„</span></span><br><span class="line">127.0.0.1:6379&gt; mset user:1:name zhima user:1:age 19</span><br><span class="line">OK</span><br><span class="line">127.0.0.1:6379&gt; keys *</span><br><span class="line">1) &quot;user:1:age&quot;</span><br><span class="line">2) &quot;user:1:name&quot;</span><br><span class="line">127.0.0.1:6379&gt; mget user:1:name user:1:age</span><br><span class="line">1) &quot;zhima&quot;</span><br><span class="line">2) &quot;19&quot;</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> ç»„åˆå‘½ä»¤</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> getsetå…ˆå–å¾—å½“å‰çš„å€¼å¹¶è¿”å›ï¼Œç„¶åä¿®æ”¹å½“å‰çš„å€¼</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> getset key value</span></span><br><span class="line">127.0.0.1:6379&gt; getset db redis</span><br><span class="line">(nil)</span><br><span class="line">127.0.0.1:6379&gt; get db</span><br><span class="line">&quot;redis&quot;</span><br><span class="line">127.0.0.1:6379&gt; getset db modified</span><br><span class="line">&quot;redis&quot;</span><br><span class="line">127.0.0.1:6379&gt; get db</span><br><span class="line">&quot;modified&quot;</span><br></pre></td></tr></table></figure><h3 id="List"><a href="#List" class="headerlink" title="List"></a>List</h3><p>å¯ä»¥ç»™å…¶è®¾ç½®ä¸€ä¸ªä½¿ç”¨è§„åˆ™ï¼Œåˆ™å¯ä»¥å°†å…¶å®ç°æ ˆæˆ–è€…é˜Ÿåˆ—çš„åŠŸèƒ½</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> è®¾ç½®å’Œå–å€¼</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> lrange key start stop [start,stop]</span></span><br><span class="line">127.0.0.1:6379&gt; lpush list1 v1 v2 v3</span><br><span class="line">(integer) 3</span><br><span class="line">127.0.0.1:6379&gt; lrange list1 0 -1</span><br><span class="line">1) &quot;v3&quot;</span><br><span class="line">2) &quot;v2&quot;</span><br><span class="line">3) &quot;v1&quot;</span><br><span class="line">127.0.0.1:6379&gt; lrange list1 0 1</span><br><span class="line">1) &quot;v3&quot;</span><br><span class="line">2) &quot;v2&quot;</span><br></pre></td></tr></table></figure><img src="/javaEE/Redis/2022/02/21/Redis-%E4%BA%94%E5%A4%A7%E5%9F%BA%E7%A1%80%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/list%E7%B1%BB%E5%9E%8B%E7%9A%84lpush%E6%93%8D%E4%BD%9C.png" class title="listç±»å‹çš„lpushæ“ä½œ"><p>åˆ†æå¯çŸ¥è¿™é‡Œçš„lpushæ˜¯å¤´æ’å…¥ï¼Œä¹Ÿå°±æ˜¯leftæ’å…¥ï¼Œé‚£ä¸ä¹‹å¯¹åº”çš„è‚¯å®šè¿˜æœ‰ä¸ªå°¾æ’å…¥ï¼Œå³rightæ’å…¥ï¼Œä½†æ˜¯å•Šåªæœ‰LRANGEæ“ä½œæ¥å–å¾—é›†åˆé‡Œçš„æ•°æ®ï¼Œæ²¡æœ‰RRANGEæ“ä½œ</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; rpush list v1 v2 v3</span><br><span class="line">(integer) 3</span><br><span class="line">127.0.0.1:6379&gt; lrange list 0 -1</span><br><span class="line">1) &quot;v1&quot;</span><br><span class="line">2) &quot;v2&quot;</span><br><span class="line">3) &quot;v3&quot;</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> åˆ é™¤å¤´éƒ¨çš„å€¼å¹¶è¿”å›</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> lpop key</span></span><br><span class="line">127.0.0.1:6379&gt; lpop list</span><br><span class="line">&quot;v1&quot;</span><br><span class="line">127.0.0.1:6379&gt; lrange list 0 -1</span><br><span class="line">1) &quot;v2&quot;</span><br><span class="line">2) &quot;v3&quot;</span><br><span class="line"><span class="meta">#</span><span class="bash"> åˆ é™¤å°¾éƒ¨çš„å€¼å¹¶è¿”å›</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> rpop key</span></span><br><span class="line">127.0.0.1:6379&gt; rpop list</span><br><span class="line">&quot;v3&quot;</span><br><span class="line">127.0.0.1:6379&gt; lrange list 0 -1</span><br><span class="line">1) &quot;v2&quot;</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> è·å–ç´¢å¼•å¤„çš„å…ƒç´ </span></span><br><span class="line"><span class="meta">#</span><span class="bash"> lindex key index</span></span><br><span class="line">127.0.0.1:6379&gt; lpush list v1 v2 v3</span><br><span class="line">(integer) 3</span><br><span class="line">127.0.0.1:6379&gt; lrange list 0 -1</span><br><span class="line">1) &quot;v3&quot;</span><br><span class="line">2) &quot;v2&quot;</span><br><span class="line">3) &quot;v1&quot;</span><br><span class="line">127.0.0.1:6379&gt; lindex list 0</span><br><span class="line">&quot;v3&quot;</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> è·å–é›†åˆé•¿åº¦</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> llen key</span> </span><br><span class="line">127.0.0.1:6379&gt; lrange list 0 -1</span><br><span class="line">1) &quot;v3&quot;</span><br><span class="line">2) &quot;v2&quot;</span><br><span class="line">3) &quot;v1&quot;</span><br><span class="line">127.0.0.1:6379&gt; llen list</span><br><span class="line">(integer) 3</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> ç§»é™¤æŒ‡å®šä¸ªæ•°çš„åŒ¹é…çš„å€¼</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> lrem key count value</span></span><br><span class="line">127.0.0.1:6379&gt; lrange list 0 -1</span><br><span class="line">1) &quot;v3&quot;</span><br><span class="line">2) &quot;v3&quot;</span><br><span class="line">3) &quot;v2&quot;</span><br><span class="line">4) &quot;v1&quot;</span><br><span class="line">127.0.0.1:6379&gt; lrem list 1 v1</span><br><span class="line">(integer) 1</span><br><span class="line">127.0.0.1:6379&gt; lrange list 0 -1</span><br><span class="line">1) &quot;v3&quot;</span><br><span class="line">2) &quot;v3&quot;</span><br><span class="line">3) &quot;v2&quot;</span><br><span class="line">127.0.0.1:6379&gt; lrem list 2 v3</span><br><span class="line">(integer) 2</span><br><span class="line">127.0.0.1:6379&gt; lrange list 0 -1</span><br><span class="line">1) &quot;v2&quot;</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> æˆªå–æŒ‡å®šä½ç½®çš„å€¼</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> ltrim key start stop</span></span><br><span class="line">127.0.0.1:6379&gt; lrange list 0 -1</span><br><span class="line">1) &quot;v5&quot;</span><br><span class="line">2) &quot;v4&quot;</span><br><span class="line">3) &quot;v3&quot;</span><br><span class="line">4) &quot;v2&quot;</span><br><span class="line">5) &quot;v1&quot;</span><br><span class="line">127.0.0.1:6379&gt; ltrim list 0 2</span><br><span class="line">OK</span><br><span class="line">127.0.0.1:6379&gt; lrange list 0 -1</span><br><span class="line">1) &quot;v5&quot;</span><br><span class="line">2) &quot;v4&quot;</span><br><span class="line">3) &quot;v3&quot;</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> å°†é›†åˆå°¾éƒ¨å…ƒç´ ç§»é™¤ï¼Œå¹¶åœ¨å¦ä¸€ä¸ªé›†åˆå¤´éƒ¨åŠ å…¥ä¸€ä¸ªå…ƒç´ </span></span><br><span class="line"><span class="meta">#</span><span class="bash"> rpoplpush <span class="built_in">source</span> destination</span></span><br><span class="line">127.0.0.1:6379&gt; lrange list 0 -1</span><br><span class="line">1) &quot;v5&quot;</span><br><span class="line">2) &quot;v4&quot;</span><br><span class="line">3) &quot;v3&quot;</span><br><span class="line">4) &quot;v2&quot;</span><br><span class="line">5) &quot;v1&quot;</span><br><span class="line">127.0.0.1:6379&gt; rpoplpush list otherlist</span><br><span class="line">&quot;v1&quot;</span><br><span class="line">127.0.0.1:6379&gt; lrange list 0 -1</span><br><span class="line">1) &quot;v5&quot;</span><br><span class="line">2) &quot;v4&quot;</span><br><span class="line">3) &quot;v3&quot;</span><br><span class="line">4) &quot;v2&quot;</span><br><span class="line">127.0.0.1:6379&gt; lrange otherlist 0 -1</span><br><span class="line">1) &quot;v1&quot;</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> ä¿®æ”¹æŒ‡å®šç´¢å¼•å¤„å…ƒç´ çš„å€¼</span></span><br><span class="line">127.0.0.1:6379&gt; lrange list 0 -1</span><br><span class="line">1) &quot;v5&quot;</span><br><span class="line">2) &quot;v4&quot;</span><br><span class="line">3) &quot;v3&quot;</span><br><span class="line">4) &quot;v2&quot;</span><br><span class="line">127.0.0.1:6379&gt; lset list 0 modified</span><br><span class="line">OK</span><br><span class="line">127.0.0.1:6379&gt; lrange list 0 -1</span><br><span class="line">1) &quot;modified&quot;</span><br><span class="line">2) &quot;v4&quot;</span><br><span class="line">3) &quot;v3&quot;</span><br><span class="line">4) &quot;v2&quot;</span><br><span class="line"><span class="meta">#</span><span class="bash"> lpush key value [value...]</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> å½“è¯¥é›†åˆä¸å­˜åœ¨çš„æ—¶å€™ä¼šè‡ªåŠ¨åˆ›å»º</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> lset key index value</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> å½“è¯¥é›†åˆä¸å­˜åœ¨çš„æ—¶å€™ä¼šæŠ¥é”™</span></span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> åœ¨æŒ‡å®šå€¼çš„å‰é¢|åé¢æ’å…¥å€¼</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> linsert key BEFORE|AFTER pivot value</span></span><br><span class="line">127.0.0.1:6379&gt; lrange list 0 -1</span><br><span class="line">1) &quot;v5&quot;</span><br><span class="line">2) &quot;v4&quot;</span><br><span class="line">3) &quot;v3&quot;</span><br><span class="line">4) &quot;v2&quot;</span><br><span class="line">5) &quot;v1&quot;</span><br><span class="line">127.0.0.1:6379&gt; linsert list before v2 brforev2</span><br><span class="line">(integer) 6</span><br><span class="line">127.0.0.1:6379&gt; linsert list after v4 afterv4</span><br><span class="line">(integer) 7</span><br><span class="line">127.0.0.1:6379&gt; lrange list 0 -1</span><br><span class="line">1) &quot;v5&quot;</span><br><span class="line">2) &quot;v4&quot;</span><br><span class="line">3) &quot;afterv4&quot;</span><br><span class="line">4) &quot;v3&quot;</span><br><span class="line">5) &quot;brforev2&quot;</span><br><span class="line">6) &quot;v2&quot;</span><br><span class="line">7) &quot;v1&quot;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>è¯¥Listå®è´¨ä¸Šæ˜¯ä½¿ç”¨é“¾è¡¨å®ç°çš„</p><p>æ ˆï¼šå‡ºæ ˆï¼ˆLpopï¼‰å…¥æ ˆï¼ˆLpushï¼‰&#x3D;&#x3D;  å‡ºæ ˆï¼ˆRpopï¼‰ å…¥æ ˆï¼ˆRpushï¼‰</p><p>é˜Ÿåˆ—ï¼šå‡ºé˜Ÿï¼ˆLpopï¼‰å…¥é˜Ÿï¼ˆRpushï¼‰&#x3D;&#x3D; å‡ºæ ˆï¼ˆRpopï¼‰ å…¥æ ˆï¼ˆLpushï¼‰ </p><h3 id="Set"><a href="#Set" class="headerlink" title="Set"></a>Set</h3><p>è¯¥é›†åˆçš„ç‰¹ç‚¹æ˜¯ï¼š<strong>æ— åºä¸é‡å¤</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> æ·»åŠ ä¸€ä¸ªå…ƒç´ </span></span><br><span class="line"><span class="meta">#</span><span class="bash"> sadd key member [member..]</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> æŸ¥çœ‹æ‰€æœ‰çš„æˆå‘˜</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> smembers key</span></span><br><span class="line">127.0.0.1:6379&gt; sadd set a b c a</span><br><span class="line">(integer) 3</span><br><span class="line">127.0.0.1:6379&gt; smembers set</span><br><span class="line">1) &quot;b&quot;</span><br><span class="line">2) &quot;a&quot;</span><br><span class="line">3) &quot;c&quot;</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> åˆ¤æ–­æ˜¯å¦åŒ…å«æŸä¸ªå…ƒç´ </span></span><br><span class="line">127.0.0.1:6379&gt; smembers set</span><br><span class="line">1) &quot;b&quot;</span><br><span class="line">2) &quot;a&quot;</span><br><span class="line">3) &quot;c&quot;</span><br><span class="line">127.0.0.1:6379&gt; sismember set c</span><br><span class="line">(integer) 1</span><br><span class="line">127.0.0.1:6379&gt; sismember set d</span><br><span class="line">(integer) 0</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> æŸ¥çœ‹é›†åˆçš„é•¿åº¦</span></span><br><span class="line">127.0.0.1:6379&gt; smembers set</span><br><span class="line">1) &quot;b&quot;</span><br><span class="line">2) &quot;a&quot;</span><br><span class="line">3) &quot;c&quot;</span><br><span class="line">127.0.0.1:6379&gt; scard set</span><br><span class="line">(integer) 3</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> åˆ é™¤æŸä¸ªå…ƒç´ </span></span><br><span class="line"><span class="meta">#</span><span class="bash"> srem key member [member..]</span></span><br><span class="line">127.0.0.1:6379&gt; smembers set</span><br><span class="line">1) &quot;b&quot;</span><br><span class="line">2) &quot;a&quot;</span><br><span class="line">3) &quot;c&quot;</span><br><span class="line">127.0.0.1:6379&gt; srem set a c</span><br><span class="line">(integer) 2</span><br><span class="line">127.0.0.1:6379&gt; smembers set</span><br><span class="line">1) &quot;b&quot;</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> éšæœºè¿”å›æŒ‡å®šä¸ªæ•°çš„å…ƒç´ </span></span><br><span class="line"><span class="meta">#</span><span class="bash"> srandmember key count</span></span><br><span class="line">127.0.0.1:6379&gt; smembers set</span><br><span class="line">1) &quot;d&quot;</span><br><span class="line">2) &quot;a&quot;</span><br><span class="line">3) &quot;b&quot;</span><br><span class="line">4) &quot;c&quot;</span><br><span class="line">5) &quot;e&quot;</span><br><span class="line">127.0.0.1:6379&gt; srandmember set 3</span><br><span class="line">1) &quot;d&quot;</span><br><span class="line">2) &quot;e&quot;</span><br><span class="line">3) &quot;c&quot;</span><br><span class="line">127.0.0.1:6379&gt; srandmember set 3</span><br><span class="line">1) &quot;d&quot;</span><br><span class="line">2) &quot;b&quot;</span><br><span class="line">3) &quot;a</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> éšæœºåˆ é™¤æŒ‡å®šä¸ªæ•°çš„å…ƒç´ ï¼Œä¸å†™counté»˜è®¤ä¸º1</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> spop key [count]</span> </span><br><span class="line">127.0.0.1:6379&gt; smembers set</span><br><span class="line">1) &quot;d&quot;</span><br><span class="line">2) &quot;a&quot;</span><br><span class="line">3) &quot;b&quot;</span><br><span class="line">4) &quot;c&quot;</span><br><span class="line">5) &quot;e&quot;</span><br><span class="line">127.0.0.1:6379&gt; spop set 3</span><br><span class="line">1) &quot;c&quot;</span><br><span class="line">2) &quot;e&quot;</span><br><span class="line">3) &quot;a&quot;</span><br><span class="line">127.0.0.1:6379&gt; smembers set</span><br><span class="line">1) &quot;b&quot;</span><br><span class="line">2) &quot;d&quot;</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> å°†ä¸€ä¸ªæŒ‡å®šçš„å€¼ï¼Œç§»åˆ°å¦ä¸€ä¸ªé›†åˆä¸­</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> smove <span class="built_in">source</span> destination member</span></span><br><span class="line">127.0.0.1:6379&gt; sadd set a b c d e</span><br><span class="line">(integer) 5</span><br><span class="line">127.0.0.1:6379&gt; smove set set2 a</span><br><span class="line">(integer) 1</span><br><span class="line">127.0.0.1:6379&gt; smembers set2</span><br><span class="line">1) &quot;a&quot;</span><br><span class="line">127.0.0.1:6379&gt; smembers set</span><br><span class="line">1) &quot;c&quot;</span><br><span class="line">2) &quot;b&quot;</span><br><span class="line">3) &quot;d&quot;</span><br><span class="line">4) &quot;e&quot;</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> äº¤é›† sinter key [key..]</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> å·®é›† sdiff key [key..]</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> å¹¶é›† sunion key [key..]</span></span><br><span class="line">127.0.0.1:6379&gt; smembers set</span><br><span class="line">1) &quot;c&quot;</span><br><span class="line">2) &quot;b&quot;</span><br><span class="line">3) &quot;d&quot;</span><br><span class="line">4) &quot;e&quot;</span><br><span class="line">127.0.0.1:6379&gt; smembers set2</span><br><span class="line">1) &quot;b&quot;</span><br><span class="line">2) &quot;a&quot;</span><br><span class="line">3) &quot;g&quot;</span><br><span class="line">127.0.0.1:6379&gt; sinter set set2</span><br><span class="line">1) &quot;b&quot;</span><br><span class="line">127.0.0.1:6379&gt; sdiff set set2</span><br><span class="line">1) &quot;d&quot;</span><br><span class="line">2) &quot;e&quot;</span><br><span class="line">3) &quot;c&quot;</span><br><span class="line">127.0.0.1:6379&gt; sunion set set2</span><br><span class="line">1) &quot;c&quot;</span><br><span class="line">2) &quot;b&quot;</span><br><span class="line">3) &quot;d&quot;</span><br><span class="line">4) &quot;e&quot;</span><br><span class="line">5) &quot;a&quot;</span><br><span class="line">6) &quot;g&quot;</span><br></pre></td></tr></table></figure><h3 id="Hash"><a href="#Hash" class="headerlink" title="Hash"></a>Hash</h3><p>Mapé›†åˆï¼Œkey-Mapé›†åˆ</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># hset key field value</span></span><br><span class="line"><span class="comment"># æ”¾å…¥ä¸€ä¸ªmap</span></span><br><span class="line"><span class="comment"># hget key field </span></span><br><span class="line">127.0.0.1:6379&gt; hset hashmap name zhima</span><br><span class="line">(<span class="built_in">integer</span>) 1</span><br><span class="line">127.0.0.1:6379&gt; hget hashmap name</span><br><span class="line"><span class="string">&quot;zhima&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># è®¾ç½®å’Œå–å¾—å¤šä¸ªé”®å€¼å¯¹</span></span><br><span class="line"><span class="comment"># hmset key field name [field name..]</span></span><br><span class="line"><span class="comment"># hmget key field [field..]</span></span><br><span class="line">127.0.0.1:6379&gt; hmset user:1 name zhim age 10</span><br><span class="line">OK</span><br><span class="line">127.0.0.1:6379&gt; hmget user:1 name age</span><br><span class="line">1) <span class="string">&quot;zhim&quot;</span></span><br><span class="line">2) <span class="string">&quot;10&quot;</span></span><br><span class="line"><span class="comment"># ä½¿ç”¨hsetæ›´æ–°é”®å€¼å¯¹</span></span><br><span class="line">127.0.0.1:6379&gt; hset user:1 name zhima</span><br><span class="line">(<span class="built_in">integer</span>) 0</span><br><span class="line">127.0.0.1:6379&gt; hmget user:1 name age</span><br><span class="line">1) <span class="string">&quot;zhima&quot;</span></span><br><span class="line">2) <span class="string">&quot;19&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å–å¾—æ‰€æœ‰çš„é”®å€¼å¯¹</span></span><br><span class="line"><span class="comment"># hgetall key </span></span><br><span class="line">127.0.0.1:6379&gt; hgetall user:1</span><br><span class="line">1) <span class="string">&quot;name&quot;</span></span><br><span class="line">2) <span class="string">&quot;zhima&quot;</span></span><br><span class="line">3) <span class="string">&quot;age&quot;</span></span><br><span class="line">4) <span class="string">&quot;19&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># è·å–é”®å€¼å¯¹ä¸ªæ•°</span></span><br><span class="line"><span class="comment"># hlen key</span></span><br><span class="line">127.0.0.1:6379&gt; hlen user:1</span><br><span class="line">(<span class="built_in">integer</span>) 2</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ é™¤é”®å€¼å¯¹</span></span><br><span class="line"><span class="comment"># hdel key field</span></span><br><span class="line">127.0.0.1:6379&gt; hdel user:1 name</span><br><span class="line">(<span class="built_in">integer</span>) 1</span><br><span class="line">127.0.0.1:6379&gt; hgetall user:1</span><br><span class="line">1) <span class="string">&quot;age&quot;</span></span><br><span class="line">2) <span class="string">&quot;19&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æ˜¯å¦å­˜åœ¨è¯¥é”®å€¼å¯¹</span></span><br><span class="line"><span class="comment"># hexists key field</span></span><br><span class="line">127.0.0.1:6379&gt; hexists user:1 name</span><br><span class="line">(<span class="built_in">integer</span>) 1</span><br><span class="line">127.0.0.1:6379&gt; hexists user:1 unknown</span><br><span class="line">(<span class="built_in">integer</span>) 0</span><br><span class="line"></span><br><span class="line"><span class="comment"># è·å¾—æ‰€æœ‰çš„é”®</span></span><br><span class="line"><span class="comment"># hkeys key</span></span><br><span class="line"><span class="comment"># è·å¾—æ‰€æœ‰çš„å€¼</span></span><br><span class="line"><span class="comment"># hvals key</span></span><br><span class="line">127.0.0.1:6379&gt; hkeys user:1</span><br><span class="line">1) <span class="string">&quot;name&quot;</span></span><br><span class="line">2) <span class="string">&quot;age&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; hvals user:1</span><br><span class="line">1) <span class="string">&quot;zhima&quot;</span></span><br><span class="line">2) <span class="string">&quot;19&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å¢åŠ å€¼</span></span><br><span class="line"><span class="comment"># hincrby key field increment </span></span><br><span class="line"><span class="comment"># ï¼æ³¨æ„ï¼šï¼è¿™é‡Œæ²¡æœ‰è‡ªå‡çš„æ–¹æ³•ï¼Œä½†æ˜¯å¯ä»¥ä¸ºincrementè®¾ç½®è´Ÿæ•°æ¥å®ç°å‡</span></span><br><span class="line">127.0.0.1:6379&gt; hincrby user:1 name 1</span><br><span class="line">(error) ERR <span class="built_in">hash</span> value is not an <span class="built_in">integer</span></span><br><span class="line">127.0.0.1:6379&gt; hincrby user:1 age 2</span><br><span class="line">(<span class="built_in">integer</span>) 21</span><br><span class="line">127.0.0.1:6379&gt; hmset user:2 name lizhi age <span class="string">&quot;19&quot;</span></span><br><span class="line">OK</span><br><span class="line">127.0.0.1:6379&gt; hgetall user:2</span><br><span class="line">1) <span class="string">&quot;name&quot;</span></span><br><span class="line">2) <span class="string">&quot;lizhi&quot;</span></span><br><span class="line">3) <span class="string">&quot;age&quot;</span></span><br><span class="line">4) <span class="string">&quot;19&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; hincrby user:2 age 2</span><br><span class="line">(<span class="built_in">integer</span>) 21</span><br><span class="line">127.0.0.1:6379&gt; hincrby user:2 age -1</span><br><span class="line">(<span class="built_in">integer</span>) 20</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¦‚æœä¸å­˜åœ¨è¯¥å­—æ®µï¼Œåˆ™æ·»åŠ è¯¥å­—æ®µ</span></span><br><span class="line"><span class="comment"># å¦‚æœå­˜åœ¨ï¼Œåˆ™ä¸è¿›è¡Œæ“ä½œ</span></span><br><span class="line"><span class="comment"># hsetnx key field value</span></span><br><span class="line">127.0.0.1:6379&gt; hsetnx user:1 name modified</span><br><span class="line">(<span class="built_in">integer</span>) 0</span><br><span class="line">127.0.0.1:6379&gt; hgetall user:1</span><br><span class="line">1) <span class="string">&quot;name&quot;</span></span><br><span class="line">2) <span class="string">&quot;zhima&quot;</span></span><br><span class="line">3) <span class="string">&quot;age&quot;</span></span><br><span class="line">4) <span class="string">&quot;21&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; hsetnx user:1 address unknown</span><br><span class="line">(<span class="built_in">integer</span>) 1</span><br><span class="line">127.0.0.1:6379&gt; hgetall user:1</span><br><span class="line">1) <span class="string">&quot;name&quot;</span></span><br><span class="line">2) <span class="string">&quot;zhima&quot;</span></span><br><span class="line">3) <span class="string">&quot;age&quot;</span></span><br><span class="line">4) <span class="string">&quot;21&quot;</span></span><br><span class="line">5) <span class="string">&quot;address&quot;</span></span><br><span class="line">6) <span class="string">&quot;unknown&quot;</span></span><br></pre></td></tr></table></figure><p>Hashmapé€‚åˆå­˜å‚¨å¯¹è±¡</p><h3 id="Zsetï¼ˆæœ‰åºåˆ—è¡¨ï¼‰"><a href="#Zsetï¼ˆæœ‰åºåˆ—è¡¨ï¼‰" class="headerlink" title="Zsetï¼ˆæœ‰åºåˆ—è¡¨ï¼‰"></a>Zsetï¼ˆæœ‰åºåˆ—è¡¨ï¼‰</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ·»åŠ å€¼ è¿™ä¸ªscoreç›¸å½“äºæƒé‡ï¼Œç”¨æ¥æ’åº</span></span><br><span class="line"><span class="comment"># zadd key [NX|XX] [CH] [INCR] score member [score member..]</span></span><br><span class="line">127.0.0.1:6379&gt; zadd myzset 1 one</span><br><span class="line">(<span class="built_in">integer</span>) 1</span><br><span class="line">127.0.0.1:6379&gt; zadd myzset 2 two 3 three</span><br><span class="line">(<span class="built_in">integer</span>) 2</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ­£åºè¾“å‡º</span></span><br><span class="line"><span class="comment"># zrange key start stop [withscores]</span></span><br><span class="line">127.0.0.1:6379&gt; zrange myzset 0 -1</span><br><span class="line">1) <span class="string">&quot;one&quot;</span></span><br><span class="line">2) <span class="string">&quot;two&quot;</span></span><br><span class="line">3) <span class="string">&quot;three&quot;</span></span><br><span class="line"><span class="comment"># å€’å™è¾“å‡º</span></span><br><span class="line"><span class="comment"># zrevrange key start stop [withscores]</span></span><br><span class="line">127.0.0.1:6379&gt; zrevrange salary 0 -1</span><br><span class="line">1) <span class="string">&quot;lizhi&quot;</span></span><br><span class="line">2) <span class="string">&quot;xiaozhang&quot;</span></span><br><span class="line">3) <span class="string">&quot;zhima&quot;</span></span><br><span class="line"><span class="comment"># æºå¸¦æƒé‡è¾“å‡º</span></span><br><span class="line">127.0.0.1:6379&gt; zrange salary 0 -1 withscores</span><br><span class="line">1) <span class="string">&quot;zhima&quot;</span></span><br><span class="line">2) <span class="string">&quot;1000&quot;</span></span><br><span class="line">3) <span class="string">&quot;xiaozhang&quot;</span></span><br><span class="line">4) <span class="string">&quot;1500&quot;</span></span><br><span class="line">5) <span class="string">&quot;lizhi&quot;</span></span><br><span class="line">6) <span class="string">&quot;2000&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># zrangebyscore key min max [withscores] [limit offset count]</span></span><br><span class="line"><span class="comment"># è·å–scoreåœ¨minåˆ°maxä¹‹é—´çš„å…ƒç´ ï¼Œé—­åŒºé—´</span></span><br><span class="line">127.0.0.1:6379&gt; zrangebyscore salary 1000 1600</span><br><span class="line">1) <span class="string">&quot;zhima&quot;</span></span><br><span class="line">2) <span class="string">&quot;xiaozhang&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; zrangebyscore salary -inf +inf</span><br><span class="line">1) <span class="string">&quot;zhima&quot;</span></span><br><span class="line">2) <span class="string">&quot;xiaozhang&quot;</span></span><br><span class="line">3) <span class="string">&quot;lizhi&quot;</span></span><br><span class="line"><span class="comment"># zrevrangebyscore key max min [withscores] [limit offset count]</span></span><br><span class="line"><span class="comment"># å€’å™è¾“å‡ºscoreåœ¨maxåˆ°minä¹‹é—´çš„ï¼Œé—­åŒºé—´ï¼Œ</span></span><br><span class="line"><span class="comment"># [limit offset count]æ˜¯æŒ‡å®šæ˜¾ç¤ºä»offsetå¼€å§‹çš„countä¸ªæ•°æ®ï¼ŒåŒ…æ‹¬offsetæ‰€åœ¨çš„å…ƒç´ </span></span><br><span class="line">127.0.0.1:6379&gt; zrevrangebyscore salary 1600 1000</span><br><span class="line">1) <span class="string">&quot;xiaozhang&quot;</span></span><br><span class="line">2) <span class="string">&quot;zhima&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; zadd salary 10 xiaoming 27 ziaohzhyang 19 zhima 25 lizhi</span><br><span class="line">(<span class="built_in">integer</span>) 4</span><br><span class="line">127.0.0.1:6379&gt; zrangebyscore salary 10 19</span><br><span class="line">1) <span class="string">&quot;xiaoming&quot;</span></span><br><span class="line">2) <span class="string">&quot;zhima&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; zrangebyscore salary 10 25 withscores</span><br><span class="line">1) <span class="string">&quot;xiaoming&quot;</span></span><br><span class="line">2) <span class="string">&quot;10&quot;</span></span><br><span class="line">3) <span class="string">&quot;zhima&quot;</span></span><br><span class="line">4) <span class="string">&quot;19&quot;</span></span><br><span class="line">5) <span class="string">&quot;lizhi&quot;</span></span><br><span class="line">6) <span class="string">&quot;25&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; zrangebyscore salary 10 25 <span class="built_in">limit</span> 0 2</span><br><span class="line">1) <span class="string">&quot;xiaoming&quot;</span></span><br><span class="line">2) <span class="string">&quot;zhima&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ é™¤å…ƒç´ </span></span><br><span class="line">127.0.0.1:6379&gt; zrem salary xiaoming</span><br><span class="line">(<span class="built_in">integer</span>) 1</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹è¯¥é›†åˆçš„é•¿åº¦</span></span><br><span class="line"><span class="comment"># zcard key</span></span><br><span class="line">127.0.0.1:6379&gt; zcard salary</span><br><span class="line">(<span class="built_in">integer</span>) 3</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹ç¬¦åˆ[min,max]åŒºé—´çš„å…ƒç´ ä¸ªæ•°</span></span><br><span class="line"><span class="comment"># zcount key min max</span></span><br><span class="line">127.0.0.1:6379&gt; zcount salary 10 19</span><br><span class="line">(<span class="built_in">integer</span>) 2</span><br></pre></td></tr></table></figure><hr><p>æ³¨ï¼šä»¥ä¸Šå‘½ä»¤åªæ˜¯å¸¸ç”¨å‘½ä»¤ï¼Œæ›´å¤šå‘½ä»¤å¯ä»¥åœ¨å®˜ç½‘æŸ¥çœ‹</p><p>è‹±æ–‡å®˜ç½‘åœ°å€ï¼š<a href="https://redis.io/">https://redis.io/</a></p><p>ä¸­æ–‡å®˜ç½‘åœ°å€ï¼š<a href="http://www.redis.cn/">http://www.redis.cn/</a></p>]]></content>
      
      
      <categories>
          
          <category> javaEE </category>
          
          <category> Redis </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Redis </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Redis-å‰æœŸå‡†å¤‡</title>
      <link href="/javaEE/Redis/2022/02/19/Redis-%E5%89%8D%E6%9C%9F%E5%87%86%E5%A4%87/"/>
      <url>/javaEE/Redis/2022/02/19/Redis-%E5%89%8D%E6%9C%9F%E5%87%86%E5%A4%87/</url>
      
        <content type="html"><![CDATA[<h2 id="Nosql"><a href="#Nosql" class="headerlink" title="Nosql"></a>Nosql</h2><p>æˆ‘ä»¬å…ˆå‰å­¦çš„éƒ½æ˜¯mysqlï¼Œå®ƒæ˜¯å…³ç³»å‹æ•°æ®åº“ï¼Œè¡¨ä¸è¡¨ä¹‹é—´æœ‰è”ç³»ã€‚</p><p>NoSqlå³éå…³ç³»å‹æ•°æ®åº“ã€‚</p><h3 id="MySql"><a href="#MySql" class="headerlink" title="MySql"></a>MySql</h3><blockquote><p>MySqlçš„ç“¶é¢ˆ</p></blockquote><ol><li>æ•°æ®å¤ªå¤§äº†ï¼Œä¸€ä¸ªæœºå™¨å°±æ”¾ä¸ä¸‹äº†</li><li>30ä¸‡ä»¥ä¸Šçš„æ•°æ®ï¼Œéœ€è¦ä½¿ç”¨ç´¢å¼•ï¼ˆB+Treeï¼‰</li><li>è®¿é—®é‡å¤§çš„è¯ï¼ŒæœåŠ¡å™¨å‹åŠ›å¤§</li></ol><img src="/javaEE/Redis/2022/02/19/Redis-%E5%89%8D%E6%9C%9F%E5%87%86%E5%A4%87/%E6%97%A9%E4%BA%9B%E5%B9%B4%E7%9A%84mysql.png" class title="æ—©äº›å¹´çš„mysql"><h4 id="è§£å†³æ–¹æ¡ˆï¼šè¯»å†™åˆ†ç¦»ï¼ˆå‚ç›´æ‹†åˆ†ï¼‰"><a href="#è§£å†³æ–¹æ¡ˆï¼šè¯»å†™åˆ†ç¦»ï¼ˆå‚ç›´æ‹†åˆ†ï¼‰" class="headerlink" title="è§£å†³æ–¹æ¡ˆï¼šè¯»å†™åˆ†ç¦»ï¼ˆå‚ç›´æ‹†åˆ†ï¼‰"></a>è§£å†³æ–¹æ¡ˆï¼šè¯»å†™åˆ†ç¦»ï¼ˆå‚ç›´æ‹†åˆ†ï¼‰</h4><img src="/javaEE/Redis/2022/02/19/Redis-%E5%89%8D%E6%9C%9F%E5%87%86%E5%A4%87/%E8%AF%BB%E5%86%99%E5%88%86%E7%A6%BB.png" class title="è¯»å†™åˆ†ç¦»"><p>å› ä¸º80%ç½‘ç«™å¯¹äºæ•°æ®çš„æ“ä½œéƒ½æ˜¯è¯»å–ï¼Œä¸ä¼šäº§ç”Ÿå¹¶å‘é—®é¢˜ï¼Œæ‰€ä»¥ä¸ºäº†æå‡æ•ˆç‡ï¼Œå½“æˆ‘ä»¬ç¬¬ä¸€æ¬¡è¯»å–å®Œæ•°æ®åï¼Œå°†æ•°æ®æ”¾å…¥ç¼“å­˜ä¸­ï¼Œä¸‹ä¸€æ¬¡æŸ¥è¯¢å¦‚æœæ˜¯åŒæ ·çš„ä¸šåŠ¡ï¼Œåˆ™ç›´æ¥ä»ç¼“å­˜ä¸­è¯»å–æ•°æ®ï¼Œä¼šå¤§å¤§æå‡æ€§èƒ½ï¼Œè§£å†³äº†è¯»çš„å‹åŠ›</p><img src="/javaEE/Redis/2022/02/19/Redis-%E5%89%8D%E6%9C%9F%E5%87%86%E5%A4%87/%E5%8A%A0Cache.png" class title="åŠ Cache"><h4 id="è§£å†³æ–¹æ¡ˆï¼šåˆ†åº“åˆ†è¡¨ï¼ŒMySqlé›†ç¾¤ï¼ˆæ°´å¹³æ‹†åˆ†ï¼‰"><a href="#è§£å†³æ–¹æ¡ˆï¼šåˆ†åº“åˆ†è¡¨ï¼ŒMySqlé›†ç¾¤ï¼ˆæ°´å¹³æ‹†åˆ†ï¼‰" class="headerlink" title="è§£å†³æ–¹æ¡ˆï¼šåˆ†åº“åˆ†è¡¨ï¼ŒMySqlé›†ç¾¤ï¼ˆæ°´å¹³æ‹†åˆ†ï¼‰"></a>è§£å†³æ–¹æ¡ˆï¼šåˆ†åº“åˆ†è¡¨ï¼ŒMySqlé›†ç¾¤ï¼ˆæ°´å¹³æ‹†åˆ†ï¼‰</h4><p>æ¯ä¸€ä¸ªé›†ç¾¤æ”¾ä¸€äº›è¡¨å’Œæ•°æ®åº“ï¼Œè¿™æ ·çš„æ“ä½œè§£å†³äº†å†™çš„å‹åŠ›</p><img src="/javaEE/Redis/2022/02/19/Redis-%E5%89%8D%E6%9C%9F%E5%87%86%E5%A4%87/MySQL%E9%9B%86%E7%BE%A4.png" class title="MySQLé›†ç¾¤"><img src="/javaEE/Redis/2022/02/19/Redis-%E5%89%8D%E6%9C%9F%E5%87%86%E5%A4%87/%E5%9F%BA%E6%9C%AC%E6%9E%B6%E6%9E%84.png" class title="åŸºæœ¬æ¶æ„"><h4 id="å¦‚ä»Šçš„æ•°æ®"><a href="#å¦‚ä»Šçš„æ•°æ®" class="headerlink" title="å¦‚ä»Šçš„æ•°æ®"></a>å¦‚ä»Šçš„æ•°æ®</h4><p>æ•°æ®é‡å¤§ï¼Œå˜åŒ–å¿«ï¼Œå¯¼è‡´mysqlæ— æ³•å¾ˆå¥½çš„è§£å†³é—®é¢˜ã€‚</p><p>æœ‰çš„äººä½¿ç”¨mysqlæ¥å­˜å‚¨ä¸€äº›æ¯”è¾ƒå¤§çš„æ–‡ä»¶ï¼Œåšå®¢æ¨æ–‡ï¼Œå›¾ç‰‡ç­‰ï¼Œæ•°æ®åº“éå¸¸åºå¤§ï¼Œæ•ˆç‡ååˆ†ä½ä¸‹ã€‚</p><p>å¦‚æœæœ‰ä¸€ç§æ•°æ®åº“æ¥ä¸“é—¨å¤„ç†è¿™ç§æ•°æ®ï¼Œmysqlçš„å‹åŠ›å°±å˜å°äº†ã€‚è¿™æ—¶å€™å°±éœ€è¦ä½¿ç”¨Nosqläº†</p><h3 id="ç‰¹ç‚¹"><a href="#ç‰¹ç‚¹" class="headerlink" title="ç‰¹ç‚¹"></a>ç‰¹ç‚¹</h3><ol><li>æ–¹ä¾¿æ‹“å±•ï¼ˆæ•°æ®ä¹‹é—´è”ç³»ä½ï¼Œå¾ˆå¥½æ‹“å±•ï¼‰</li><li>å¤§æ•°æ®é«˜æ€§èƒ½ï¼ˆRedis1sè¯»11ä¸‡æ¬¡ï¼Œå†™8ä¸‡æ¬¡ï¼ŒNosqlçš„ç¼“å­˜è®°å½•ï¼Œæ˜¯ä¸€ç§ç»†ç²’åº¦çš„ç¼“å­˜ï¼Œæ€§èƒ½æ¯”è¾ƒé«˜ï¼‰</li><li>æ•°æ®å¤šæ ·ï¼Œä¸éœ€è¦äº‹å…ˆè®¾è®¡æ•°æ®åº“</li></ol><blockquote><p>å¤§æ•°æ®æ—¶ä»£çš„3Vï¼šå‡ºç°çš„ä¸€äº›é—®é¢˜</p></blockquote><ol><li>Volume         æµ·é‡</li><li>Variety          å¤šæ ·</li><li>Velocity         å®æ—¶</li></ol><blockquote><p>å¤§æ•°æ®æ—¶ä»£çš„3é«˜ï¼šå¯¹ç¨‹åºçš„è¦æ±‚</p></blockquote><ol><li>é«˜æ€§èƒ½</li><li>é«˜å¯ç”¨ï¼ˆæ‰©ï¼‰</li><li>é«˜å¹¶å‘</li></ol><h2 id="Nosqlçš„å››å¤§åˆ†ç±»"><a href="#Nosqlçš„å››å¤§åˆ†ç±»" class="headerlink" title="Nosqlçš„å››å¤§åˆ†ç±»"></a>Nosqlçš„å››å¤§åˆ†ç±»</h2><ol><li><strong>KVé”®å€¼å¯¹</strong></li></ol><ul><li>æ–°æµªï¼šRedis</li><li>ç¾å›¢ï¼šRedis+Tair</li><li>é˜¿é‡Œ+ç™¾åº¦ï¼šRedis+MemeCache</li></ul><p>åº”ç”¨åœºæ™¯ï¼šå†…å®¹ç¼“å­˜ï¼Œä¸»è¦ç”¨äºå¤„ç†å¤§é‡æ•°æ®çš„é«˜è®¿é—®è´Ÿè½½ï¼Œä¹Ÿç”¨äºäº›æ—¥å¿—ç³»ç»Ÿç­‰ç­‰ã€‚</p><p>æ•°æ®æ¨¡å‹ï¼šKey æŒ‡å‘çš„é”®å€¼å¯¹Valueï¼Œé€šå¸¸ç”¨hash tableæ¥å®ç°</p><p>ä¼˜ç‚¹ï¼šæŸ¥æ‰¾é€Ÿåº¦å¿«</p><p>ç¼ºç‚¹ï¼šæ•°æ®æ— ç»“æ„ï¼Œé€šå¸¸åªè¢«å½“åšå­—ç¬¦ä¸²æˆ–è€…äºŒè¿›åˆ¶å­˜å‚¨</p><ol start="2"><li><strong>æ–‡æ¡£å‹æ•°æ®åº“ï¼ˆBSONæ ¼å¼ï¼‰</strong></li></ol><ul><li>MongoDB<ul><li>åŸºäºåˆ†å¸ƒå¼æ–‡ä»¶å­˜å‚¨çš„æ•°æ®åº“ï¼ŒC++ç¼–å†™çš„ï¼Œä¸»è¦ç”¨æ¥å¤„ç†å¤§é‡çš„æ–‡æ¡£</li><li>MongoDBæ˜¯ä¸€ä¸ªä»‹äºå…³ç³»å‹æ•°æ®åº“å’Œéå…³ç³»å‹æ•°æ®åº“ä¸­é—´çš„äº§ç‰©ï¼ŒMongoDBæ˜¯éå…³ç³»å‹æ•°æ®åº“ä¸­åŠŸèƒ½æœ€ä¸°å¯Œï¼Œæœ€åƒå…³ç³»å‹æ•°æ®åº“çš„</li></ul></li><li>ConthDB</li></ul><p>åº”ç”¨åœºæ™¯ï¼šwebåº”ç”¨</p><p>æ•°æ®æ¨¡å‹ï¼škey-valueé”®å€¼å¯¹ï¼ˆValueä¸ºç»“æ„åŒ–æ•°æ®ï¼‰</p><p>ä¼˜ç‚¹ï¼šæ•°æ®ç»“æ„è¦æ±‚ä¸ä¸¥æ ¼è¡¨ç»“æ„å¯ä¸éœ€è¦åƒå…³ç³»å‹æ•°æ®åº“é‚£æ ·éœ€è¦é¢„å…ˆå®šä¹‰è¡¨ç»“æ„</p><p>ç¼ºç‚¹ï¼šæŸ¥è¯¢æ•ˆç‡ä¸é«˜ï¼Œè€Œä¸”ç¼ºä¹ç»Ÿä¸€çš„æŸ¥è¯¢è¯­å¥</p><ol start="3"><li><strong>åˆ—å­˜å‚¨æ•°æ®åº“</strong></li></ol><ul><li>HBase</li></ul><p>åº”ç”¨åœºæ™¯ï¼šåˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿ</p><p>æ•°æ®æ¨¡å‹ï¼šä»¥åˆ—ç°‡å¼å­˜å‚¨ï¼Œå°†åŒä¸€åˆ—æ•°æ®å­˜å‚¨åœ¨ä¸€èµ·</p><p>ä¼˜ç‚¹ï¼šæŸ¥æ‰¾é€Ÿåº¦å¿«ï¼Œå¯æ‹“å±•æ€§å¼ºï¼Œå®¹æ˜“å®ç°åˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿ</p><p>ç¼ºç‚¹ï¼šåŠŸèƒ½ç›¸å¯¹å±€é™</p><ol start="4"><li><strong>å›¾å½¢å…³ç³»æ•°æ®åº“</strong></li></ol><p>å­˜çš„æ˜¯å…³ç³»ï¼Œä¸æ˜¯å­˜å›¾å½¢çš„</p><ul><li>Neo4j</li><li>InfoGrid</li></ul><p>åº”ç”¨åœºæ™¯ï¼šç¤¾äº¤ç½‘ç»œã€ç›¸å…³æ¨è</p><p>æ•°æ®æ¨¡å‹ï¼šå›¾æ¶æ„</p><p>ä¼˜ç‚¹ï¼šåˆ©ç”¨å›¾ç»“æ„ç›¸å…³ç®—æ³•ï¼Œæ¯”å¦‚æœ€çŸ­è·¯å¾„å¯»å€Nåº¦å…³ç³»æŸ¥æ‰¾ç­‰</p><p>ç¼ºç‚¹ï¼šå¾ˆå¤šæ—¶å€™éœ€è¦å¯¹æ•´ä¸ªå›¾åšè®¡ç®—æ‰èƒ½å¾—å‡ºéœ€è¦çš„ä¿¡æ¯ï¼Œè€Œä¸”è¿™ç§ç»“æ„ä¸å¤ªå¥½åšåˆ†å¸ƒå¼çš„é›†ç¾¤æ–¹å¼</p><h2 id="Redisç®€ä»‹"><a href="#Redisç®€ä»‹" class="headerlink" title="Redisç®€ä»‹"></a>Redisç®€ä»‹</h2><h3 id="æ¦‚è¿°"><a href="#æ¦‚è¿°" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h3><blockquote><p>Rediså…¨åæ˜¯Remote Dictionary Server ï¼Œå³è¿œç¨‹å­—å…¸è°ƒç”¨</p><p>é»˜è®¤ç«¯å£æ˜¯6379</p></blockquote><p>Redis æ˜¯ä¸€ä¸ªå¼€æºï¼ˆBSDè®¸å¯ï¼‰çš„ï¼Œå†…å­˜ä¸­çš„æ•°æ®ç»“æ„å­˜å‚¨ç³»ç»Ÿï¼Œå®ƒå¯ä»¥ç”¨ä½œæ•°æ®åº“ã€ç¼“å­˜å’Œæ¶ˆæ¯ä¸­é—´ä»¶ã€‚ å®ƒæ”¯æŒå¤šç§ç±»å‹çš„æ•°æ®ç»“æ„ï¼Œå¦‚ <a href="http://www.redis.cn/topics/data-types-intro.html#strings">å­—ç¬¦ä¸²ï¼ˆstringsï¼‰</a>ï¼Œ <a href="http://www.redis.cn/topics/data-types-intro.html#hashes">æ•£åˆ—ï¼ˆhashesï¼‰</a>ï¼Œ <a href="http://www.redis.cn/topics/data-types-intro.html#lists">åˆ—è¡¨ï¼ˆlistsï¼‰</a>ï¼Œ <a href="http://www.redis.cn/topics/data-types-intro.html#sets">é›†åˆï¼ˆsetsï¼‰</a>ï¼Œ <a href="http://www.redis.cn/topics/data-types-intro.html#sorted-sets">æœ‰åºé›†åˆï¼ˆsorted setsï¼‰</a> ä¸èŒƒå›´æŸ¥è¯¢ï¼Œ <a href="http://www.redis.cn/topics/data-types-intro.html#bitmaps">bitmaps</a>ï¼Œ <a href="http://www.redis.cn/topics/data-types-intro.html#hyperloglogs">hyperloglogs</a> å’Œ <a href="http://www.redis.cn/commands/geoadd.html">åœ°ç†ç©ºé—´ï¼ˆgeospatialï¼‰</a> ç´¢å¼•åŠå¾„æŸ¥è¯¢ã€‚ Redis å†…ç½®äº† <a href="http://www.redis.cn/topics/replication.html">å¤åˆ¶ï¼ˆreplicationï¼‰</a>ï¼Œ<a href="http://www.redis.cn/commands/eval.html">LUAè„šæœ¬ï¼ˆLua scriptingï¼‰</a>ï¼Œ <a href="http://www.redis.cn/topics/lru-cache.html">LRUé©±åŠ¨äº‹ä»¶ï¼ˆLRU evictionï¼‰</a>ï¼Œ<a href="http://www.redis.cn/topics/transactions.html">äº‹åŠ¡ï¼ˆtransactionsï¼‰</a> å’Œä¸åŒçº§åˆ«çš„ <a href="http://www.redis.cn/topics/persistence.html">ç£ç›˜æŒä¹…åŒ–ï¼ˆpersistenceï¼‰</a>ï¼Œ å¹¶é€šè¿‡ <a href="http://www.redis.cn/topics/sentinel.html">Rediså“¨å…µï¼ˆSentinelï¼‰</a>å’Œè‡ªåŠ¨ <a href="http://www.redis.cn/topics/cluster-tutorial.html">åˆ†åŒºï¼ˆClusterï¼‰</a>æä¾›é«˜å¯ç”¨æ€§ï¼ˆhigh availabilityï¼‰ã€‚</p><p>å®ƒä½¿ç”¨ANSIã€Cè¯­è¨€ç¼–å†™çš„ã€æ”¯æŒç½‘ç»œã€å¯ä»¥åŸºäºå†…å­˜äº¦å¯æŒä¹…åŒ–çš„æ—¥å¿—å‹ã€Key-valueæ•°æ®åº“ã€å¹¶æä¾›å¤šç§è¯­è¨€çš„APIï¼Œäº¦è¢«ç§°ä¸ºç»“æ„åŒ–æ•°æ®åº“</p><h3 id="ä¸‹è½½ä¸‹è½½åç›´æ¥è§£å‹å³å¯"><a href="#ä¸‹è½½ä¸‹è½½åç›´æ¥è§£å‹å³å¯" class="headerlink" title="ä¸‹è½½ä¸‹è½½åç›´æ¥è§£å‹å³å¯"></a>ä¸‹è½½ä¸‹è½½åç›´æ¥è§£å‹å³å¯</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">é“¾æ¥ï¼šhttps://pan.baidu.com/s/12ozkQkUss8GH70lf7qrinQ </span><br><span class="line">æå–ç ï¼šnv5z </span><br></pre></td></tr></table></figure><img src="/javaEE/Redis/2022/02/19/Redis-%E5%89%8D%E6%9C%9F%E5%87%86%E5%A4%87/redis%E7%9B%AE%E5%BD%95.png" class title="redisç›®å½•"><p>ç‚¹å‡»redis-server.exeå³å¯å¯åŠ¨æœåŠ¡</p><h3 id="å¤‡æ³¨"><a href="#å¤‡æ³¨" class="headerlink" title="å¤‡æ³¨"></a>å¤‡æ³¨</h3><p>Redisæ¨èæˆ‘ä»¬ä½¿ç”¨Linuxä½¿ç”¨redisï¼Œæ‰€ä»¥æ¥ä¸‹æ¥ä½¿ç”¨é˜¿é‡Œäº‘æœåŠ¡å™¨æ¥å­¦ä¹ redis</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">é“¾æ¥:https://pan.baidu.com/s/1Hy1eFwcSqfftXrWv92-zugÂ </span><br><span class="line">æå–ç :u1ff</span><br></pre></td></tr></table></figure><p>å°†å‹ç¼©æ–‡ä»¶è§£å‹åˆ°æœåŠ¡å™¨çš„optç›®å½•ä¸‹å³å¯ï¼Œè¿›å…¥è§£å‹åçš„ç›®å½•ï¼Œç„¶åå®‰è£…gcc-c++</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">yum install gcc-c++</span><br><span class="line">make</span><br></pre></td></tr></table></figure><p>ä¹Ÿå¯ä»¥ä½¿ç”¨dockeråˆ›å»ºrediså®¹å™¨</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> å¼€å¯ä¸€ä¸ªrediså®¹å™¨å¹¶è®¾ç½®å¯†ç </span></span><br><span class="line">docker run -it --name studyredis -p6379:6379 --requirepass lizhi9275 redis</span><br><span class="line"><span class="meta">#</span><span class="bash"> æŸ¥çœ‹è¿è¡Œçš„å®¹å™¨</span></span><br><span class="line">docker ps </span><br></pre></td></tr></table></figure><img src="/javaEE/Redis/2022/02/19/Redis-%E5%89%8D%E6%9C%9F%E5%87%86%E5%A4%87/%E6%9F%A5%E7%9C%8B%E5%90%AF%E5%8A%A8%E7%8A%B6%E6%80%81.png" class title="æŸ¥çœ‹å¯åŠ¨çŠ¶æ€">]]></content>
      
      
      <categories>
          
          <category> javaEE </category>
          
          <category> Redis </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Redis </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Springboot-shiro</title>
      <link href="/javaEE/SpringBoot/2022/02/17/SpringBoot-Shiro/"/>
      <url>/javaEE/SpringBoot/2022/02/17/SpringBoot-Shiro/</url>
      
        <content type="html"><![CDATA[<h2 id="Shiroç®€ä»‹"><a href="#Shiroç®€ä»‹" class="headerlink" title="Shiroç®€ä»‹"></a>Shiroç®€ä»‹</h2><p>å…¶å®è¿™ä¸ªå°±æ˜¯ä¸€ä¸ªå…³äºåšå®‰å…¨ç®¡ç†çš„æ¡†æ¶ï¼Œä»–ä¸ä»…å¯ä»¥å’ŒjavaEEç»“åˆä¹Ÿå¯ä»¥å’ŒjavaSEç»“åˆ</p><h3 id="æä¾›çš„åŠŸèƒ½"><a href="#æä¾›çš„åŠŸèƒ½" class="headerlink" title="æä¾›çš„åŠŸèƒ½"></a>æä¾›çš„åŠŸèƒ½</h3><img src="/javaEE/SpringBoot/2022/02/17/SpringBoot-Shiro/Shiro%E6%94%AF%E6%8C%81%E7%9A%84%E5%8A%9F%E8%83%BD.jpg" class title="Shiroæ”¯æŒçš„åŠŸèƒ½"><ul><li>Authenticationï¼šèº«ä»½è®¤è¯ï¼Œç™»å½•ï¼ŒéªŒè¯ç”¨æˆ·çš„èº«ä»½</li><li>Authorizationï¼šæˆæƒï¼Œ</li><li>Session Managementï¼š Shiroå†…ç½®çš„sessionï¼Œå¯¹å…¶è¿›è¡Œç®¡ç†</li><li>Cryptographyï¼šåŠ å¯†ï¼Œä¿è¯æ•°æ®çš„å®‰å…¨æ€§</li><li>Web Supportï¼š webæ”¯æŒï¼Œå¯ä»¥å¾ˆå¥½çš„é›†æˆåˆ°webç¯å¢ƒ</li><li>Cachingï¼š ç¼“å­˜ï¼Œ</li><li>Concurrencyï¼š å¤šå¹¶å‘</li><li>Testingï¼šæµ‹è¯•</li><li>Remember Meï¼šâ€è®°ä½æˆ‘â€çš„åŠŸèƒ½</li></ul><h3 id="Shiroç»“æ„"><a href="#Shiroç»“æ„" class="headerlink" title="Shiroç»“æ„"></a>Shiroç»“æ„</h3><p>æˆ‘ä»¬æ¥è§‚å¯Ÿä¸€ä¸‹Shiroçš„ç»“æ„</p><img src="/javaEE/SpringBoot/2022/02/17/SpringBoot-Shiro/Shiro%E6%9E%B6%E6%9E%84.png" class title="Shiroæ¶æ„"><p>è§£é‡Šä¸€ä¸‹å‡ºç°çš„åè¯</p><ul><li>subjectï¼šä¸å½“å‰åº”ç”¨äº¤äº’çš„ä»»ä½•ä¸œè¥¿éƒ½å¯ä»¥æ˜¯Subjectï¼Œä¸Subjectçš„æ‰€æœ‰äº¤äº’éƒ½ä¼šå§”æ‰˜ç»™SecurityManagerï¼ŒSubjectå…¶å®åªæ˜¯ä¸€ä¸ªé—¨é¢ï¼ŒSecurityManager æ‰æ˜¯å®é™…çš„æ‰§è¡Œè€…</li><li>SecurityManagerï¼šå®‰å…¨ç®¡ç†å™¨ï¼Œå³æ‰€æœ‰ä¸å®‰å…¨æœ‰å…³çš„æ“ä½œéƒ½ä¼šä¸SecurityManageräº¤äº’ï¼Œå¹¶ä¸”å®ƒç®¡ç†ç€æ‰€æœ‰çš„Subjectï¼Œå®ƒæ˜¯Shiroçš„æ ¸å¿ƒï¼Œå®ƒè´Ÿè´£ä¸Shiroçš„å…¶ä»–ç»„ä»¶è¿›è¡Œäº¤äº’</li><li>Realmï¼š Shiroä»Realmè·å–å®‰å…¨æ•°æ®ï¼ˆå¦‚ç”¨æˆ·ï¼Œè§’è‰²ï¼Œæƒé™ï¼‰ï¼Œå°±æ˜¯è¯´SecurityManager è¦éªŒè¯ç”¨æˆ·èº«ä»½ï¼Œé‚£ä¹ˆå®ƒéœ€è¦ä»Realm è·å–ç›¸åº”çš„ç”¨æˆ·è¿›è¡Œæ¯”è¾ƒï¼Œæ¥ç¡®å®šç”¨æˆ·çš„èº«ä»½æ˜¯å¦åˆæ³•ï¼›ä¹Ÿéœ€è¦ä»Realmå¾—åˆ°ç”¨æˆ·ç›¸åº”çš„è§’è‰²ã€æƒé™ï¼Œè¿›è¡ŒéªŒè¯ç”¨æˆ·çš„æ“ä½œæ˜¯å¦èƒ½å¤Ÿè¿›è¡Œ</li></ul><h3 id="å¿«é€Ÿå¼€å§‹ï¼ˆçœ‹ä¸€ä¸‹ç›´æ¥è¿‡ï¼‰"><a href="#å¿«é€Ÿå¼€å§‹ï¼ˆçœ‹ä¸€ä¸‹ç›´æ¥è¿‡ï¼‰" class="headerlink" title="å¿«é€Ÿå¼€å§‹ï¼ˆçœ‹ä¸€ä¸‹ç›´æ¥è¿‡ï¼‰"></a>å¿«é€Ÿå¼€å§‹ï¼ˆçœ‹ä¸€ä¸‹ç›´æ¥è¿‡ï¼‰</h3><p>å¯¼å…¥ä¾èµ–</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- https://mvnrepository.com/artifact/org.apache.shiro/shiro-core --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.shiro<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>shiro-core<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.8.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- https://mvnrepository.com/artifact/org.slf4j/jcl-over-slf4j --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.slf4j<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jcl-over-slf4j<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.7.24<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- https://mvnrepository.com/artifact/org.slf4j/slf4j-log4j12 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.slf4j<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>slf4j-log4j12<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.7.24<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- https://mvnrepository.com/artifact/log4j/log4j --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>log4j<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>log4j<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.2.17<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><p>é…ç½®æ–‡ä»¶</p><blockquote><p>log4j.properties</p></blockquote><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">log4j.rootLogger</span>=<span class="string">INF0,stdout</span></span><br><span class="line"></span><br><span class="line"><span class="meta">log4j.appender.stdout</span>=<span class="string">org.apache.log4j.ConsoleAppender</span></span><br><span class="line"><span class="meta">log4j.appender.stdout.layout</span>=<span class="string">org.apache.log4j.PatternLayout</span></span><br><span class="line"><span class="meta">log4j.appender.stdout.layout.ConversionPattern</span>=<span class="string">%d %p [%c] - %m %n</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"># GeneraL Apache Libraries</span></span><br><span class="line"><span class="meta">log4j.logger.org.apache</span>=<span class="string">WARN</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"># Spring</span></span><br><span class="line"><span class="meta">log4j.logger.org.springframework</span>=<span class="string">WARN</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"># Defautt Shiro Logging</span></span><br><span class="line"><span class="meta">log4j.logger.org.apache.shiro</span>=<span class="string">INF0</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"># DisabLe verbose Logging</span></span><br><span class="line"><span class="meta">log4j.logger.org.apache.shiro.util.ThreadContext</span>=<span class="string">WARN</span></span><br><span class="line"><span class="meta">log4j.logger.org.apache.shiro.cache.ehcache.EhCache</span>=<span class="string">WARN</span></span><br></pre></td></tr></table></figure><blockquote><p>shiro.ini</p></blockquote><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">[users]</span></span><br><span class="line"><span class="comment"># user &#x27;root&#x27; with password &#x27;secret&#x27; and the &#x27;admin&#x27; role</span></span><br><span class="line"><span class="attr">root</span> = secret, admin</span><br><span class="line"><span class="comment"># user &#x27;guest&#x27; with the password &#x27;guest&#x27; and the &#x27;guest&#x27; role</span></span><br><span class="line"><span class="attr">guest</span> = guest, guest</span><br><span class="line"><span class="comment"># user &#x27;presidentskroob&#x27; with password &#x27;12345&#x27;ï¼ˆ&quot;That&#x27;s the same combination on</span></span><br><span class="line"><span class="comment"># my Luggage!!!&quot; ;)), and rote &#x27;president&#x27;</span></span><br><span class="line"><span class="attr">presidentskroob</span> = <span class="number">12345</span>, president</span><br><span class="line"><span class="comment"># user &#x27;darkhe met&#x27; with password &#x27;Ludicrousspeedâ€™and rotes &#x27;darklordâ€™and &#x27;schwartz</span></span><br><span class="line"><span class="attr">darkhelmet</span> = ludicrousspeed, darklord, schwartz</span><br><span class="line"><span class="comment"># user &#x27;tonestarr&#x27; with password &#x27;vespa&#x27; and roles &#x27;goodguy&#x27; and &#x27;schwartz&#x27;</span></span><br><span class="line"><span class="attr">lonestarr</span> = vespa, goodguy, schwartz</span><br><span class="line"></span><br><span class="line"><span class="comment"># RoLes with assigned permissions</span></span><br><span class="line"><span class="comment"># Each Line conforms to the format defined in the</span></span><br><span class="line"><span class="comment"># org.apache.shiro.reatm.text.TextConfigurationReatm#setRoleDefinitions JavaDoc</span></span><br><span class="line"><span class="comment"># -</span></span><br><span class="line"><span class="section">[roles]</span></span><br><span class="line"><span class="comment"># &#x27;admin&#x27; role has all permissions, indicated by the wildcard&#x27;* &#x27;</span></span><br><span class="line"><span class="attr">admin</span> = *</span><br><span class="line"><span class="comment"># The &#x27;schwartz&#x27; role can do anything (*) with any lightsaber:</span></span><br><span class="line"><span class="attr">schwartz</span> = lightsaber:*</span><br><span class="line"><span class="comment"># The &#x27;goodguy&#x27; role is aLlowed to &#x27;drive&#x27; (action) the winnebago (type) with</span></span><br><span class="line"><span class="comment"># ticense plate &#x27;eagle5&#x27; (instance specific id)</span></span><br><span class="line"><span class="attr">goodguy</span> = winnebago:drive:eagle5</span><br></pre></td></tr></table></figure><blockquote><p>ShiroQuickStart.java</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ShiroQuickStart</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> Logger LOG = LoggerFactory.getLogger(ShiroQuickStart.class);</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Factory&lt;SecurityManager&gt; factory = <span class="keyword">new</span> IniSecurityManagerFactory(<span class="string">&quot;classpath:shiro.ini&quot;</span>);</span><br><span class="line">        SecurityManager securityManager = factory.getInstance();</span><br><span class="line">        SecurityUtils.setSecurityManager(securityManager);</span><br><span class="line"></span><br><span class="line">        Subject currentUser = SecurityUtils.getSubject();</span><br><span class="line">        Session session = currentUser.getSession();</span><br><span class="line">        session.setAttribute(<span class="string">&quot;someKey&quot;</span>,<span class="string">&quot;aValue&quot;</span>);</span><br><span class="line">        String value = (String) session.getAttribute(<span class="string">&quot;someKey&quot;</span>);</span><br><span class="line">        <span class="keyword">if</span>(<span class="string">&quot;aValue&quot;</span>.equals(value))&#123;</span><br><span class="line">            LOG.info(<span class="string">&quot;Retrieved the correct value&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(!currentUser.isAuthenticated())&#123;</span><br><span class="line">            UsernamePasswordToken token = <span class="keyword">new</span> UsernamePasswordToken(<span class="string">&quot;lonestar&quot;</span>, <span class="string">&quot;vespa&quot;</span>);</span><br><span class="line">            token.setRememberMe(<span class="keyword">true</span>);</span><br><span class="line">            <span class="keyword">try</span>&#123;</span><br><span class="line">                currentUser.login(token);</span><br><span class="line">            &#125;<span class="keyword">catch</span> (UnknownAccountException uae)&#123;</span><br><span class="line">                LOG.info(<span class="string">&quot;There is no user with username whith &quot;</span>+ token.getPrincipal());</span><br><span class="line">            &#125;<span class="keyword">catch</span> (IncorrectCredentialsException ice)&#123;</span><br><span class="line">                LOG.info(<span class="string">&quot;Password for account&quot;</span>+ token.getPrincipal()+<span class="string">&quot;was incorrect&quot;</span>);</span><br><span class="line">            &#125;<span class="keyword">catch</span> (LockedAccountException lae)&#123;</span><br><span class="line">                LOG.info(<span class="string">&quot;The Account for userName&quot;</span>+ token.getPrincipal()+<span class="string">&quot;is locked. &quot;</span> +</span><br><span class="line">                        <span class="string">&quot;Please contact your administrator to unlocked it&quot;</span>);</span><br><span class="line">            &#125;<span class="keyword">catch</span> (AuthenticationException ae)&#123;</span><br><span class="line">                <span class="comment">//unexpected exception</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        LOG.info(<span class="string">&quot;USER[&quot;</span>+ currentUser.getPrincipal()+<span class="string">&quot;] logged in successfully&quot;</span>);</span><br><span class="line">        <span class="keyword">if</span>(currentUser.hasRole(<span class="string">&quot;schwartz&quot;</span>))&#123;</span><br><span class="line">            LOG.info(<span class="string">&quot;May the Schwartz be with you&quot;</span>);</span><br><span class="line">        &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">            LOG.info(<span class="string">&quot;Hello,Mere mortal&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span>(currentUser.isPermitted(<span class="string">&quot;lightsaber:wield&quot;</span>))&#123;</span><br><span class="line">            LOG.info(<span class="string">&quot;You may use a lightsaber ring use it wisely&quot;</span>);</span><br><span class="line">        &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">            LOG.info(<span class="string">&quot;Sorry, light rings are for schwartz masters only&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span>(currentUser.isPermitted(<span class="string">&quot;winnebago:drive:eagle5&quot;</span>))&#123;</span><br><span class="line">            LOG.info(<span class="string">&quot;You are permitted to &#x27;drive&#x27; the winnebago with license plate(id) &#x27;eagle5&#x27;. &quot;</span> +</span><br><span class="line">                    <span class="string">&quot;Here are the keys-have fun!&quot;</span>);</span><br><span class="line">        &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">            LOG.info(<span class="string">&quot;Sorry,you aren&#x27;t allowed to drive the &#x27;eagle5&#x27; winnebago&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        currentUser.logout();</span><br><span class="line">        System.exit(<span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>è¿è¡Œè¾“å‡º</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">2022-02-17 14:33:37,982 DEBUG [org.apache.shiro.io.ResourceUtils] - </span><br><span class="line">Opening resource from class path [shiro.ini] </span><br><span class="line"></span><br><span class="line">2022-02-17 14:33:38,021 DEBUG [org.apache.shiro.config.Ini] - Parsing [users] </span><br><span class="line"></span><br><span class="line">2022-02-17 14:33:38,026 DEBUG [org.apache.shiro.config.Ini] - Parsing [roles] </span><br><span class="line"></span><br><span class="line">2022-02-17 14:33:38,523 DEBUG [org.apache.shiro.config.IniFactorySupport] - </span><br><span class="line">Creating instance from Ini [sections=users,roles] </span><br><span class="line"></span><br><span class="line">2022-02-17 14:33:38,571 DEBUG [org.apache.shiro.realm.text.IniRealm] - </span><br><span class="line">Discovered the [roles] section.  Processing... </span><br><span class="line"></span><br><span class="line">2022-02-17 14:33:38,575 DEBUG [org.apache.shiro.realm.text.IniRealm] - </span><br><span class="line">Discovered the [users] section.  Processing... </span><br><span class="line"></span><br><span class="line">2022-02-17 14:33:38,594 DEBUG [org.apache.shiro.session.mgt.AbstractValidatingSessionManager] - </span><br><span class="line">No sessionValidationScheduler set.  Attempting to create default instance. </span><br><span class="line"></span><br><span class="line">2022-02-17 14:33:38,595 INFO [org.apache.shiro.session.mgt.AbstractValidatingSessionManager] - </span><br><span class="line">Enabling session validation scheduler... </span><br><span class="line"></span><br><span class="line">2022-02-17 14:33:38,625 DEBUG [org.apache.shiro.session.mgt.DefaultSessionManager] - </span><br><span class="line">Creating new EIS record for new session instance [org.apache.shiro.session.mgt.SimpleSession,id=null] </span><br><span class="line"></span><br><span class="line">2022-02-17 14:33:39,022 INFO [com.lizhi.springbootshiro.start.ShiroQuickStart] - Retrieved the correct value </span><br><span class="line"></span><br><span class="line">2022-02-17 14:33:39,022 DEBUG [org.apache.shiro.realm.AuthenticatingRealm] - </span><br><span class="line">Looked up AuthenticationInfo [null] from doGetAuthenticationInfo </span><br><span class="line"></span><br><span class="line">2022-02-17 14:33:39,022 DEBUG [org.apache.shiro.realm.AuthenticatingRealm] - No AuthenticationInfo found for submitted AuthenticationToken [org.apache.shiro.authc.UsernamePasswordToken - lonestar, rememberMe=true].  Returning null. </span><br><span class="line"></span><br><span class="line">2022-02-17 14:33:39,030 INFO [com.lizhi.springbootshiro.start.ShiroQuickStart] - </span><br><span class="line">There is no user with username whith lonestar </span><br></pre></td></tr></table></figure><h2 id="SpringBootæ•´åˆShiro"><a href="#SpringBootæ•´åˆShiro" class="headerlink" title="SpringBootæ•´åˆShiro"></a>SpringBootæ•´åˆShiro</h2><h3 id="å…ˆæŒ‰ç…§ä»¥ä¸‹æ­¥éª¤æŠŠåŸºæœ¬çš„ç¯å¢ƒæ­å¥½"><a href="#å…ˆæŒ‰ç…§ä»¥ä¸‹æ­¥éª¤æŠŠåŸºæœ¬çš„ç¯å¢ƒæ­å¥½" class="headerlink" title="å…ˆæŒ‰ç…§ä»¥ä¸‹æ­¥éª¤æŠŠåŸºæœ¬çš„ç¯å¢ƒæ­å¥½"></a>å…ˆæŒ‰ç…§ä»¥ä¸‹æ­¥éª¤æŠŠåŸºæœ¬çš„ç¯å¢ƒæ­å¥½</h3><ol><li>å¯¼å…¥ä¾èµ–ï¼Œè¿™é‡Œåªæ˜¾ç¤ºshiroçš„ç›¸å…³ä¾èµ–</li></ol><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.shiro<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>shiro-spring<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.8.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><ol start="2"><li>å®ä½“ç±»User.java</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="meta">@NoArgsConstructor</span></span><br><span class="line"><span class="meta">@AllArgsConstructor</span></span><br><span class="line"><span class="meta">@ToString</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">User</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> id;</span><br><span class="line">    <span class="keyword">private</span> String userName;</span><br><span class="line">    <span class="keyword">private</span> String password;</span><br><span class="line">    <span class="keyword">private</span> String perms;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol start="3"><li>é…ç½®ç±»ShiroConfig.java</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ShiroConfig</span> </span>&#123;</span><br><span class="line">    <span class="comment">//ShiroFilterFactoryBean</span></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> ShiroFilterFactoryBean <span class="title">getShiroFilterFactory</span><span class="params">(<span class="meta">@Autowired</span> DefaultWebSecurityManager defaultWebSecurityManager)</span></span>&#123;</span><br><span class="line">        ShiroFilterFactoryBean shiroFilterFactoryBean = <span class="keyword">new</span> ShiroFilterFactoryBean();</span><br><span class="line">        shiroFilterFactoryBean.setSecurityManager(defaultWebSecurityManager);</span><br><span class="line">        <span class="keyword">return</span> shiroFilterFactoryBean;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//DefaultWebSecurityManager</span></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> DefaultWebSecurityManager <span class="title">getDefaultWebSecurityManager</span><span class="params">(<span class="meta">@Autowired</span> UserRealm userRealm)</span></span>&#123;</span><br><span class="line">        DefaultWebSecurityManager securityManager = <span class="keyword">new</span> DefaultWebSecurityManager();</span><br><span class="line">        securityManager.setRealm(userRealm);</span><br><span class="line">        <span class="keyword">return</span> securityManager;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//realm,éœ€è¦è‡ªå®šä¹‰ï¼Œç”¨æ¥åšæˆæƒå’Œè®¤è¯çš„</span></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> UserRealm <span class="title">userRealm</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> UserRealm();</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><ol start="4"><li>UserRealm.java</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserRealm</span> <span class="keyword">extends</span> <span class="title">AuthorizingRealm</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> UserMapper userMapper;</span><br><span class="line">    <span class="comment">//æˆæƒ</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> AuthorizationInfo <span class="title">doGetAuthorizationInfo</span><span class="params">(PrincipalCollection principalCollection)</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;æˆæƒ&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//è®¤è¯</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> AuthenticationInfo <span class="title">doGetAuthenticationInfo</span><span class="params">(AuthenticationToken authenticationToken)</span> <span class="keyword">throws</span> AuthenticationException </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;è®¤è¯&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol start="5"><li>index.html</li></ol><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span> <span class="attr">xmlns:th</span>=<span class="string">&quot;http://www.thymeleaf.org&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">title</span>&gt;</span>é¦–é¡µ<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h2</span>&gt;</span>é¦–é¡µ<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">a</span> <span class="attr">th:href</span>=<span class="string">&quot;@&#123;/user/add&#125;&quot;</span>&gt;</span>ç”¨æˆ·å¢<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">a</span> <span class="attr">th:href</span>=<span class="string">&quot;@&#123;/user/del&#125;&quot;</span>&gt;</span>ç”¨æˆ·åˆ <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">a</span> <span class="attr">th:href</span>=<span class="string">&quot;@&#123;/user/update&#125;&quot;</span>&gt;</span>ç”¨æˆ·æ”¹<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><ol start="6"><li>userçš„addé¡µé¢</li></ol><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h3</span>&gt;</span>userçš„add<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><ol start="7"><li>userçš„delé¡µé¢</li></ol><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h3</span>&gt;</span>userçš„delete<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><ol start="8"><li>userçš„updateé¡µé¢</li></ol><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h3</span>&gt;</span>userçš„update<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><ol start="9"><li>MyController.java</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.lizhi.springbootshiro.contoller;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.apache.shiro.SecurityUtils;</span><br><span class="line"><span class="keyword">import</span> org.apache.shiro.authc.IncorrectCredentialsException;</span><br><span class="line"><span class="keyword">import</span> org.apache.shiro.authc.UnknownAccountException;</span><br><span class="line"><span class="keyword">import</span> org.apache.shiro.authc.UsernamePasswordToken;</span><br><span class="line"><span class="keyword">import</span> org.apache.shiro.subject.Subject;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Controller;</span><br><span class="line"><span class="keyword">import</span> org.springframework.ui.Model;</span><br><span class="line"><span class="keyword">import</span> org.springframework.validation.BindingResult;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.GetMapping;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.PathVariable;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RequestMapping;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.ResponseBody;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyController</span> </span>&#123;</span><br><span class="line">    <span class="meta">@GetMapping(&quot;/index&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">index</span><span class="params">(Model model)</span></span>&#123;</span><br><span class="line">        model.addAttribute(<span class="string">&quot;msg&quot;</span>,<span class="string">&quot;hello,shiro&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;index&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//è¿™é‡Œæ˜¯restfulé£æ ¼</span></span><br><span class="line">    <span class="meta">@GetMapping(&quot;/user/&#123;method&#125;&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">operateUser</span><span class="params">(<span class="meta">@PathVariable(&quot;method&quot;)</span> String method)</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;user/&quot;</span>+method;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol start="10"><li>UserMapper.java</li></ol><p>userè¡¨ä¸­å°±ä¸‰ä¸ªå­—æ®µã€‚id,user_name,password,perms</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Mapper</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">UserMapper</span> </span>&#123;</span><br><span class="line">    <span class="function">List&lt;User&gt; <span class="title">listAllUsers</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function">User <span class="title">getUserByName</span><span class="params">(String userName)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol start="11"><li>UserMapper.xml</li></ol><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">mapper</span> <span class="meta-keyword">PUBLIC</span> <span class="meta-string">&quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span></span></span><br><span class="line"><span class="meta">        <span class="meta-string">&quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">mapper</span> <span class="attr">namespace</span>=<span class="string">&quot;com.lizhi.springbootshiro.mapper.UserMapper&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;listAllUsers&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;com.lizhi.springbootshiro.pojo.User&quot;</span>&gt;</span></span><br><span class="line">        select id,user_name as userName,password,perms from `user`</span><br><span class="line">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;getUserByName&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;com.lizhi.springbootshiro.pojo.User&quot;</span>&gt;</span></span><br><span class="line">        select id,user_name as userName,password,perms from `user` where user_name = #&#123;userName&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">mapper</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="ç™»å½•æ‹¦æˆª"><a href="#ç™»å½•æ‹¦æˆª" class="headerlink" title="ç™»å½•æ‹¦æˆª"></a>ç™»å½•æ‹¦æˆª</h3><p>ç™»å½•æ‹¦æˆªæŒ‡çš„æ˜¯ï¼Œæœªç™»å½•çš„ç”¨æˆ·ä¸å¾—è¿›å…¥ç”¨æˆ·çš„å¢åˆ æ”¹é¡µé¢</p><p>ä¸‹é¢æ˜¯é›†ä¸­æ‹¦æˆªè§„åˆ™ï¼Œä¸€èˆ¬authcå’Œpermsç”¨çš„æ¯”è¾ƒå¤š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * annoï¼š æ— éœ€è®¤è¯å³å¯è®¿é—®</span></span><br><span class="line"><span class="comment"> * authcï¼šå¿…é¡»è®¤è¯äº†æ‰å¯ä»¥è®¿é—®</span></span><br><span class="line"><span class="comment"> * permsï¼šå¿…é¡»æ‹¥æœ‰æƒé™æ‰å¯ä»¥è®¿é—®</span></span><br><span class="line"><span class="comment"> * rolesï¼šå¿…é¡»æ‹¥æœ‰æŸç§è§’è‰²æ‰å¯ä»¥è®¿é—®</span></span><br><span class="line"><span class="comment"> * userï¼šå¿…é¡»æ‹¥æœ‰è®°ä½æˆ‘çš„åŠŸèƒ½çš„æ—¶å€™æ‰å¯ä»¥è®¿é—®ï¼ˆä¸€èˆ¬å¾ˆå°‘ç”¨ï¼‰</span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure><p>è¿™æ˜¯åœ¨ShiroFilterFactoryBeanä¸­é…ç½®çš„</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Bean</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> ShiroFilterFactoryBean <span class="title">getShiroFilterFactory</span><span class="params">(<span class="meta">@Autowired</span> DefaultWebSecurityManager defaultWebSecurityManager)</span></span>&#123;</span><br><span class="line">    ShiroFilterFactoryBean shiroFilterFactoryBean = <span class="keyword">new</span> ShiroFilterFactoryBean();</span><br><span class="line">    shiroFilterFactoryBean.setSecurityManager(defaultWebSecurityManager);</span><br><span class="line">    </span><br><span class="line">    Map&lt;String,String&gt; filterMap = <span class="keyword">new</span> LinkedHashMap&lt;&gt;();</span><br><span class="line">    filterMap.put(<span class="string">&quot;/user/add&quot;</span>,<span class="string">&quot;perms[user:add]&quot;</span>);<span class="comment">//è®¾ç½®è¯¥è·¯å¾„åªæœ‰user:addæ‰å¯ä»¥è®¿é—®</span></span><br><span class="line">    filterMap.put(<span class="string">&quot;/user/update&quot;</span>,<span class="string">&quot;perms[user:update]&quot;</span>);<span class="comment">//è®¾ç½®è¯¥è·¯å¾„åªæœ‰user:updateæ‰å¯ä»¥è®¿é—®</span></span><br><span class="line">    filterMap.put(<span class="string">&quot;/user/del&quot;</span>,<span class="string">&quot;perms[user:del]&quot;</span>);<span class="comment">//è®¾ç½®è¯¥è·¯å¾„åªæœ‰user:delæ‰å¯ä»¥è®¿é—®</span></span><br><span class="line">    filterMap.put(<span class="string">&quot;/user/*&quot;</span>,<span class="string">&quot;authc&quot;</span>);</span><br><span class="line">    shiroFilterFactoryBean.setFilterChainDefinitionMap(filterMap);</span><br><span class="line"></span><br><span class="line">    shiroFilterFactoryBean.setLoginUrl(<span class="string">&quot;/login&quot;</span>);<span class="comment">//è®¾ç½®ç™»å½•çš„è·¯å¾„</span></span><br><span class="line">    shiroFilterFactoryBean.setSuccessUrl(<span class="string">&quot;/index&quot;</span>);<span class="comment">//è®¾ç½®ç™»å½•æˆåŠŸçš„è·¯å¾„</span></span><br><span class="line">    shiroFilterFactoryBean.setUnauthorizedUrl(<span class="string">&quot;/unauth&quot;</span>);<span class="comment">//è®¾ç½®æœªæˆæƒçš„ç”¨æˆ·è¢«è®¿é—®åè·³è½¬çš„è·¯å¾„</span></span><br><span class="line">    <span class="keyword">return</span> shiroFilterFactoryBean;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>login.html</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span> <span class="attr">xmlns:th</span>=<span class="string">&quot;http://www.thymeleaf.org&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">title</span>&gt;</span>Login<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h2</span>&gt;</span>ç™»å½•<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span> <span class="attr">style</span>=<span class="string">&quot;color: red&quot;</span>&gt;</span>[[$&#123;error&#125;]]<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">form</span> <span class="attr">th:action</span>=<span class="string">&quot;@&#123;/login.do&#125;&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;userName&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;è¯·è¾“å…¥æ‚¨çš„ç”¨æˆ·å&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;password&quot;</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;è¯·è¾“å…¥æ‚¨çš„å¯†ç &quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span> <span class="attr">value</span>=<span class="string">&quot;ç™»å½•&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>MyControllerä¸­é…ç½®è·¯å¾„</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@GetMapping(&quot;/login&quot;)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">login</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;login&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@GetMapping(&quot;/unauth&quot;)</span></span><br><span class="line"><span class="meta">@ResponseBody</span><span class="comment">//è¿™é‡Œå·æ‡’æ²¡å†™é¡µé¢äº†ï¼Œè€Œæ˜¯ç›´æ¥å°†æ¶ˆæ¯è¿”å›åˆ°é¡µé¢ä¸­</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">unauthorized</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;æœªç»æˆæƒæ— æ³•è®¿é—®æ­¤é¡µé¢&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">@GetMapping(&quot;/login.do&quot;)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">doLogin</span><span class="params">(String userName, String password, Model model)</span> </span>&#123;</span><br><span class="line">    <span class="comment">//è·å–å½“å‰ç”¨æˆ·</span></span><br><span class="line">    Subject currentUser = SecurityUtils.getSubject();</span><br><span class="line">    UsernamePasswordToken token = <span class="keyword">new</span> UsernamePasswordToken(userName, password);</span><br><span class="line">    <span class="keyword">try</span>&#123;</span><br><span class="line">        currentUser.login(token);<span class="comment">//è¿™é‡Œä¸‹ä¸€æ­¥æ˜¯åˆ°userRealmçš„è®¤è¯æ–¹æ³•</span></span><br><span class="line">        <span class="comment">//å¦‚æœæ²¡æœ‰æŠ›å‡ºå¼‚å¸¸ï¼Œåˆ™è¯´æ˜ç™»å½•æˆåŠŸ</span></span><br><span class="line">        Subject currentUser = SecurityUtils.getSubject();</span><br><span class="line">        <span class="comment">//æ‹¿åˆ°shiroå†…éƒ¨çš„sessionä¿å­˜æ•°æ®ï¼Œ</span></span><br><span class="line">        currentUser.getSession().setAttribute(<span class="string">&quot;loginInfo&quot;</span>,user);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;index&quot;</span>;</span><br><span class="line">    &#125;<span class="keyword">catch</span> (UnknownAccountException uae)&#123;</span><br><span class="line">        model.addAttribute(<span class="string">&quot;error&quot;</span>,<span class="string">&quot;ç”¨æˆ·åé”™è¯¯&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;login&quot;</span>;</span><br><span class="line">    &#125;<span class="keyword">catch</span> (IncorrectCredentialsException ice)&#123;</span><br><span class="line">        model.addAttribute(<span class="string">&quot;error&quot;</span>,<span class="string">&quot;å¯†ç é”™è¯¯&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;login&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ç”¨æˆ·è®¤è¯"><a href="#ç”¨æˆ·è®¤è¯" class="headerlink" title="ç”¨æˆ·è®¤è¯"></a>ç”¨æˆ·è®¤è¯</h3><p>æ¡ˆä¾‹èµ°åˆ°è¿™é‡Œï¼Œä½ ä¼šå‘ç°æ— è®ºæ€ä¹ˆç™»å½•éƒ½æ˜¯é”™çš„ï¼Œé‚£æ˜¯å› ä¸ºæˆ‘ä»¬è¿˜æ²¡æœ‰å¯¹ç”¨æˆ·è¿›è¡Œè®¤è¯ã€‚</p><p>ç”¨æˆ·è®¤è¯æŒ‡çš„æ˜¯ï¼Œå½“ç”¨æˆ·ç™»å½•çš„æ—¶å€™ï¼Œå¯¹å…¶è¿›è¡ŒéªŒè¯</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">protected</span> AuthenticationInfo <span class="title">doGetAuthenticationInfo</span><span class="params">(AuthenticationToken authenticationToken)</span> <span class="keyword">throws</span> AuthenticationException </span>&#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;è®¤è¯&quot;</span>);</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ•°æ®åº“ä¸­è¯»å–æ•°æ®</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    UsernamePasswordToken token = (UsernamePasswordToken) authenticationToken;</span><br><span class="line">    User user = userMapper.getUserByName(token.getUsername());</span><br><span class="line">    <span class="keyword">if</span>(user==<span class="keyword">null</span>)&#123;</span><br><span class="line">        <span class="comment">//è¿™é‡Œå¦‚æœè¿”å›nullçš„è¯ï¼Œä¼šè‡ªåŠ¨æŠ›å‡ºå¼‚å¸¸åˆ°ä¸‹å›¾å¤„</span></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//è¿™é‡Œçš„ç¬¬ä¸€ä¸ªå‚æ•°userä¼šè®¾ç½®ç»™å½“å‰ç™»å½•å¯¹è±¡çš„Principalä¸­ã€‚</span></span><br><span class="line">    <span class="comment">//å¯ä»¥é€šè¿‡SecurityUtils.getSubject().getPrincipal()è·å–</span></span><br><span class="line">    <span class="comment">//ç¬¬äºŒä¸ªå‚æ•°ä¼ å…¥æ­£ç¡®çš„å¯†ç ï¼Œå³æ•°æ®åº“ä¸­çš„å¯†ç ï¼Œäº¤ç»™shiroæ¥åšå¯†ç çš„æ ¡éªŒï¼Œå¦‚æœå¯†ç é”™è¯¯ï¼Œä¹Ÿä¼šæŠ›å‡ºå¼‚å¸¸åˆ°ä¸‹å›¾çš„åœ°æ–¹</span></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> SimpleAuthenticationInfo(user, user.getPassword(),<span class="string">&quot;&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><img src="/javaEE/SpringBoot/2022/02/17/SpringBoot-Shiro/%E8%BF%94%E5%9B%9E%E5%BC%82%E5%B8%B8%E5%88%B0%E6%AD%A4%E5%A4%84.png" class title="è¿”å›å¼‚å¸¸åˆ°æ­¤å¤„"><blockquote><p>è¿™é‡Œæ’ä¸Šä¸€å˜´ï¼Œåœ¨webç¯å¢ƒä¸­ï¼Œé€šè¿‡subjectæ‹¿åˆ°çš„sessionå³webæ¡†æ¶ä¸­çš„é‚£ä¸ªsessionã€‚</p><p>ä½†æ˜¯å¦‚æœshiroæ²¡æœ‰ä½¿ç”¨åœ¨webç¯å¢ƒçš„è¯ï¼Œå†…éƒ¨ä¹Ÿæ˜¯æœ‰ä¸€ä¸ªsessionçš„ï¼Œä½†æ˜¯é‚£ä¸ªå°±ä¸æ˜¯webä¸­çš„sessionäº†ã€‚</p></blockquote><h3 id="ç”¨æˆ·æˆæƒ"><a href="#ç”¨æˆ·æˆæƒ" class="headerlink" title="ç”¨æˆ·æˆæƒ"></a>ç”¨æˆ·æˆæƒ</h3><p>å¥½å•¦ï¼Œç°åœ¨æ¡ˆä¾‹å·²ç»å¯ä»¥è·‘èµ·æ¥äº†ï¼Œå¹¶ä¸”å¦‚æœè´¦å·å¯†ç æ­£ç¡®çš„è¯æ˜¯å¯ä»¥ç™»å½•çš„ï¼Œå¹¶ä¸”è¿”å›åˆ°ä¸»é¡µ</p><p>è¿˜è®°å¾—æˆ‘ä»¬åœ¨ä¸‹å›¾é…ç½®çš„è¿™ä¸€ä¸²è®©äººä¸€å¤´é›¾æ°´çš„é…ç½®å—ï¼Ÿ</p><img src="/javaEE/SpringBoot/2022/02/17/SpringBoot-Shiro/%E7%94%A8%E6%88%B7%E6%8E%88%E6%9D%83.png" class title="ç”¨æˆ·æˆæƒ"><p>è¿™é‡Œå°±åªæ˜¯é…ç½®äº†ä¸€ä¸ªè§„åˆ™ï¼Œä½†æ˜¯å…·ä½“ç™»å½•çš„ç”¨æˆ·çš„æˆæƒè¿˜æ²¡æœ‰åšï¼Œæˆ‘ä»¬ç°åœ¨å»å®Œæˆå®ƒå§</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">protected</span> AuthorizationInfo <span class="title">doGetAuthorizationInfo</span><span class="params">(PrincipalCollection principalCollection)</span> </span>&#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;æˆæƒ&quot;</span>);</span><br><span class="line">    SimpleAuthorizationInfo info = <span class="keyword">new</span> SimpleAuthorizationInfo();</span><br><span class="line">    <span class="comment">//è¿™é‡Œéœ€è¦æ ¹æ®ç”¨æˆ·è¡¨çš„æ•°æ®è¿›è¡Œå¢åŠ æƒé™</span></span><br><span class="line">    Subject subject = SecurityUtils.getSubject();</span><br><span class="line">    <span class="comment">//æ‹¿åˆ°ç”¨æˆ·è®¤è¯çš„æ—¶å€™ä¼ å…¥çš„user</span></span><br><span class="line">    User currentUser = (User) subject.getPrincipal();</span><br><span class="line">    System.out.println(<span class="string">&quot;æƒé™ä¸ºï¼š&quot;</span>+ currentUser.getPerms());</span><br><span class="line">    <span class="comment">//æ•°æ®åº“ä¸­permså­—æ®µæ˜¯ä»¥è¿™æ ·çš„å½¢å¼å­˜å‚¨çš„   user:add,user:update</span></span><br><span class="line">    <span class="comment">//æ‰€ä»¥éœ€è¦å°†å…¶ç”¨ï¼Œåˆ†å‰²ç„¶åä½¿ç”¨å·¥å…·ç±»å°†å…¶è½¬æ¢ä¸ºé›†åˆä¼ å…¥addStringPermissions</span></span><br><span class="line">    info.addStringPermissions(Arrays.asList(currentUser.getPerms().split(<span class="string">&quot;,&quot;</span>)));</span><br><span class="line">    <span class="keyword">return</span> info;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç°åœ¨å°±å®Œæˆäº†æ‰€æœ‰çš„é…ç½®å•¦ï¼å¤§å®¶å¯ä»¥å°è¯•ä¸€ä¸‹</p><p>è¿™é‡Œå†å¤šå®Œæˆä¸€ä¸ªéœ€æ±‚ï¼Œå°±æ˜¯é¦–é¡µåªæ˜¾ç¤ºç”¨æˆ·å…·æœ‰æƒé™çš„é“¾æ¥</p><p>é¦–å…ˆéœ€è¦å¯¼å…¥thymeleafçš„ä¾èµ–ï¼Œç„¶åå†å¯¼å…¥å‘½åç©ºé—´<code>xmlns:shiro=&quot;http://www.thymeleaf.org/thymeleaf-extras-shiro&quot;</code></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.github.theborakompanioni<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>thymeleaf-extras-shiro<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.1.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><p>é…ç½®ä¸€ä¸ªbean</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æ•´åˆthymeleaf</span></span><br><span class="line"><span class="meta">@Bean</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> ShiroDialect <span class="title">shiroDialect</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> ShiroDialect();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>index.html</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span> <span class="attr">xmlns:th</span>=<span class="string">&quot;http://www.thymeleaf.org&quot;</span></span></span><br><span class="line"><span class="tag">      <span class="attr">xmlns:shiro</span>=<span class="string">&quot;http://www.thymeleaf.org/thymeleaf-extras-shiro&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h2</span>&gt;</span>é¦–é¡µ<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>[[$&#123;msg&#125;]]<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--å½“sessionä¸­æ²¡æœ‰ç™»å½•ä¿¡æ¯çš„æ—¶å€™æ˜¾ç¤º--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span> <span class="attr">th:if</span>=<span class="string">&quot;$&#123;session.loginInfo==null&#125;&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">th:href</span>=<span class="string">&quot;@&#123;/login&#125;&quot;</span>&gt;</span>ç™»å½•<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--å½“sessionæœ‰ä¿¡æ¯çš„æ—¶å€™æ˜¾ç¤º--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span> <span class="attr">th:if</span>=<span class="string">&quot;$&#123;session.loginInfo!=null&#125;&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">th:href</span>=<span class="string">&quot;@&#123;/logout&#125;&quot;</span>&gt;</span>æ³¨é”€<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!--æˆ–è€…åƒè¿™æ ·å†™ï¼Œä¸ç”¨å°†ç”¨æˆ·ä¿¡æ¯å­˜å…¥session</span></span><br><span class="line"><span class="comment">&lt;p shiro:notAuthenticated&gt;&lt;a th:href=&quot;@&#123;/login&#125;&quot;&gt;ç™»å½•&lt;/a&gt;&lt;/p&gt;</span></span><br><span class="line"><span class="comment">&lt;p shiro:authenticated&gt;&lt;a th:href=&quot;@&#123;/logout&#125;&quot;&gt;æ³¨é”€&lt;/a&gt;&lt;/p&gt;</span></span><br><span class="line"><span class="comment">--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span> <span class="attr">shiro:hasPermission</span>=<span class="string">&quot;user:add&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">th:href</span>=<span class="string">&quot;@&#123;/user/add&#125;&quot;</span>&gt;</span>ç”¨æˆ·å¢<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span> <span class="attr">shiro:hasPermission</span>=<span class="string">&quot;user:del&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">th:href</span>=<span class="string">&quot;@&#123;/user/del&#125;&quot;</span>&gt;</span>ç”¨æˆ·åˆ <span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span> <span class="attr">shiro:hasPermission</span>=<span class="string">&quot;user:update&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">th:href</span>=<span class="string">&quot;@&#123;/user/update&#125;&quot;</span>&gt;</span>ç”¨æˆ·æ”¹<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="æ³¨é”€"><a href="#æ³¨é”€" class="headerlink" title="æ³¨é”€"></a>æ³¨é”€</h3><p>å¤§å®¶éƒ½åº”è¯¥æ³¨æ„åˆ°äº†ï¼Œä¸Šé¢çš„é¡µé¢ä¸­å¤šäº†ä¸€ä¸ªæ³¨é”€çš„é“¾æ¥ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬æ¥å®Œæˆä¸€ä¸‹æ³¨é”€çš„åŠŸèƒ½</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@GetMapping(&quot;/logout&quot;)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">logout</span><span class="params">()</span></span>&#123;</span><br><span class="line">    SecurityUtils.getSubject().logout();</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;index&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ˜¯çš„ï¼Œä½ æ²¡æœ‰çœ‹é”™ï¼Œå°±æ˜¯è¿™ä¹ˆç®€å•ï¼Œshiroå·²ç»å°†å…¶å®Œç¾å¾—å°è£…å¥½äº†</p><p>ä»¥ä¸Š</p>]]></content>
      
      
      <categories>
          
          <category> javaEE </category>
          
          <category> SpringBoot </category>
          
      </categories>
      
      
        <tags>
            
            <tag> SpringBoot </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>swagger</title>
      <link href="/javaEE/SpringBoot/2022/02/17/SpringBoot-Swagger/"/>
      <url>/javaEE/SpringBoot/2022/02/17/SpringBoot-Swagger/</url>
      
        <content type="html"><![CDATA[<h2 id="Swagger"><a href="#Swagger" class="headerlink" title="Swagger"></a>Swagger</h2><ul><li>å·ç§°ä¸–ç•Œä¸Šæœ€æµè¡Œçš„APIæ¡†æ¶</li><li>RestFulé£æ ¼çš„APIå±•ç¤ºå¯ä»¥å®ç°APIæ–‡æ¡£å’ŒAPIå®šä¹‰åŒæ­¥æ›´æ–°</li></ul><h3 id="SpringBootæ•´åˆSwagger"><a href="#SpringBootæ•´åˆSwagger" class="headerlink" title="SpringBootæ•´åˆSwagger"></a>SpringBootæ•´åˆSwagger</h3><ol><li>å¯¼å…¥ç›¸å…³ä¾èµ–</li></ol><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- https://mvnrepository.com/artifact/io.springfox/springfox-swagger2 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>io.springfox<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>springfox-swagger2<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.9.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- https://mvnrepository.com/artifact/io.springfox/springfox-swagger-ui --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>io.springfox<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>springfox-swagger-ui<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.9.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--éœ€è¦webçš„æ”¯æŒ--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-web<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><ol start="2"><li>å†™ä¸€ä¸ªç®€å•çš„Controller</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HelloController</span> </span>&#123;</span><br><span class="line">    <span class="meta">@GetMapping(&quot;/hello&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">hello</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;hello&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol start="3"><li>å¼€å¯SwaggeråŠŸèƒ½</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@EnableSwagger2</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SwaggerConfig</span> </span>&#123;   </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol start="4"><li>è®¿é—®swagger-ui.html</li></ol><img src="/javaEE/SpringBoot/2022/02/17/SpringBoot-Swagger/UI%E7%95%8C%E9%9D%A2.png" class title="UIç•Œé¢"><p>æˆ‘ä»¬åœ¨uiçš„jaråŒ…ä¸­å¯ä»¥çŸ¥é“æˆ‘ä»¬å¯ä»¥è®¿é—®è¯¥é¡µé¢</p><p>è¿™æ˜¯è®¿é—®çš„é¡µé¢</p><img src="/javaEE/SpringBoot/2022/02/17/SpringBoot-Swagger/swagger%E7%9A%84%E7%95%8C%E9%9D%A2.png" class title="swaggerçš„ç•Œé¢"><h3 id="é…ç½®Swagger"><a href="#é…ç½®Swagger" class="headerlink" title="é…ç½®Swagger"></a>é…ç½®Swagger</h3><p>Swaggerä¸­ç”¨æ¥é…ç½®çš„beanæ˜¯Docket</p><h4 id="é…ç½®æ–‡æ¡£ä¿¡æ¯"><a href="#é…ç½®æ–‡æ¡£ä¿¡æ¯" class="headerlink" title="é…ç½®æ–‡æ¡£ä¿¡æ¯"></a>é…ç½®æ–‡æ¡£ä¿¡æ¯</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Bean</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> Docket <span class="title">docket</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> Docket(DocumentationType.SWAGGER_2)</span><br><span class="line">            .apiInfo(apiInfo());</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//é…ç½®swaggerä¿¡æ¯</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> ApiInfo <span class="title">apiInfo</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> ApiInfo(</span><br><span class="line">            <span class="string">&quot;swaggeræµ‹è¯•&quot;</span>,<span class="comment">//æ–‡æ¡£åç§°</span></span><br><span class="line">            <span class="string">&quot;åˆæ¬¡æµ‹è¯•swagger&quot;</span>,<span class="comment">//æ–‡æ¡£æè¿°</span></span><br><span class="line">            <span class="string">&quot;1.0&quot;</span>,<span class="comment">//ç‰ˆæœ¬å·</span></span><br><span class="line">            <span class="string">&quot;http://li-zhi.net.cn/&quot;</span>,<span class="comment">//ä½œè€…ä¸ªäººåšå®¢</span></span><br><span class="line">            <span class="keyword">new</span> Contact(<span class="string">&quot;ææ™º&quot;</span>,<span class="string">&quot;http://li-zhi.net.cn/&quot;</span>,<span class="string">&quot;1158778689@qq.com&quot;</span>),<span class="comment">//ä½œè€…è”ç³»æ–¹å¼</span></span><br><span class="line">            <span class="string">&quot;Apache 2.0&quot;</span>,<span class="comment">//å¼€æºåè®®</span></span><br><span class="line">            <span class="string">&quot;http://www.apache.org/licenses/LICENSE-2.0&quot;</span>,</span><br><span class="line">            <span class="keyword">new</span> ArrayList&lt;&gt;()</span><br><span class="line">    );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="é…ç½®æ¨¡å‹"><a href="#é…ç½®æ¨¡å‹" class="headerlink" title="é…ç½®æ¨¡å‹"></a>é…ç½®æ¨¡å‹</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SwaggerModelConfig</span> </span>&#123;</span><br><span class="line">    <span class="meta">@GetMapping(&quot;/user&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> User <span class="title">user</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> User();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æˆ‘æ˜¯ä¸“é—¨å»ºäº†ä¸€ä¸ªSwaggerModelConfigæ¥æ”¾ç½®æ‰€æœ‰çš„æ¨¡å‹ç±»</p><h4 id="é…ç½®åˆ†ç»„"><a href="#é…ç½®åˆ†ç»„" class="headerlink" title="é…ç½®åˆ†ç»„"></a>é…ç½®åˆ†ç»„</h4><p>å› ä¸ºé¡¹ç›®ä¸€èˆ¬æ˜¯åˆ†ç»„ååŒå¼€å‘ï¼Œæ¯ä¸ªç»„å„è‡ªå¼€å‘çš„æ¥å£ï¼Œé‚£æ¥å£æ–‡æ¡£åº”è¯¥å„è‡ªåˆ†å¼€ï¼Œæ‰€ä»¥å°±æœ‰äº†åˆ†ç»„çš„éœ€è¦</p><p>åˆ†ç»„åªéœ€è¦é…ç½®ä¸€ä¸ªgroupName(â€œgroupNameâ€)å³å¯</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Bean</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> Docket <span class="title">docket2</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> Docket(DocumentationType.SWAGGER_2)</span><br><span class="line">            .apiInfo(apiInfo()).groupName(<span class="string">&quot;group2&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">@Bean</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> Docket <span class="title">docket1</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> Docket(DocumentationType.SWAGGER_2)</span><br><span class="line">            .apiInfo(apiInfo()).groupName(<span class="string">&quot;group1&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="é…ç½®æ‰«æçš„æ¥å£"><a href="#é…ç½®æ‰«æçš„æ¥å£" class="headerlink" title="é…ç½®æ‰«æçš„æ¥å£"></a>é…ç½®æ‰«æçš„æ¥å£</h4><p>è¿™é‡Œä¸»è¦è®²ä¸¤ç§æ–¹å¼ï¼Œç¬¬ä¸€ç§æ˜¯æŒ‰è·¯å¾„æ‰«æï¼Œç¬¬äºŒç§æ˜¯æŒ‰åŒ…åæ‰«æ</p><h5 id="æŒ‰è·¯å¾„æ‰«æ"><a href="#æŒ‰è·¯å¾„æ‰«æ" class="headerlink" title="æŒ‰è·¯å¾„æ‰«æ"></a>æŒ‰è·¯å¾„æ‰«æ</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Bean</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> Docket <span class="title">docket1</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> Docket(DocumentationType.SWAGGER_2)</span><br><span class="line">            .apiInfo(apiInfo()).groupName(<span class="string">&quot;group1&quot;</span>)</span><br><span class="line">            .select()</span><br><span class="line">            .paths(PathSelectors.ant(<span class="string">&quot;/user/**&quot;</span>))</span><br><span class="line"><span class="comment">// è¯¥é…ç½®ä¸‹ï¼Œè¯¥ç»„ä¼šæ‰«ææ‰€æœ‰çš„/user/ä¸‹çš„æ‰€æœ‰çš„API</span></span><br><span class="line">            .build();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="æŒ‰åŒ…åæ‰«æ"><a href="#æŒ‰åŒ…åæ‰«æ" class="headerlink" title="æŒ‰åŒ…åæ‰«æ"></a>æŒ‰åŒ…åæ‰«æ</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Bean</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> Docket <span class="title">docket2</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> Docket(DocumentationType.SWAGGER_2)</span><br><span class="line">            .apiInfo(apiInfo()).groupName(<span class="string">&quot;group2&quot;</span>)</span><br><span class="line">            .select()</span><br><span class="line">            .apis(RequestHandlerSelectors.basePackage(<span class="string">&quot;com.lizhiswaggertest.controller&quot;</span>))</span><br><span class="line"><span class="comment">//è¯¥é…ç½®ä¸‹ï¼Œè¯¥ç»„ä¼šæ‰«ææ‰€æœ‰æ­¤åŒ…ä¸‹çš„APIæ¥å£</span></span><br><span class="line">            .build();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åœ¨ç±»RequestHandlerSelectorsä¸­è¿˜æœ‰å…¶ä»–çš„æ‰«ææœºåˆ¶ï¼Œå¯è‡ªè¡Œç ”ç©¶</p><h3 id="æ ¹æ®ç¯å¢ƒæ§åˆ¶æ˜¯å¦èƒ½è®¿é—®swagger"><a href="#æ ¹æ®ç¯å¢ƒæ§åˆ¶æ˜¯å¦èƒ½è®¿é—®swagger" class="headerlink" title="æ ¹æ®ç¯å¢ƒæ§åˆ¶æ˜¯å¦èƒ½è®¿é—®swagger"></a>æ ¹æ®ç¯å¢ƒæ§åˆ¶æ˜¯å¦èƒ½è®¿é—®swagger</h3><p>ä¸€èˆ¬äº§å“çš„å¼€å‘éƒ½ä¼šæœ‰å¼€å‘ã€æµ‹è¯•ã€è¿ç»´ã€ä¸Šçº¿ç­‰å¤šå¥—ç¯å¢ƒï¼Œæ ¹æ®ä¸åŒçš„ç¯å¢ƒï¼Œæ§åˆ¶æ˜¯å¦å¯ä»¥è®¿é—®swaggerçš„uiç•Œé¢</p><p>é…ç½®æ–‡ä»¶application.yml</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="attr">server:</span></span><br><span class="line">  <span class="attr">port:</span> <span class="number">8081</span></span><br><span class="line"></span><br><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">profiles:</span> <span class="string">dev</span></span><br><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="attr">server:</span></span><br><span class="line">  <span class="attr">port:</span> <span class="number">8082</span></span><br><span class="line"></span><br><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">profiles:</span> <span class="string">test</span></span><br><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="attr">server:</span></span><br><span class="line">  <span class="attr">port:</span> <span class="number">8083</span></span><br><span class="line"></span><br><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">profiles:</span> <span class="string">pro</span></span><br><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">profiles:</span></span><br><span class="line">    <span class="attr">active:</span> <span class="string">dev</span></span><br></pre></td></tr></table></figure><p>é…ç½®devç¯å¢ƒå’Œtestç¯å¢ƒå¯ä»¥ä½¿ç”¨swagger</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Bean</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> Docket <span class="title">docket1</span><span class="params">(Environment environment)</span></span>&#123;</span><br><span class="line">    Profiles devProfile = Profiles.of(<span class="string">&quot;dev&quot;</span>,<span class="string">&quot;test&quot;</span>);</span><br><span class="line">    <span class="keyword">boolean</span> dev = environment.acceptsProfiles(devProfile);</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> Docket(DocumentationType.SWAGGER_2)</span><br><span class="line">            .apiInfo(apiInfo()).groupName(<span class="string">&quot;group1&quot;</span>)</span><br><span class="line">            .enable(dev);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> javaEE </category>
          
          <category> SpringBoot </category>
          
      </categories>
      
      
        <tags>
            
            <tag> SpringBoot </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å•ä¾‹è®¾è®¡æ¨¡å¼</title>
      <link href="/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/2022/02/16/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E5%8D%95%E4%BE%8B%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
      <url>/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/2022/02/16/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E5%8D%95%E4%BE%8B%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/</url>
      
        <content type="html"><![CDATA[<h2 id="å•ä¾‹è®¾è®¡æ¨¡å¼"><a href="#å•ä¾‹è®¾è®¡æ¨¡å¼" class="headerlink" title="å•ä¾‹è®¾è®¡æ¨¡å¼"></a>å•ä¾‹è®¾è®¡æ¨¡å¼</h2><p>è¯¥è®¾è®¡æ¨¡å¼è§£å†³çš„é—®é¢˜æ˜¯ï¼Œä¸€ä¸ªç¯å¢ƒä¸­åªä¼šå­˜åœ¨<strong>ä¸€ä¸ª</strong>è¯¥ç±»çš„å¯¹è±¡</p><p>è¯¥æ¨¡å¼æœ‰äº”ç§å®ç°æ–¹å¼</p><ol><li>æ¶æ±‰æ¨¡å¼</li><li>æ‡’æ±‰æ¨¡å¼</li><li>é™æ€å†…éƒ¨ç±»æ¨¡å¼</li><li>æšä¸¾æ¨¡å¼</li></ol><p>è¯¥è®¾è®¡æ¨¡å¼çš„æ ¸å¿ƒæ˜¯<strong>æ„é€ æ–¹æ³•ç§æœ‰åŒ–</strong></p><h3 id="é¥¿æ±‰æ¨¡å¼"><a href="#é¥¿æ±‰æ¨¡å¼" class="headerlink" title="é¥¿æ±‰æ¨¡å¼"></a>é¥¿æ±‰æ¨¡å¼</h3><p>æ¶æ±‰æ¨¡å¼ï¼šè§åçŸ¥æ„ï¼Œå°±æ˜¯åœ¨ç±»è¢«åŠ è½½çš„æ—¶å€™å°±åˆ›å»ºã€‚</p><p>æ¡ˆä¾‹ï¼šRuntimeç±»</p><p>ç¼ºç‚¹ï¼šæµªè´¹å†…å­˜ç©ºé—´</p><blockquote><p>æˆ‘æŸ¥äº†èµ„æ–™ï¼ŒæŸ¥åˆ°äº†è¿™ä¸ªç¼ºç‚¹ï¼Œä½†æ˜¯è¿™ä¸ªç¼ºç‚¹æˆ‘ä¸æ—¶å¾ˆèƒ½ç†è§£</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Hungry</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">static</span> Hungry HUNGRY = <span class="keyword">new</span> Hungry();</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="title">Hungry</span><span class="params">()</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Hungry <span class="title">getInstance</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> HUNGRY;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="æ‡’æ±‰æ¨¡å¼"><a href="#æ‡’æ±‰æ¨¡å¼" class="headerlink" title="æ‡’æ±‰æ¨¡å¼"></a>æ‡’æ±‰æ¨¡å¼</h3><p>è¿™ç§å®ç°æ–¹å¼ï¼Œæˆ‘ä»¬ä»åˆ†å‡ ä¸ªç‰ˆæœ¬ä»ç®€å•åˆ°å¤æ‚</p><h4 id="Version-01"><a href="#Version-01" class="headerlink" title="Version 01"></a>Version 01</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LazyMan</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> LazyMan lAZYMAN;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="title">LazyMan</span><span class="params">()</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> LazyMan <span class="title">getInstance</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(lAZYMAN==<span class="keyword">null</span>)&#123;</span><br><span class="line">            <span class="comment">//A</span></span><br><span class="line">            lAZYMAN = <span class="keyword">new</span> LazyMan();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> lAZYMAN;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>ç¼ºç‚¹ï¼š</strong>åªèƒ½åœ¨å•çº¿ç¨‹ä¸­å®‰å…¨ï¼Œå¤šçº¿ç¨‹ä¸­æ˜¯ä¸å®‰å…¨çš„</p><p>ç°åœ¨æœ‰çº¿ç¨‹Aå’Œçº¿ç¨‹Bï¼Œçº¿ç¨‹Aèµ°åˆ°äº†æ³¨è§£Aå¤„ï¼Œç„¶åçº¿ç¨‹BæŠ¢å äº†CPUï¼Œè¿™æ—¶å€™lAZYMANè¿˜æ˜¯nullï¼Œæ‰€ä»¥çº¿ç¨‹Båˆ›å»ºäº†ä¸€ä¸ªlAZYMANå¯¹è±¡ï¼Œç„¶åçº¿ç¨‹AæŠ¢å›CPUï¼Œå®ƒè¿™æ—¶å€™å·²ç»åœ¨ifè¯­å¥é‡Œé¢äº†ï¼Œç®­åœ¨å¼¦ä¸Šä¸å¾—ä¸å‘ï¼Œæ‰€ä»¥çº¿ç¨‹Aä¹Ÿåˆ›å»ºäº†ä¸€ä¸ªlAZYMANå¯¹è±¡ï¼Œå¯¼è‡´å•ä¾‹æ¨¡å¼è¢«ç ´åï¼Œæ‰€ä»¥è¯¥å®ç°æ–¹å¼çº¿ç¨‹ä¸å®‰å…¨</p><h4 id="Version-02"><a href="#Version-02" class="headerlink" title="Version 02"></a>Version 02</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LazyMan</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> LazyMan LAZYMAN;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="title">LazyMan</span><span class="params">()</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">static</span> LazyMan <span class="title">getInstance</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(LAZYMAN==<span class="keyword">null</span>)&#123;</span><br><span class="line">            LAZYMAN = <span class="keyword">new</span> LazyMan();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> LAZYMAN;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>ç¼ºç‚¹ï¼š</strong>ä¸ºæ–¹æ³•åŠ é”ï¼Œç¡®å®ä¿è¯äº†å•ä¾‹æ¨¡å¼ï¼Œä½†æ˜¯æˆ‘ä»¬éƒ½çŸ¥é“åŒæ­¥æ–¹æ³•ï¼Œé”çš„æ˜¯LazyMançš„Classç±»ï¼Œæ‰€ä»¥æˆ‘ä»¬å¾—çŸ¥è¿™ç§æ–¹å¼å¯ä»¥ä¿è¯å•ä¾‹æ¨¡å¼çš„çº¿ç¨‹å®‰å…¨ã€‚ä½†æ˜¯æˆ‘ä»¬å¥½å¥½æƒ³æƒ³ï¼Œå½“æˆ‘ä»¬åˆ›å»ºäº†ç¬¬ä¸€ä¸ªå•ä¾‹å¯¹è±¡ä¹‹åï¼Œè¿˜éœ€è¦é”æ¥ä¿è¯åŒæ­¥å—ï¼Ÿç­”æ¡ˆæ˜¾è€Œæ˜“è§ï¼Œè‚¯å®šæ˜¯ä¸éœ€è¦çš„ï¼Œæ‰€ä»¥è¿™ç§æ–¹å¼æ•ˆç‡ä½ä¸‹ï¼Œéœ€è¦æ”¹è¿›ï¼Œæˆ‘ä»¬æ¥çœ‹ä¸‹ä¸€ä¸ªç‰ˆæœ¬</p><h4 id="Version-03"><a href="#Version-03" class="headerlink" title="Version 03"></a>Version 03</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LazyMan</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> LazyMan LAZYMAN;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="title">LazyMan</span><span class="params">()</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> LazyMan <span class="title">getInstance</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(LAZYMAN==<span class="keyword">null</span>)&#123;</span><br><span class="line">            <span class="comment">//A</span></span><br><span class="line">            <span class="keyword">synchronized</span> (LazyMan.class)&#123;</span><br><span class="line">                LAZYMAN = <span class="keyword">new</span> LazyMan();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> LAZYMAN;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬ä¸ä½¿ç”¨åŒæ­¥æ–¹æ³•æ¥ä¿è¯æ‰€æœ‰çš„çº¿ç¨‹åŒæ­¥ï¼Œæˆ‘ä»¬åªå¯¹LAZYMANå¯¹è±¡è¿˜ä¸ºnullçš„çº¿ç¨‹åŒæ­¥ï¼Œè¿™æ—¶å€™åˆå‡ºç°äº†é—®é¢˜ã€‚æˆ‘ä»¬æ¥åˆ†æä¸€ä¸‹</p><p>ç°åœ¨æˆ‘ä»¬æœ‰ä¸¤ä¸ªçº¿ç¨‹ï¼Œçº¿ç¨‹Aå’Œçº¿ç¨‹Bã€‚çº¿ç¨‹Aèµ°åˆ°äº†æ³¨é‡ŠAå¤„ï¼Œç„¶åçº¿ç¨‹BæŠ¢å äº†CPUï¼Œè¿™æ—¶å€™lAZYMANè¿˜æ˜¯nullï¼Œæ‰€ä»¥çº¿ç¨‹Båˆ›å»ºäº†ä¸€ä¸ªlAZYMANå¯¹è±¡ï¼Œç„¶åçº¿ç¨‹AæŠ¢å›CPUï¼Œå®ƒè¿™æ—¶å€™å·²ç»åœ¨ifè¯­å¥é‡Œé¢äº†ï¼Œç®­åœ¨å¼¦ä¸Šä¸å¾—ä¸å‘ï¼Œæ‰€ä»¥çº¿ç¨‹Aä¹Ÿåˆ›å»ºäº†ä¸€ä¸ªlAZYMANå¯¹è±¡ï¼Œå¯¼è‡´å•ä¾‹æ¨¡å¼è¢«ç ´åï¼Œæ‰€ä»¥è¯¥å®ç°æ–¹å¼çº¿ç¨‹ä¸å®‰å…¨ï¼Œæˆ‘ä»¬å‘ç°è¿™å’Œæˆ‘ä»¬æ²¡æœ‰åŠ é”çš„æ—¶å€™çš„æƒ…å½¢å‡ ä¹ä¸€æ¨¡ä¸€æ ·ã€‚æˆ‘ä»¬æ¥çœ‹ä¸‹ä¸€ä¸ªç‰ˆæœ¬ï¼Œ<strong>åŒé‡é”æœºåˆ¶</strong></p><h4 id="Version-04"><a href="#Version-04" class="headerlink" title="Version 04"></a>Version 04</h4><pre><code>public class LazyMan &#123;    private static LazyMan LAZYMAN;    private LazyMan()&#123;        &#125;    public static LazyMan getInstance()&#123;        if(LAZYMAN==null)&#123;            //A            synchronized (LazyMan.class)&#123;                if(LAZYMAN==null)&#123;                    //B                    LAZYMAN = new LazyMan();                &#125;            &#125;        &#125;        return LAZYMAN;    &#125;&#125;</code></pre><p>æˆ‘ä¸ªäººçš„ç†è§£æ˜¯ç¬¬ä¸€é‡é”æ˜¯ä¸ºäº†è¿‡æ»¤LAZYMANä¸ºNULLçš„çº¿ç¨‹ï¼Œç¬¬äºŒé‡é”æ˜¯ä¸ºäº†ä¿è¯åªèƒ½æœ‰ä¸€ä¸ªçº¿ç¨‹å»åˆ›å»ºå¯¹è±¡ï¼Œè¿™æ—¶å€™æˆ‘ä»¬ä¼¼ä¹æ‰¾ä¸åˆ°ä»€ä¹ˆç ´ç»½äº†ï¼Œæˆ‘ä»¬æ¥ç»§ç»­å¾€ä¸‹çœ‹</p><h4 id="Version-05"><a href="#Version-05" class="headerlink" title="Version 05"></a>Version 05</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LazyMan</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">volatile</span> <span class="keyword">static</span> LazyMan LAZYMAN;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="title">LazyMan</span><span class="params">()</span></span>&#123;</span><br><span class="line">    </span><br><span class="line">    &#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> LazyMan <span class="title">getInstance</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(LAZYMAN==<span class="keyword">null</span>)&#123;</span><br><span class="line">            <span class="comment">//A</span></span><br><span class="line">            <span class="keyword">synchronized</span> (LazyMan.class)&#123;</span><br><span class="line">                <span class="keyword">if</span>(LAZYMAN==<span class="keyword">null</span>)&#123;</span><br><span class="line">                    <span class="comment">//B</span></span><br><span class="line">                    LAZYMAN = <span class="keyword">new</span> LazyMan();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> LAZYMAN;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¹ä¸€çœ‹ï¼Œå¥½åƒå’Œä¸Šä¸€ä¸ªç‰ˆæœ¬æ²¡ä»€ä¹ˆåŒºåˆ«ï¼Œä»”ç»†ä¸€çœ‹ï¼Œå…¶å®åŒºåˆ«æ˜¯åœ¨è¿™ä¸ªå•ä¾‹å˜é‡çš„ä¿®é¥°ç¬¦å¤šäº†ä¸€ä¸ªvolatileã€‚</p><p>volatileä¸‰å¤§ä½œç”¨</p><ol><li>ä¿è¯å¯è§æ€§</li><li>ä¸ä¿è¯åŸå­æ€§</li><li>ç¦æ­¢è¯¥å˜é‡å‡ºç°çš„åœ°æ–¹å‘ç”ŸæŒ‡ä»¤é‡æ’</li></ol><p>è¿™é‡Œçš„è¯ï¼Œæˆ‘ä»¬ä½¿ç”¨åˆ°çš„ç‰¹æ€§æ˜¯ç¬¬ä¸‰ç‚¹ï¼Œæˆ‘ä»¬æ¥åˆ†æä¸€ä¸‹<code> LAZYMAN = new LazyMan();</code></p><p>è¿™ä¸€å¥è¯å…¶å®æ‰§è¡Œäº†ä¸‰ä¸ªæ­¥éª¤</p><ol><li>å¼€è¾Ÿä¸€ä¸ªå†…å­˜ç©ºé—´</li><li>åˆå§‹åŒ–å¯¹è±¡</li><li>å°†è¯¥å†…å­˜ç©ºé—´çš„åœ°å€æŒ‡å‘å˜é‡</li></ol><p>JVMå†…éƒ¨ä¼šæœ‰ä¸€ç§å«æŒ‡ä»¤é‡æ’çš„ä»£ç ä¼˜åŒ–æœºåˆ¶ï¼Œè¿™æ—¶å€™ï¼Œè¿™ä¸‰è€…çš„é¡ºåºå°±æœ‰å¯èƒ½ä¼šæ”¹å˜ã€‚</p><p>ç°åœ¨æˆ‘ä»¬æœ‰ä¸¤ä¸ªçº¿ç¨‹ï¼Œçº¿ç¨‹Aå’Œçº¿ç¨‹Bã€‚çº¿ç¨‹Aèµ°åˆ°äº†æ³¨é‡ŠAå¤„ï¼Œç„¶åçº¿ç¨‹BæŠ¢å äº†CPUï¼Œå¼€å§‹æ‰§è¡Œ<code>LAZYMAN = new LazyMan();</code>å¼€è¾Ÿå†…å­˜ç©ºé—´åï¼Œæ²¡æœ‰å…ˆåˆå§‹åŒ–å¯¹è±¡ï¼Œè€Œæ˜¯å…ˆå°†è¯¥å†…å­˜ç©ºé—´çš„åœ°å€æŒ‡å‘å˜é‡ï¼Œ<strong>è¿™æ—¶å€™</strong>çº¿ç¨‹AæŠ¢å›äº†CPUï¼Œè¿™æ—¶å€™çš„LAZYMANå·²ç»ä¸æ˜¯NULLäº†ï¼Œç›´æ¥å°†å…¶è¿”å›äº†å‡ºå»ï¼Œä½†æ˜¯è¿™ä¸ªå¯¹è±¡å…¶å®è¿˜æ²¡æœ‰åˆå§‹åŒ–ï¼Œè¿˜æ˜¯ä¸ªç©ºæ¶å­ï¼Œè¿™å°±å‡ºç°äº†é—®é¢˜ã€‚</p><p>å½“ç„¶è¿™ç§æƒ…å†µååˆ†ååˆ†å°‘ï¼Œä½†æ˜¯ä¸ºäº†ä¸¥è°¨æ€§ï¼Œæœ€å¥½è¿˜æ˜¯åŠ ä¸Švolatileå…³é”®è¯ç¦æ­¢æŒ‡ä»¤é‡æ’</p><h3 id="é™æ€å†…éƒ¨ç±»æ¨¡å¼"><a href="#é™æ€å†…éƒ¨ç±»æ¨¡å¼" class="headerlink" title="é™æ€å†…éƒ¨ç±»æ¨¡å¼"></a>é™æ€å†…éƒ¨ç±»æ¨¡å¼</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">StaticWay</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="title">StaticWay</span><span class="params">()</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">InnerClass</span></span>&#123;</span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> StaticWay STATICWAY = <span class="keyword">new</span> StaticWay();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> StaticWay <span class="title">getInstance</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> InnerClass.STATICWAY;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¯¥å®ç°æ–¹å¼å…¶å®å°±æ˜¯åˆ©ç”¨çš„JVMçš„ä¸€äº›ç‰¹æ€§</p><p>ç±»çš„åŠ è½½åˆ†ä¸ºä»¥ä¸‹è¿‡ç¨‹</p><ul><li><p><strong>ç±»çš„åŠ è½½ï¼š</strong>å°†Classæ–‡ä»¶å­—èŠ‚ç åŠ è½½åˆ°å†…å­˜ä¸­ï¼Œå¹¶å°†è¿™äº›é™æ€æ•°æ®è½¬æ¢ä¸ºæ–¹æ³•åŒºçš„è¿è¡Œæ—¶æ•°æ®ç»“æ„ï¼Œç„¶ååœ¨å †ä¸­ç”Ÿæˆä¸€ä¸ªä»£è¡¨è¯¥ç±»çš„Classå¯¹è±¡ï¼Œä½œä¸ºæ–¹æ³•åŒºç±»æ•°æ®çš„è®¿é—®å…¥å£ï¼Œå¯ä»¥ä½¿ç”¨åå°„è·å–è¯¥ç±»çš„æ‰€æœ‰ä¿¡æ¯ã€‚</p></li><li><p><strong>ç±»çš„é“¾æ¥ï¼š</strong>å°†Javaç±»çš„äºŒè¿›åˆ¶ä»£ç åˆå¹¶åˆ°JVMä¸­  </p><ul><li>éªŒè¯ï¼šç¡®ä¿åŠ è½½çš„ç±»ç¬¦åˆJVMè§„èŒƒ  </li><li>å‡†å¤‡ï¼šä¸ºé™æ€å˜é‡åˆ†é…å†…å­˜å¹¶è®¾ç½®æˆå‘˜å˜é‡çš„é»˜è®¤å€¼  </li><li>è§£æï¼šJVMå¸¸é‡æ± å†…çš„ç¬¦å·å¼•ç”¨ï¼ˆå¸¸é‡åï¼‰æ›¿æ¢ä¸ºç›´æ¥å¼•ç”¨ï¼ˆåœ°å€ï¼‰çš„è¿‡ç¨‹</li></ul></li><li><p><strong>ç±»çš„åˆå§‹åŒ–ï¼š</strong>æ‰§è¡Œç±»æ„é€ å™¨&lt; clinit &gt;()æ–¹æ³•çš„è¿‡ç¨‹ï¼Œå½“åˆå§‹åŒ–ä¸€ä¸ªç±»çš„æ—¶å€™ï¼Œå¦‚æœå…¶çˆ¶ç±»ä¸ºåˆå§‹åŒ–ï¼Œåˆ™å…ˆåˆå§‹åŒ–å…¶çˆ¶ç±» ï¼Œ<strong>JVMä¼šä¿è¯ç±»æ„é€ å™¨åœ¨å¤šçº¿ç¨‹ç¯å¢ƒä¸‹è¢«æ­£ç¡®åŠ é”</strong></p></li></ul><p>å…¶å®æœ€å¼€å§‹çš„é¥¿æ±‰å•ä¾‹æ¨¡å¼ä¹Ÿæ˜¯ä¹Ÿæ˜¯è¿™ä¸ªåŸç†</p><h3 id="é¢ è¦†"><a href="#é¢ è¦†" class="headerlink" title="é¢ è¦†"></a>é¢ è¦†</h3><p>å…¶å®ä¸€è·¯åˆ°äº†è¿™é‡Œï¼Œä»¥ä¸Šæ–¹æ³•éƒ½æ˜¯ä¸å®‰å…¨çš„ã€‚å› ä¸ºjavaæœ‰ä¸€ä¸ªå¾ˆç‰›Xçš„åŒ…ã€‚</p><p><strong><code>java.lang.reflect</code></strong></p><p>æˆ‘ä»¬åœ¨æœ€å¼€å§‹è¯´è¿‡ï¼Œå•ä¾‹æ¨¡å¼çš„æœ¬è´¨å°±æ˜¯æ„é€ å™¨ç§æœ‰åŒ–ï¼Œä½†æ˜¯javaçš„åå°„æœºåˆ¶ï¼Œå®ƒä¸è®²æ­¦å¾·ï¼Œå®ƒå¯ä»¥ç›´æ¥ä¿®æ”¹æƒé™ä¿®é¥°ç¬¦ã€‚æˆ‘ä»¬æ¥çœ‹çœ‹ä»£ç ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> NoSuchMethodException, InvocationTargetException, InstantiationException, IllegalAccessException </span>&#123;</span><br><span class="line">    Constructor&lt;Hungry&gt; constructor = Hungry.class.getDeclaredConstructor(<span class="keyword">null</span>);</span><br><span class="line">    constructor.setAccessible(<span class="keyword">true</span>);</span><br><span class="line">    Hungry hungry1 = Hungry.getInstance();;</span><br><span class="line">    Hungry hungry2 = constructor.newInstance();</span><br><span class="line">    System.out.println(hungry1==hungry2);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//å¯æƒ³è€ŒçŸ¥æœ€åçš„ç»“æœæ˜¯  false</span></span><br></pre></td></tr></table></figure><p>å¯ä¸å¯ä»¥å¯¹å…¶ä½œå‡ºé˜²å¾¡å‘¢ï¼Ÿ</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="title">Hungry</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(HUNGRY!=<span class="keyword">null</span>)&#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException(<span class="string">&quot;è¯·ä¸è¦å°è¯•ä½¿ç”¨åå°„ç ´åå•ä¾‹æ¨¡å¼&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">Exception in thread <span class="string">&quot;main&quot;</span> java.lang.reflect.InvocationTargetException</span><br><span class="line">at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)</span><br><span class="line">at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:<span class="number">62</span>)</span><br><span class="line">at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:<span class="number">45</span>)</span><br><span class="line">at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:<span class="number">490</span>)</span><br><span class="line">at com.lizhi.hungry.Hungry.main(Hungry.java:<span class="number">26</span>)</span><br><span class="line">Caused by: java.lang.IllegalArgumentException: è¯·ä¸è¦å°è¯•ä½¿ç”¨åå°„ç ´åå•ä¾‹æ¨¡å¼</span><br><span class="line">at com.lizhi.hungry.Hungry.&lt;init&gt;(Hungry.java:<span class="number">15</span>)</span><br><span class="line">... <span class="number">5</span> more</span><br></pre></td></tr></table></figure><p>ä¸Šè¿°æ–¹æ³•å¯¹é¥¿æ±‰å·²ç»ä½œå‡ºäº†åˆé€‚çš„é˜²å¾¡ï¼Œé‚£å¯¹äºæ‡’æ±‰æ¨¡å¼ï¼Œå¦‚æœä¸¤ä¸ªå¯¹è±¡éƒ½æ˜¯ä½¿ç”¨åå°„åˆ›å»ºçš„å‘¢ï¼Ÿè¿™æ—¶å€™è¿™ä¸ªé˜²å¾¡å°±æ˜¯å½¢åŒè™šè®¾äº†ï¼Œå› ä¸ºæˆ‘ä»¬è‚¯å®šæ˜¯ç¦æ­¢åå°„å»åˆ›å»ºå¯¹è±¡ï¼Œæ‰€ä»¥è¿™ç§è‚¯å®šæ˜¯ä¸è¡Œçš„</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LazyMan</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> LazyMan LazyMan;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="title">LazyMan</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(LAZYMAN!=<span class="keyword">null</span>)&#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException(<span class="string">&quot;è¯·ä¸è¦å°è¯•ä½¿ç”¨åå°„ç ´åå•ä¾‹æ¨¡å¼&quot;</span>);</span><br><span class="line">        &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">synchronized</span> (LazyMan.class)&#123;</span><br><span class="line">                LazyMan = <span class="keyword">new</span> LazyMan();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> LazyMan <span class="title">getInstance</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(LazyMan==<span class="keyword">null</span>)&#123;</span><br><span class="line">            <span class="keyword">synchronized</span> (LazyMan.class)&#123;</span><br><span class="line">                <span class="keyword">if</span>(LazyMan==<span class="keyword">null</span>)&#123;</span><br><span class="line">                    LazyMan = <span class="keyword">new</span> LazyMan();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> LazyMan;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> NoSuchMethodException, InvocationTargetException, InstantiationException, IllegalAccessException </span>&#123;</span><br><span class="line">        Constructor&lt;LazyMan&gt; constructor = LazyMan.class.getDeclaredConstructor(<span class="keyword">null</span>);</span><br><span class="line">        constructor.setAccessible(<span class="keyword">true</span>);</span><br><span class="line">        LazyMan lazyMan1 = constructor.newInstance();</span><br><span class="line">        LazyMan lazyMan2 = LazyMan.getInstance();</span><br><span class="line">        System.out.println(lazyMan1==lazyMan2);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬å¼•å…¥ä¸€ä¸ªå¸ƒå°”å€¼æ¥å®Œæˆè¿™ä¸ªä»»åŠ¡</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LazyMan</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">volatile</span> <span class="keyword">static</span> LazyMan LazyMan;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">volatile</span> <span class="keyword">static</span> <span class="keyword">boolean</span> flag ;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="title">LazyMan</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(flag)&#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException(<span class="string">&quot;è¯·ä¸è¦å°è¯•ä½¿ç”¨åå°„ç ´åå•ä¾‹æ¨¡å¼&quot;</span>);</span><br><span class="line">        &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">            flag=<span class="keyword">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> LazyMan <span class="title">getInstance</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(LazyMan==<span class="keyword">null</span>)&#123;</span><br><span class="line">            <span class="keyword">synchronized</span> (LazyMan.class)&#123;</span><br><span class="line">                <span class="keyword">if</span>(LazyMan==<span class="keyword">null</span>)&#123;</span><br><span class="line">                    LazyMan = <span class="keyword">new</span> LazyMan();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> LazyMan;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> NoSuchMethodException, InvocationTargetException, InstantiationException, IllegalAccessException </span>&#123;</span><br><span class="line">        Constructor&lt;LazyMan&gt; constructor = LazyMan.class.getDeclaredConstructor(<span class="keyword">null</span>);</span><br><span class="line">        constructor.setAccessible(<span class="keyword">true</span>);</span><br><span class="line">        LazyMan lazyMan1 = constructor.newInstance();</span><br><span class="line"><span class="comment">//        LazyMan lazyMan2 = constructor.newInstance();</span></span><br><span class="line">        LazyMan lazyMan2 = LazyMan.getInstance();</span><br><span class="line"><span class="comment">//        LazyMan lazyMan1 = LazyMan.getInstance();</span></span><br><span class="line">        System.out.println(lazyMan1==lazyMan2);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™æ ·åå°„å°±æ— æ³•æ§åˆ¶æˆ‘ä»¬çš„å•ä¾‹äº†ï¼</p><h3 id="æšä¸¾ç±»"><a href="#æšä¸¾ç±»" class="headerlink" title="æšä¸¾ç±»"></a>æšä¸¾ç±»</h3><p>è¿™æ—¶å€™æœ‰æ²¡æœ‰æƒ³èµ·æ¥æˆ‘ä»¬åœ¨å­¦javaSEçš„æ—¶å€™å°±å­¦åˆ°äº†ä¸€ä¸ªè‡ªå¸¦å•ä¾‹æ¨¡å¼çš„ç±»å‹ï¼Œé‚£å°±æ˜¯æšä¸¾ç±»Enumï¼</p><p>æˆ‘ä»¬æ¥å°è¯•æ”»å‡»ä¸€ä¸‹æšä¸¾ç±»ï¼</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">enum</span> <span class="title">SingleEnum</span> </span>&#123;</span><br><span class="line">    SINGLETON;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> NoSuchMethodException, InvocationTargetException, InstantiationException, IllegalAccessException </span>&#123;</span><br><span class="line">        Constructor&lt;SingleEnum&gt; constructor = SingleEnum.class.getDeclaredConstructor(String.class, <span class="keyword">int</span>.class);</span><br><span class="line">        constructor.setAccessible(<span class="keyword">true</span>);</span><br><span class="line">        SingleEnum single1 = constructor.newInstance(<span class="string">&quot;single&quot;</span>, <span class="number">2</span>);</span><br><span class="line">        SingleEnum single2 = constructor.newInstance(<span class="string">&quot;single&quot;</span>, <span class="number">2</span>);</span><br><span class="line">        System.out.println(single1==single2);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™æ—¶å€™å‘ç°æŠ¥é”™äº†ï¼ï¼</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: Cannot reflectively create enum objects</span><br><span class="line">at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:484)</span><br><span class="line">at com.lizhi.SingleEnum.main(SingleEnum.java:12)</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬ç‚¹è¿›newInstanceæ–¹æ³•çœ‹ä¸‹æºç ï¼Œ</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@CallerSensitive</span></span><br><span class="line"><span class="meta">@ForceInline</span> <span class="comment">// to ensure Reflection.getCallerClass optimization</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> T <span class="title">newInstance</span><span class="params">(Object ... initargs)</span></span></span><br><span class="line"><span class="function">    <span class="keyword">throws</span> InstantiationException, IllegalAccessException,</span></span><br><span class="line"><span class="function">           IllegalArgumentException, InvocationTargetException</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (!override) &#123;</span><br><span class="line">        Class&lt;?&gt; caller = Reflection.getCallerClass();</span><br><span class="line">        checkAccess(caller, clazz, clazz, modifiers);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> ((clazz.getModifiers() &amp; Modifier.ENUM) != <span class="number">0</span>)</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException(<span class="string">&quot;Cannot reflectively create enum objects&quot;</span>);</span><br><span class="line">    ConstructorAccessor ca = constructorAccessor;   <span class="comment">// read volatile</span></span><br><span class="line">    <span class="keyword">if</span> (ca == <span class="keyword">null</span>) &#123;</span><br><span class="line">        ca = acquireConstructorAccessor();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@SuppressWarnings(&quot;unchecked&quot;)</span></span><br><span class="line">    T inst = (T) ca.newInstance(initargs);</span><br><span class="line">    <span class="keyword">return</span> inst;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬å‘ç°äº†è¿™å¥è¯<code>throw new IllegalArgumentException(&quot;Cannot reflectively create enum objects&quot;);</code></p><p>è¿™å°±è§£é‡Šé€šäº†ï¼ŒåŸæ¥æ˜¯javaçš„åå°„å·²ç»å¤„ç†å¥½äº†æšä¸¾ç±»ï¼Œä½¿å…¶çœŸæ­£çš„å®ç°äº†å®‰å…¨çš„å•ä¾‹ï¼</p>]]></content>
      
      
      <categories>
          
          <category> è®¾è®¡æ¨¡å¼ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> è®¾è®¡æ¨¡å¼ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å·¥å‚è®¾è®¡æ¨¡å¼</title>
      <link href="/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/2022/02/16/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E5%B7%A5%E5%8E%82%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
      <url>/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/2022/02/16/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E5%B7%A5%E5%8E%82%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/</url>
      
        <content type="html"><![CDATA[<h2 id="å·¥å‚è®¾è®¡æ¨¡å¼"><a href="#å·¥å‚è®¾è®¡æ¨¡å¼" class="headerlink" title="å·¥å‚è®¾è®¡æ¨¡å¼"></a>å·¥å‚è®¾è®¡æ¨¡å¼</h2><p>è¯¥è®¾è®¡æ¨¡å¼è§£å†³çš„é—®é¢˜æ˜¯ï¼šå°†ç±»å®ä¾‹åŒ–çš„æ“ä½œä¸ä½¿ç”¨å¯¹è±¡çš„æ“ä½œåˆ†å¼€ï¼Œè®©ä½¿ç”¨è€…ä¸ç”¨çŸ¥é“å…·ä½“å‚æ•°å°±å¯ä»¥å®ä¾‹åŒ–å‡ºæ‰€éœ€è¦çš„äº§å“ç±»ï¼Œä»è€Œé¿å…äº†åœ¨å®¢æˆ·ç«¯ä»£ç ä¸­æ˜¾å¼æŒ‡å®šï¼Œå®ç°äº†è§£è€¦ã€‚</p><p>è¯¥è®¾è®¡æ¨¡å¼åˆ†ä¸ºä¸‰ç§å®ç°</p><ol><li>ç®€å•å·¥å‚è®¾è®¡æ¨¡å¼</li><li>å·¥å‚æ–¹æ³•å®ç°æ¨¡å¼</li><li>æŠ½è±¡å·¥å‚å®ç°æ¨¡å¼</li></ol><h3 id="ç®€å•å·¥å‚è®¾è®¡æ¨¡å¼"><a href="#ç®€å•å·¥å‚è®¾è®¡æ¨¡å¼" class="headerlink" title="ç®€å•å·¥å‚è®¾è®¡æ¨¡å¼"></a>ç®€å•å·¥å‚è®¾è®¡æ¨¡å¼</h3><p>ä¸€ä¸ªæ±½è½¦å·¥å‚ç”Ÿäº§æ±½è½¦ã€‚æœ‰ç‰¹æ–¯æ‹‰ã€å¤§ä¼—ã€äº”è±</p><p>è½¦çš„æ¥å£</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Car</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">printName</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¤§ä¼—</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DaZhong</span> <span class="keyword">implements</span> <span class="title">Car</span></span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">printName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;å¤§ä¼—&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç‰¹æ–¯æ‹‰</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TeSiLa</span> <span class="keyword">implements</span> <span class="title">Car</span></span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">printName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;ç‰¹æ–¯æ‹‰&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>äº”è±</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">WuLin</span> <span class="keyword">implements</span> <span class="title">Car</span></span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">printName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;äº”è±å®å…‰&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å·¥å‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CarFactory</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Car <span class="title">getCar</span><span class="params">(String carName)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(<span class="string">&quot;å¤§ä¼—&quot;</span>.equals(carName))&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> DaZhong();</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(<span class="string">&quot;äº”è±å®å…‰&quot;</span>.equals(carName))&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> WuLin();</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(<span class="string">&quot;ç‰¹æ–¯æ‹‰&quot;</span>.equals(carName))&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> TeSiLa();</span><br><span class="line">        &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç¼ºç‚¹ï¼šå¾ˆéš¾æ¨ªå‘æ‹“å±•ï¼Œå¦‚æœæˆ‘åæœŸéœ€è¦åŠ æ–°çš„è½¦å‹ï¼Œéœ€è¦æ”¹å˜åŸæ¥çš„ä»£ç ï¼Œä¸ç¬¦åˆå¼€é—­åŸåˆ™ï¼ˆOOPä¸ƒå¤§åŸåˆ™ï¼‰</p><p>ä¼˜ç‚¹ï¼šç®€å•æ˜“æ‡‚</p><p>å¯ä»¥ç®€å•ä¼˜åŒ–</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CarFactory</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Car <span class="title">getWuLin</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> WuLin();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Car <span class="title">getDaZhong</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> DaZhong();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Car <span class="title">getTeSiLa</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> TeSiLa();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="å·¥å‚æ–¹æ³•å®ç°æ¨¡å¼"><a href="#å·¥å‚æ–¹æ³•å®ç°æ¨¡å¼" class="headerlink" title="å·¥å‚æ–¹æ³•å®ç°æ¨¡å¼"></a>å·¥å‚æ–¹æ³•å®ç°æ¨¡å¼</h3><p>è¿˜æ˜¯ç®€å•å·¥å‚çš„æ¨¡å‹ï¼Œæˆ‘ä»¬æ¥æ¢ä¸ªå·¥å‚</p><p>è¿™ä¸€æ¬¡æˆ‘ä»¬å®šä¹‰ä¸€ä¸ªæ±½è½¦å·¥å‚çš„æ¥å£</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">CarFactory</span> </span>&#123;</span><br><span class="line">    <span class="function">Car <span class="title">getCar</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç‰¹æ–¯æ‹‰å·¥å‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TeSiLaCarFactory</span> <span class="keyword">implements</span> <span class="title">CarFactory</span></span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Car <span class="title">getCar</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> TeSiLa();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¤§ä¼—å·¥å‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DaZhongCarFactory</span> <span class="keyword">implements</span> <span class="title">CarFactory</span></span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Car <span class="title">getCar</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> DaZhong();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>äº”è±å·¥å‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">WuLinCarFactory</span> <span class="keyword">implements</span> <span class="title">CarFactory</span></span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Car <span class="title">getCar</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> WuLin();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç¼ºç‚¹ï¼šå½“æ±½è½¦ç±»å‹å¾ˆå¤šçš„æ—¶å€™ï¼Œä¼šæœ‰å¾ˆå¤šå¾ˆå¤šå¾ˆå¤šå„è‡ªçš„å·¥å‚ï¼Œæ²¡æœ‰å¿…è¦</p><h3 id="æŠ½è±¡å·¥å‚å®ç°æ¨¡å¼"><a href="#æŠ½è±¡å·¥å‚å®ç°æ¨¡å¼" class="headerlink" title="æŠ½è±¡å·¥å‚å®ç°æ¨¡å¼"></a>æŠ½è±¡å·¥å‚å®ç°æ¨¡å¼</h3><p>è¿™æ¬¡æˆ‘ä»¬æ¢ä¸€ä¸ªåœºæ™¯ï¼šå°ç±³å’Œåä¸ºéƒ½æœ‰è·¯ç”±å™¨å’Œæ‰‹æœºçš„äº§å“</p><p>è·¯ç”±å™¨æ¥å£</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Router</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">doConfig</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">printInfo</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ‰‹æœºæ¥å£</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">MobilePhone</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">sendMsg</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">callUp</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å‚å®¶æ¥å£</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">ProductFactory</span> </span>&#123;</span><br><span class="line">    <span class="function">MobilePhone <span class="title">getMobilePhone</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function">Router <span class="title">getRouter</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åä¸ºæ‰‹æœº</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HuaWeiMobilePhone</span> <span class="keyword">implements</span> <span class="title">MobilePhone</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">sendMsg</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;åä¸ºæ‰‹æœºå‘ä¿¡æ¯&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">callUp</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;åä¸ºæ‰‹æœºæ‰“ç”µè¯&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åä¸ºè·¯ç”±å™¨</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HuaWeiRouter</span> <span class="keyword">implements</span> <span class="title">Router</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">doConfig</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;åä¸ºè·¯ç”±å™¨é…ç½®&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">printInfo</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;åä¸ºè·¯ç”±å™¨æ‰“å°è¯¦ç»†ä¿¡æ¯&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å°ç±³è·¯ç”±å™¨</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">XiaoMiRouter</span> <span class="keyword">implements</span> <span class="title">Router</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">doConfig</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;å°ç±³è·¯ç”±å™¨é…ç½®&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">printInfo</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;å°ç±³è·¯ç”±å™¨æ‰“å°è¯¦ç»†ä¿¡æ¯&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å°ç±³æ‰‹æœº</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">XiaoMiMobilePhone</span> <span class="keyword">implements</span> <span class="title">MobilePhone</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">sendMsg</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;å°ç±³æ‰‹æœºå‘ä¿¡æ¯&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">callUp</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;å°ç±³æ‰‹æœºæ‰“ç”µè¯&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åä¸ºå‚å•†</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HuaWeiFactory</span> <span class="keyword">implements</span> <span class="title">ProductFactory</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> MobilePhone <span class="title">getMobilePhone</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> HuaWeiMobilePhone();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Router <span class="title">getRouter</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> HuaWeiRouter();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å°ç±³å‚å•†</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">XiaoMiFactory</span> <span class="keyword">implements</span> <span class="title">ProductFactory</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> MobilePhone <span class="title">getMobilePhone</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> XiaoMiMobilePhone();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Router <span class="title">getRouter</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> XiaoMiRouter();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸¤ä¸ªç»´åº¦ï¼Œç¬¬ä¸€ä¸ªç»´åº¦æ˜¯äº§å“æ—ï¼ˆè·¯ç”±å™¨ã€æ‰‹æœºï¼‰ï¼Œç¬¬äºŒä¸ªç»´åº¦æ˜¯å…·ä½“å‚å•†ï¼ˆåä¸ºï¼Œå°ç±³ï¼‰ã€‚</p><p>æ ¹æ®è¿™ä¸¤ç§ç»´åº¦åˆ†åˆ«è®¾è®¡äº†æ¥å£ï¼ŒæŠ½è±¡çš„å·¥å‚å®šä¹‰ç”Ÿäº§å“ªäº›äº§å“æ—ï¼Œå…·ä½“çš„å·¥å‚å…·ä½“å®ç°è‡ªå·±çš„äº§å“æ—</p>]]></content>
      
      
      <categories>
          
          <category> è®¾è®¡æ¨¡å¼ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> è®¾è®¡æ¨¡å¼ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>SpringBoot-Security</title>
      <link href="/javaEE/SpringBoot/2022/02/16/SpringBoot-Security/"/>
      <url>/javaEE/SpringBoot/2022/02/16/SpringBoot-Security/</url>
      
        <content type="html"><![CDATA[<h2 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h2><p>Spring Security æ˜¯é’ˆå¯¹Springé¡¹ç›®çš„å®‰å…¨æ¡†æ¶ï¼Œä¹Ÿæ˜¯Spring Bootåº•å±‚å®‰å…¨æ¨¡å—é»˜è®¤çš„æŠ€æœ¯é€‰å‹ï¼Œä»–å¯ä»¥å®ç°å¼ºå¤§<br>çš„Webå®‰å…¨æ§åˆ¶ï¼Œå¯¹äºå®‰å…¨æ§åˆ¶ï¼Œæˆ‘ä»¬ä»…éœ€è¦å¼•å…¥spring-boot-starter-securityæ¨¡å—ï¼Œè¿›è¡Œå°‘é‡çš„é…ç½®ï¼Œå³å¯å®<br>ç°å¼ºå¤§çš„å®‰å…¨ç®¡ç†!</p><p>Spring Securityçš„ä¸¤ä¸ªä¸»è¦ç›®æ ‡æ˜¯â€œè®¤è¯â€å’Œâ€œæˆæƒâ€ï¼ˆè®¿é—®æ§åˆ¶ï¼‰<br>  â€œè®¤è¯â€(Authentication)<br>  â€œæˆæƒâ€ (Authorization)<br>  è¿™ä¸ªæ¦‚å¿µæ˜¯é€šç”¨çš„ï¼Œè€Œä¸æ˜¯åªåœ¨Spring Security ä¸­å­˜åœ¨ã€‚</p><h2 id="åŸºæœ¬ä½¿ç”¨"><a href="#åŸºæœ¬ä½¿ç”¨" class="headerlink" title="åŸºæœ¬ä½¿ç”¨"></a>åŸºæœ¬ä½¿ç”¨</h2><ol><li>å¯¼å…¥ä¾èµ–</li></ol><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-security<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><ol start="2"><li>ç»§æ‰¿WebSecurityConfigurerAdapter</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@EnableWebSecurity</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SecurityConfig</span> <span class="keyword">extends</span> <span class="title">WebSecurityConfigurerAdapter</span> </span>&#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol start="3"><li>é‡å†™ä»¥ä¸‹æ–¹æ³•åšå‡ºæƒé™è®¾ç½®</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">configure</span><span class="params">(HttpSecurity http)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">    <span class="comment">//é¦–é¡µéƒ½å¯ä»¥è®¿é—®ï¼Œä½†æ˜¯å„ä¸ªçº§åˆ«ä¸‹çš„é¡µé¢è®¾ç½®æˆåªèƒ½å„è‡ªçš„çº§åˆ«æ‰å¯ä»¥è®¿é—®</span></span><br><span class="line">    http.authorizeRequests()</span><br><span class="line">        .antMatchers(<span class="string">&quot;/&quot;</span>).permitAll()</span><br><span class="line">        .antMatchers(<span class="string">&quot;/vip1/**&quot;</span>).hasRole(<span class="string">&quot;vip1&quot;</span>)</span><br><span class="line">        .antMatchers(<span class="string">&quot;/vip2/**&quot;</span>).hasRole(<span class="string">&quot;vip2&quot;</span>)</span><br><span class="line">        .antMatchers(<span class="string">&quot;/vip3/**&quot;</span>).hasRole(<span class="string">&quot;vip3&quot;</span>);</span><br><span class="line">    <span class="comment">//æ²¡æœ‰æƒé™é»˜è®¤å›åˆ°ç™»å½•é¡µé¢ï¼ŒloginPageè®¾ç½®ç™»å½•é¡µé¢ï¼ŒloginProcessingUrlè®¾ç½®ç™»å½•æäº¤çš„api</span></span><br><span class="line">    <span class="comment">//å¦‚æœåªå†™ http.formLogin();ä¼šæœ‰ä¸€ä¸ªé»˜è®¤ç™»å½•é¡µé¢å’Œé»˜è®¤çš„ç™»å½•æäº¤çš„api</span></span><br><span class="line">    http.formLogin().loginPage(<span class="string">&quot;/login&quot;</span>).loginProcessingUrl(<span class="string">&quot;/user/api/login&quot;</span>);</span><br><span class="line">    <span class="comment">//è®¾ç½®é€€å‡ºæ—¶å€™ä½¿sessionå¤±æ•ˆï¼ŒlogoutSuccessUrlè®¾ç½®é€€å‡ºæˆåŠŸçš„é¡µé¢</span></span><br><span class="line">    http.logout().invalidateHttpSession(<span class="keyword">true</span>).logoutSuccessUrl(<span class="string">&quot;/index&quot;</span>);</span><br><span class="line">    <span class="comment">//è®¾ç½®â€™è®°ä½æˆ‘â€˜çš„åŠŸèƒ½</span></span><br><span class="line">    <span class="comment">//remember-meä¸ºé»˜è®¤æäº¤çš„å‚æ•°</span></span><br><span class="line">    http.rememberMe().rememberMeParameter(<span class="string">&quot;remember&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol start="4"><li>é‡å†™ä»¥ä¸‹æ–¹æ³•åšå‡ºæˆæƒå¤„ç†</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">configure</span><span class="params">(AuthenticationManagerBuilder auth)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">         * è¿™é‡Œè¦ä»æ•°æ®åº“è¯»</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">    <span class="comment">//BCryptPasswordEncoderä¸ºå¯†ç è®¾ç½®åŠ å¯†ï¼Œå¦‚æœä¸è®¾ç½®ä¼šæŠ¥é”™ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨å…¶ä»–åŠ å¯†çš„ç±»</span></span><br><span class="line">    BCryptPasswordEncoder encoder = <span class="keyword">new</span> BCryptPasswordEncoder();</span><br><span class="line">    auth.inMemoryAuthentication().passwordEncoder(encoder)</span><br><span class="line">        .withUser(<span class="string">&quot;zhima&quot;</span>).password(encoder.encode(<span class="string">&quot;a&quot;</span>)).roles(<span class="string">&quot;vip1&quot;</span>,<span class="string">&quot;vip3&quot;</span>)</span><br><span class="line">        .and()</span><br><span class="line">        .withUser(<span class="string">&quot;lizhi&quot;</span>).password(encoder.encode((<span class="string">&quot;123456&quot;</span>))).roles(<span class="string">&quot;vip1&quot;</span>,<span class="string">&quot;vip2&quot;</span>,<span class="string">&quot;vip3&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol start="5"><li>æµ‹è¯•</li></ol><h2 id="thymeleafæ¨¡æ¿ç»“åˆSpringSecurity"><a href="#thymeleafæ¨¡æ¿ç»“åˆSpringSecurity" class="headerlink" title="thymeleafæ¨¡æ¿ç»“åˆSpringSecurity"></a>thymeleafæ¨¡æ¿ç»“åˆSpringSecurity</h2><p>å¯¼å…¥ä¾èµ–</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.thymeleaf.extras<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>thymeleaf-extras-springsecurity5<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.0.4.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><p>è§‚å¯Ÿè¿™ä¸ªé¡µé¢çš„ä½¿ç”¨</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span> <span class="attr">xmlns:th</span>=<span class="string">&quot;http://www.thymeleaf.org&quot;</span></span></span><br><span class="line"><span class="tag">      <span class="attr">xmlns:sec</span>=<span class="string">&quot;http://www.thymeleaf.org/thymeleaf-extras-springsecurity4&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">title</span>&gt;</span>é¦–é¡µ<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">sec:authorize</span>=<span class="string">&quot;!isAuthenticated()&quot;</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!--sec:authorize=&quot;!isAuthenticated()&quot;å½“ç”¨æˆ·æ²¡ç™»å½•çš„æ—¶å€™--&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">p</span>&gt;</span>é¦–é¡µ<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">th:href</span>=<span class="string">&quot;@&#123;/login&#125;&quot;</span>&gt;</span>ç™»å½•<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">sec:authorize</span>=<span class="string">&quot;isAuthenticated()&quot;</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!--sec:authorize=&quot;isAuthenticated()&quot;å½“ç”¨æˆ·ç™»å½•çš„æ—¶å€™--&gt;</span></span><br><span class="line">            ç”¨æˆ·åï¼š<span class="tag">&lt;<span class="name">span</span> <span class="attr">sec:authentication</span>=<span class="string">&quot;name&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!--sec:authentication=&quot;name&quot;å–å‡ºç”¨æˆ·çš„ç”¨æˆ·å--&gt;</span></span><br><span class="line">            æˆæƒï¼š<span class="tag">&lt;<span class="name">span</span> <span class="attr">sec:authentication</span>=<span class="string">&quot;principal.authorities&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!--sec:authentication=&quot;principal.authorities&quot;å–å‡ºç”¨æˆ·çš„roles--&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">th:href</span>=<span class="string">&quot;@&#123;/logout&#125;&quot;</span>&gt;</span>æ³¨é”€<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">sec:authorize</span>=<span class="string">&quot;hasRole(&#x27;vip1&#x27;)&quot;</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!--sec:authorize=&quot;hasRole(&#x27;vip1&#x27;)&quot;å¦‚æœå½“å‰ç™»å½•ç”¨æˆ·æœ‰vip1æƒé™åˆ™æ˜¾ç¤ºæ­¤div--&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">span</span>&gt;</span>vip1<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">th:href</span>=<span class="string">&quot;@&#123;vip1/1&#125;&quot;</span>&gt;</span>vip1-1<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">th:href</span>=<span class="string">&quot;@&#123;vip1/2&#125;&quot;</span>&gt;</span>vip1-2<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">th:href</span>=<span class="string">&quot;@&#123;vip1/3&#125;&quot;</span>&gt;</span>vip1-3<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">sec:authorize</span>=<span class="string">&quot;hasRole(&#x27;vip2&#x27;)&quot;</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!--sec:authorize=&quot;hasRole(&#x27;vip2&#x27;)&quot;å¦‚æœå½“å‰ç™»å½•ç”¨æˆ·æœ‰vip2æƒé™åˆ™æ˜¾ç¤ºæ­¤div--&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">span</span>&gt;</span>vip2<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">th:href</span>=<span class="string">&quot;@&#123;vip2/1&#125;&quot;</span>&gt;</span>vip2-1<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">th:href</span>=<span class="string">&quot;@&#123;vip2/2&#125;&quot;</span>&gt;</span>vip2-2<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">th:href</span>=<span class="string">&quot;@&#123;vip2/3&#125;&quot;</span>&gt;</span>vip2-3<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">sec:authorize</span>=<span class="string">&quot;hasRole(&#x27;vip3&#x27;)&quot;</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!--sec:authorize=&quot;hasRole(&#x27;vip3&#x27;)&quot;å¦‚æœå½“å‰ç™»å½•ç”¨æˆ·æœ‰vip3æƒé™åˆ™æ˜¾ç¤ºæ­¤div--&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">span</span>&gt;</span>vip3<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">th:href</span>=<span class="string">&quot;@&#123;vip3/1&#125;&quot;</span>&gt;</span>vip3-1<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">th:href</span>=<span class="string">&quot;@&#123;vip3/2&#125;&quot;</span>&gt;</span>vip3-2<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">th:href</span>=<span class="string">&quot;@&#123;vip3/3&#125;&quot;</span>&gt;</span>vip3-3<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> javaEE </category>
          
          <category> SpringBoot </category>
          
      </categories>
      
      
        <tags>
            
            <tag> SpringBoot </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ForkJoin</title>
      <link href="/javaEE/JUC/2022/02/11/ForkJoin/"/>
      <url>/javaEE/JUC/2022/02/11/ForkJoin/</url>
      
        <content type="html"><![CDATA[<h2 id="ForkJoin"><a href="#ForkJoin" class="headerlink" title="ForkJoin"></a>ForkJoin</h2><h3 id="ä»€ä¹ˆæ˜¯ForkJoinï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯ForkJoinï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯ForkJoinï¼Ÿ"></a>ä»€ä¹ˆæ˜¯ForkJoinï¼Ÿ</h3><p>å¹¶è¡Œæ‰§è¡Œä»»åŠ¡ï¼Œæäº¤æ•ˆç‡ï¼Œå¤§æ•°æ®é‡çš„æ—¶å€™ä½¿ç”¨ï¼</p><p>æŠŠå¤§ä»»åŠ¡æ‹†åˆ†æˆå°ä»»åŠ¡</p><img src="/javaEE/JUC/2022/02/11/ForkJoin/ForkJoin.png" class title="ForkJoin"><h3 id="ForkJoinç‰¹ç‚¹ï¼šå·¥ä½œçªƒå–"><a href="#ForkJoinç‰¹ç‚¹ï¼šå·¥ä½œçªƒå–" class="headerlink" title="ForkJoinç‰¹ç‚¹ï¼šå·¥ä½œçªƒå–"></a>ForkJoinç‰¹ç‚¹ï¼šå·¥ä½œçªƒå–</h3><p>å†…éƒ¨ç»´æŠ¤çš„åŒç«¯é˜Ÿåˆ—ï¼Œä¸¤ç«¯éƒ½å¯ä»¥å‡º</p><img src="/javaEE/JUC/2022/02/11/ForkJoin/%E5%81%B7%E7%AA%83%E7%AE%97%E6%B3%95.png" class title="å·çªƒç®—æ³•"><h3 id="å¦‚ä½•ä½¿ç”¨"><a href="#å¦‚ä½•ä½¿ç”¨" class="headerlink" title="å¦‚ä½•ä½¿ç”¨"></a>å¦‚ä½•ä½¿ç”¨</h3><ol><li>åˆ›å»ºForkJoinPoolå¯¹è±¡</li><li>æ–°å»ºä¸€ä¸ªè®¡ç®—ä»»åŠ¡ForkJoinTaskæ”¾å…¥æ± å­ä¸­è®¡ç®—</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.lizhi;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.RecursiveTask;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ForkJoinDemo</span> <span class="keyword">extends</span> <span class="title">RecursiveTask</span>&lt;<span class="title">Long</span>&gt; </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">long</span> start;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">long</span> end;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">long</span> temp = <span class="number">10000L</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">ForkJoinDemo</span><span class="params">(<span class="keyword">long</span> start, <span class="keyword">long</span> end)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.start = start;</span><br><span class="line">        <span class="keyword">this</span>.end = end;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Long <span class="title">compute</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">long</span> result = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">if</span>(end-start&lt;temp)&#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">long</span> i = start; i &lt;= end; i++) &#123;</span><br><span class="line">                result+=i;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">long</span> middle = (start + end) / <span class="number">2</span>;</span><br><span class="line">            ForkJoinDemo forkJoinDemo1 = <span class="keyword">new</span> ForkJoinDemo(start,middle);</span><br><span class="line">            forkJoinDemo1.fork();</span><br><span class="line">            ForkJoinDemo forkJoinDemo2 = <span class="keyword">new</span> ForkJoinDemo(middle,end);</span><br><span class="line">            forkJoinDemo2.fork();<span class="comment">//æŠŠä»»åŠ¡å‹å…¥çº¿ç¨‹é˜Ÿåˆ—</span></span><br><span class="line">            result = forkJoinDemo1.join()+ forkJoinDemo2.join();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> javaEE </category>
          
          <category> JUC </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JUC </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å‡½æ•°å¼æ¥å£</title>
      <link href="/%E7%90%90%E7%A2%8E%E7%9A%84%E7%9F%A5%E8%AF%86/2022/02/11/%E5%87%BD%E6%95%B0%E5%BC%8F%E6%8E%A5%E5%8F%A3/"/>
      <url>/%E7%90%90%E7%A2%8E%E7%9A%84%E7%9F%A5%E8%AF%86/2022/02/11/%E5%87%BD%E6%95%B0%E5%BC%8F%E6%8E%A5%E5%8F%A3/</url>
      
        <content type="html"><![CDATA[<h2 id="å‡½æ•°å¼æ¥å£"><a href="#å‡½æ•°å¼æ¥å£" class="headerlink" title="å‡½æ•°å¼æ¥å£"></a>å‡½æ•°å¼æ¥å£</h2><p>å‡½æ•°å¼æ¥å£ï¼Œå³åªæœ‰ä¸€ä¸ªæŠ½è±¡æ–¹æ³•çš„æ¥å£å³ä¸ºå‡½æ•°å¼æ¥å£ï¼Œå¯ä»¥ä½¿ç”¨lambdaè¡¨è¾¾å¼ç®€åŒ–ä½¿ç”¨ã€‚</p><p>å‡½æ•°å¼æ¥å£ä¸€èˆ¬æ¥å£ä¸Šéƒ½ä¼šæœ‰@FunctionInterfaceæ³¨è§£åšæ ‡è®°ï¼Œä½œç”¨æ˜¯æ£€æŸ¥è¯¥æ¥å£æ˜¯å¦åªæœ‰ä¸€ä¸ªæŠ½è±¡æ–¹æ³•ï¼Œå¦‚æœä¸å†™ï¼Œä½†æ˜¯æ¥å£ä¸­ç¡®å®åªæœ‰ä¸€ä¸ªæŠ½è±¡æ–¹æ³•ï¼Œä¹Ÿä¸ä¼šå½±å“lambdaçš„ä½¿ç”¨ï¼Œä¸‹é¢æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹ä¸€äº›å¸¸è§çš„å‡½æ•°å¼æ¥å£</p><h3 id="Function-lt-T-R-gt"><a href="#Function-lt-T-R-gt" class="headerlink" title="Function&lt; T , R &gt;"></a>Function&lt; T , R &gt;</h3><p>å‡½æ•°å‹æ¥å£</p><p>Tä¸ºä¼ å…¥å‚æ•°çš„ç±»å‹</p><p>Rä¸ºè¿”å›å€¼ç±»å‹</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Function&lt;String, String&gt; f = s -&gt; s.substring(<span class="number">2</span>,<span class="number">4</span>);</span><br><span class="line">String apply = f.apply(<span class="string">&quot;asdas    asd &quot;</span>);</span><br><span class="line">System.out.println(apply);</span><br></pre></td></tr></table></figure><h3 id="Predicate-lt-T-gt"><a href="#Predicate-lt-T-gt" class="headerlink" title="Predicate&lt; T &gt;"></a>Predicate&lt; T &gt;</h3><p>æ–­è¨€å‹æ¥å£</p><p>Tä¸ºä¼ å…¥å‚æ•°çš„ç±»å‹</p><p>è¿”å›å€¼ä¸ºBoolean</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Predicate&lt;String&gt; p = t-&gt;t.length()&gt;<span class="number">5</span>;</span><br><span class="line">System.out.println(p.test(<span class="string">&quot;3223&quot;</span>));</span><br><span class="line">System.out.println(p.test(<span class="string">&quot;saf223&quot;</span>));</span><br></pre></td></tr></table></figure><h3 id="Consumer-lt-T-gt"><a href="#Consumer-lt-T-gt" class="headerlink" title="Consumer&lt; T &gt;"></a>Consumer&lt; T &gt;</h3><p>æ¶ˆè´¹è€…å‹æ¥å£</p><p>Tä¸ºä¼ å…¥çš„å‚æ•°</p><p>æ— è¿”å›å€¼</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Consumer&lt;String&gt; consumer = c-&gt; System.out.println(<span class="string">&quot;æˆ‘ä½¿ç”¨äº†&quot;</span>+c);</span><br><span class="line">consumer.accept(<span class="string">&quot;123&quot;</span>);</span><br><span class="line">consumer.accept(<span class="string">&quot;456&quot;</span>);</span><br></pre></td></tr></table></figure><h3 id="Supplier-lt-T-gt"><a href="#Supplier-lt-T-gt" class="headerlink" title="Supplier&lt; T &gt;"></a>Supplier&lt; T &gt;</h3><p>ç”Ÿäº§è€…å‹æ¥å£</p><p>Tä¸ºè¿”å›å€¼ç±»å‹</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Supplier&lt;String&gt; supplier = ()-&gt; UUID.randomUUID().toString();</span><br><span class="line">System.out.println(supplier.get());</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> çç¢çš„çŸ¥è¯† </category>
          
      </categories>
      
      
        <tags>
            
            <tag> çç¢çš„çŸ¥è¯† </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>çº¿ç¨‹æ± </title>
      <link href="/javaEE/%E5%A4%9A%E7%BA%BF%E7%A8%8B/2022/02/11/JUC-%E7%BA%BF%E7%A8%8B%E6%B1%A0/"/>
      <url>/javaEE/%E5%A4%9A%E7%BA%BF%E7%A8%8B/2022/02/11/JUC-%E7%BA%BF%E7%A8%8B%E6%B1%A0/</url>
      
        <content type="html"><![CDATA[<h2 id="çº¿ç¨‹æ± "><a href="#çº¿ç¨‹æ± " class="headerlink" title="çº¿ç¨‹æ± "></a>çº¿ç¨‹æ± </h2><h3 id="ä¸‰å¤§æ–¹æ³•"><a href="#ä¸‰å¤§æ–¹æ³•" class="headerlink" title="ä¸‰å¤§æ–¹æ³•"></a>ä¸‰å¤§æ–¹æ³•</h3><p>æˆ‘ä»¬å…ˆçœ‹ä½¿ç”¨Executorsåˆ›å»ºçš„ä¸‰ç§çº¿ç¨‹æ± </p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Executors.newSingleThreadExecutor();<span class="comment">//åˆ›å»ºä¸€ä¸ªåªæœ‰ä¸€ä¸ªçº¿ç¨‹çš„çº¿ç¨‹æ± </span></span><br><span class="line">Executors.newFixedThreadPool();<span class="comment">//åˆ›å»ºä¸€ä¸ªå›ºå®šæ•°ç›®çš„çº¿ç¨‹çš„çº¿ç¨‹æ± </span></span><br><span class="line">Executors.newCachedThreadPool();<span class="comment">//ç¼“å­˜æ± ï¼Œä¼šå¤ç”¨ä¹‹å‰ä½¿ç”¨è¿‡çš„çº¿ç¨‹</span></span><br></pre></td></tr></table></figure><p>æ‰§è¡Œçº¿ç¨‹</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    ExecutorService executorService = Executors.newSingleThreadExecutor();</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">        executorService.execute(()-&gt;&#123;</span><br><span class="line">            System.out.println(Thread.currentThread().getName());</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ä¸ƒå¤§å‚æ•°"><a href="#ä¸ƒå¤§å‚æ•°" class="headerlink" title="ä¸ƒå¤§å‚æ•°"></a>ä¸ƒå¤§å‚æ•°</h3><p>é˜¿é‡Œå·´å·´è§„èŒƒä¸­æœ‰è¿™ä¹ˆä¸€æ¡</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">çº¿ç¨‹æ± ä¸å…è®¸ä½¿ç”¨Executorså»åˆ›å»ºï¼Œè€Œæ˜¯é€šè¿‡ThreadPoolExecutorçš„æ–¹å¼ï¼Œè¿™æ ·çš„å¤„ç†æ–¹å¼è®©å†™çš„åŒå­¦æ›´åŠ æ˜ç¡®çº¿ç¨‹æ± çš„è¿è¡Œè§„åˆ™ï¼Œè§„é¿èµ„æºè€—å°½çš„é£é™©ã€‚ è¯´æ˜ï¼šExecutorsè¿”å›çš„çº¿ç¨‹æ± å¯¹è±¡çš„å¼Šç«¯å¦‚ä¸‹ï¼š</span><br><span class="line">1ï¼‰FixedThreadPoolå’ŒSingleThreadPool:</span><br><span class="line">â€ƒâ€ƒå…è®¸çš„è¯·æ±‚é˜Ÿåˆ—é•¿åº¦ä¸ºInteger.MAX_VALUEï¼Œå¯èƒ½ä¼šå †ç§¯å¤§é‡çš„è¯·æ±‚ï¼Œä»è€Œå¯¼è‡´OOMã€‚</span><br><span class="line">2ï¼‰CachedThreadPool:</span><br><span class="line">â€ƒâ€ƒå…è®¸çš„åˆ›å»ºçº¿ç¨‹æ•°é‡ä¸ºInteger.MAX_VALUEï¼Œå¯èƒ½ä¼šåˆ›å»ºå¤§é‡çš„çº¿ç¨‹ï¼Œä»è€Œå¯¼è‡´OOMã€‚</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬æ¥çœ‹çœ‹åˆ›å»ºè¿™ä¸‰ç§çº¿ç¨‹æ± çš„æ„é€ æ–¹æ³•</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> ExecutorService <span class="title">newSingleThreadExecutor</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> FinalizableDelegatedExecutorService</span><br><span class="line">        (<span class="keyword">new</span> ThreadPoolExecutor(<span class="number">1</span>, <span class="number">1</span>,</span><br><span class="line">                                <span class="number">0L</span>, TimeUnit.MILLISECONDS,</span><br><span class="line">                                <span class="keyword">new</span> LinkedBlockingQueue&lt;Runnable&gt;()));</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> ExecutorService <span class="title">newFixedThreadPool</span><span class="params">(<span class="keyword">int</span> nThreads, ThreadFactory threadFactory)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> ThreadPoolExecutor(nThreads, nThreads,</span><br><span class="line">                                  <span class="number">0L</span>, TimeUnit.MILLISECONDS,</span><br><span class="line">                                  <span class="keyword">new</span> LinkedBlockingQueue&lt;Runnable&gt;(),</span><br><span class="line">                                  threadFactory);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> ExecutorService <span class="title">newCachedThreadPool</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> ThreadPoolExecutor(<span class="number">0</span>, Integer.MAX_VALUE,</span><br><span class="line">                                  <span class="number">60L</span>, TimeUnit.SECONDS,</span><br><span class="line">                                  <span class="keyword">new</span> SynchronousQueue&lt;Runnable&gt;());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¯ä»¥å‘ç°ï¼Œè¿™ä¸‰ä¸ªæ„é€ æ–¹æ³•åˆ›å»ºçš„å¯¹è±¡å…¶å®éƒ½æ˜¯ThreadPoolExecutorå¯¹è±¡ï¼Œåªä¸è¿‡å°±æ˜¯æ„é€ å‚æ•°ä¸ä¸€æ ·ã€‚</p><table><thead><tr><th>å‚æ•°</th><th>ä½œç”¨</th></tr></thead><tbody><tr><td>int corePoolSize</td><td>æ ¸å¿ƒçº¿ç¨‹æ± çš„å¤§å°</td></tr><tr><td>int maximumPoolSize</td><td>æœ€å¤§çº¿ç¨‹æ± çš„å¤§å°</td></tr><tr><td>long keepAliveTime</td><td>è¶…æ—¶æ—¶é—´è¿‡åå°±é‡Šæ”¾</td></tr><tr><td>TimeUnit unit</td><td>è¶…æ—¶æ—¶é—´å•ä½</td></tr><tr><td>BlockingQueue&lt; Runnable&gt; workQueue</td><td>é˜»å¡é˜Ÿåˆ—</td></tr><tr><td>ThreadFactory threadFactory</td><td>çº¿ç¨‹å·¥å‚ï¼Œåˆ›å»ºçº¿ç¨‹çš„ï¼Œä¸€èˆ¬ä¸ç”¨åŠ¨</td></tr><tr><td>RejectedExecutionHandler handler</td><td>æ‹’ç»ç­–ç•¥</td></tr></tbody></table><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">ThreadPoolExecutor</span><span class="params">(<span class="keyword">int</span> corePoolSize,</span></span></span><br><span class="line"><span class="params"><span class="function">                          <span class="keyword">int</span> maximumPoolSize,</span></span></span><br><span class="line"><span class="params"><span class="function">                          <span class="keyword">long</span> keepAliveTime,</span></span></span><br><span class="line"><span class="params"><span class="function">                          TimeUnit unit,</span></span></span><br><span class="line"><span class="params"><span class="function">                          BlockingQueue&lt;Runnable&gt; workQueue,</span></span></span><br><span class="line"><span class="params"><span class="function">                          ThreadFactory threadFactory,</span></span></span><br><span class="line"><span class="params"><span class="function">                          RejectedExecutionHandler handler)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (corePoolSize &lt; <span class="number">0</span> ||</span><br><span class="line">        maximumPoolSize &lt;= <span class="number">0</span> ||</span><br><span class="line">        maximumPoolSize &lt; corePoolSize ||</span><br><span class="line">        keepAliveTime &lt; <span class="number">0</span>)</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException();</span><br><span class="line">    <span class="keyword">if</span> (workQueue == <span class="keyword">null</span> || threadFactory == <span class="keyword">null</span> || handler == <span class="keyword">null</span>)</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> NullPointerException();</span><br><span class="line">    <span class="keyword">this</span>.corePoolSize = corePoolSize;</span><br><span class="line">    <span class="keyword">this</span>.maximumPoolSize = maximumPoolSize;</span><br><span class="line">    <span class="keyword">this</span>.workQueue = workQueue;</span><br><span class="line">    <span class="keyword">this</span>.keepAliveTime = unit.toNanos(keepAliveTime);</span><br><span class="line">    <span class="keyword">this</span>.threadFactory = threadFactory;</span><br><span class="line">    <span class="keyword">this</span>.handler = handler;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>corePoolSizeä¸ºä¸€ç›´å¼€ç€çš„çº¿ç¨‹æ•°ï¼Œå½“workQueueå·²ç»æ»¡äº†ï¼Œåˆ™ç»§ç»­å¼€å¯çº¿ç¨‹ç›´åˆ°maximumPoolSizeï¼Œå½“çº¿ç¨‹æ•°åˆ°äº†maximumPoolSizeï¼Œç„¶åworkQueueä¹Ÿæ»¡äº†ï¼Œå¦‚æœè¿˜æœ‰æ–°çš„ä»»åŠ¡ï¼Œåˆ™ä½¿ç”¨handleræ‹’ç»ç­–ç•¥å¯¹å…¶è¿›è¡Œå¤„ç†ã€‚</p><p>å½“corePoolSize-maximumPoolSizeåŒºé—´çš„çº¿ç¨‹ç­‰å¾…äº†workQueueæ—¶é—´åï¼Œè¿˜æ˜¯æ²¡ä»»åŠ¡æ¥ï¼Œåˆ™å…³é—­è¯¥åŒºé—´çš„çº¿ç¨‹</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">ThreadPoolExecutor threadPoolExecutor = <span class="keyword">new</span> ThreadPoolExecutor(</span><br><span class="line">    <span class="number">2</span>,</span><br><span class="line">    <span class="number">5</span>,</span><br><span class="line">    <span class="number">3</span>,</span><br><span class="line">    TimeUnit.SECONDS,</span><br><span class="line">    <span class="keyword">new</span> LinkedBlockingQueue&lt;&gt;(<span class="number">3</span>),</span><br><span class="line">    Executors.defaultThreadFactory(),</span><br><span class="line">    <span class="keyword">new</span> ThreadPoolExecutor.AbortPolicy()</span><br><span class="line">);</span><br></pre></td></tr></table></figure><h4 id="CPUå¯†é›†å‹å’ŒIOå¯†é›†å‹"><a href="#CPUå¯†é›†å‹å’ŒIOå¯†é›†å‹" class="headerlink" title="CPUå¯†é›†å‹å’ŒIOå¯†é›†å‹"></a>CPUå¯†é›†å‹å’ŒIOå¯†é›†å‹</h4><p>æœ€å¤§çº¿ç¨‹æ•°åˆ°åº•å¦‚ä½•å®šä¹‰ï¼Ÿ</p><h5 id="CPUå¯†é›†å‹"><a href="#CPUå¯†é›†å‹" class="headerlink" title="CPUå¯†é›†å‹"></a>CPUå¯†é›†å‹</h5><p>å‡ æ ¸CPUå°±æ˜¯å‡ ï¼Œå¯ä»¥ä¿è¯æ•ˆç‡æœ€é«˜   </p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Runtime.getRuntime().availableProcessors()<span class="comment">//åŠ¨æ€è·å–cpuæ ¸æ•°</span></span><br></pre></td></tr></table></figure><h5 id="IOå¯†é›†å‹"><a href="#IOå¯†é›†å‹" class="headerlink" title="IOå¯†é›†å‹"></a>IOå¯†é›†å‹</h5><p>ç¨‹åºé‡Œé¢æœ‰å¤šå°‘ä¸ªéå¸¸æ¶ˆè€—IOçš„çº¿ç¨‹ï¼Œä¸€èˆ¬æœ€å¤§çº¿ç¨‹æ•°è®¾ç½®ä¸ºè¯¥æ•°å­—çš„ä¸¤å€</p><h3 id="å››å¤§æ‹’ç»ç­–ç•¥"><a href="#å››å¤§æ‹’ç»ç­–ç•¥" class="headerlink" title="å››å¤§æ‹’ç»ç­–ç•¥"></a>å››å¤§æ‹’ç»ç­–ç•¥</h3><img src="/javaEE/%E5%A4%9A%E7%BA%BF%E7%A8%8B/2022/02/11/JUC-%E7%BA%BF%E7%A8%8B%E6%B1%A0/%E5%9B%9B%E7%A7%8D%E6%8B%92%E7%BB%9D%E7%AD%96%E7%95%A5.png" class title="å››ç§æ‹’ç»ç­–ç•¥"><h4 id="AbortPolicy"><a href="#AbortPolicy" class="headerlink" title="AbortPolicy"></a>AbortPolicy</h4><p>ä¸å¤„ç†æ­¤ä»»åŠ¡ï¼Œå¹¶ä¸”æŠ›å‡ºå¼‚å¸¸</p><h4 id="CallerRunsPolicy"><a href="#CallerRunsPolicy" class="headerlink" title="CallerRunsPolicy"></a>CallerRunsPolicy</h4><p>ä¸å¤„ç†æ­¤ä»»åŠ¡ï¼Œå¾€ä¸Šä¼ é€’æ­¤ä»»åŠ¡ï¼Œå“ªæ¥çš„å›å“ªé‡Œå»</p><h4 id="DiscardOldestPolicy"><a href="#DiscardOldestPolicy" class="headerlink" title="DiscardOldestPolicy"></a>DiscardOldestPolicy</h4><p>ä¸å¤„ç†æ­¤ä»»åŠ¡ï¼Œä¸ä¼šæŠ›å‡ºå¼‚å¸¸</p><h4 id="DiscardPolicy"><a href="#DiscardPolicy" class="headerlink" title="DiscardPolicy"></a>DiscardPolicy</h4><p>å°è¯•å’Œæœ€è€çš„é‚£ä¸€ä¸ªçº¿ç¨‹ç«äº‰ï¼Œä¸ä¼šæŠ›å‡ºå¼‚å¸¸</p>]]></content>
      
      
      <categories>
          
          <category> javaEE </category>
          
          <category> å¤šçº¿ç¨‹ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å¤šçº¿ç¨‹ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JVM-ç®€ä»‹</title>
      <link href="/javaEE/JVM/2022/02/10/JVM-%E7%AE%80%E4%BB%8B/"/>
      <url>/javaEE/JVM/2022/02/10/JVM-%E7%AE%80%E4%BB%8B/</url>
      
        <content type="html"><![CDATA[<h3 id="JVMçš„ä½“ç³»ç»“æ„"><a href="#JVMçš„ä½“ç³»ç»“æ„" class="headerlink" title="JVMçš„ä½“ç³»ç»“æ„"></a>JVMçš„ä½“ç³»ç»“æ„</h3><p>ä¸‹é¢æ˜¯ç®€æ˜“çš„ç»“æ„å›¾</p><img src="/javaEE/JVM/2022/02/10/JVM-%E7%AE%80%E4%BB%8B/JVM%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84.png" class title="JVMä½“ç³»ç»“æ„"><img src="/javaEE/JVM/2022/02/10/JVM-%E7%AE%80%E4%BB%8B/JVM%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%842.png" class title="JVMä½“ç³»ç»“æ„2"><p>æ ˆä¸­ä¸ä¼šæœ‰åƒåœ¾å›æ”¶</p><p>å¤§éƒ¨åˆ†JVMè°ƒä¼˜éƒ½æ˜¯åœ¨å †å†…å­˜ä¸Šè¿›è¡Œè°ƒä¼˜</p><p>è¯¦ç»†çš„ç»“æ„å›¾å¦‚ä¸‹</p><img src="/javaEE/JVM/2022/02/10/JVM-%E7%AE%80%E4%BB%8B/JVM%E6%9E%B6%E6%9E%84.jpg" class title="JVMæ¶æ„"><h3 id="æ²™ç®±å®‰å…¨æœºåˆ¶"><a href="#æ²™ç®±å®‰å…¨æœºåˆ¶" class="headerlink" title="æ²™ç®±å®‰å…¨æœºåˆ¶"></a>æ²™ç®±å®‰å…¨æœºåˆ¶</h3><p>â€‹javaå®‰å…¨æ¨¡å‹çš„æ ¸å¿ƒå°±æ˜¯javaæ²™ç®±ï¼ˆsandboxï¼‰ã€‚æ²™ç®±æ˜¯ä¸€ä¸ªé™åˆ¶ç¨‹åºè¿è¡Œçš„ç¯å¢ƒã€‚æ²™ç®±æœºåˆ¶å°±æ˜¯å°†javaä»£ç é™å®šåœ¨JVMç‰¹å®šçš„è¿è¡ŒèŒƒå›´å†…ï¼Œå¹¶ä¸”ä¸¥æ ¼é™åˆ¶ä»£ç å¯¹æœ¬åœ°èµ„æºçš„è®¿é—®ï¼Œé€šè¿‡è¿™æ ·çš„æªæ–½æ¥ä¿è¯å¯¹ä»£ç çš„æœ‰æ•ˆéš”ç¦»ï¼Œé˜²æ­¢å¯¹æœ¬åœ°ç³»ç»Ÿé€ æˆç ´åã€‚<strong>æ²™ç®±ä¸»è¦é™åˆ¶ç³»ç»Ÿèµ„æºï¼ˆCPUï¼Œå†…å­˜ï¼Œæ–‡ä»¶ç³»ç»Ÿï¼Œç½‘ç»œï¼‰è®¿é—®</strong>ã€‚ä¸åŒçº§åˆ«çš„æ²™ç®±å¯¹è¿™äº›èµ„æºçš„é™åˆ¶å°±ä¸ä¸€æ ·</p><p>â€‹æ‰€æœ‰çš„javaç¨‹åºè¿è¡Œéƒ½å¯ä»¥æŒ‡å®šæ²™ç®±ï¼Œå¯ä»¥æŒ‡å®šå®‰å…¨ç­–ç•¥ã€‚</p><p>â€‹åœ¨javaä¸­ï¼Œå°†æ‰§è¡Œè¿‡ç¨‹åˆ†ä¸ºæœ¬åœ°ä»£ç å’Œè¿œç¨‹ä»£ç ä¸¤éƒ¨åˆ†ï¼Œæœ¬åœ°ä»£ç æ˜¯é»˜è®¤å¯ä¿¡ä»»çš„ï¼Œè€Œè¿œç¨‹ä»£ç åˆ™è¢«çœ‹åšæ˜¯ä¸å—ä¿¡ä»»çš„ã€‚å¯¹äºæˆäºˆä¿¡ä»»çš„æœ¬åœ°ä»£ç ï¼Œå¯ä»¥è®¿é—®ä¸€åˆ‡æœ¬åœ°èµ„æºã€‚è€Œå¯¹äºéæˆäºˆä¿¡ä»»çš„è¿œç¨‹ä»£ç åœ¨æ—©æœŸçš„javaå®ç°ä¸­ï¼Œå®Œå…¨ä¾èµ–äºjavaæ²™ç®±æœºåˆ¶ã€‚ä¸‹å›¾æ˜¯jdk1.0çš„å®‰å…¨æ¨¡å‹</p><img src="/javaEE/JVM/2022/02/10/JVM-%E7%AE%80%E4%BB%8B/jdk1.0%E5%AE%89%E5%85%A8%E6%A8%A1%E5%9E%8B.png" class title="jdk1.0å®‰å…¨æ¨¡å‹"><p>â€‹ä½†æ˜¯å¦‚æ­¤ä¸¥æ ¼çš„å®‰å…¨æœºåˆ¶ä¹Ÿç»™ç¨‹åºçš„åŠŸèƒ½æ‹“å±•å¸¦æ¥äº†éšœç¢ï¼Œæ¯”å¦‚ç”¨æˆ·å¸Œæœ›è¿œç¨‹ä»£ç è®¿é—®æœ¬åœ°èµ„æºçš„æ—¶å€™ï¼Œå°±ä¼šè¢«æ²™ç®±æœºåˆ¶æ‰€æ‹’ç»ã€‚æ‰€ä»¥åœ¨åæ¥çš„jdk1.1ç‰ˆæœ¬ä¸­ï¼Œé’ˆå¯¹å®‰å…¨æœºåˆ¶åšå‡ºäº†æ”¹è¿›ï¼Œå¢åŠ äº†å®‰å…¨ç­–ç•¥ï¼Œå…è®¸ç”¨æˆ·æŒ‡å®šä»£ç å¯¹æœ¬åœ°èµ„æºçš„è®¿é—®æƒé™ã€‚ä¸‹å›¾æ˜¯jdk1.1çš„å®‰å…¨æ¨¡å‹</p><img src="/javaEE/JVM/2022/02/10/JVM-%E7%AE%80%E4%BB%8B/jdk1.1%E5%AE%89%E5%85%A8%E6%A8%A1%E5%9E%8B.png" class title="jdk1.1å®‰å…¨æ¨¡å‹"><p>â€‹åœ¨jdk1.2çš„ç‰ˆæœ¬ä¸­ï¼Œå†æ¬¡å¼•è¿›å®‰å…¨æœºåˆ¶ï¼Œå¢åŠ äº†ä»£ç ç­¾åï¼Œä¸è®ºæ˜¯æœ¬åœ°ä»£ç è¿˜æ˜¯è¿œç¨‹ä»£ç ï¼Œéƒ½ä¼šæŒ‰ç…§ç”¨æˆ·çš„å®‰å…¨ç­–ç•¥è®¾å®šï¼Œç”±ç±»åŠ è½½å™¨åŠ è½½åˆ°JVMä¸­æƒé™ä¸åŒçš„è¿è¡Œç©ºé—´ï¼Œæ¥å®ç°å·®å¼‚åŒ–çš„ä»£ç æ‰§è¡Œæƒé™æ§åˆ¶ã€‚ä¸‹å›¾æ˜¯jdk1.2çš„å®‰å…¨æ¨¡å‹</p><img src="/javaEE/JVM/2022/02/10/JVM-%E7%AE%80%E4%BB%8B/jdk1.2%E5%AE%89%E5%85%A8%E6%A8%A1%E5%9E%8B.png" class title="jdk1.2å®‰å…¨æ¨¡å‹"><p>â€‹å½“å‰æœ€æ–°çš„å®‰å…¨æœºåˆ¶å®ç°ï¼Œåˆ™å¼•å…¥äº†åŸŸï¼ˆdomainï¼‰çš„æ¦‚å¿µã€‚JVMä¼šæŠŠæ‰€æœ‰çš„ä»£ç åŠ è½½åˆ°ä¸åŒçš„ç³»ç»Ÿå’Œåº”ç”¨åŸŸï¼Œç³»ç»ŸåŸŸéƒ¨åˆ†ä¸“é—¨è´Ÿè´£ä¸å…³é”®èµ„æºè¿›è¡Œäº¤äº’ï¼Œè€Œå„ä¸ªåº”ç”¨åŸŸéƒ¨åˆ†åˆ™é€šè¿‡ç³»ç»Ÿçš„éƒ¨åˆ†ä»£ç†æ¥å¯¹å„ç§éœ€è¦çš„èµ„æºè¿›è¡Œè®¿é—®ã€‚è™šæ‹Ÿæœºä¸­ä¸åŒçš„å—ä¿æŠ¤åŸŸï¼ˆProtected Domainï¼‰ï¼Œå¯¹åº”ä¸ä¸€æ ·çš„æƒé™ï¼ˆPermissionï¼‰ã€‚å­˜åœ¨äºä¸åŒåŸŸä¸­çš„ç±»æ–‡ä»¶å°±å…·æœ‰äº†å½“å‰åŸŸçš„å…¨éƒ¨æƒé™ã€‚ä¸‹å›¾æ˜¯jdk1.6çš„å®‰å…¨æ¨¡å‹</p><img src="/javaEE/JVM/2022/02/10/JVM-%E7%AE%80%E4%BB%8B/jdk1.6%E5%AE%89%E5%85%A8%E6%A8%A1%E5%9E%8B.png" class title="jdk1.6å®‰å…¨æ¨¡å‹"><p>â€‹ç»„æˆæ²™ç®±çš„åŸºæœ¬ç»„ä»¶:</p><ul><li><p>å­—èŠ‚ç æ ¡éªŒå™¨(bytecode verifier):ç¡®ä¿javaç±»æ–‡ä»¶é­å¾ªjavaè¯­è¨€è§„èŒƒã€‚è¿™æ ·å¯ä»¥å¸®åŠ©avaç¨‹åºå®ç°å†…å­˜ä¿<br>æŠ¤ã€‚ä½†å¹¶ä¸æ˜¯æ‰€æœ‰çš„ç±»æ–‡ä»¶éƒ½ä¼šç»è¿‡å­—èŠ‚ç æ ¡éªŒï¼Œæ¯”å¦‚æ ¸å¿ƒç±»ã€‚</p></li><li><p>ç±»è£…è½½å™¨(classloader):å…¶ä¸­ç±»è£…è½½å™¨åœ¨3ä¸ªæ–¹é¢å¯¹javaæ²™ç®±èµ·ä½œç”¨</p><ul><li>å®ƒé˜²æ­¢æ¶æ„ä»£ç å»å¹²æ¶‰å–„æ„çš„ä»£ç ;</li><li>å®ƒå®ˆæŠ¤äº†è¢«ä¿¡ä»»çš„ç±»åº“è¾¹ç•Œ;</li><li>å®ƒå°†ä»£ç å½’å…¥ä¿æŠ¤åŸŸï¼Œç¡®å®šäº†ä»£ç å¯ä»¥è¿›è¡Œå“ªäº›æ“ä½œã€‚</li></ul></li></ul><p>â€‹è™šæ‹Ÿæœºä¸ºä¸åŒçš„ç±»åŠ è½½å™¨è½½å…¥çš„ç±»æä¾›ä¸åŒçš„å‘½åç©ºé—´ï¼Œå‘½åç©ºé—´ç”±ä¸€ç³»åˆ—å”¯ä¸€çš„åç§°ç»„æˆï¼Œæ¯ä¸€ä¸ªè¢«è£…è½½çš„ç±»å°†æœ‰ä¸€ä¸ªåå­—ï¼Œè¿™ä¸ªå‘½åç©ºé—´æ˜¯ç”±avaè™šæ‹Ÿæœºä¸ºæ¯ä¸€ä¸ªç±»è£…è½½å™¨ç»´æŠ¤çš„ï¼Œå®ƒä»¬äº’ç›¸ä¹‹é—´ç”šè‡³ä¸å¯è§ã€‚</p><p>ç±»è£…è½½å™¨é‡‡ç”¨çš„æœºåˆ¶æ˜¯åŒäº²å§”æ´¾æ¨¡å¼ã€‚</p><ol><li>ä»æœ€å†…å±‚IVMè‡ªå¸¦ç±»åŠ è½½å™¨å¼€å§‹åŠ è½½ï¼Œå¤–å±‚æ¶æ„åŒåç±»å¾—ä¸åˆ°åŠ è½½ä»è€Œæ— æ³•ä½¿ç”¨;</li><li>ç”±äºä¸¥æ ¼é€šè¿‡åŒ…æ¥åŒºåˆ†äº†è®¿é—®åŸŸï¼Œå¤–å±‚æ¶æ„çš„ç±»é€šè¿‡å†…ç½®ä»£ç ä¹Ÿæ— æ³•è·å¾—æƒé™è®¿é—®åˆ°å†…å±‚ç±»ï¼Œç ´åä»£ç å°±è‡ªç„¶æ— æ³•ç”Ÿæ•ˆã€‚</li></ol><ul><li>å­˜å–æ§åˆ¶å™¨(access controller):å­˜å–æ§åˆ¶å™¨å¯ä»¥æ§åˆ¶æ ¸å¿ƒAPIå¯¹æ“ä½œç³»ç»Ÿçš„å­˜å–æƒé™ï¼Œè€Œè¿™ä¸ªæ§åˆ¶çš„ç­–ç•¥<br>è®¾å®šï¼Œå¯ä»¥ç”±ç”¨æˆ·æŒ‡å®šã€‚</li><li>å®‰å…¨ç®¡ç†å™¨(security manager):æ˜¯æ ¸å¿ƒAPIå’Œæ“ä½œç³»ç»Ÿä¹‹é—´çš„ä¸»è¦æ¥å£ã€‚å®ç°æƒé™æ§åˆ¶ï¼Œæ¯”å­˜å–æ§åˆ¶å™¨ä¼˜å…ˆçº§é«˜ã€‚</li><li>å®‰å…¨è½¯ä»¶åŒ…(security package):javasecurityä¸‹çš„ç±»å’Œæ‰©å±•åŒ…ä¸‹çš„ç±»ï¼Œå…è®¸ç”¨æˆ·ä¸ºè‡ªå·±çš„åº”ç”¨å¢åŠ æ–°çš„å®‰å…¨ç‰¹æ€§ï¼ŒåŒ…æ‹¬:<ul><li>å®‰å…¨æä¾›è€…</li><li>æ¶ˆæ¯æ‘˜è¦</li><li>æ•°å­—ç­¾å</li><li>åŠ å¯†</li><li>é‰´åˆ«</li></ul></li></ul><h3 id="native"><a href="#native" class="headerlink" title="native"></a>native</h3><p>å‡¡æ˜¯å¸¦äº†nativeå…³é”®è¯çš„æ–¹æ³•ï¼Œè¯´æ˜è¿™ä¸ªæ–¹æ³•javaè¯­è¨€å®ç°ä¸äº†ï¼Œæ­¤æ–¹æ³•ä¼šè¢«æ”¾å…¥æœ¬åœ°æ–¹æ³•æ ˆä¸­ï¼Œè¯¥æ ˆé€šè¿‡JNIï¼ˆJava Native Interfaceï¼‰å»è°ƒç”¨åº•å±‚çš„Cæˆ–è€…C++è¯­è¨€å†™çš„æ–¹æ³•ã€‚</p><h3 id="æ–¹æ³•åŒº"><a href="#æ–¹æ³•åŒº" class="headerlink" title="æ–¹æ³•åŒº"></a>æ–¹æ³•åŒº</h3><p>Method Area</p><p>æ–¹æ³•åŒºæ˜¯è¢«æ‰€æœ‰çº¿ç¨‹å…±äº«çš„ï¼Œæ‰€æœ‰å­—æ®µå’Œæ–¹æ³•å­—èŠ‚ç ï¼Œä»¥åŠä¸€äº›ç‰¹æ®Šæ–¹æ³•ï¼Œå¦‚æ„é€ å‡½æ•°ï¼Œæ¥å£ä»£ç ä¹Ÿåœ¨æ­¤å®šä¹‰ï¼Œç®€å•æ¥è¯´ï¼Œæ‰€æœ‰å®šä¹‰çš„æ–¹æ³•çš„ä¿¡æ¯éƒ½ä¼šè¢«ä¿å­˜åœ¨è¯¥åŒºåŸŸ</p><p>é™æ€å˜é‡ã€å¸¸é‡ã€ç±»ä¿¡æ¯ï¼ˆæ„é€ æ–¹æ³•ï¼Œæ¥å£å®šä¹‰ï¼‰ï¼Œè¿è¡Œæ—¶çš„å¸¸é‡æ± å­˜æ”¾åœ¨æ–¹æ³•åŒºä¸­ï¼Œä½†æ˜¯å®ä¾‹å˜é‡å­˜åœ¨äºå†…å­˜åŒºä¸­ï¼Œä¸æ–¹æ³•åŒºæ— å…³</p><h3 id="PCå¯„å­˜å™¨"><a href="#PCå¯„å­˜å™¨" class="headerlink" title="PCå¯„å­˜å™¨"></a>PCå¯„å­˜å™¨</h3><p>ç¨‹åºè®¡æ•°å™¨ï¼šProgram Counter Register</p><p>â€‹æ¯ä¸ªçº¿ç¨‹éƒ½æœ‰ä¸€ä¸ªç¨‹åºè®¡æ•°å™¨ï¼Œå®ç°ç¨‹åºç§æœ‰çš„ï¼Œå°±æ˜¯ä¸€ä¸ªæŒ‡é’ˆï¼ŒæŒ‡å‘æ–¹æ³•åŒºä¸­çš„æ–¹æ³•å­—èŠ‚ç </p><h3 id="å †ï¼ˆHeapï¼‰"><a href="#å †ï¼ˆHeapï¼‰" class="headerlink" title="å †ï¼ˆHeapï¼‰"></a>å †ï¼ˆHeapï¼‰</h3><p>ä¸€ä¸ªJVMåªæœ‰ä¸€ä¸ªå †å†…å­˜ï¼Œå †å†…å­˜çš„å¤§å°æ˜¯å¯ä»¥è°ƒèŠ‚çš„ï¼Œé‡Œé¢ä¸€èˆ¬æ”¾å®ä¾‹å¯¹è±¡</p><p>å †å†…å­˜ç»†åˆ†ä¸ºä¸‰ä¸ªåŒºåŸŸï¼š</p><ol><li>æ–°ç”ŸåŒº  Young&#x2F;New  </li><li>å…»è€åŒº  old </li><li>æ°¸ä¹…åŒº  perm</li></ol><img src="/javaEE/JVM/2022/02/10/JVM-%E7%AE%80%E4%BB%8B/JVM%E5%A0%86%E5%86%85%E5%AD%98%E5%88%86%E5%B8%83.png" class title="JVMå †å†…å­˜åˆ†å¸ƒ"><p>GCåƒåœ¾å›æ”¶ä¸»è¦åœ¨ä¼Šç”¸å›­åŒºå’Œå…»è€åŒº</p><p>å †å†…å­˜æ»¡äº†å°±ä¼šçˆ†OOMï¼ˆOutOfMemoryErrorï¼‰é”™è¯¯</p><p>æ‰€æœ‰çš„å¯¹è±¡éƒ½æ˜¯åœ¨ä¼Šç”¸å›­åŒºäº§ç”Ÿçš„</p><p>ä¼Šç”¸å›­æ»¡äº†ä¼šè§¦å‘è½»GCï¼Œæœ‰çš„å°±ç›´æ¥æ­»äº†ï¼Œç„¶åç•™ä¸‹æ¥çš„å»å¾€å¹¸å­˜åŒº</p><p>å¦‚æœå¹¸å­˜åŒºæ»¡äº†ï¼Œå°±å»å¾€è€å¹´åŒº</p><p>å¦‚æœè€å¹´åŒºæ»¡äº†ï¼Œè§¦å‘ä¸€æ¬¡é‡GCï¼ˆä¼Šç”¸å›­åŒºå’Œå¹¸å­˜è€…åŒºéƒ½æ¸…ä¸€éï¼Œæ´»ä¸‹æ¥çš„å»è€å¹´åŒºï¼‰</p><h3 id="åƒåœ¾å¤„ç†å™¨GC"><a href="#åƒåœ¾å¤„ç†å™¨GC" class="headerlink" title="åƒåœ¾å¤„ç†å™¨GC"></a>åƒåœ¾å¤„ç†å™¨GC</h3><p>GCçš„ä½œç”¨åŒºåŸŸåªæœ‰å †</p><p>ä¸¤ç§å›æ”¶ï¼šè½»GC ã€Full GC</p><p>GCçš„ç®—æ³•</p><ol><li>æ ‡è®°æ¸…é™¤æ³•</li><li>æ ‡è®°æ•´ç†æ³•</li><li>æ ‡è®°å¤åˆ¶ç®—æ³•</li><li>å¼•ç”¨è®¡æ•°æ³•ï¼ˆç»™æ¯ä¸€ä¸ªå¯¹è±¡åˆ†é…ä¸€ä¸ªè®¡æ•°å™¨ï¼Œå°†è®¡æ•°å™¨ä¸º0çš„å¯¹è±¡æ¸…é™¤ï¼‰</li></ol><h4 id="æ ‡è®°å¤åˆ¶æ³•"><a href="#æ ‡è®°å¤åˆ¶æ³•" class="headerlink" title="æ ‡è®°å¤åˆ¶æ³•"></a>æ ‡è®°å¤åˆ¶æ³•</h4><p>è°ç©ºè°æ˜¯toå¹¸å­˜åŒº</p><p>æ–°ç”ŸåŒºä¸»è¦ä½¿ç”¨å¤åˆ¶ç®—æ³•</p><p>å¥½å¤„ï¼šæ²¡æœ‰å†…å­˜ç¢ç‰‡</p><p>åå¤„ï¼šæµªè´¹äº†å†…å­˜ç©ºé—´</p><p>å¤åˆ¶ç®—æ³•ä½¿ç”¨æœ€ä½³åœºæ™¯ï¼šå¯¹è±¡å­˜æ´»åº¦è¾ƒä½çš„æ—¶å€™</p><h4 id="æ ‡è®°æ¸…é™¤æ³•"><a href="#æ ‡è®°æ¸…é™¤æ³•" class="headerlink" title="æ ‡è®°æ¸…é™¤æ³•"></a>æ ‡è®°æ¸…é™¤æ³•</h4><p>æ‰«æè¿™äº›æ´»ç€çš„å¯¹è±¡ï¼Œæ¸…é™¤æ²¡æœ‰æ ‡è®°çš„å¯¹è±¡è¿›è¡Œæ¸…é™¤</p><p>ç¼ºç‚¹ï¼šä¸¤æ¬¡æ‰«æï¼Œæµªè´¹æ—¶é—´ï¼Œä¼šäº§ç”Ÿå†…å­˜ç¢ç‰‡</p><p>ä¼˜ç‚¹ï¼šä¸éœ€è¦é¢å¤–ç©ºé—´</p><h4 id="æ ‡è®°æ•´ç†æ³•"><a href="#æ ‡è®°æ•´ç†æ³•" class="headerlink" title="æ ‡è®°æ•´ç†æ³•"></a>æ ‡è®°æ•´ç†æ³•</h4><p>å†æ¬¡æ‰«æï¼Œå‘ä¸€ç«¯ç§»åŠ¨å­˜æ´»çš„å¯¹è±¡</p><p>åˆ†ä»£æ”¶é›†ç®—æ³•</p><p>å¹´è½»ä»£ï¼š</p><ul><li>å­˜æ´»ç‡ä½</li><li>å¤åˆ¶ç®—æ³•</li></ul><p>è€å¹´ä»£</p><ul><li>å­˜æ´»ç‡é«˜</li><li>æ ‡è®°æ¸…é™¤+æ ‡è®°å‹ç¼©æ··åˆå®ç°</li></ul><p>è¿™äº”é“é¢è¯•é¢˜å¯ä»¥è¯•ç€åšä¸€åš</p><ol><li>è¯·ä½ è°ˆè°ˆä½ å¯¹JVMçš„ç†è§£ï¼Ÿjava8è™šæ‹Ÿæœºå’Œä¹‹å‰çš„æœ‰ä»€ä¹ˆä¸åŒï¼Ÿ</li><li>ä»€ä¹ˆæ˜¯OOMï¼Œä»€ä¹ˆæ˜¯æ ˆæº¢å‡ºï¼Ÿæ€ä¹ˆåˆ†æï¼Ÿ</li><li>JVMçš„å¸¸ç”¨è°ƒä¼˜å‚æ•°æœ‰å“ªäº›ï¼Ÿ</li><li>å†…å­˜å¿«ç…§å¦‚ä½•æŠ“å–ï¼Ÿæ€ä¹ˆåˆ†æDumpæ–‡ä»¶ï¼Ÿ</li><li>è°ˆè°ˆä½ å¯¹ç±»åŠ è½½å™¨çš„è®¤è¯†ï¼Ÿ</li></ol>]]></content>
      
      
      <categories>
          
          <category> javaEE </category>
          
          <category> JVM </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JVM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ifè¯­å¥å‡å°‘åµŒå¥—</title>
      <link href="/%E7%90%90%E7%A2%8E%E7%9A%84%E7%9F%A5%E8%AF%86/2022/02/07/if%E8%AF%AD%E5%8F%A5%E5%87%8F%E5%B0%91%E5%B5%8C%E5%A5%97/"/>
      <url>/%E7%90%90%E7%A2%8E%E7%9A%84%E7%9F%A5%E8%AF%86/2022/02/07/if%E8%AF%AD%E5%8F%A5%E5%87%8F%E5%B0%91%E5%B5%8C%E5%A5%97/</url>
      
        <content type="html"><![CDATA[<h2 id="ifçš„å¤šé‡åµŒå¥—"><a href="#ifçš„å¤šé‡åµŒå¥—" class="headerlink" title="ifçš„å¤šé‡åµŒå¥—"></a>ifçš„å¤šé‡åµŒå¥—</h2><p>ç›´æ¥ä¸¾æ —å­ï¼šæœ‰ä¸€ä¸ªç”µå•†å¹³å°ï¼Œå½“ç”¨æˆ·æ¶ˆè´¹æ»¡1000å…ƒï¼Œæ ¹æ®vipç­‰çº§å¯äº«å—ä¼˜æƒ </p><ul><li>æ™®é€šä¼šå‘˜ ä¸æ‰“æŠ˜</li><li>ç™½é“¶ä¼šå‘˜             ä¼˜æƒ 50å…ƒ</li><li>é»„é‡‘ä¼šå‘˜             æ‰“8æŠ˜</li><li>ç™½é‡‘ä¼šå‘˜             ä¼˜æƒ 50å…ƒï¼Œå†æ‰“ä¸ƒæŠ˜</li></ul><h3 id="Version-1-0"><a href="#Version-1-0" class="headerlink" title="Version 1.0"></a>Version 1.0</h3><p>ä¼šå‘˜ç±»å‹æšä¸¾</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">enum</span> <span class="title">UserType</span> </span>&#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * ORDINARY_VIP: æ™®é€šä¼šå‘˜</span></span><br><span class="line"><span class="comment">     * SILVER_VIP: ç™½é“¶ä¼šå‘˜</span></span><br><span class="line"><span class="comment">     * GOLD_VIPï¼š é»„é‡‘ä¼šå‘˜</span></span><br><span class="line"><span class="comment">     * PLATINUM_VIPï¼šç™½é‡‘ä¼šå‘˜</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    ORDINARY_VIP(<span class="number">1</span>),</span><br><span class="line">    SILVER_VIP(<span class="number">2</span>),</span><br><span class="line">    GOLD_VIP(<span class="number">3</span>),</span><br><span class="line">    PLATINUM_VIP(<span class="number">4</span>);</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> code;</span><br><span class="line">    UserType(<span class="keyword">int</span> code) &#123;</span><br><span class="line">        <span class="keyword">this</span>.code = code;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getCode</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> code;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">double</span> <span class="title">getResult</span><span class="params">(<span class="keyword">long</span> money, <span class="keyword">int</span> type)</span></span>&#123;</span><br><span class="line">    <span class="keyword">double</span> result = money;</span><br><span class="line">    <span class="keyword">if</span>(money &gt;= <span class="number">1000</span>)&#123;</span><br><span class="line">        <span class="keyword">if</span>(type == UserType.SILVER_VIP.getCode())&#123;</span><br><span class="line">            result = money - <span class="number">50</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(type == UserType.GOLD_VIP.getCode())&#123;</span><br><span class="line">            result = money * <span class="number">0.8</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(type == UserType.PLATNUM_VIP.getCode())&#123;</span><br><span class="line">            result = (money - <span class="number">50</span>)*<span class="number">0.7</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°è¿™é‡Œçš„ifè¯­å¥å¯èƒ½ä¸æ˜¯é‚£ä¹ˆç¹çï¼Œä½†æ˜¯å½“ä¸šåŠ¡ååˆ†å¤æ‚æˆ–è€…å½“ç­–ç•¥ä¼šç»å¸¸å˜åŠ¨çš„æ—¶å€™ï¼Œéœ€è¦ç»å¸¸ä¿®æ”¹æºä»£ç ï¼Œè¿™å°±ä¸¥é‡è¿åäº†å¼€é—­åŸåˆ™ï¼Œä½†æ˜¯æˆ‘å¯ä¸å¯å‡å°‘ifçš„å‡ºç°ç”šè‡³ä¸å‡ºç°å‘¢ï¼Ÿ</p><p>ä¸‹é¢æˆ‘ä»¬ç»“åˆä»¥ä¸‹ä¸¤ç§è§£å†³æ–¹æ¡ˆæ¥ä¸€æ­¥ä¸€æ­¥å°è¯•è§£å†³é—®é¢˜</p><ol><li>å«è¯­å¥</li><li>ç­–ç•¥æ¨¡å¼</li></ol><h3 id="Version-1-1"><a href="#Version-1-1" class="headerlink" title="Version 1.1"></a>Version 1.1</h3><p>å«è¯­å¥ï¼Œå°±æ˜¯å°†ä¸ç¬¦åˆçš„æƒ…å†µç›´æ¥è¿”å›</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">double</span> <span class="title">getResult</span><span class="params">(<span class="keyword">long</span> money,<span class="keyword">int</span> type)</span></span>&#123;</span><br><span class="line">    <span class="keyword">double</span> result = money;</span><br><span class="line">    <span class="keyword">if</span>(money&lt;<span class="number">1000</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(type== UserType.ORDINARY_VIP.getCode())&#123;</span><br><span class="line">        result = <span class="keyword">new</span> OrdinaryStrategy().compute(money);</span><br><span class="line">    &#125;<span class="keyword">else</span> <span class="keyword">if</span>(type == UserType.SILVER_VIP.getCode())&#123;</span><br><span class="line">        result = <span class="keyword">new</span> SilverStrategy().compute(money);</span><br><span class="line">    &#125;<span class="keyword">else</span> <span class="keyword">if</span>(type == UserType.GOLD_VIP.getCode())&#123;</span><br><span class="line">        result = <span class="keyword">new</span> GoldStrategy().compute(money);</span><br><span class="line">    &#125;<span class="keyword">else</span> <span class="keyword">if</span>(type==UserType.PLATINUM_VIP.getCode())&#123;</span><br><span class="line">        result = <span class="keyword">new</span> PlatinumStrategy().compute(money);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Version-2-0"><a href="#Version-2-0" class="headerlink" title="Version 2.0"></a>Version 2.0</h3><p>ç­–ç•¥æ¨¡å¼å°±æ˜¯å°†å„ä¸ªä¼šå‘˜çš„ä¼˜æƒ æ–¹å¼æå‡ºä¸€ä¸ªæ¥å£ï¼Œåˆ†åˆ«å®ç°</p><p>ç­–ç•¥æ¥å£</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Strategy</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">double</span> <span class="title">compute</span><span class="params">(<span class="keyword">long</span> money)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ™®é€šä¼šå‘˜</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">OrdinaryStrategy</span> <span class="keyword">implements</span> <span class="title">Strategy</span></span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">double</span> <span class="title">compute</span><span class="params">(<span class="keyword">long</span> money)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> money;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>é»„é‡‘ä¼šå‘˜</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">GoldStrategy</span> <span class="keyword">implements</span> <span class="title">Strategy</span></span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">double</span> <span class="title">compute</span><span class="params">(<span class="keyword">long</span> money)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> money*<span class="number">0.8</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç™½é‡‘ä¼šå‘˜</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">PlatinumStrategy</span> <span class="keyword">implements</span> <span class="title">Strategy</span></span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">double</span> <span class="title">compute</span><span class="params">(<span class="keyword">long</span> money)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> (money-<span class="number">50</span>)*<span class="number">0.7</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç™½é“¶ä¼šå‘˜</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SilverStrategy</span> <span class="keyword">implements</span> <span class="title">Strategy</span></span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">double</span> <span class="title">compute</span><span class="params">(<span class="keyword">long</span> money)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> money-<span class="number">50</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">double</span> <span class="title">getResult</span><span class="params">(<span class="keyword">long</span> money,<span class="keyword">int</span> type)</span></span>&#123;</span><br><span class="line">    <span class="keyword">double</span> result = money;</span><br><span class="line">    <span class="keyword">if</span>(money&lt;<span class="number">1000</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(type== UserType.ORDINARY_VIP.getCode())&#123;</span><br><span class="line">        result = <span class="keyword">new</span> OrdinaryStrategy().compute(money);</span><br><span class="line">    &#125;<span class="keyword">else</span> <span class="keyword">if</span>(type == UserType.SILVER_VIP.getCode())&#123;</span><br><span class="line">        result = <span class="keyword">new</span> SilverStrategy().compute(money);</span><br><span class="line">    &#125;<span class="keyword">else</span> <span class="keyword">if</span>(type == UserType.GOLD_VIP.getCode())&#123;</span><br><span class="line">        result = <span class="keyword">new</span> GoldStrategy().compute(money);</span><br><span class="line">    &#125;<span class="keyword">else</span> <span class="keyword">if</span>(type==UserType.PLATINUM_VIP.getCode())&#123;</span><br><span class="line">        result = <span class="keyword">new</span> PlatinumStrategy().compute(money);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Version-2-1"><a href="#Version-2-1" class="headerlink" title="Version 2.1"></a>Version 2.1</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">StrategyFactory</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> Map&lt;Integer,Strategy&gt; map;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="title">StrategyFactory</span><span class="params">()</span></span>&#123;</span><br><span class="line">        map = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        init();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">init</span><span class="params">()</span></span>&#123;</span><br><span class="line">        map.put(UserType.ORDINARY_VIP.getCode(), <span class="keyword">new</span> OrdinaryStrategy());</span><br><span class="line">        map.put(UserType.SILVER_VIP.getCode(), <span class="keyword">new</span> SilverStrategy());</span><br><span class="line">        map.put(UserType.GOLD_VIP.getCode(),<span class="keyword">new</span> GoldStrategy());</span><br><span class="line">        map.put(UserType.PLATINUM_VIP.getCode(),<span class="keyword">new</span> PlatinumStrategy());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">double</span> <span class="title">getResult</span><span class="params">(<span class="keyword">int</span> userType, <span class="keyword">long</span> money)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(money&lt;<span class="number">1000</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> money;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(StrategyFactory.map.get(userType)==<span class="keyword">null</span>)&#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException(<span class="string">&quot;å‚æ•°é”™è¯¯ï¼Œæ— æ­¤ç±»å‹çš„ç”¨æˆ·&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> map.get(userType).compute(money);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™é‡Œçš„å·¥å‚è¿˜å¯ä»¥é€šè¿‡è¿™ç§æ–¹å¼æ¥å®ç°</p><h3 id="Version-2-2"><a href="#Version-2-2" class="headerlink" title="Version 2.2"></a>Version 2.2</h3><p>ç­–ç•¥æ¥å£</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Strategy</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">double</span> <span class="title">compute</span><span class="params">(<span class="keyword">long</span> money)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">getType</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>é»„é‡‘ä¼šå‘˜</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">GoldStrategy</span> <span class="keyword">implements</span> <span class="title">Strategy</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">double</span> <span class="title">compute</span><span class="params">(<span class="keyword">long</span> money)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> money*<span class="number">0.8</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getType</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> UserType.GOLD_VIP.getCode();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ™®é€šä¼šå‘˜</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">OrdinaryStrategy</span> <span class="keyword">implements</span> <span class="title">Strategy</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">double</span> <span class="title">compute</span><span class="params">(<span class="keyword">long</span> money)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> money;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getType</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> UserType.ORDINARY_VIP.getCode();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç™½é‡‘ä¼šå‘˜</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">PlatinumStrategy</span> <span class="keyword">implements</span> <span class="title">Strategy</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">double</span> <span class="title">compute</span><span class="params">(<span class="keyword">long</span> money)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> (money-<span class="number">50</span>)*<span class="number">0.7</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getType</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> UserType.PLATINUM_VIP.getCode();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç™½é“¶ä¼šå‘˜</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SilverStrategy</span> <span class="keyword">implements</span> <span class="title">Strategy</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">double</span> <span class="title">compute</span><span class="params">(<span class="keyword">long</span> money)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> money-<span class="number">50</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getType</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> UserType.SILVER_VIP.getCode();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç­–ç•¥å·¥å‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">StrategyFactory</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> Map&lt;Integer, Strategy&gt; map;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">StrategyFactory</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        map=<span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        init();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">init</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        List&lt;Strategy&gt; strategies=<span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        strategies.add(<span class="keyword">new</span> GoldStrategy());</span><br><span class="line">        strategies.add(<span class="keyword">new</span> OrdinaryStrategy());</span><br><span class="line">        strategies.add(<span class="keyword">new</span> PlatinumStrategy());</span><br><span class="line">        strategies.add(<span class="keyword">new</span> SilverStrategy());</span><br><span class="line">        map=strategies.stream().collect(Collectors.toMap(Strategy::getType,strategy -&gt; strategy));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">double</span> <span class="title">getResult</span><span class="params">(<span class="keyword">int</span> userType, <span class="keyword">long</span> money)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(money&lt;<span class="number">1000</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> money;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(StrategyFactory.map.get(userType)==<span class="keyword">null</span>)&#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException(<span class="string">&quot;å‚æ•°é”™è¯¯ï¼Œæ— æ­¤ç±»å‹çš„ç”¨æˆ·&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> map.get(userType).compute(money);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> çç¢çš„çŸ¥è¯† </category>
          
      </categories>
      
      
        <tags>
            
            <tag> çç¢çš„çŸ¥è¯† </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Cookieå’ŒSession</title>
      <link href="/%E7%90%90%E7%A2%8E%E7%9A%84%E7%9F%A5%E8%AF%86/2022/02/07/Cookie%E5%92%8CSession/"/>
      <url>/%E7%90%90%E7%A2%8E%E7%9A%84%E7%9F%A5%E8%AF%86/2022/02/07/Cookie%E5%92%8CSession/</url>
      
        <content type="html"><![CDATA[<h2 id="æƒ…æ™¯åœ¨çº¿"><a href="#æƒ…æ™¯åœ¨çº¿" class="headerlink" title="æƒ…æ™¯åœ¨çº¿"></a>æƒ…æ™¯åœ¨çº¿</h2><p>æˆ‘ä»¬åœ¨ç™»å½•å®Œä¸€ä¸ªç½‘ç«™åï¼Œå¾ˆé•¿ä¸€æ®µæ—¶é—´éƒ½ä¸éœ€è¦è¾“å…¥ç”¨æˆ·åå’Œå¯†ç ã€‚å¤§å®¶æœ‰æ²¡æœ‰å¥½å¥‡è¿™æ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿ</p><p>å­¦è¿‡HTTPçš„éƒ½çŸ¥é“ï¼ŒHTTPè®¿é—®æ˜¯æ— çŠ¶æ€çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼ŒæœåŠ¡å™¨æ˜¯ä¸çŸ¥é“ä½ è¿™æ˜¯ç¬¬å‡ æ¬¡è®¿é—®è¯¥ç½‘ç«™çš„ã€‚</p><p>é‚£ä¹ˆCookieï¼ŒSessionå°±æ˜¯æ¥åšåˆ°è®©æœåŠ¡å™¨é¢„å…ˆçŸ¥é“ä¸€äº›ä¿¡æ¯ï¼Œå…¶æ ¸å¿ƒå…¶å®å°±æ˜¯å­˜å‚¨ã€‚</p><p>Cookieæ˜¯å­˜å‚¨åœ¨å®¢æˆ·ç«¯çš„ï¼ŒSessionæ˜¯å­˜å‚¨åœ¨æœåŠ¡å™¨ç«¯çš„</p><p>ä¸‹é¢æˆ‘ä»¬æ¥è¯´è¯´Cookie</p><h2 id="Cookie"><a href="#Cookie" class="headerlink" title="Cookie"></a>Cookie</h2><p>Cookieç¿»è¯‘ä¸ºå°é¥¼å¹²</p><img src="/%E7%90%90%E7%A2%8E%E7%9A%84%E7%9F%A5%E8%AF%86/2022/02/07/Cookie%E5%92%8CSession/Cookie%E5%9B%BE%E6%A0%87.png" class title="Cookieå›¾æ ‡"><p>è¯¥æŠ€æœ¯å¯ä»¥å®ç°æ¯æ¬¡HTTPè¯·æ±‚éƒ½è‡ªåŠ¨å¸¦æ•°æ®ç»™æœåŠ¡å™¨ï¼Œä»è€Œå®ç°æœåŠ¡å™¨å¯ä»¥åœ¨è¯·æ±‚çš„æ—¶å€™å°±é¢„å…ˆçŸ¥é“ä¸€äº›ä¿¡æ¯ã€‚</p><p>æµç¨‹å›¾å¦‚ä¸‹</p><img src="/%E7%90%90%E7%A2%8E%E7%9A%84%E7%9F%A5%E8%AF%86/2022/02/07/Cookie%E5%92%8CSession/%E5%AE%A2%E6%88%B7%E7%AB%AF%E4%BF%9D%E5%AD%98Cookie.png" class title="å®¢æˆ·ç«¯ä¿å­˜Cookie"><p>æˆ‘ä»¬å¯ä»¥åœ¨æµè§ˆå™¨ä¸­æŸ¥çœ‹Cookie</p><img src="/%E7%90%90%E7%A2%8E%E7%9A%84%E7%9F%A5%E8%AF%86/2022/02/07/Cookie%E5%92%8CSession/%E6%B5%8F%E8%A7%88%E5%99%A8%E6%9F%A5%E7%9C%8BCookie.png" class title="æµè§ˆå™¨æŸ¥çœ‹Cookie"><p>å¦‚æœä½¿ç”¨Cookieä¿å­˜è´¦å·å¯†ç ï¼Œé‚£åªè¦åˆ«äººç›—åˆ°ä½ çš„Cookieï¼Œé‚£ä¹ˆä½ çš„è´¦å·å¯†ç å°±æ³„éœ²äº†ï¼æ‰€ä»¥å°±å‡ºç°äº†Sessionçš„æŠ€æœ¯</p><h2 id="Session"><a href="#Session" class="headerlink" title="Session"></a>Session</h2><p>Sessionç¿»è¯‘ä¸ºä¼šè¯</p><p>å½“æˆ‘ä»¬æ‰“å¼€ä¸€ä¸ªæµè§ˆå™¨è¿›å»ç½‘ç«™ï¼Œåˆ™å¼€å§‹ä¸€ä¸ªä¼šè¯ï¼Œä½†æ˜¯ä¼šè¯çš„ç»“æŸæ¯”è¾ƒæ¨¡ç³Šï¼Œå¯ä»¥è‡ªåŠ¨è®¾ç½®sessionè¿‡æœŸæ—¶é—´ï¼Œä¹Ÿå¯ä»¥è®¾ç½®æ°¸ä¸è¿‡æœŸã€‚</p><p>Sessionä¿å­˜åœ¨æœåŠ¡å™¨ï¼Œå½“äº§ç”Ÿäº†ä¸€æ¬¡ä¼šè¯ï¼Œåˆ™æœåŠ¡å™¨è¿”å›çš„æ—¶å€™æºå¸¦å­˜å‚¨sessionç›¸å…³ä¿¡æ¯çš„Cookieï¼Œå¹¶ä¿å­˜åœ¨å®¢æˆ·ç«¯ï¼Œè€Œè¿™ä¸ªsessionå¯¹è±¡çš„ä¿¡æ¯åˆ™ä¿å­˜åœ¨æœåŠ¡å™¨çš„æ•°æ®åº“ä¸­ã€‚</p><p>ä¸‹é¢æ˜¯æµç¨‹å›¾</p><img src="/%E7%90%90%E7%A2%8E%E7%9A%84%E7%9F%A5%E8%AF%86/2022/02/07/Cookie%E5%92%8CSession/Session%E6%B5%81%E7%A8%8B%E5%9B%BE.png" class title="Sessionæµç¨‹å›¾">]]></content>
      
      
      <categories>
          
          <category> çç¢çš„çŸ¥è¯† </category>
          
      </categories>
      
      
        <tags>
            
            <tag> çç¢çš„çŸ¥è¯† </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Token</title>
      <link href="/%E7%90%90%E7%A2%8E%E7%9A%84%E7%9F%A5%E8%AF%86/2022/02/07/Token/"/>
      <url>/%E7%90%90%E7%A2%8E%E7%9A%84%E7%9F%A5%E8%AF%86/2022/02/07/Token/</url>
      
        <content type="html"><![CDATA[<h2 id="ä¸ºä»€ä¹ˆä¼šå‡ºç°Token"><a href="#ä¸ºä»€ä¹ˆä¼šå‡ºç°Token" class="headerlink" title="ä¸ºä»€ä¹ˆä¼šå‡ºç°Token"></a>ä¸ºä»€ä¹ˆä¼šå‡ºç°Token</h2><p>ç›¸ä¿¡å¤§å®¶éƒ½çŸ¥é“Cookieå’ŒSessionï¼ˆä¸çŸ¥é“è¿™ä¸¤è€…çš„åœ¨æˆ‘å¦å¤–ä¸¤ç¯‡åšå®¢é‡Œé¢æœ‰å†™ï¼Œé™„ä¸Šé“¾æ¥ï¼Œ<a href="https://li-zhi.net.cn/2022/02/07/Cookie%E5%92%8CSession/">Cookieå’ŒSession</a>ï¼‰</p><p>éšç€æŠ€æœ¯çš„å‘å±•ï¼Œç”¨æˆ·ç¾¤ä½“å˜çš„è¶Šæ¥è¶Šå¤§ï¼Œå¦‚æœæœåŠ¡å™¨ä¾æ—§ä½¿ç”¨åŸºäºCookieçš„Sessionï¼Œåœ¨æŸä¸€æ—¶é—´æ®µæœ‰å¤§é‡ç”¨æˆ·è®¿é—®çš„è¯ï¼ŒæœåŠ¡å™¨å°±ä¼šå°†å¤§é‡çš„Sessionä¿å­˜åœ¨æ•°æ®åº“ä¸­ï¼Œå¯¼è‡´æœåŠ¡å™¨æ€§èƒ½é™ä½ï¼Œä¸ºäº†å¤„ç†è¿™ç§é—®é¢˜ï¼Œå°±å‡ºç°äº†ä¸€ç§æŠ€æœ¯ï¼Œä¹Ÿå°±æ˜¯JWT(JSON Web Token)</p><h2 id="Token"><a href="#Token" class="headerlink" title="Token"></a>Token</h2><img src="/%E7%90%90%E7%A2%8E%E7%9A%84%E7%9F%A5%E8%AF%86/2022/02/07/Token/JWT%E6%B5%81%E7%A8%8B%E5%9B%BE.png" class title="JWTæµç¨‹å›¾"><p>JWTæ˜¯ç”±ä¸‰éƒ¨åˆ†ç»„æˆçš„ï¼Œåˆ†åˆ«æ˜¯headerã€payloadã€signature</p><p>headeréƒ¨åˆ†ç”³æ˜ç”¨ä»€ä¹ˆç®—æ³•ç”Ÿæˆç­¾å</p><p>payloadéƒ¨åˆ†ä¿å­˜ä¸€äº›æ•°æ®</p><p>signatureéƒ¨åˆ†ä¿å­˜headerç”³æ˜çš„ç®—æ³•ç”Ÿæˆçš„ç­¾å</p><img src="/%E7%90%90%E7%A2%8E%E7%9A%84%E7%9F%A5%E8%AF%86/2022/02/07/Token/JWT%E7%9A%84%E7%BB%84%E6%88%90.jpg" class title="JWTçš„ç»„æˆ"><h2 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h2><p>Sessionã€Cookieã€Tokenéƒ½æ˜¯æ˜¯åœ¨æœåŠ¡å™¨äº§ç”Ÿçš„</p><p>Cookieæ˜¯ä¿å­˜SessionIDçš„è½½ä½“ï¼Œä½†æ˜¯Sessionå¯¹è±¡æ˜¯ä¿å­˜åœ¨æœåŠ¡å™¨æ•°æ®åº“ä¸­çš„</p><p>Tokenåœ¨æœåŠ¡å™¨ç«¯ç”Ÿæˆï¼Œä¿å­˜æœåŠ¡å™¨ç«¯çš„å¯†æ–‡ï¼Œå°†tokenæ”¾å…¥cookieå‘é€è¯¶å®¢æˆ·ç«¯å¹¶äº¤ç”±å®¢æˆ·ç«¯ä¿å­˜</p>]]></content>
      
      
      <categories>
          
          <category> çç¢çš„çŸ¥è¯† </category>
          
      </categories>
      
      
        <tags>
            
            <tag> çç¢çš„çŸ¥è¯† </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Ngrok</title>
      <link href="/%E7%90%90%E7%A2%8E%E7%9A%84%E7%9F%A5%E8%AF%86/2022/02/07/Ngrok/"/>
      <url>/%E7%90%90%E7%A2%8E%E7%9A%84%E7%9F%A5%E8%AF%86/2022/02/07/Ngrok/</url>
      
        <content type="html"><![CDATA[<h2 id="ä½¿ç”¨Ngrokå¿«é€Ÿéƒ¨ç½²é¡¹ç›®"><a href="#ä½¿ç”¨Ngrokå¿«é€Ÿéƒ¨ç½²é¡¹ç›®" class="headerlink" title="ä½¿ç”¨Ngrokå¿«é€Ÿéƒ¨ç½²é¡¹ç›®"></a>ä½¿ç”¨Ngrokå¿«é€Ÿéƒ¨ç½²é¡¹ç›®</h2><ol><li>æ‰“å¼€<a href="https://ngrok.cc/">https://ngrok.cc/</a></li><li>æ³¨å†Œä¸€ä¸ªè´¦æˆ·</li></ol><img src="/%E7%90%90%E7%A2%8E%E7%9A%84%E7%9F%A5%E8%AF%86/2022/02/07/Ngrok/%E6%B3%A8%E5%86%8C%E5%90%8E%E7%9A%84%E9%A1%B5%E9%9D%A2.png" class title="æ³¨å†Œåçš„é¡µé¢"><ol start="3"><li>æ”¯ä»˜2å—é’±è¿›è¡Œæ”¯ä»˜å®å®åè®¤è¯</li></ol><img src="/%E7%90%90%E7%A2%8E%E7%9A%84%E7%9F%A5%E8%AF%86/2022/02/07/Ngrok/%E5%AE%9E%E5%90%8D%E8%AE%A4%E8%AF%81.png" class title="å®åè®¤è¯"><ol start="4"><li>ç‚¹å‡»å¼€é€šéš§é“å¹¶ç¿»åˆ°æœ€å</li></ol><img src="/%E7%90%90%E7%A2%8E%E7%9A%84%E7%9F%A5%E8%AF%86/2022/02/07/Ngrok/%E5%BC%80%E9%80%9A%E9%9A%A7%E9%81%93.png" class title="å¼€é€šéš§é“"><ol start="5"><li>å¼€é€šéš§é“é€‰é¡¹</li></ol><img src="/%E7%90%90%E7%A2%8E%E7%9A%84%E7%9F%A5%E8%AF%86/2022/02/07/Ngrok/%E5%BC%80%E9%80%9A%E9%9A%A7%E9%81%93%E9%80%89%E9%A1%B9.png" class title="å¼€é€šéš§é“é€‰é¡¹"><p>è¯´æ˜ï¼š</p><blockquote><p>éš§é“åè®®ï¼Œä¸¤è€…å³å¯</p></blockquote><ul><li>HTTP</li><li>HTTPSï¼ˆHTTPSéœ€è¦ç»‘å®šè‡ªå·±çš„åŸŸåï¼Œå¹¶ä¸”å·²ç»ç”³è¯·äº†SSLè¯ä¹¦ï¼Œæ‰èƒ½æœ‰æ•ˆï¼Œå¦åˆ™æ— æ³•ä½¿ç”¨httpsã€‚ï¼‰</li></ul><blockquote><p>éš§é“åç§°</p></blockquote><p>éšä¾¿å†™å³å¯</p><blockquote><p>å‰ç½®åŸŸå</p></blockquote><p>å†™è‡ªå·±å–œæ¬¢çš„</p><blockquote><p>httpéªŒè¯ç”¨æˆ·åå’Œå¯†ç </p></blockquote><p>è¿™é‡Œå¯ä»¥ä¸å†™</p><ol start="6"><li>ç¡®è®¤ä¿¡æ¯ï¼Œå¼€é€š</li></ol><img src="/%E7%90%90%E7%A2%8E%E7%9A%84%E7%9F%A5%E8%AF%86/2022/02/07/Ngrok/%E7%A1%AE%E8%AE%A4%E4%BF%A1%E6%81%AF.png" class title="ç¡®è®¤ä¿¡æ¯"><ol start="7"><li>è¿›å…¥éš§é“ç®¡ç†é¡µé¢</li></ol><img src="/%E7%90%90%E7%A2%8E%E7%9A%84%E7%9F%A5%E8%AF%86/2022/02/07/Ngrok/%E9%9A%A7%E9%81%93%E7%AE%A1%E7%90%86.png" class title="éš§é“ç®¡ç†"><blockquote><p>psï¼šè¿™é‡Œå’Œæˆ‘ä¹‹å‰å†™çš„é…ç½®ä¸ä¸€æ ·ï¼Œæ˜¯å› ä¸ºä¸€ä¸ªç”¨æˆ·åªèƒ½å…è´¹å¼€é€šä¸€ä¸ªhttpéš§é“</p></blockquote><img src="/%E7%90%90%E7%A2%8E%E7%9A%84%E7%9F%A5%E8%AF%86/2022/02/07/Ngrok/%E5%8F%AA%E8%83%BD%E5%85%8D%E8%B4%B9%E5%BC%80%E9%80%9A%E4%B8%80%E4%B8%AA.png" class title="åªèƒ½å…è´¹å¼€é€šä¸€ä¸ª"><ol start="8"><li>ä¸‹è½½å®¢æˆ·ç«¯</li></ol><img src="/%E7%90%90%E7%A2%8E%E7%9A%84%E7%9F%A5%E8%AF%86/2022/02/07/Ngrok/%E5%AE%A2%E6%88%B7%E7%AB%AF%E4%B8%8B%E8%BD%BD.png" class title="å®¢æˆ·ç«¯ä¸‹è½½"><p>ä¸‹è½½å¯¹åº”ç³»ç»Ÿçš„è½¯ä»¶ï¼Œå¹¶è§£å‹</p><img src="/%E7%90%90%E7%A2%8E%E7%9A%84%E7%9F%A5%E8%AF%86/2022/02/07/Ngrok/%E4%B8%8B%E8%BD%BD%E5%AE%A2%E6%88%B7%E7%AB%AF%E8%BD%AF%E4%BB%B6.png" class title="ä¸‹è½½å®¢æˆ·ç«¯è½¯ä»¶"><ol start="9"><li>å¯åŠ¨æ‰¹å¤„ç†å‘½ä»¤</li></ol><img src="/%E7%90%90%E7%A2%8E%E7%9A%84%E7%9F%A5%E8%AF%86/2022/02/07/Ngrok/%E5%90%AF%E5%8A%A8%E5%AE%A2%E6%88%B7%E7%AB%AF.png" class title="å¯åŠ¨å®¢æˆ·ç«¯"><img src="/%E7%90%90%E7%A2%8E%E7%9A%84%E7%9F%A5%E8%AF%86/2022/02/07/Ngrok/%E7%B1%BB%E4%BC%BC%E8%BF%99%E6%A0%B7%E7%9A%84%E7%95%8C%E9%9D%A2.png" class title="ç±»ä¼¼è¿™æ ·çš„ç•Œé¢"><blockquote><p>psï¼šæˆ‘ç¬¬ä¸€æ¬¡ä½¿ç”¨çš„ä¸æ˜¯ä¹±ç ï¼Œæˆ‘ä¹Ÿä¸ç†è§£è¿™æ¬¡ä½¿ç”¨ä¸ºä»€ä¹ˆä¼šä¹±ç ï¼Œè¿™é‡Œä¸å½±å“ä½¿ç”¨</p></blockquote><ol start="10"><li>è¾“å…¥éš§é“idï¼Œå›è½¦</li></ol><img src="/%E7%90%90%E7%A2%8E%E7%9A%84%E7%9F%A5%E8%AF%86/2022/02/07/Ngrok/%E7%B1%BB%E4%BC%BC%E8%BF%99%E6%A0%B7%E7%9A%84%E7%95%8C%E9%9D%A2.png" class title="ç±»ä¼¼è¿™æ ·çš„ç•Œé¢"><p><strong>å¦‚æœä¹‹å‰é…ç½®äº†è´¦å·å¯†ç ï¼Œåˆ™åœ¨æ­¤å¤„éœ€è¦è¾“å…¥è´¦å·å¯†ç </strong></p><ol start="11"><li>å¯åŠ¨æœ¬åœ°é¡¹ç›®</li></ol><p><strong>æ³¨ï¼šæœ¬åœ°é¡¹ç›®å¯åŠ¨çš„ç«¯å£ä¸€å®šè¦å’Œä¹‹å‰å†™çš„ç«¯å£æ˜ å°„ä¸€è‡´</strong></p><img src="/%E7%90%90%E7%A2%8E%E7%9A%84%E7%9F%A5%E8%AF%86/2022/02/07/Ngrok/%E9%85%8D%E7%BD%AEtomcat%E5%BC%80%E5%90%AF%E7%9A%84%E7%AB%AF%E5%8F%A3.png" class title="é…ç½®tomcatå¼€å¯çš„ç«¯å£"><ol start="12"><li>æ‰“å¼€ç½‘å€æµ‹è¯•</li></ol><img src="/%E7%90%90%E7%A2%8E%E7%9A%84%E7%9F%A5%E8%AF%86/2022/02/07/Ngrok/%E6%89%93%E5%BC%80%E7%BD%91%E5%9D%80%E6%B5%8B%E8%AF%95.png" class title="æ‰“å¼€ç½‘å€æµ‹è¯•"><ol start="13"><li>æœ¬åœ°</li></ol><img src="/%E7%90%90%E7%A2%8E%E7%9A%84%E7%9F%A5%E8%AF%86/2022/02/07/Ngrok/%E6%9C%AC%E5%9C%B0%E8%AE%BF%E9%97%AE.png" class title="æœ¬åœ°è®¿é—®"><ol start="14"><li>Ngrokæä¾›çš„ç½‘ç«™è®¿é—®</li></ol><img src="/%E7%90%90%E7%A2%8E%E7%9A%84%E7%9F%A5%E8%AF%86/2022/02/07/Ngrok/Ngrok%E6%8F%90%E4%BE%9B%E7%9A%84%E7%BD%91%E7%AB%99%E8%AE%BF%E9%97%AE.png" class title="Ngrokæä¾›çš„ç½‘ç«™è®¿é—®">]]></content>
      
      
      <categories>
          
          <category> çç¢çš„çŸ¥è¯† </category>
          
      </categories>
      
      
        <tags>
            
            <tag> çç¢çš„çŸ¥è¯† </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å…³äºè·¯å¾„</title>
      <link href="/%E7%90%90%E7%A2%8E%E7%9A%84%E7%9F%A5%E8%AF%86/2022/02/07/%E5%85%B3%E4%BA%8E%E8%B7%AF%E5%BE%84/"/>
      <url>/%E7%90%90%E7%A2%8E%E7%9A%84%E7%9F%A5%E8%AF%86/2022/02/07/%E5%85%B3%E4%BA%8E%E8%B7%AF%E5%BE%84/</url>
      
        <content type="html"><![CDATA[<h1 id="è®¿é—®è·¯å¾„"><a href="#è®¿é—®è·¯å¾„" class="headerlink" title="è®¿é—®è·¯å¾„"></a>è®¿é—®è·¯å¾„</h1><p>URLç»Ÿä¸€èµ„æºå®šä½ç¬¦ï¼Œç”¨äºå®šä½èµ„æºçš„ä¸€ç§æ–¹å¼ã€‚</p><p>é€šå¸¸çš„URLèµ„æºè®¿é—®è·¯å¾„ç”±ä¸¤éƒ¨åˆ†æ„æˆ:èµ„æºè·¯å¾„ä¸èµ„æºåç§°ã€‚</p><p>èµ„æºåç§°æŒ‡çš„æ˜¯è¦è®¿é—®èµ„æºçš„ç›´æ¥åç§°ï¼Œå¦‚show.html,æˆ–ä¸è¦è®¿é—®èµ„æºå­˜åœ¨æ˜ å°„å…³ç³»çš„é—´æ¥åç§°ï¼Œå¦‚show.do</p><p>èµ„æºè·¯å¾„ï¼Œåˆ™æ˜¯é€šè¿‡è¯¥è·¯å¾„åˆ™å¯ä»¥å®šä½åˆ°æŒ‡å®šçš„èµ„æºï¼Œå³èµ„æºè·¯å¾„æ˜¯æŒ‡åœ¨URLèµ„æºè®¿é—®è·¯å¾„ä¸­é™¤äº†èµ„æºåç§°ä»¥å¤–çš„å…¶å®ƒéƒ¨åˆ†ã€‚</p><p>æ ¹æ®â€œèµ„æºè·¯å¾„æ˜¯å¦å¯ä»¥ç‹¬ç«‹å®Œæˆèµ„æºå‡†ç¡®å®šä½â€çš„åˆ¤åˆ«æ ‡å‡†,å¯ä»¥å°†è®¿é—®è·¯å¾„åˆ†ä¸ºç»å¯¹è·¯å¾„ä¸ç›¸å¯¹è·¯å¾„</p><h2 id="ç»å¯¹è·¯å¾„"><a href="#ç»å¯¹è·¯å¾„" class="headerlink" title="ç»å¯¹è·¯å¾„"></a>ç»å¯¹è·¯å¾„</h2><p>ç»å¯¹è·¯å¾„ï¼Œæ˜¯æŒ‡æ ¹æ®ç»™å‡ºçš„è®¿é—®è·¯å¾„å¯ä»¥ç²¾ç¡®çš„å®šä½åˆ°è¿™ä¸ªèµ„æºçš„è·¯å¾„</p><p>å¯¹äºè®¡ç®—æœºä¸­Webåº”ç”¨çš„ç»å¯¹è·¯å¾„ï¼Œåˆ™æ˜¯æŒ‡å¸¦è®¿é—®åè®®çš„è·¯å¾„ã€‚å³URL</p><h2 id="ç›¸å¯¹è·¯å¾„"><a href="#ç›¸å¯¹è·¯å¾„" class="headerlink" title="ç›¸å¯¹è·¯å¾„"></a>ç›¸å¯¹è·¯å¾„</h2><p>ç›¸å¯¹è·¯å¾„,æ˜¯æŒ‡ä»…æ ¹æ®è®¿é—®è·¯å¾„æ— æ³•å‡†ç¡®å®šä½èµ„æºçš„è·¯å¾„ã€‚</p><p>ç›¸å¯¹è·¯å¾„å¿…é¡»è¦ç»“åˆå…¶å‚ç…§è·¯å¾„æ‰å¯ç»„æˆå¯ä»¥å‡†ç¡®å®šä½èµ„æºçš„ç»å¯¹è·¯å¾„ã€‚</p><p>å‚ç…§è·¯å¾„çš„ä¸åŒï¼Œæ‰€å½¢æˆçš„å¯ä»¥å‡†ç¡®å®šä½èµ„æºçš„ç»å¯¹è·¯å¾„ä¹Ÿæ˜¯ä¸åŒçš„ã€‚</p><p>åœ¨è¿›è¡Œèµ„æºè®¿é—®æ—¶,å¿…é¡»è¦å°†ç›¸å¯¹è·¯å¾„è½¬æ¢ä¸ºç»å¯¹è·¯å¾„æ‰å¯å®Œæˆèµ„æºçš„ç²¾ç¡®å®šä½</p><p><strong>ç»å¯¹è·¯å¾„ &#x3D; å‚ç…§è·¯å¾„ + ç›¸å¯¹è·¯å¾„</strong></p><p>æ ¹æ®ç›¸å¯¹è·¯å¾„æ˜¯å¦ä»¥æ–œæ å¼€å¤´ï¼Œä¸”è·¯å¾„æŒ‡å‘çš„æ–‡ä»¶ä¸åŒï¼Œå…¶é»˜è®¤çš„å‚ç…§è·¯å¾„æ˜¯ä¸ä¸€æ ·çš„</p><h3 id="ä»¥æ–œæ å¼€å¤´çš„ç›¸å¯¹è·¯å¾„"><a href="#ä»¥æ–œæ å¼€å¤´çš„ç›¸å¯¹è·¯å¾„" class="headerlink" title="ä»¥æ–œæ å¼€å¤´çš„ç›¸å¯¹è·¯å¾„"></a>ä»¥æ–œæ å¼€å¤´çš„ç›¸å¯¹è·¯å¾„</h3><h4 id="å‰å°è·¯å¾„"><a href="#å‰å°è·¯å¾„" class="headerlink" title="å‰å°è·¯å¾„"></a>å‰å°è·¯å¾„</h4><p>æ‰€è°“å‰å°è·¯å¾„æ˜¯æŒ‡ï¼Œç”±æµè§ˆå™¨è§£ææ‰§è¡Œçš„ä»£ç ä¸­æ‰€åŒ…å«çš„è·¯å¾„ã€‚</p><p>ä¾‹å¦‚ï¼Œhtmlã€ cssã€ jsä¸­çš„è·¯å¾„ï¼ŒåŠjspæ–‡ä»¶ä¸­é™æ€éƒ¨åˆ†çš„è·¯å¾„(HTMLæ ‡ç­¾ä¸­çš„è·¯å¾„)ã€‚html åŠjspæ–‡ä»¶ä¸­çš„&lt; img src-&#x3D;*&#x2F;&gt;ã€&lt; a href&#x3D;â€â€&gt;. &lt; form action&#x3D;â€â€&gt;ç­‰æ ‡ç­¾ä¸­çš„<strong>ä»¥æ–œæ å¼€å¤´çš„è·¯å¾„</strong>éƒ½å±äºå‰å°è·¯å¾„</p><p>å‰å°è·¯å¾„çš„<strong>å‚ç…§è·¯å¾„</strong>æ˜¯WebæœåŠ¡å™¨çš„æ ¹è·¯å¾„,å³<strong><a href="http://127.0.0.1:8080/">http://127.0.0.1:8080</a></strong></p><p>å°†å‰å°è·¯å¾„è½¬æ¢ä¸ºç»å¯¹è·¯å¾„çš„å·¥ä½œ,æ˜¯ç”±æµè§ˆå™¨è‡ªåŠ¨å®Œæˆçš„ã€‚</p><p>è¯¥è·¯å¾„çš„ä½œç”¨æ˜¯è¦ä¸ºç”¨æˆ·æäº¤å¯¹æŸç§èµ„æºçš„è¯·æ±‚,æ˜¯è¦æŸ¥æ‰¾å¹¶å®šä½æœåŠ¡å™¨ä¸­çš„æŸèµ„æºã€‚</p><p>ç®€å•æ¥è¯´,å‰å°è·¯å¾„çš„ä½œç”¨æ˜¯â€œæŸ¥æ‰¾â€</p><h4 id="åå°è·¯å¾„"><a href="#åå°è·¯å¾„" class="headerlink" title="åå°è·¯å¾„"></a>åå°è·¯å¾„</h4><p>æ‰€è°“åå°è·¯å¾„æ˜¯æŒ‡ï¼Œç”±æœåŠ¡å™¨è§£ææ‰§è¡Œçš„ä»£ç åŠæ–‡ä»¶ä¸­æ‰€åŒ…å«çš„è·¯å¾„ã€‚</p><p>ä¾‹å¦‚ï¼Œjava ä»£ç ä¸­çš„è·¯å¾„ã€jspæ–‡ä»¶åŠ¨æ€éƒ¨åˆ†javaä»£ç å—)ä¸­çš„è·¯å¾„ã€xmlç­‰é…ç½®æ–‡ä»¶ä¸­çš„è·¯å¾„(é…ç½®æ–‡ä»¶æ˜¯è¦è¢«javaä»£ç è§£æååŠ è½½åˆ°å†…å­˜çš„ï¼Œå…¶ä¸­çš„è·¯å¾„ä¼šå‡ºç°åœ¨Java ä»£ç ä¸­)</p><p>åå°è·¯å¾„çš„<strong>å‚ç…§è·¯å¾„</strong>æ˜¯Webåº”ç”¨çš„æ ¹è·¯å¾„ã€‚<a href="http://127.0.0.1:8080/projectName">http://127.0.0.1:8080/projectName</a></p><p>å°†åå°è·¯å¾„è½¬æ¢ä¸ºç»å¯¹è·¯å¾„çš„å·¥ä½œ,æ˜¯ç”±æœåŠ¡å™¨è‡ªåŠ¨å®Œæˆçš„ã€‚è¯¥è·¯å¾„çš„ä½œç”¨æ˜¯æ ‡è¯†å‡ºè¯¥èµ„æºåœ¨æœåŠ¡å™¨ä¸­çš„è·¯å¾„ï¼Œä»¥ä¾¿å®¢æˆ·ç«¯èƒ½å¤ŸæŒ‰ç…§è¿™ä¸ªè®¾å®šè·¯å¾„æ¥æŸ¥æ‰¾ç›¸åº”èµ„æºã€‚ç®€å•æ¥è¯´,åå°è·¯å¾„çš„ä½œç”¨æ˜¯â€œæ ‡è¯†â€</p><h3 id="ä»¥è·¯å¾„å¼€å¤´çš„ç›¸å¯¹è·¯å¾„"><a href="#ä»¥è·¯å¾„å¼€å¤´çš„ç›¸å¯¹è·¯å¾„" class="headerlink" title="ä»¥è·¯å¾„å¼€å¤´çš„ç›¸å¯¹è·¯å¾„"></a>ä»¥è·¯å¾„å¼€å¤´çš„ç›¸å¯¹è·¯å¾„</h3><p>ä»¥è·¯å¾„åç§°å¼€å¤´çš„ç›¸å¯¹è·¯å¾„ï¼Œæ— è®ºæ˜¯å‡ºç°åœ¨å‰å°é¡µé¢,è¿˜æ˜¯å‡ºç°åœ¨åå°Javaä»£ç æˆ–é…ç½®æ–‡ä»¶ä¸­ï¼Œå…¶<strong>å‚ç…§è·¯å¾„</strong>éƒ½æ˜¯<strong>å½“å‰è®¿é—®è·¯å¾„çš„èµ„æºè·¯å¾„</strong>ã€‚</p><p>å³ä½¿æ˜¯response çš„sendRedirect()æ–¹æ³•çš„å‚æ•°è·¯å¾„,è‹¥ä¸ä»¥æ–œæ å¼€å¤´ï¼Œå…¶ä¹Ÿå±äºâ€œä»¥æ–œæ å¼€å¤´çš„ç›¸å¯¹è·¯å¾„â€ç±»çš„è·¯å¾„ï¼Œå‚ç…§è·¯å¾„ä¸ºå½“å‰æœåŠ¡å™¨çš„æ ¹è·¯å¾„</p><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><table><thead><tr><th>ç›¸å¯¹è·¯å¾„ç±»å‹</th><th>å‚ç…§è·¯å¾„</th><th>ç›¸å¯¹è·¯å¾„è½¬ç»å¯¹è·¯å¾„çš„å®Œæˆè€…</th></tr></thead><tbody><tr><td>å‰å°è·¯å¾„</td><td>å½“å‰WebæœåŠ¡å™¨çš„æ ¹è·¯å¾„</td><td>æµè§ˆå™¨</td></tr><tr><td>åå°è·¯å¾„</td><td>å½“å‰Webåº”ç”¨çš„æ ¹è·¯å¾„</td><td>WebæœåŠ¡å™¨</td></tr><tr><td>ä»¥è·¯å¾„åç§°å¼€å¤´çš„è·¯å¾„</td><td>å½“å‰è®¿é—®è·¯å¾„çš„èµ„æºè·¯å¾„</td><td>æµè§ˆå™¨&#x2F;WebæœåŠ¡å™¨</td></tr></tbody></table><blockquote><p>PSï¼š</p></blockquote><p>å¯¹äºresponseçš„sendRedirect( )æ–¹æ³•å®Œæˆçš„é‡å®šå‘</p><p>è‹¥å…¶å‚æ•°è·¯å¾„ä¸ºâ€œä»¥æ–œæ å¼€å¤´çš„ç›¸å¯¹è·¯å¾„â€è¿™ä¸ªåå°è·¯å¾„æ˜¯ä¸ªç‰¹ä¾‹ã€‚æ˜¯ç”±sendRedirect( )æ–¹æ³•çš„æœ¬è´¨å†³å®šçš„ã€‚è¿™ä¸ªæ–¹æ³•ä¸ä»…å¯ä»¥å®Œæˆåœ¨å½“å‰é¡¹ç›®ä¸­èµ„æºçš„è·³è½¬,è¿˜å¯ä»¥è·³è½¬åˆ°å…¶å®ƒé¡¹ç›®ä¸­çš„èµ„æºã€‚æ‰€ä»¥è¿™ä¸ªåå°è·¯å¾„çš„å‚ç…§è·¯å¾„ä¸ºâ€œ<strong>å½“å‰WebæœåŠ¡å™¨çš„æ ¹</strong>â€ã€‚æ‰€ä»¥è¦åŠ resquest.getContextPath();</p><p>æ³¨æ„ï¼Œåªæœ‰è¿™ä¸€ç§é‡å®šå‘æ˜¯ç‰¹ä¾‹,å°†æ¥æˆ‘ä»¬è¿˜ä¼šå­¦ä¹ åˆ°å…¶å®ƒæ–¹å¼å®ç°çš„é‡å®šå‘ï¼Œä½†é‚£é‡Œçš„é‡å®šå‘å°±ä¸æ˜¯ç‰¹ä¾‹,è€Œæ˜¯éµå¾ªæˆ‘ä»¬ä¹‹å‰çš„è·¯å¾„è½¬æ¢ç†è®º</p><p><em><strong>å¦‚æœåŠ æ–œæ å’Œä¸åŠ æ–œæ éƒ½å¯ä»¥å®Œæˆè·³è½¬ï¼Œå°±åŠ ä¸Šæ–œæ </strong></em></p>]]></content>
      
      
      <categories>
          
          <category> çç¢çš„çŸ¥è¯† </category>
          
      </categories>
      
      
        <tags>
            
            <tag> çç¢çš„çŸ¥è¯† </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>SpringMVC-æ–‡ä»¶ä¸‹è½½</title>
      <link href="/javaEE/SpringMVC/2022/01/31/SpringMVC-%E6%96%87%E4%BB%B6%E4%B8%8B%E8%BD%BD/"/>
      <url>/javaEE/SpringMVC/2022/01/31/SpringMVC-%E6%96%87%E4%BB%B6%E4%B8%8B%E8%BD%BD/</url>
      
        <content type="html"><![CDATA[<h2 id="æ–‡ä»¶ä¸‹è½½"><a href="#æ–‡ä»¶ä¸‹è½½" class="headerlink" title="æ–‡ä»¶ä¸‹è½½"></a>æ–‡ä»¶ä¸‹è½½</h2><p>æ–‡ä»¶ä¸‹è½½å¾ˆç®€å•ï¼Œåªè¦è®¾ç½®ä¸€ä¸‹å“åº”å¤´å³å¯</p><p><strong>é¡µé¢ï¼š</strong></p><figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ taglib prefix=<span class="string">&quot;c&quot;</span> uri=<span class="string">&quot;http://java.sun.com/jsp/jstl/core&quot;</span> %&gt;</span><br><span class="line">&lt;%@ page contentType=<span class="string">&quot;text/html;charset=UTF-8&quot;</span> language=<span class="string">&quot;java&quot;</span> %&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;Title&lt;/title&gt;</span><br><span class="line">    &lt;style&gt;</span><br><span class="line">        ul li &#123;</span><br><span class="line">            cursor: pointer;</span><br><span class="line">        &#125;</span><br><span class="line">    &lt;/style&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;a href=<span class="string">&quot;javascript:&quot;</span>&gt;ç‚¹å‡»æ–‡å­—ä¸‹è½½&lt;/a&gt;</span><br><span class="line">&lt;ul id=<span class="string">&quot;ul&quot;</span>&gt;</span><br><span class="line">    &lt;c:forEach items=<span class="string">&quot;$&#123;fileList&#125;&quot;</span> <span class="keyword">var</span>=<span class="string">&quot;file&quot;</span>&gt;</span><br><span class="line">        &lt;li&gt;&lt;a href=<span class="string">&quot;/fileDownLoad.do?fileName=$&#123;file&#125;&quot;</span>&gt;$&#123;file&#125;&lt;/a&gt;&lt;/li&gt;</span><br><span class="line">    &lt;/c:forEach&gt;</span><br><span class="line">&lt;/ul&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><strong>Controllerï¼š</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@GetMapping(&quot;/fileDownLoad.do&quot;)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">fileDownLoad</span><span class="params">(String fileName,HttpServletRequest req,HttpServletResponse resp)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">    String realPath = req.getServletContext().getRealPath(<span class="string">&quot;\\download&quot;</span>)+<span class="string">&quot;\\&quot;</span>;</span><br><span class="line">    File file = <span class="keyword">new</span> File(realPath.concat(fileName));</span><br><span class="line">    resp.setHeader(<span class="string">&quot;Content-disposition&quot;</span>,<span class="string">&quot;attachment; filename=&quot;</span>+ URLEncoder.encode(file.getName(),<span class="string">&quot;UTF-8&quot;</span>));</span><br><span class="line">    ServletOutputStream outputStream = resp.getOutputStream();</span><br><span class="line">    FileInputStream fis = <span class="keyword">new</span> FileInputStream(file);</span><br><span class="line">    <span class="keyword">byte</span>[] buffer = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1024</span>];</span><br><span class="line">    <span class="keyword">int</span> len=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>((len=fis.read(buffer))&gt;<span class="number">0</span>)&#123;</span><br><span class="line">        outputStream.write(buffer,<span class="number">0</span>,len);</span><br><span class="line">    &#125;</span><br><span class="line">    outputStream.flush();</span><br><span class="line">    fis.close();</span><br><span class="line">    outputStream.close();</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;filedownload&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> javaEE </category>
          
          <category> SpringMVC </category>
          
      </categories>
      
      
        <tags>
            
            <tag> SpringMVC </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>SpringMVC-æ–‡ä»¶ä¸Šä¼ </title>
      <link href="/javaEE/SpringMVC/2022/01/31/SpringMVC-%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0/"/>
      <url>/javaEE/SpringMVC/2022/01/31/SpringMVC-%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0/</url>
      
        <content type="html"><![CDATA[<h2 id="å‡†å¤‡å·¥ä½œ"><a href="#å‡†å¤‡å·¥ä½œ" class="headerlink" title="å‡†å¤‡å·¥ä½œ"></a>å‡†å¤‡å·¥ä½œ</h2><p>é¦–å…ˆå¯¹äºè¡¨å•ä¸­çš„enctypeå±æ€§åšä¸€ä¸ªäº†è§£</p><ol><li>application&#x2F;x-www&#x3D;form-urlencoded:é»˜è®¤æ–¹å¼ï¼Œåªå¤„ç†è¡¨å•ä¸­çš„valueçš„å±æ€§å€¼ï¼Œé‡‡ç”¨è¿™ç§ç¼–ç æ–¹å¼çš„è¡¨å•ä¼šå°†è¡¨å•åŸŸä¸­çš„å€¼å¤„ç†æˆURLç¼–ç æ–¹å¼</li><li>multipart&#x2F;form-data:è¿™ç§ç¼–ç æ–¹å¼ä¼šä»¥äºŒè¿›åˆ¶æµçš„æ–¹å¼æ¥å¤„ç†è¡¨å•æ•°æ®ï¼Œè¿™ç§ç¼–ç æ–¹å¼ä¼šå°†æ–‡ä»¶åŸŸä¸­çš„æ–‡ä»¶å¤œé£æ’åˆ°è¯·æ±‚å‚æ•°ä¸­</li><li>text&#x2F;plain:é™¤äº†æŠŠç©ºæ ¼æ”¹ä¸ºâ€œ+â€å·å¤–ï¼Œå…¶ä»–å­—ç¬¦ä¸åšç¼–ç å¤„ç†ï¼Œè¿™ç§æ–¹å¼é€‚åˆç›´æ¥é€šè¿‡è¡¨å•æ¥å‘é€é‚®ä»¶</li></ol><p>æ–‡ä»¶ä¸Šä¼ æ˜¯ä¸€ä¸ªwebé¡¹ç›®ä¸­å¾ˆå¸¸è§çš„åŠŸèƒ½ï¼Œåœ¨springmvcä¸­æœ‰ç€å¾ˆå¥½çš„æ”¯æŒï¼Œä½†æ˜¯springmvcé»˜è®¤ä¸Šä¸‹æ–‡æ²¡æœ‰é…ç½®MultipartResolverï¼Œæ‰€ä»¥åœ¨åšæ–‡ä»¶ä¸Šä¼ å’Œä¸‹è½½å‰ï¼Œéœ€è¦é…ç½®MultipartResolverï¼Œ</p><ol><li>åœ¨åŸæœ‰åŒ…çš„åŸºç¡€ä¸Šå¯¼å…¥æ­¤åŒ…</li></ol><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>commons-fileupload<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>commons-fileupload<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.3.3<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><ol start="2"><li>æ³¨å†ŒMultipartResolverå®ä¾‹ï¼Œidå¿…é¡»ä¸ºmultipartResolverï¼Œidå¿…é¡»ä¸ºmultipartResolverï¼Œidå¿…é¡»ä¸ºmultipartResolverï¼Œä¸ç„¶æŠ¥é”™</li></ol><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;multipartResolver&quot;</span> <span class="attr">class</span>=<span class="string">&quot;org.springframework.web.multipart.commons.CommonsMultipartResolver&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;defaultEncoding&quot;</span> <span class="attr">value</span>=<span class="string">&quot;UTF-8&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;maxUploadSize&quot;</span> <span class="attr">value</span>=<span class="string">&quot;10485760&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;maxInMemorySize&quot;</span> <span class="attr">value</span>=<span class="string">&quot;40960&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure><blockquote><p>ä»¥ä¸‹å°±ä¸èµ˜è¿°springMVCçš„é…ç½®æ–‡ä»¶äº†</p></blockquote><h2 id="ä¸Šä¼ å•ä¸ªæ–‡ä»¶"><a href="#ä¸Šä¼ å•ä¸ªæ–‡ä»¶" class="headerlink" title="ä¸Šä¼ å•ä¸ªæ–‡ä»¶"></a>ä¸Šä¼ å•ä¸ªæ–‡ä»¶</h2><p><strong>é¡µé¢ï¼š</strong></p><figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ page contentType=<span class="string">&quot;text/html;charset=UTF-8&quot;</span> language=<span class="string">&quot;java&quot;</span> %&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;å•ä¸ªæ–‡ä»¶ä¸Šä¼ &lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;form action=<span class="string">&quot;$&#123;pageContext.request.contextPath&#125;/singleFileUpload.do&quot;</span> method=<span class="string">&quot;post&quot;</span> enctype=<span class="string">&quot;multipart/form-data&quot;</span>&gt;</span><br><span class="line">    &lt;p&gt;</span><br><span class="line">        &lt;input type=<span class="string">&quot;file&quot;</span> name=<span class="string">&quot;avatar&quot;</span> id=<span class="string">&quot;avatar&quot;</span>&gt;</span><br><span class="line">    &lt;/p&gt;</span><br><span class="line">    &lt;p&gt;</span><br><span class="line">        &lt;input type=<span class="string">&quot;submit&quot;</span>&gt;</span><br><span class="line">    &lt;/p&gt;</span><br><span class="line">&lt;/form&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><strong>controllerï¼š</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@PostMapping(&quot;/singleFileUpload.do&quot;)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">singleFileUploadDo</span><span class="params">(<span class="meta">@RequestParam(value = &quot;avatar&quot;,required = false)</span> CommonsMultipartFile avatar,HttpServletRequest req, Model model)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">    <span class="comment">//çœŸå®çš„ä¿å­˜ä¸Šä¼ æ–‡ä»¶çš„æ–‡ä»¶å¤¹</span></span><br><span class="line">    String realSaveDirPath = req.getSession().getServletContext().getRealPath(<span class="string">&quot;/upload&quot;</span>);</span><br><span class="line">    File dir = <span class="keyword">new</span> File(realSaveDirPath);</span><br><span class="line">    <span class="keyword">if</span>(!dir.exists())&#123;</span><br><span class="line">        dir.mkdirs();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//æ–‡ä»¶çš„å…¨ç§°ï¼ŒåŒ…æ‹¬åç¼€</span></span><br><span class="line">    String avatarWholeName = avatar.getOriginalFilename();</span><br><span class="line">    <span class="comment">//æ–‡ä»¶çš„åç¼€</span></span><br><span class="line">    String suffix = avatarWholeName.substring(avatarWholeName.lastIndexOf(<span class="string">&#x27;.&#x27;</span>)+<span class="number">1</span>);</span><br><span class="line">    <span class="comment">//è¿™é‡Œå¯ä»¥å¯¹æ–‡ä»¶åç¼€åšå‡ºä¸€äº›é€»è¾‘å¤„ç†ï¼Œè¿™é‡Œå°±ä¸ä½œå¤„ç†äº†</span></span><br><span class="line">    <span class="comment">//è¿™é‡Œä¸ºäº†ä¿è¯æ–‡ä»¶åä¸€å®šä¸ä¸€è‡´ï¼Œæ‰€ä»¥åŠ å…¥ä¸€ä¸ªUUIDéšæœºå€¼</span></span><br><span class="line">    String uuidPath = UUID.randomUUID().toString().replaceAll(<span class="string">&quot;-&quot;</span>,<span class="string">&quot;&quot;</span>);</span><br><span class="line">    String realFileName = uuidPath.concat(avatarWholeName);</span><br><span class="line">    <span class="comment">//æ–‡ä»¶çš„çœŸå®ä¿å­˜å…¨è·¯å¾„</span></span><br><span class="line">    String realSavePath = realSaveDirPath.concat(<span class="string">&quot;/&quot;</span>).concat(realFileName);</span><br><span class="line">    <span class="comment">//è¿™é‡Œä¹Ÿå¯ä»¥è‡ªå·±ç”¨æµè¯»å†™</span></span><br><span class="line">    avatar.transferTo(<span class="keyword">new</span> File(realSavePath));</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;singleFileUpload&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="ä¸Šä¼ å¤šä¸ªæ–‡ä»¶"><a href="#ä¸Šä¼ å¤šä¸ªæ–‡ä»¶" class="headerlink" title="ä¸Šä¼ å¤šä¸ªæ–‡ä»¶"></a>ä¸Šä¼ å¤šä¸ªæ–‡ä»¶</h2><p>å…¶å®å’Œä¸Šä¼ å•ä¸ªæ–‡ä»¶å¾ˆåƒï¼Œåªè¦inputæ§ä»¶çš„nameå±æ€§æ˜¯ä¸€æ ·çš„ï¼Œé‚£å®ƒä»¬å°±æ˜¯ä¸€ç»„ï¼Œä¸‹é¢æ¥çœ‹çœ‹ä»£ç </p><p><strong>controllerï¼š</strong>ï¼ˆä¸¤æ³•ï¼Œä¸ªäººåå‘äºç¬¬äºŒç§ï¼‰</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@PostMapping(&quot;/multiFileUpload.do&quot;)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">multiFileUploadDo</span><span class="params">(<span class="meta">@RequestParam(value = &quot;file&quot;,required = false)</span> CommonsMultipartFile[] files,HttpServletRequest req, Model model)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">    <span class="comment">//çœŸå®çš„ä¿å­˜ä¸Šä¼ æ–‡ä»¶çš„æ–‡ä»¶å¤¹</span></span><br><span class="line">    String realSaveDirPath = req.getSession().getServletContext().getRealPath(<span class="string">&quot;/upload/multipart&quot;</span>);</span><br><span class="line">    File dir = <span class="keyword">new</span> File(realSaveDirPath);</span><br><span class="line">    <span class="keyword">if</span>(!dir.exists())&#123;</span><br><span class="line">        dir.mkdirs();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; files.length; i++) &#123;</span><br><span class="line">        <span class="comment">//æ–‡ä»¶çš„å…¨ç§°ï¼ŒåŒ…æ‹¬åç¼€</span></span><br><span class="line">        String avatarWholeName = files[i].getOriginalFilename();</span><br><span class="line">        <span class="comment">//æ–‡ä»¶çš„åç¼€</span></span><br><span class="line">        String suffix = avatarWholeName.substring(avatarWholeName.lastIndexOf(<span class="string">&#x27;.&#x27;</span>)+<span class="number">1</span>);</span><br><span class="line">        <span class="comment">//è¿™é‡Œå¯ä»¥å¯¹æ–‡ä»¶åç¼€åšå‡ºä¸€äº›é€»è¾‘å¤„ç†ï¼Œè¿™é‡Œå°±ä¸ä½œå¤„ç†äº†</span></span><br><span class="line">        <span class="comment">//è¿™é‡Œä¸ºäº†ä¿è¯æ–‡ä»¶åä¸€å®šä¸ä¸€è‡´ï¼Œæ‰€ä»¥åŠ å…¥ä¸€ä¸ªUUIDéšæœºå€¼</span></span><br><span class="line">        String uuidPath = UUID.randomUUID().toString().replaceAll(<span class="string">&quot;-&quot;</span>,<span class="string">&quot;&quot;</span>);</span><br><span class="line">        String realFileName = uuidPath.concat(avatarWholeName);</span><br><span class="line">        <span class="comment">//æ–‡ä»¶çš„çœŸå®ä¿å­˜å…¨è·¯å¾„</span></span><br><span class="line">        String realSavePath = realSaveDirPath.concat(<span class="string">&quot;/&quot;</span>).concat(realFileName);</span><br><span class="line">        <span class="comment">//è¿™é‡Œä¹Ÿå¯ä»¥è‡ªå·±ç”¨æµè¯»å†™</span></span><br><span class="line">        files[i].transferTo(<span class="keyword">new</span> File(realSavePath));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;multiFileUpload&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@PostMapping(&quot;/multiFileUpload.do&quot;)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> Map <span class="title">multiFileUploadDo</span><span class="params">(HttpServletRequest request)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">    String realPath = request.getServletContext().getRealPath(<span class="string">&quot;\\multipartUpload&quot;</span>)+<span class="string">&quot;\\&quot;</span>;</span><br><span class="line">    CommonsMultipartResolver cmr = <span class="keyword">new</span> CommonsMultipartResolver(request.getServletContext());</span><br><span class="line">    <span class="keyword">if</span>(cmr.isMultipart(request))&#123;</span><br><span class="line">        MultipartHttpServletRequest req = (MultipartHttpServletRequest) request;</span><br><span class="line">        MultiValueMap&lt;String, MultipartFile&gt; multiFileMap = req.getMultiFileMap();</span><br><span class="line">        <span class="keyword">for</span> (String fieldName : multiFileMap.keySet()) &#123;</span><br><span class="line">            String uuidPath = UUID.randomUUID().toString().replaceAll(<span class="string">&quot;-&quot;</span>,<span class="string">&quot;&quot;</span>);</span><br><span class="line">            <span class="comment">//åˆ›å»ºå­˜æ”¾æ–‡ä»¶çš„æ–‡ä»¶å¤¹</span></span><br><span class="line">            File dir = <span class="keyword">new</span> File(realPath + uuidPath + fieldName);</span><br><span class="line">            dir.mkdirs();</span><br><span class="line">            List&lt;MultipartFile&gt; multipartFiles = multiFileMap.get(fieldName);</span><br><span class="line">            <span class="keyword">for</span> (MultipartFile f : multipartFiles) &#123;</span><br><span class="line">                <span class="comment">//å¦‚æœæ–‡ä»¶ä¸ºç©ºï¼Œåˆ™å¿½ç•¥ï¼Œä¸ç„¶ä¼šæŠ¥é”™</span></span><br><span class="line">                <span class="keyword">if</span>(!f.isEmpty())&#123;</span><br><span class="line">                    f.transferTo(<span class="keyword">new</span> File(dir.getPath()+<span class="string">&quot;\\&quot;</span>+f.getOriginalFilename()));</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;multiFileUpload&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>é¡µé¢ï¼š</strong></p><figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ page contentType=<span class="string">&quot;text/html;charset=UTF-8&quot;</span> language=<span class="string">&quot;java&quot;</span> %&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;Title&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;form action=<span class="string">&quot;$&#123;pageContext.request.contextPath&#125;/multiFileUpload.do&quot;</span> method=<span class="string">&quot;post&quot;</span> enctype=<span class="string">&quot;multipart/form-data&quot;</span>&gt;</span><br><span class="line">    &lt;p&gt;</span><br><span class="line">        &lt;input type=<span class="string">&quot;file&quot;</span> name=<span class="string">&quot;file&quot;</span>&gt;</span><br><span class="line">    &lt;/p&gt;</span><br><span class="line">    &lt;p&gt;</span><br><span class="line">        &lt;input type=<span class="string">&quot;file&quot;</span> name=<span class="string">&quot;file&quot;</span>&gt;</span><br><span class="line">    &lt;/p&gt;</span><br><span class="line">    &lt;p&gt;</span><br><span class="line">        &lt;input type=<span class="string">&quot;file&quot;</span> name=<span class="string">&quot;file&quot;</span>&gt;</span><br><span class="line">    &lt;/p&gt;</span><br><span class="line">    &lt;p&gt;</span><br><span class="line">        &lt;input type=<span class="string">&quot;file&quot;</span> name=<span class="string">&quot;file&quot;</span>&gt;</span><br><span class="line">    &lt;/p&gt;</span><br><span class="line">    &lt;p&gt;</span><br><span class="line">        &lt;input type=<span class="string">&quot;submit&quot;</span>&gt;</span><br><span class="line">    &lt;/p&gt;</span><br><span class="line">&lt;/form&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><p>ä»¥ä¸Šéƒ½æ˜¯åŒæ­¥æäº¤ï¼Œä¸‹é¢æˆ‘ä»¬ä½¿ç”¨å¼‚æ­¥æäº¤å¹¶ä¸”å°†å›¾ç‰‡é¢„è§ˆå‡ºæ¥ï¼Œè¿™æ¬¡åªæ¼”ç¤ºå•ä¸ªæ–‡ä»¶ä¸Šä¼ ï¼Œå¤šä¸ªæ–‡ä»¶ä¸Šä¼ åŒç†ã€‚</p><h2 id="å¼‚æ­¥æäº¤å¹¶æä¾›é¢„è§ˆ"><a href="#å¼‚æ­¥æäº¤å¹¶æä¾›é¢„è§ˆ" class="headerlink" title="å¼‚æ­¥æäº¤å¹¶æä¾›é¢„è§ˆ"></a>å¼‚æ­¥æäº¤å¹¶æä¾›é¢„è§ˆ</h2><p><strong>Controllerï¼š</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@PostMapping(&quot;/reg.do&quot;)</span></span><br><span class="line"><span class="meta">@ResponseBody</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> Map <span class="title">reg</span><span class="params">(User user,String relativePath)</span></span>&#123;</span><br><span class="line">    user.setAvatarUrl(<span class="string">&quot;\\upload\\&quot;</span>.concat(relativePath));</span><br><span class="line">    HashMap&lt;String, String&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">    System.out.println(user);</span><br><span class="line">    map.put(<span class="string">&quot;result&quot;</span>,<span class="string">&quot;success&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> map;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@PostMapping(&quot;/singleFileUpload.do&quot;)</span></span><br><span class="line"><span class="meta">@ResponseBody</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> Map <span class="title">singleFileUploadDo</span><span class="params">(<span class="meta">@RequestParam(value = &quot;avatar&quot;,required = false)</span>CommonsMultipartFile avatar,</span></span></span><br><span class="line"><span class="params"><span class="function">                              HttpServletRequest req)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">    Map&lt;String, String&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">    <span class="keyword">if</span>(avatar==<span class="keyword">null</span>||avatar.isEmpty())&#123;</span><br><span class="line">        map.put(<span class="string">&quot;result&quot;</span>,<span class="string">&quot;fail&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> map;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//çœŸå®çš„ä¿å­˜ä¸Šä¼ æ–‡ä»¶çš„æ–‡ä»¶å¤¹</span></span><br><span class="line">    String realSaveDirPath = req.getSession().getServletContext().getRealPath(<span class="string">&quot;/upload&quot;</span>);</span><br><span class="line">    File dir = <span class="keyword">new</span> File(realSaveDirPath);</span><br><span class="line">    <span class="keyword">if</span>(!dir.exists())&#123;</span><br><span class="line">        dir.mkdirs();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//æ–‡ä»¶çš„å…¨ç§°ï¼ŒåŒ…æ‹¬åç¼€</span></span><br><span class="line">    String avatarWholeName = avatar.getOriginalFilename();</span><br><span class="line">    <span class="comment">//æ–‡ä»¶çš„åç¼€</span></span><br><span class="line">    String suffix = avatarWholeName.substring(avatarWholeName.lastIndexOf(<span class="string">&#x27;.&#x27;</span>)+<span class="number">1</span>);</span><br><span class="line">    <span class="comment">//è¿™é‡Œå¯ä»¥å¯¹æ–‡ä»¶åç¼€åšå‡ºä¸€äº›é€»è¾‘å¤„ç†ï¼Œè¿™é‡Œå°±ä¸ä½œå¤„ç†äº†</span></span><br><span class="line">    <span class="comment">//è¿™é‡Œä¸ºäº†ä¿è¯æ–‡ä»¶åä¸€å®šä¸ä¸€è‡´ï¼Œæ‰€ä»¥åŠ å…¥ä¸€ä¸ªUUIDéšæœºå€¼</span></span><br><span class="line">    String uuidPath = UUID.randomUUID().toString().replaceAll(<span class="string">&quot;-&quot;</span>,<span class="string">&quot;&quot;</span>);</span><br><span class="line">    String realFileName = uuidPath.concat(avatarWholeName);</span><br><span class="line">    <span class="comment">//æ–‡ä»¶çš„çœŸå®ä¿å­˜å…¨è·¯å¾„</span></span><br><span class="line">    String realSavePath = realSaveDirPath.concat(<span class="string">&quot;/&quot;</span>).concat(realFileName);</span><br><span class="line">    <span class="comment">//è¿™é‡Œä¹Ÿå¯ä»¥è‡ªå·±ç”¨æµè¯»å†™</span></span><br><span class="line">    avatar.transferTo(<span class="keyword">new</span> File(realSavePath));</span><br><span class="line">    map.put(<span class="string">&quot;result&quot;</span>,<span class="string">&quot;success&quot;</span>);</span><br><span class="line">    <span class="comment">//ç”¨æ¥ç»™é¡µé¢æ˜¾ç¤ºå›¾ç‰‡</span></span><br><span class="line">    map.put(<span class="string">&quot;relativePath&quot;</span>,<span class="string">&quot;\\upload\\&quot;</span>.concat(realFileName));</span><br><span class="line">    <span class="comment">//ç”¨æ¥ç»™å‰ç«¯åˆ¤æ–­æ˜¯å¦éœ€è¦å†æ¬¡ä¸Šä¼ </span></span><br><span class="line">    map.put(<span class="string">&quot;fileName&quot;</span>,avatarWholeName);</span><br><span class="line">    <span class="keyword">return</span> map;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>é¡µé¢ï¼š</strong></p><figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ page contentType=<span class="string">&quot;text/html;charset=UTF-8&quot;</span> language=<span class="string">&quot;java&quot;</span> %&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;å•ä¸ªæ–‡ä»¶ä¸Šä¼ &lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;form id=<span class="string">&quot;form&quot;</span> action=<span class="string">&quot;$&#123;pageContext.request.contextPath&#125;/singleFileUpload.do&quot;</span> method=<span class="string">&quot;post&quot;</span> enctype=<span class="string">&quot;multipart/form-data&quot;</span>&gt;</span><br><span class="line">    &lt;p&gt;</span><br><span class="line">        &lt;input type=<span class="string">&quot;text&quot;</span> placeholder=<span class="string">&quot;è¯·è¾“å…¥ç”¨æˆ·å&quot;</span> name=<span class="string">&quot;userName&quot;</span> id=<span class="string">&quot;userName&quot;</span>&gt;</span><br><span class="line">    &lt;/p&gt;</span><br><span class="line">    &lt;p&gt;</span><br><span class="line">        &lt;input type=<span class="string">&quot;number&quot;</span> placeholder=<span class="string">&quot;è¯·è¾“å…¥å¹´é¾„&quot;</span> name=<span class="string">&quot;age&quot;</span> id=<span class="string">&quot;age&quot;</span>&gt;</span><br><span class="line">    &lt;/p&gt;</span><br><span class="line">    &lt;p&gt;</span><br><span class="line">        &lt;input type=<span class="string">&quot;file&quot;</span> name=<span class="string">&quot;avatar&quot;</span> id=<span class="string">&quot;avatar&quot;</span>&gt;</span><br><span class="line">        &lt;div style=<span class="string">&quot;display: none&quot;</span> id=<span class="string">&quot;showimgcontainer&quot;</span>&gt;</span><br><span class="line">            &lt;img id=<span class="string">&quot;showimg&quot;</span> width=<span class="string">&quot;400px&quot;</span> height=<span class="string">&quot;400px&quot;</span> style=<span class="string">&quot;border: solid 1px black&quot;</span>/&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">    &lt;/p&gt;</span><br><span class="line">    &lt;p&gt;</span><br><span class="line">        &lt;input type=<span class="string">&quot;button&quot;</span> id=<span class="string">&quot;submitBtn&quot;</span> value=<span class="string">&quot;æ³¨å†Œ&quot;</span>&gt;</span><br><span class="line">    &lt;/p&gt;</span><br><span class="line">&lt;/form&gt;</span><br><span class="line">&lt;script src=<span class="string">&quot;$&#123;pageContext.request.contextPath&#125;/static/js/jquery.min.js&quot;</span>&gt;&lt;/script&gt;</span><br><span class="line">&lt;script src=<span class="string">&quot;$&#123;pageContext.request.contextPath&#125;/static/js/jquery.form.min.js&quot;</span>&gt;&lt;/script&gt;</span><br><span class="line">&lt;script type=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><br><span class="line">    let fileName;</span><br><span class="line">let relativePath;</span><br><span class="line">    $(<span class="string">&#x27;#avatar&#x27;</span>).change(()=&gt;&#123;</span><br><span class="line"><span class="keyword">if</span>(fileName===$(<span class="string">&#x27;#avatar&#x27;</span>)[<span class="number">0</span>].files[<span class="number">0</span>].name)&#123;</span><br><span class="line"><span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">let options = &#123;</span><br><span class="line">url: <span class="string">&#x27;$&#123;pageContext.request.contextPath&#125;/singleFileUpload.do&#x27;</span>,</span><br><span class="line">            dataType:<span class="string">&#x27;text&#x27;</span>,</span><br><span class="line">            success(data)&#123;</span><br><span class="line">data = JSON.parse(data);</span><br><span class="line"><span class="keyword">if</span>(data.result===<span class="string">&#x27;fail&#x27;</span>)&#123;</span><br><span class="line">alert(<span class="string">&quot;æ–‡ä»¶ä¸ºç©ºæˆ–è€…ä¸å­˜åœ¨&quot;</span>);</span><br><span class="line"><span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line">relativePath = data.relativePath;</span><br><span class="line">fileName = data.fileName;</span><br><span class="line">$(<span class="string">&#x27;#showimgcontainer&#x27;</span>).show();</span><br><span class="line">$(<span class="string">&#x27;#showimg&#x27;</span>).attr(<span class="string">&#x27;src&#x27;</span>,relativePath);</span><br><span class="line">&#125;</span><br><span class="line">        &#125;</span><br><span class="line">$(<span class="string">&#x27;#form&#x27;</span>).ajaxSubmit(options);</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    $(<span class="string">&#x27;#submitBtn&#x27;</span>).click(()=&gt;&#123;</span><br><span class="line">$.ajax(&#123;</span><br><span class="line">            url: <span class="string">&#x27;$&#123;pageContext.request.contextPath&#125;/reg.do&#x27;</span>,</span><br><span class="line">            method:<span class="string">&#x27;post&#x27;</span>,</span><br><span class="line">            data: &#123;relativePath:relativePath,userName:$(<span class="string">&#x27;#userName&#x27;</span>).val(),age:$(<span class="string">&#x27;#age&#x27;</span>).val()&#125;,</span><br><span class="line">            success(data) &#123;</span><br><span class="line"><span class="keyword">if</span>(data.result===<span class="string">&#x27;success&#x27;</span>)&#123;</span><br><span class="line">                    alert(<span class="string">&quot;æ³¨å†ŒæˆåŠŸ&quot;</span>);</span><br><span class="line">window.location = <span class="string">&#x27;$&#123;pageContext.request.contextPath&#125;/login&#x27;</span>;</span><br><span class="line">&#125;<span class="keyword">else</span> &#123;</span><br><span class="line">alert(<span class="string">&quot;å‡ºé”™ï¼è¯·é‡è¯•ï¼&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;)</span><br><span class="line">    &#125;)</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> javaEE </category>
          
          <category> SpringMVC </category>
          
      </categories>
      
      
        <tags>
            
            <tag> SpringMVC </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linux-å…¶ä»–å‘½ä»¤</title>
      <link href="/javaEE/Linux/2022/01/31/Linux-%E5%85%B6%E4%BB%96%E5%91%BD%E4%BB%A4/"/>
      <url>/javaEE/Linux/2022/01/31/Linux-%E5%85%B6%E4%BB%96%E5%91%BD%E4%BB%A4/</url>
      
        <content type="html"><![CDATA[<h2 id="df"><a href="#df" class="headerlink" title="df"></a>df</h2><h3 id="ä½œç”¨"><a href="#ä½œç”¨" class="headerlink" title="ä½œç”¨"></a>ä½œç”¨</h3><p>æŸ¥çœ‹ç£ç›˜ä½¿ç”¨æƒ…å†µ</p><h3 id="ä½¿ç”¨è¯´æ˜"><a href="#ä½¿ç”¨è¯´æ˜" class="headerlink" title="ä½¿ç”¨è¯´æ˜"></a>ä½¿ç”¨è¯´æ˜</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ ¼å¼ï¼šdf [å‚æ•°] [å¯¹è±¡ç£ç›˜/åˆ†åŒº]</span></span><br><span class="line"><span class="comment"># å¸¸ç”¨å‚æ•°</span></span><br><span class="line"><span class="comment"># æ˜¾ç¤ºæ‰€æœ‰ç³»ç»Ÿæ–‡ä»¶</span></span><br><span class="line">-a, --all             include pseudo, duplicate, inaccessible file system</span><br><span class="line"><span class="comment"># ä»¥å®¹æ˜“é˜…è¯»çš„æ–¹å¼å±•ç¤º</span></span><br><span class="line">-h, --human-readable  <span class="built_in">print</span> sizes <span class="keyword">in</span> human readable format (e.g., 1K 234M 2G</span><br><span class="line"><span class="comment"># æ˜¾ç¤ºç´¢å¼•èŠ‚ç‚¹çš„ä¿¡æ¯</span></span><br><span class="line">-i, --inodes          list inode information instead of block usage</span><br><span class="line"><span class="comment"># åªæ˜¾ç¤ºæœ¬åœ°çš„æ–‡ä»¶ç³»ç»Ÿ</span></span><br><span class="line">-l, --<span class="built_in">local</span>           <span class="built_in">limit</span> listing to <span class="built_in">local</span> file systems</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> javaEE </category>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>SpringMVC-JSON</title>
      <link href="/javaEE/SpringMVC/2022/01/29/SpringMVC-JSON/"/>
      <url>/javaEE/SpringMVC/2022/01/29/SpringMVC-JSON/</url>
      
        <content type="html"><![CDATA[<h3 id="JSON-JavaScript-Object-Notation"><a href="#JSON-JavaScript-Object-Notation" class="headerlink" title="JSON(JavaScript Object Notation)"></a>JSON(JavaScript Object Notation)</h3><p>JSONæ˜¯ä¸€ç§ååˆ†è½»é‡çº§çš„æ•°æ®äº¤æ¢çš„æ ¼å¼ï¼Œæˆ‘ä»¬æ¥è®²ä¸€ä¸‹å¤„ç†JSONå­—ç¬¦ä¸²çš„ä¸¤ä¸ªåº“</p><ol><li>Jackson</li></ol><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.fasterxml.jackson.core<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jackson-databind<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.13.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><p>å°†å¯¹è±¡è½¬ä¸ºJSONå­—ç¬¦ä¸²</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ObjectMapper mapper = <span class="keyword">new</span> ObjectMapper();</span><br><span class="line">String json = mapper.writeValueAsString(user);</span><br></pre></td></tr></table></figure><p>è¿™æ—¶å€™ï¼Œé¡µé¢å†æ¬¡å‡ºç°ä¹±ç é—®é¢˜</p><p>ç¬¬ä¸€ç§åŸç”Ÿçš„è§£å†³æ–¹æ¡ˆæ˜¯</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@GetMapping(value = &quot;/json1&quot;,produces = &quot;application/json;charset=utf-8&quot;)</span></span><br></pre></td></tr></table></figure><p>ç¬¬äºŒç§ä½¿ç”¨springmvcçš„é…ç½®æ–‡ä»¶ï¼Œè¿™æ®µé…ç½®åªé’ˆå¯¹jacksonåº“</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">mvc:annotation-driven</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">mvc:message-converters</span> <span class="attr">register-defaults</span>=<span class="string">&quot;true&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">&quot;org.springframework.http.converter.StringHttpMessageConverter&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">constructor-arg</span> <span class="attr">value</span>=<span class="string">&quot;UTF-8&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">&quot;org.springframework.http.converter.json.MappingJackson2HttpMessageConverter&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;objectMapper&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">&quot;org.springframework.http.converter.json.Jackson2ObjectMapperFactoryBean&quot;</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;failOnEmptyBeans&quot;</span> <span class="attr">value</span>=<span class="string">&quot;false&quot;</span>/&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">mvc:message-converters</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">mvc:annotation-driven</span>&gt;</span></span><br></pre></td></tr></table></figure><p>é‚£æˆ‘ä»¬æ€ä¹ˆå¤„ç†æ—¶é—´å¯¹è±¡å‘¢ï¼Ÿ</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@GetMapping(&quot;/datejson&quot;)</span></span><br><span class="line"><span class="meta">@ResponseBody</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">jsonDate</span><span class="params">()</span> <span class="keyword">throws</span> JsonProcessingException </span>&#123;</span><br><span class="line">    Date date = <span class="keyword">new</span> Date();</span><br><span class="line">ObjectMapping objectMapping = <span class="keyword">new</span> ObjectMapper();</span><br><span class="line">    <span class="keyword">return</span> objectMapping.writeValueAsString(date);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//è¿”å›çš„æ˜¯å½“æ—¶çš„æ—¶é—´æˆ³</span></span><br></pre></td></tr></table></figure><p>ä¸‹é¢æ˜¯ç¬¬ä¸€ç§æ–¹æ³•</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@GetMapping(&quot;/datejson&quot;)</span></span><br><span class="line"><span class="meta">@ResponseBody</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">jsonDate</span><span class="params">()</span> <span class="keyword">throws</span> JsonProcessingException </span>&#123;</span><br><span class="line">    SimpleDateFormat sdf = <span class="keyword">new</span> SimpleDateFormat(<span class="string">&quot;yyyy-MM-dd hh:mm:ss&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> ObjectMapper().writeValueAsString(sdf.format(<span class="keyword">new</span> Date()));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™æ˜¯ç¬¬äºŒç§æ–¹æ³•</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@GetMapping(&quot;/datejson2&quot;)</span></span><br><span class="line"><span class="meta">@ResponseBody</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">jsonDate2</span><span class="params">()</span> <span class="keyword">throws</span> JsonProcessingException </span>&#123;</span><br><span class="line">    ObjectMapper mapper = <span class="keyword">new</span> ObjectMapper();</span><br><span class="line">    mapper.configure(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS,<span class="keyword">false</span>);</span><br><span class="line">    SimpleDateFormat sdf = <span class="keyword">new</span> SimpleDateFormat(<span class="string">&quot;yyyy-MM-dd hh:mm:ss&quot;</span>);</span><br><span class="line">    mapper.setDateFormat(sdf);</span><br><span class="line">    <span class="keyword">return</span> mapper.writeValueAsString(<span class="keyword">new</span> Date());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol start="2"><li>FastJson</li></ol><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.alibaba<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>fastjson<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.2.78<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><p>ä¸»è¦çš„ä¸‰ä¸ªç±»</p><ol><li>JSONObject</li></ol><p>å¯¹åº”JSONå¯¹è±¡ï¼Œå¯ä»¥ä½¿ç”¨getæ–¹æ³•è·å–JSONå¯¹è±¡çš„å€¼</p><ol start="2"><li>JSONArray</li></ol><p>ä»£è¡¨JSONæ•°æ®</p><ol start="3"><li>JSONä»£è¡¨JSONarrayå’ŒJSONObjectçš„è½¬åŒ–</li></ol><p>ä¸»è¦ç”¨è¿™ä¸ªç±»çš„é™æ€æ–¹æ³•å»è½¬åŒ–JSONå­—ç¬¦ä¸²å’Œå¯¹è±¡</p>]]></content>
      
      
      <categories>
          
          <category> javaEE </category>
          
          <category> SpringMVC </category>
          
      </categories>
      
      
        <tags>
            
            <tag> SpringMVC </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>SpringMVC-Controller</title>
      <link href="/javaEE/SpringMVC/2022/01/29/SpringMVC-Controller/"/>
      <url>/javaEE/SpringMVC/2022/01/29/SpringMVC-Controller/</url>
      
        <content type="html"><![CDATA[<h3 id="Controlleræ§åˆ¶å™¨"><a href="#Controlleræ§åˆ¶å™¨" class="headerlink" title="Controlleræ§åˆ¶å™¨"></a>Controlleræ§åˆ¶å™¨</h3><p>å’Œmybatisä¸åŒï¼Œåœ¨springmvcä¸­ï¼Œæ³¨è§£å¼€å‘æ‰æ˜¯ä¸»æµï¼Œæ‰€ä»¥æ¥ä¸‹æ¥éƒ½ä¼šä½¿ç”¨æ³¨è§£æ¥å¼€å‘ã€‚</p><p>è¢«@Controlleræ ‡æ³¨çš„ç±»æ˜¯ä¸€ä¸ªæ§åˆ¶å™¨ç±»ï¼Œå…¶ä¸­çš„æ¯ä¸€ä¸ªæ–¹æ³•éƒ½æ˜¯ä¸€ä¸ªæ§åˆ¶å™¨ï¼Œéƒ½å„è‡ªæ˜ å°„ä¸€ä¸ªurlåœ°å€</p><p>åœ¨springä¸­æˆ‘ä»¬è¯´è¿‡ï¼Œä½¿ç”¨æ³¨è§£çš„æ—¶å€™éœ€è¦åœ¨springçš„é…ç½®æ–‡ä»¶ä¸­å¼€å¯æ³¨è§£æ‰«æ</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">context:component-scan</span> <span class="attr">base-package</span>=<span class="string">&quot;com.lizhi.controller&quot;</span>/&gt;</span></span><br><span class="line"><span class="comment">&lt;!--è¿™é‡Œæœ€å¥½å†™åˆ°controlleråŒ…ï¼Œå› ä¸ºè¯¥é…ç½®æ–‡ä»¶ä¸“æ³¨äºå¤„ç†Controllerå±‚çš„äº‹æƒ…ï¼Œä¸è¦å°†åŒ…æ‰«æçš„èŒƒå›´æ‰©å¤§--&gt;</span></span><br></pre></td></tr></table></figure><p>å›é¡¾springä¸­çš„å¸¸ç”¨æ³¨å†Œbeançš„æ³¨è§£</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Component</span>       æ™®é€šç»„ä»¶</span><br><span class="line"><span class="meta">@Service</span>         æœåŠ¡å±‚</span><br><span class="line"><span class="meta">@Repository</span>      æŒä¹…å±‚</span><br><span class="line"><span class="meta">@Mapper</span>          mybatisçš„æ¥å£å±‚</span><br><span class="line"><span class="meta">@Controller</span>      æ§åˆ¶å™¨å±‚</span><br></pre></td></tr></table></figure><p>å› ä¸ºæˆ‘ä»¬é…ç½®çš„DispatcherServletä¼šæ‹¦æˆªæ‰€æœ‰çš„è¯·æ±‚ï¼Œä½†æ˜¯å¯¹äºé™æ€èµ„æºï¼Œæˆ‘ä»¬ä¸éœ€è¦æ‹¦æˆªå¯¹ä»–åšå‡ºå¤„ç†ï¼Œæ‰€ä»¥æœ‰äº†ä»¥ä¸‹é…ç½®</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--   Springmvcä¸å¤„ç†é™æ€æ–‡ä»¶--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">mvc:default-servlet-handler</span>/&gt;</span></span><br></pre></td></tr></table></figure><h4 id="RequestMapping"><a href="#RequestMapping" class="headerlink" title="@RequestMapping"></a>@RequestMapping</h4><p>è¯¥æ³¨è§£å¯ä»¥ä½œç”¨äºç±»ä¸Šé¢æˆ–è€…æ–¹æ³•ä¸Šé¢</p><ol><li>æ–¹æ³•ä¸Šé¢</li></ol><p>è¯¥æ–¹æ³•æ˜ å°„çš„urlåœ°å€å³ä¸ºæ³¨è§£ä¸­çš„å€¼</p><ol start="2"><li>ç±»ä¸Šé¢</li></ol><p>å½“å…¶ä½œç”¨åœ¨ç±»ä¸Šé¢çš„æ—¶å€™ï¼Œè¯¥æ§åˆ¶å™¨ç±»ä¸­æ‰€æœ‰çš„æ–¹æ³•çš„æ˜ å°„è·¯å¾„çš„å‰é¢éƒ½ä¼šåŠ ä¸Šè¯¥æ³¨è§£ä¸­çš„å€¼</p><p>@GetMapping  è¯¥æ³¨è§£ä»£è¡¨è¯·æ±‚æ˜¯getè¯·æ±‚</p><p>@PostMapping  è¯¥æ³¨è§£ä»£è¡¨è¯·æ±‚æ˜¯postè¯·æ±‚</p><p>@PutMapping è¯¥æ³¨è§£ä»£è¡¨è¯·æ±‚æ˜¯putè¯·æ±‚</p><p>@DeleteMappingè¯¥æ³¨è§£ä»£è¡¨è¯·æ±‚æ˜¯deleteè¯·æ±‚</p><h4 id="RestController"><a href="#RestController" class="headerlink" title="@RestController"></a>@RestController</h4><p>å½“ç±»ä¸Šä¸æ˜¯@Controlleræ³¨è§£è€Œæ˜¯@RestControlleræ—¶å€™ï¼Œè¯¥ç±»ä¸­æ‰€æœ‰çš„æ–¹æ³•è¿”å›çš„å€¼ï¼Œä¸ä¼šè·³è½¬è§†å›¾ï¼Œè€Œæ˜¯è¿”å›JSONå­—ç¬¦ä¸²</p><p>å¦‚æœä¸æƒ³è®©ç±»ä¸­æ‰€æœ‰çš„æ–¹æ³•éƒ½è¿”å›å­—ç¬¦ä¸²</p><p>åˆ™ç±»ä¸Šé¢ä½¿ç”¨@Controlleræ³¨è§£ï¼Œæ–¹æ³•ä¸Šä½¿ç”¨@ResponseBodyæ ‡æ³¨æ­¤æ–¹æ³•è¿”å›çš„ç»“æœæ˜¯ä¸€ä¸ªJSONå­—ç¬¦ä¸²ä¸è¦è¢«è§†å›¾è§£æå™¨è§£æ</p><h4 id="RestFulé£æ ¼"><a href="#RestFulé£æ ¼" class="headerlink" title="RestFulé£æ ¼"></a>RestFulé£æ ¼</h4><p>æ¦‚å¿µï¼šRestFulå°±æ˜¯ä¸€ä¸ªèµ„æºå®šä½åŠèµ„æºæ“ä½œçš„é£æ ¼ã€‚</p><p>å®ƒä¸æ˜¯æ ‡å‡†ä¹Ÿä¸æ˜¯åè®®ï¼Œå®ƒå°±åªæ˜¯ä¸€ä¸ªstyleã€‚åŸºäºè¿™ç§é£æ ¼è®¾è®¡çš„è½¯ä»¶å¯ä»¥æ›´åŠ ç®€æ´ï¼Œæ›´æœ‰å±‚æ¬¡ï¼Œå¹¶ä¸”å®‰å…¨ï¼Œæ›´æ˜“äºå®ç°ç¼“å­˜ç­‰æœºåˆ¶</p><blockquote><p>ä¼ ç»Ÿæ–¹å¼æ“ä½œèµ„æºé€šè¿‡ä¸ç”¨çš„å‚æ•°æ¥å®ç°ä¸åŒçš„åŠŸèƒ½ï¼Œæ–¹æ³•å•ä¸€ï¼Œpostå’Œget</p></blockquote><ul><li>http:&#x2F;locoalhost:8080&#x2F;item&#x2F;insertItem  postæäº¤</li><li>http:&#x2F;locoalhost:8080&#x2F;item&#x2F;deleteitem getæäº¤</li><li>http:&#x2F;locoalhost:8080&#x2F;item&#x2F;queryItem getæäº¤</li><li>http:&#x2F;locoalhost:8080&#x2F;item&#x2F;updateitem postæäº¤</li></ul><blockquote><p>ä½¿ç”¨RestFulé£æ ¼æ“ä½œèµ„æº</p></blockquote><ul><li>http:&#x2F;locoalhost:8080&#x2F;item&#x2F;add&#x2F;å‚æ•°&#x2F;å‚æ•°&#x2F;â€¦</li><li>http:&#x2F;locoalhost:8080&#x2F;item&#x2F;update&#x2F;å‚æ•°&#x2F;â€¦</li><li>http:&#x2F;locoalhost:8080&#x2F;item&#x2F;query&#x2F;å‚æ•°&#x2F;â€¦</li><li>http:&#x2F;locoalhost:8080&#x2F;item&#x2F;update&#x2F;å‚æ•°&#x2F;â€¦</li></ul><p>æœ¬è´¨å…¶å®å°±æ˜¯é€šè¿‡ä¸åŒçš„æäº¤æ–¹å¼èµ°ä¸åŒçš„æ–¹æ³•</p><h4 id="ç»“æœè·³è½¬æ–¹å¼"><a href="#ç»“æœè·³è½¬æ–¹å¼" class="headerlink" title="ç»“æœè·³è½¬æ–¹å¼"></a>ç»“æœè·³è½¬æ–¹å¼</h4><p>æ§åˆ¶å™¨æœ€åç›´æ¥returnå­—ç¬¦ä¸²çš„è¯é»˜è®¤è¯·æ±‚è½¬å‘</p><p>å¦‚æœæƒ³è¦é‡å®šå‘å­—ç¬¦ä¸²å‰é¢åŠ â€œ**redirect:**â€å³å¯</p><h4 id="å¤„ç†å‰ç«¯æ•°æ®"><a href="#å¤„ç†å‰ç«¯æ•°æ®" class="headerlink" title="å¤„ç†å‰ç«¯æ•°æ®"></a>å¤„ç†å‰ç«¯æ•°æ®</h4><ol><li><p>å¦‚æœæäº¤å‚æ•°çš„åç§°å’Œæ–¹æ³•çš„å‚æ•°åä¸€è‡´çš„è¯ï¼Œ</p><p>æäº¤æ•°æ®ï¼š<a href="http://localhost:8080/user/add?name=lizhi&amp;age=20">http://localhost:8080/user/add?name=lizhi&amp;age=20</a></p></li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@GetMapping(&quot;user/add&quot;)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">test01</span><span class="params">(String name,<span class="keyword">int</span> age,Model model)</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;user&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol start="2"><li><p>å¦‚æœæäº¤å‚æ•°å’Œæ–¹æ³•å‚æ•°ä¸ä¸€è‡´çš„è¯</p><p>æäº¤æ•°æ®ï¼š<a href="http://localhost:8080/user/add?username=lizhi&amp;userage=20">http://localhost:8080/user/add?username=lizhi&amp;userage=20</a></p></li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@GetMapping(&quot;user/add&quot;)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">add</span><span class="params">(<span class="meta">@RequestParam(&quot;username&quot;)</span> String name,<span class="meta">@RequestParam(&quot;userage&quot;)</span><span class="keyword">int</span> age,Model model)</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;user&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol start="3"><li><p>å¦‚æœæäº¤çš„æ˜¯ä¸€ä¸ªå¯¹è±¡</p><p>æäº¤æ•°æ®ï¼š<a href="http://localhost:8080/user/add">http://localhost:8080/user/add</a></p><p>è¦æ±‚æäº¤çš„è¡¨å•è¦å’Œå±æ€§çš„å±æ€§åä¸€è‡´ï¼Œæ–¹æ³•å‚æ•°å³å¯ç›´æ¥ä½¿ç”¨å¯¹è±¡</p></li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@PostMapping(&quot;user/add&quot;)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">add</span><span class="params">(User user,Model model)</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;user&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="è¿”å›å‰ç«¯æ•°æ®"><a href="#è¿”å›å‰ç«¯æ•°æ®" class="headerlink" title="è¿”å›å‰ç«¯æ•°æ®"></a>è¿”å›å‰ç«¯æ•°æ®</h4><ol><li>ModelAndView</li></ol><p>è¯¥å¯¹è±¡åœ¨åˆè¯†mvcçš„æ—¶å€™å·²ç»è§è¿‡ï¼Œä¸å†èµ˜è¿°</p><ol start="2"><li>Modelï¼ˆè¿™æ˜¯ä¸€ä¸ªæ¥å£ï¼‰</li></ol><p>è¯¥å¯¹è±¡åœ¨ä½¿ç”¨æ³¨è§£å¼€å‘çš„æ—¶å€™ä¹Ÿå·²ç»è§è¿‡ï¼Œè¿™é‡Œä¹Ÿä¸å†èµ˜è¿°</p><ol start="3"><li>ModelMap</li></ol><p>ModelMapå®ç°äº†Modelæ¥å£ï¼Œç»§æ‰¿äº†LinkedHashMapï¼Œæ‰€ä»¥å®ƒæ›´å¼ºå¤§ï¼Œä½†æ˜¯å¤§éƒ¨åˆ†æƒ…å†µä¸‹Modelä¼šæ›´å¸¸ç”¨</p>]]></content>
      
      
      <categories>
          
          <category> javaEE </category>
          
          <category> SpringMVC </category>
          
      </categories>
      
      
        <tags>
            
            <tag> SpringMVC </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>SpringMVC-ç®€è¿°</title>
      <link href="/javaEE/SpringMVC/2022/01/29/SpringMVC-%E7%AE%80%E8%BF%B0/"/>
      <url>/javaEE/SpringMVC/2022/01/29/SpringMVC-%E7%AE%80%E8%BF%B0/</url>
      
        <content type="html"><![CDATA[<h2 id="Spring-MVC"><a href="#Spring-MVC" class="headerlink" title="Spring MVC"></a>Spring MVC</h2><h3 id="Model-1æ—¶ä»£"><a href="#Model-1æ—¶ä»£" class="headerlink" title="Model 1æ—¶ä»£"></a>Model 1æ—¶ä»£</h3><p>æ‰€æœ‰è¯·æ±‚ç›´æ¥è½¬å‘åˆ°jspç„¶ååœ¨jspç¼–å†™ä¸šåŠ¡ä»£ç ï¼Œç„¶åæ ¹æ®ä¸åŒçš„ç»“æœè·³è½¬ä¸åŒçš„é¡µé¢</p><h3 id="Model-2æ—¶ä»£"><a href="#Model-2æ—¶ä»£" class="headerlink" title="Model 2æ—¶ä»£"></a>Model 2æ—¶ä»£</h3><p>Controller</p><ol><li>å–å¾—è¡¨å•æ•°æ®</li><li>å¤„ç†ä¸šåŠ¡é€»è¾‘</li><li>æ ¹æ®ä¸åŒçš„æƒ…å†µè·³è½¬ä¸åŒçš„é¡µé¢</li></ol><p>View</p><ol><li>å±•ç¤ºæ•°æ®</li></ol><p>Model</p><ol><li>ä¸šåŠ¡é€»è¾‘</li><li>ä¿å­˜æ•°æ®</li></ol><h3 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h3><p>SpringMVCçš„ç‰¹ç‚¹ï¼š</p><ol><li>è½»é‡çº§ï¼Œç®€å•æ˜“å­¦</li><li>ä¸springæ— ç¼ç»“åˆï¼Œå¯ä»¥å°†mvcä¸­æ‰€æœ‰éœ€è¦çš„ç±»æ³¨å†Œåˆ°iocå®¹å™¨ä¸­</li><li>é«˜æ•ˆï¼ŒåŸºäºè¯·æ±‚å’Œå“åº”çš„mvcæ¡†æ¶</li><li>åŠŸèƒ½å¼ºå¤§ï¼ŒRESTFULé£æ ¼ï¼Œæ ¼å¼åŒ–ï¼Œæ•°æ®éªŒè¯</li><li>çº¦å®šå¤§äºé…ç½®</li></ol><p>è¯´ç™½äº†å­¦å®ƒå°±ä¸€ä¸ªåŸå› ï¼Œå› ä¸ºå®ƒè®©æˆ‘ä»¬å¼€å‘å˜å¾—ç®€å•äº†</p><p><strong>åŸç†</strong></p><h4 id="å›é¡¾servlet"><a href="#å›é¡¾servlet" class="headerlink" title="å›é¡¾servlet"></a>å›é¡¾servlet</h4><p>æˆ‘ä»¬éƒ½å­¦è¿‡java webï¼Œé‚£æ—¶å€™æˆ‘ä»¬å¯¹äºå‰ç«¯çš„è¯·æ±‚éƒ½æ˜¯é€šè¿‡ä¸€ä¸ªservletæ¥å¤„ç†çš„ï¼Œç„¶ååœ¨servleté‡Œé¢ï¼Œå¤„ç†å‰ç«¯ä¼ æ¥çš„æ•°æ®ï¼Œè°ƒç”¨ä¸šåŠ¡é€»è¾‘ï¼Œè¿”å›å¤„ç†ä¹‹åçš„æ•°æ®ï¼Œç„¶åservletæ ¹æ®è¿™äº›æ•°æ®ï¼Œè¿›è¡Œé‡å®šå‘æˆ–è€…è¯·æ±‚è½¬å‘</p><p>ä¸€ä¸ªè¯·æ±‚å¯¹åº”ä¸€ä¸ªservletï¼Œè¿™å°±ä¼šå¯¼è‡´æˆ‘ä»¬åœ¨å¼€å‘ä¸­å†™äº†å¤§é‡çš„servletï¼Œè€Œä¸”æ¯æ¬¡éƒ½éœ€è¦åœ¨web.xmlä¸­æ³¨å†Œï¼Œååˆ†ç¹çã€‚</p><hr><p>æ²¡æœ‰ä»€ä¹ˆæ˜¯åŠ ä¸€å±‚è§£å†³ä¸äº†çš„ï¼Œæ‰€ä»¥ï¼Œspringmvcåœ¨servletä¹‹å‰åŠ äº†ä¸€å±‚æ¥ç®€åŒ–æˆ‘ä»¬çš„å¼€å‘</p><p>SpringMVCçš„webæ¡†æ¶æ˜¯ä»¥å›´ç»•DispatcherServletï¼ˆå‰ç«¯æ§åˆ¶å™¨ï¼Œè°ƒåº¦å™¨ï¼Œè¯·æ±‚åˆ†å‘å™¨ï¼‰è®¾è®¡çš„ã€‚å®ƒçš„ä½œç”¨å°±æ˜¯å°†è¯·æ±‚åˆ†å‘åˆ°ä¸åŒçš„å¤„ç†å™¨ï¼ˆæ–¹æ³•æˆ–è€…ç±»ï¼Œä¸‹é¢çš„åˆè¯†mvcæ˜¯ä»¥ç±»çº§ä½œä¸ºå¤„ç†å™¨ï¼Œä½†æ˜¯ä¸€èˆ¬éƒ½ä¼šä½¿ç”¨æ–¹æ³•çº§å»åšå¤„ç†å™¨ï¼‰</p><p>ä¸‹å›¾æ˜¯DispatcherServletçš„ç»“æ„å›¾ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ä¸€äº›åœ¨javawebé˜¶æ®µæ¯”è¾ƒçœ¼ç†Ÿçš„ç±»ï¼Œæ¯”å¦‚Servletï¼ŒGenericServletï¼ŒHttpServletã€‚å› æ­¤æˆ‘ä»¬å¯ä»¥å¾—å‡ºï¼ŒDispatcherServletæœ¬è´¨å°±æ˜¯ä¸€ä¸ªå’Œæˆ‘ä»¬å½“æ—¶å†™çš„servletæ˜¯ä¸€æ ·çš„ï¼Œåªæ˜¯ä»–å¸®æˆ‘ä»¬åšäº†å¾ˆå¤šäº‹æƒ…ã€‚</p><p>äººåˆ°ä¸­å¹´æœ‰ä¸‰å¤§ä»¶ï¼Œæ¸æå¤§æ£ä¿æ¸©æ¯ã€‚</p><p>SpringMVCä¸­ä¹Ÿæœ‰ä¸‰å¤§ä»¶ï¼Œåˆ†åˆ«æ˜¯</p><ul><li>å¤„ç†å™¨æ˜ å°„å™¨ï¼ˆHandlerMappingï¼‰</li><li>å¤„ç†å™¨é€‚é…å™¨ï¼ˆHandlerAdapterï¼‰</li><li>è§†å›¾è§£æå™¨ï¼ˆViewResolverï¼‰</li></ul><p>æˆ‘ä»¬æ¥çœ‹çœ‹è¿™ä¸‰å¤§ä»¶æ˜¯å¦‚ä½•åœ¨springmvcä¸­å‘æŒ¥ä½œç”¨çš„ï¼ŒåŸç†å›¾å¦‚ä¸‹ï¼š</p><p><strong>æ ¸å¿ƒç±»å›¾</strong></p><p><strong>ç®€è¦åˆ†æ</strong></p><ol><li>DispatcherServletå°±å¯ä»¥ç®€å•ç†è§£ä¸ºå‰ç«¯æ§åˆ¶å™¨ï¼Œä»–ä¼šå°†æ‰€æœ‰å®¢æˆ·ç«¯çš„è¯·æ±‚æ‹¦æˆª</li><li>å°†è¯¥è¯·æ±‚å‘é€ç»™HandlerMappingå®ç°ç±»ï¼Œè¯¥å®ç°ç±»æ ¹æ®urlæŸ¥æ‰¾åˆ°å¯¹åº”çš„æ§åˆ¶å™¨ï¼Œå°†ç»“æœè¿”å›ç»™DispatcherServlet</li><li>DispatcherServletæ ¹æ®HandlerMappingè§£æçš„ç»“æœï¼Œé€‚é…å¹¶æ‰§è¡Œå¯¹åº”çš„æ§åˆ¶å™¨çš„é€»è¾‘ï¼Œ</li><li>æ§åˆ¶å™¨è¿”å›ä¿¡æ¯ï¼ŒHandlerAdapterå®ç°ç±»æ¥æ”¶è¯¥ä¿¡æ¯å¹¶å°†å…¶è§£ææˆModelAndViewå¯¹è±¡è¿”å›åˆ°DispatcherServlet</li><li>DispatcherServletè°ƒç”¨ViewResolverå®ç°ç±»å°†HandlerAdapterå®ç°ç±»ä¼ å›æ¥çš„è§†å›¾é€»è¾‘å’Œæ¨¡å‹è§£æ</li><li>è§†å›¾è§£æå™¨å°†è§£æåçš„é€»è¾‘è§†å›¾åä¼ å›DispatcherServlet</li><li>DispatcherServletæ ¹æ®è§£æåçš„è§†å›¾åç§°æ‰¾åˆ°è¯¥è§†å›¾</li><li>æ¸²æŸ“è§†å›¾ï¼Œè¿”å›é¡µé¢ï¼Œä½œå‡ºå“åº”</li></ol>]]></content>
      
      
      <categories>
          
          <category> javaEE </category>
          
          <category> SpringMVC </category>
          
      </categories>
      
      
        <tags>
            
            <tag> SpringMVC </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>SpringMVC-æ‹¦æˆªå™¨</title>
      <link href="/javaEE/SpringMVC/2022/01/28/SpringMVC-%E6%8B%A6%E6%88%AA%E5%99%A8/"/>
      <url>/javaEE/SpringMVC/2022/01/28/SpringMVC-%E6%8B%A6%E6%88%AA%E5%99%A8/</url>
      
        <content type="html"><![CDATA[<h2 id="SpringMVCä¸­çš„æ‹¦æˆªå™¨"><a href="#SpringMVCä¸­çš„æ‹¦æˆªå™¨" class="headerlink" title="SpringMVCä¸­çš„æ‹¦æˆªå™¨"></a>SpringMVCä¸­çš„æ‹¦æˆªå™¨</h2><p>å…¶å®æ­¤æ‹¦æˆªå™¨å°±æ˜¯æˆ‘ä»¬åœ¨javawebé˜¶æ®µä½¿ç”¨çš„è¿‡æ»¤å™¨ï¼Œåªä¸è¿‡æ˜¯æ¢äº†ä¸€ä¸ªåå­—è€Œå·²ï¼Œæ¢æ±¤ä¸æ¢è¯ï¼Œæœ¬è´¨æ˜¯ä¸€æ ·çš„ã€‚</p><p>åªä¸è¿‡æ‹¦æˆªå™¨æ˜¯AOPæ€æƒ³çš„å…·ä½“åº”ç”¨</p><p>è¿‡æ»¤å™¨ï¼š</p><ul><li>Servletè§„èŒƒä¸­çš„ä¸€éƒ¨åˆ†ï¼Œä»»ä½•javawebå·¥ç¨‹éƒ½å¯ä»¥ä½¿ç”¨</li><li>åœ¨url-patternä¸­é…ç½®äº†&#x2F;*åï¼Œä¼šæ‹¦æˆªæ‰€æœ‰çš„è¯·æ±‚</li></ul><p>æ‹¦æˆªå™¨ï¼š</p><ul><li>æ‹¦æˆªå™¨æ˜¯SpringMVCä¸­æ‰ä¼šæœ‰çš„ï¼Œåªæœ‰ä½¿ç”¨äº†æ­¤æ¡†æ¶çš„å·¥ç¨‹æ‰å¯ä»¥ä½¿ç”¨</li><li>æ‹¦æˆªå™¨åªä¼šæ‹¦æˆªè®¿é—®çš„æ§åˆ¶å™¨æ–¹æ³•ï¼Œå¦‚æœè®¿é—®çš„æ˜¯é™æ€èµ„æºæ˜¯ä¸ä¼šè¿›è¡Œæ‹¦æˆªçš„</li></ul><h3 id="è‡ªå®šä¹‰æ‹¦æˆªå™¨"><a href="#è‡ªå®šä¹‰æ‹¦æˆªå™¨" class="headerlink" title="è‡ªå®šä¹‰æ‹¦æˆªå™¨"></a>è‡ªå®šä¹‰æ‹¦æˆªå™¨</h3><p>å®ç°HandlerInterceptoræ¥å£</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.lizhi.interceptor;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.web.servlet.HandlerInterceptor;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.servlet.ModelAndView;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyInterceptor</span> <span class="keyword">implements</span> <span class="title">HandlerInterceptor</span> </span>&#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * return trueæ‰ä¼šæ‰§è¡Œä¸‹ä¸€ä¸ªæ‹¦æˆªå™¨</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">preHandle</span><span class="params">(HttpServletRequest request, HttpServletResponse response, Object handler)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;===å¤„ç†å‰===&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">postHandle</span><span class="params">(HttpServletRequest request, HttpServletResponse response, Object handler, ModelAndView modelAndView)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;===å¤„ç†å===&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">afterCompletion</span><span class="params">(HttpServletRequest request, HttpServletResponse response, Object handler, Exception ex)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;===æ¸…ç†===&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>åœ¨Springæ ¸å¿ƒæ–‡ä»¶ä¸­æ³¨å†Œæ‹¦æˆªå™¨</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">mvc:interceptors</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">mvc:interceptor</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--/**ä¼šæ‹¦æˆªè¿™ä¸ªè¯·æ±‚ä¸‹é¢çš„æ‰€æœ‰è¯·æ±‚--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">mvc:mapping</span> <span class="attr">path</span>=<span class="string">&quot;/**&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">&quot;com.lizhi.interceptor.MyInterceptor&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">mvc:interceptor</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">mvc:interceptors</span>&gt;</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> javaEE </category>
          
          <category> SpringMVC </category>
          
      </categories>
      
      
        <tags>
            
            <tag> SpringMVC </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>SpringMVC-ä¹±ç </title>
      <link href="/javaEE/SpringMVC/2022/01/28/SpringMVC-%E4%B9%B1%E7%A0%81/"/>
      <url>/javaEE/SpringMVC/2022/01/28/SpringMVC-%E4%B9%B1%E7%A0%81/</url>
      
        <content type="html"><![CDATA[<h3 id="ä¹±ç ï¼ä¸€ç”Ÿä¹‹æ•Œï¼ï¼ï¼"><a href="#ä¹±ç ï¼ä¸€ç”Ÿä¹‹æ•Œï¼ï¼ï¼" class="headerlink" title="ä¹±ç ï¼ä¸€ç”Ÿä¹‹æ•Œï¼ï¼ï¼"></a>ä¹±ç ï¼ä¸€ç”Ÿä¹‹æ•Œï¼ï¼ï¼</h3><p>UserController</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.lizhi.controller;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.lizhi.pojo.User;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Controller;</span><br><span class="line"><span class="keyword">import</span> org.springframework.ui.Model;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.PostMapping;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RequestMapping;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/user&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserController</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@PostMapping(&quot;/login.do&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">login</span><span class="params">(User user, Model model)</span></span>&#123;</span><br><span class="line">        model.addAttribute(<span class="string">&quot;user&quot;</span>,user);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;index&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>login.jsp</p><figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ page contentType=<span class="string">&quot;text/html;charset=UTF-8&quot;</span> language=<span class="string">&quot;java&quot;</span> %&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;Title&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;form action=<span class="string">&quot;/user/login.do&quot;</span> method=<span class="string">&quot;post&quot;</span>&gt;</span><br><span class="line">    &lt;p&gt;</span><br><span class="line">        &lt;input type=<span class="string">&quot;text&quot;</span> name=<span class="string">&quot;name&quot;</span>&gt;</span><br><span class="line">    &lt;/p&gt;</span><br><span class="line">    &lt;p&gt;</span><br><span class="line">        &lt;input type=<span class="string">&quot;text&quot;</span> name=<span class="string">&quot;age&quot;</span>&gt;</span><br><span class="line">    &lt;/p&gt;</span><br><span class="line">    &lt;input type=<span class="string">&quot;submit&quot;</span> value=<span class="string">&quot;æäº¤&quot;</span>&gt;</span><br><span class="line">&lt;/form&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>index.jsp</p><figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ page contentType=<span class="string">&quot;text/html;charset=UTF-8&quot;</span> language=<span class="string">&quot;java&quot;</span> %&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;Title&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">name:$&#123;user.name&#125;</span><br><span class="line">age:$&#123;user.age&#125;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><p><strong>ç»“æœå¦‚ä¸‹ï¼š</strong></p><p>æˆ‘ä»¬å…ˆå°è¯•ä¸€ä¸‹é…ç½®ä¸€ä¸ªè¿‡æ»¤å™¨ï¼Œè¿™æ˜¯ç¬¬ä¸€ç§æ–¹æ¡ˆ</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.lizhi.filter;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.*;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CharsetFilter</span> <span class="keyword">implements</span> <span class="title">Filter</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">init</span><span class="params">(FilterConfig filterConfig)</span> <span class="keyword">throws</span> ServletException </span>&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">doFilter</span><span class="params">(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain)</span> <span class="keyword">throws</span> IOException, ServletException </span>&#123;</span><br><span class="line">        servletRequest.setCharacterEncoding(<span class="string">&quot;utf-8&quot;</span>);</span><br><span class="line">        servletResponse.setCharacterEncoding(<span class="string">&quot;utf-8&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">destroy</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è®°å¾—å»web.xmlä¸­æ³¨å†Œ</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">filter</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter-name</span>&gt;</span>charsetFilter<span class="tag">&lt;/<span class="name">filter-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter-class</span>&gt;</span>com.lizhi.filter.CharsetFilter<span class="tag">&lt;/<span class="name">filter-class</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">filter</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">filter-mapping</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter-name</span>&gt;</span>charsetFilter<span class="tag">&lt;/<span class="name">filter-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">filter-mapping</span>&gt;</span></span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬å°è¯•åå‘ç°ï¼Œæ²¡æœ‰ä»»ä½•æ•ˆæœï¼Œé‚£æ—¢ç„¶æˆ‘ä»¬å†™çš„è¿‡æ»¤å™¨ä¸è¡Œ</p><p>é‚£springmvcç»™æˆ‘ä»¬å†™äº†ä¸€ä¸ª<strong><em>ä¸“é—¨</em>å¤„ç†ä¹±ç </strong>çš„è¿‡æ»¤å™¨ï¼Œæˆ‘ä»¬æ¥é…ç½®ä¸€ä¸‹ï¼Œè¿™æ˜¯ç¬¬äºŒç§æ–¹æ¡ˆï¼Œå¾ˆç¨³å¦¥</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">filter</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter-name</span>&gt;</span>encoding<span class="tag">&lt;/<span class="name">filter-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter-class</span>&gt;</span>org.springframework.web.filter.CharacterEncodingFilter<span class="tag">&lt;/<span class="name">filter-class</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">init-param</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">param-name</span>&gt;</span>encoding<span class="tag">&lt;/<span class="name">param-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">param-value</span>&gt;</span>utf-8<span class="tag">&lt;/<span class="name">param-value</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">init-param</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">filter</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">filter-mapping</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter-name</span>&gt;</span>encoding<span class="tag">&lt;/<span class="name">filter-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">filter-mapping</span>&gt;</span></span><br></pre></td></tr></table></figure><p>æµ‹è¯•åå‘ç°ï¼Œè¿˜æ˜¯ä¹±ç ï¼ï¼è¿™æ—¶å€™æˆ‘ä»¬å¯ä»¥å»çœ‹ä¸€ä¸‹tomcatçš„configç›®å½•ä¸‹çš„server.xmlï¼Œæ‰¾åˆ°connectoræ ‡ç­¾å¹¶ä¿®æ”¹å±æ€§</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">Connector</span> <span class="attr">port</span>=<span class="string">&quot;8080&quot;</span> <span class="attr">protocol</span>=<span class="string">&quot;HTTP/1.1&quot;</span></span></span><br><span class="line"><span class="tag">           <span class="attr">connectionTimeout</span>=<span class="string">&quot;20000&quot;</span></span></span><br><span class="line"><span class="tag">           <span class="attr">redirectPort</span>=<span class="string">&quot;8443&quot;</span> <span class="attr">URIEncoding</span>=<span class="string">&quot;UTF-8&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure><p>å‘ç°è¿˜æ˜¯ä¸è¡Œï¼Œæˆ‘ä»¬å»æ‰¾ä¸€ä¸ªå…¶ä»–å¤§ä½¬è‡ªå·±å†™çš„è¿‡æ»¤å™¨è¯•ä¸€è¯•ï¼Œè¿™æ˜¯ç¬¬ä¸‰ç§æ–¹æ¡ˆ</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.lizhi.filter;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.*;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequestWrapper;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.UnsupportedEncodingException;</span><br><span class="line"><span class="keyword">import</span> java.nio.charset.StandardCharsets;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">EncodeFilter</span> <span class="keyword">implements</span> <span class="title">Filter</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">init</span><span class="params">(FilterConfig filterConfig)</span> <span class="keyword">throws</span> ServletException </span>&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">doFilter</span><span class="params">(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain)</span> <span class="keyword">throws</span> IOException, ServletException </span>&#123;</span><br><span class="line">        <span class="comment">//å¤„ç†responseçš„å­—ç¬¦ç¼–ç </span></span><br><span class="line">        HttpServletResponse resp = (HttpServletResponse) servletResponse;</span><br><span class="line">        resp.setContentType(<span class="string">&quot;text/html;utf-8&quot;</span>);</span><br><span class="line"></span><br><span class="line">        HttpServletRequest req = (HttpServletRequest) servletRequest;</span><br><span class="line">        HttpServletRequest myreq = <span class="keyword">new</span> MyRequest(req);</span><br><span class="line">        filterChain.doFilter(myreq, resp);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">destroy</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyRequest</span> <span class="keyword">extends</span> <span class="title">HttpServletRequestWrapper</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> HttpServletRequest request;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">boolean</span> hasEncode;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">MyRequest</span><span class="params">(HttpServletRequest request)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>(request);</span><br><span class="line">        <span class="keyword">this</span>.request = request;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Map <span class="title">getParameterMap</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        String method = request.getMethod();</span><br><span class="line">        <span class="keyword">if</span>(<span class="string">&quot;post&quot;</span>.equalsIgnoreCase(method))&#123;</span><br><span class="line">            <span class="keyword">try</span>&#123;</span><br><span class="line">                request.setCharacterEncoding(<span class="string">&quot;utf-8&quot;</span>);</span><br><span class="line">                <span class="keyword">return</span> request.getParameterMap();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (UnsupportedEncodingException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(<span class="string">&quot;get&quot;</span>.equalsIgnoreCase(method))&#123;</span><br><span class="line">            Map&lt;String,String[]&gt; parameterMap = request.getParameterMap();</span><br><span class="line">            <span class="keyword">if</span>(!hasEncode)&#123;</span><br><span class="line">                <span class="keyword">for</span> (String parameterName : parameterMap.keySet()) &#123;</span><br><span class="line">                    String[] values = parameterMap.get(parameterName);</span><br><span class="line">                    <span class="keyword">if</span>(values!=<span class="keyword">null</span>)&#123;</span><br><span class="line">                        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; values.length; i++) &#123;</span><br><span class="line">                            <span class="keyword">try</span>&#123;</span><br><span class="line">                                values[i] = <span class="keyword">new</span> String(values[i].getBytes(<span class="string">&quot;ISO-8859-1&quot;</span>),<span class="string">&quot;utf-8&quot;</span>);</span><br><span class="line">                            &#125; <span class="keyword">catch</span> (UnsupportedEncodingException e) &#123;</span><br><span class="line">                                e.printStackTrace();</span><br><span class="line">                            &#125;</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                hasEncode = <span class="keyword">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> parameterMap;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">super</span>.getParameterMap();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getParameter</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        Map&lt;String,String[]&gt; parameterMap = getParameterMap();</span><br><span class="line">        String[] values = parameterMap.get(name);</span><br><span class="line">        <span class="keyword">if</span>(values==<span class="keyword">null</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> values[<span class="number">0</span>];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String[] getParameterValues(String name) &#123;</span><br><span class="line">        Map&lt;String,String[]&gt; parameterMap = getParameterMap();</span><br><span class="line">        <span class="keyword">return</span> parameterMap.get(name);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ç»“æœæµ‹è¯•å‘ç°ï¼Œè¿˜æ˜¯ä¸å¯¹ï¼å…¶å®ä¹±ç çš„é—®é¢˜åˆ°è¿™é‡Œä¸€èˆ¬éƒ½ä¼šè§£å†³äº†ï¼Œä½†æ˜¯ä¸ºä»€ä¹ˆè¿˜æ˜¯ä¸è¡Œå‘¢ï¼Ÿ</p><p>å…¶å®æ˜¯åœ¨æ³¨å†Œfilterçš„æ—¶å€™å°±å‡ºé”™äº†ï¼Œæ¥ä¸‹æ¥çœ‹ä¸‹é¢çš„æ­£ç¡®é…ç½®ï¼Œå¤§å®¶å¯ä»¥çœ‹ä¸€ä¸‹æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Œ</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">filter</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter-name</span>&gt;</span>otherEncodeFilter<span class="tag">&lt;/<span class="name">filter-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter-class</span>&gt;</span>com.lizhi.filter.EncodeFilter<span class="tag">&lt;/<span class="name">filter-class</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">filter</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">filter-mapping</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter-name</span>&gt;</span>otherEncodeFilter<span class="tag">&lt;/<span class="name">filter-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/*<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">filter-mapping</span>&gt;</span></span><br></pre></td></tr></table></figure><p>æœ‰çš„å°ä¼™ä¼´å¯èƒ½åœ¨ä¸€å¼€å§‹å°±çœ‹å‡ºæ¥äº†ï¼Œæ²¡é”™ï¼Œå°±æ˜¯<code>&lt;&lt;url-pattern&gt;/*&lt;/url-pattern&gt;&gt;</code>è¿™é‡Œçš„æ‹¦æˆªè·¯å¾„æˆ‘ä»¬åº”è¯¥ä½¿ç”¨<code>/*</code>è€Œä¸æ˜¯<code>/</code></p><p>ä¸¤è€…æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ï¼Ÿ</p><p>å‰è€…æ˜¯æ‹¦æˆªä¸€åˆ‡è¯·æ±‚ï¼ŒåŒ…æ‹¬jsp</p><p>è€Œåè€…ä¼šæ‹¦æˆªé™¤äº†jspçš„æ‰€æœ‰èµ„æº</p><p>ç›¸ä¿¡åƒäº†è¿™æ¬¡äºï¼Œå¤§å®¶ä¹‹åå°±å†ä¹Ÿä¸ä¼šå¿˜è®°è¿™ä¸ªå‘äº†ï¼è€Œä¸”ä¹Ÿäº†è§£äº†å¤§éƒ¨åˆ†ä¹±ç é—®é¢˜çš„è§£å†³æ–¹æ¡ˆï¼</p>]]></content>
      
      
      <categories>
          
          <category> javaEE </category>
          
          <category> SpringMVC </category>
          
      </categories>
      
      
        <tags>
            
            <tag> SpringMVC </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>SpringMVC-ç¬¬ä¸€ä¸ªSpringMVCå·¥ç¨‹</title>
      <link href="/javaEE/SpringMVC/2022/01/28/SpringMVC-%E7%AC%AC%E4%B8%80%E4%B8%AASpringMVC%E5%B7%A5%E7%A8%8B/"/>
      <url>/javaEE/SpringMVC/2022/01/28/SpringMVC-%E7%AC%AC%E4%B8%80%E4%B8%AASpringMVC%E5%B7%A5%E7%A8%8B/</url>
      
        <content type="html"><![CDATA[<h3 id="åˆè¯†SpringMVC"><a href="#åˆè¯†SpringMVC" class="headerlink" title="åˆè¯†SpringMVC"></a>åˆè¯†SpringMVC</h3><p><strong>ç¬¬ä¸€æ­¥ï¼šåˆ›å»ºæ™®é€šmavenå·¥ç¨‹</strong></p><p><strong>ç¬¬äºŒæ­¥ï¼šå¯¼å…¥æ‰€éœ€ä¾èµ–</strong></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-webmvc<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.3.14<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>javax.servlet<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>servlet-api<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.5<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>javax.servlet.jsp<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jsp-api<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>javax.servlet.jsp.jstl<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jstl-api<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>taglibs<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>standard<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.1.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><p><strong>ç¬¬ä¸‰æ­¥ï¼šæ·»åŠ webæ”¯æŒ</strong></p><img src="/javaEE/SpringMVC/2022/01/28/SpringMVC-%E7%AC%AC%E4%B8%80%E4%B8%AASpringMVC%E5%B7%A5%E7%A8%8B/%E6%B7%BB%E5%8A%A0web%E6%94%AF%E6%8C%81.png" class title="æ·»åŠ webæ”¯æŒ"><img src="/javaEE/SpringMVC/2022/01/28/SpringMVC-%E7%AC%AC%E4%B8%80%E4%B8%AASpringMVC%E5%B7%A5%E7%A8%8B/web%E6%A1%86%E6%9E%B6%E6%94%AF%E6%8C%81.png" class title="webæ¡†æ¶æ”¯æŒ"><p><strong>ç¬¬å››æ­¥ï¼šåœ¨web.xmlä¸­é…ç½®DispatcherServlet</strong></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">web-app</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">version</span>=<span class="string">&quot;4.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>springmvc<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-class</span>&gt;</span>org.springframework.web.servlet.DispatcherServlet<span class="tag">&lt;/<span class="name">servlet-class</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">init-param</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">param-name</span>&gt;</span>contextConfigLocation<span class="tag">&lt;/<span class="name">param-name</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">param-value</span>&gt;</span>classpath:springmvc-servlet.xml<span class="tag">&lt;/<span class="name">param-value</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">init-param</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">load-on-startup</span>&gt;</span>1<span class="tag">&lt;/<span class="name">load-on-startup</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">servlet</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>springmvc<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">web-app</span>&gt;</span></span><br></pre></td></tr></table></figure><p><strong>ç¬¬äº”æ­¥ï¼šåœ¨èµ„æºè·¯å¾„ä¸‹åˆ›å»ºspringmvc-servlet.xmlé…ç½®æ–‡ä»¶ï¼Œé…ç½®å¤„ç†å™¨æ˜ å°„å™¨ï¼Œå¤„ç†å™¨é€‚é…å™¨ï¼Œè§†å›¾è§£æå™¨</strong></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans</span></span></span><br><span class="line"><span class="string"><span class="tag">        https://www.springframework.org/schema/beans/spring-beans.xsd&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">&quot;org.springframework.web.servlet.handler.BeanNameUrlHandlerMapping&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">&quot;org.springframework.web.servlet.mvc.SimpleControllerHandlerAdapter&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;prefix&quot;</span> <span class="attr">value</span>=<span class="string">&quot;/WEB-INF/jsp/&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;suffix&quot;</span> <span class="attr">value</span>=<span class="string">&quot;.jsp&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;/hello&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.lizhi.controller.HelloServlet&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure><p><strong>ç¬¬å…­æ­¥ï¼šåˆ›å»ºHelloControllerå®ç°Controlleræ¥å£ï¼Œå¹¶æ³¨å†Œï¼Œidä¸ºè·¯å¾„</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.lizhi.controller;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.ui.Model;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.GetMapping;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.servlet.ModelAndView;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.servlet.mvc.Controller;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HelloServlet</span> <span class="keyword">implements</span> <span class="title">Controller</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> ModelAndView <span class="title">handleRequest</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        ModelAndView modelAndView = <span class="keyword">new</span> ModelAndView();</span><br><span class="line">        modelAndView.addObject(<span class="string">&quot;msg&quot;</span>,<span class="string">&quot;HelloSpringMVC&quot;</span>);</span><br><span class="line">        modelAndView.setViewName(<span class="string">&quot;hello&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> modelAndView;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>ç¬¬ä¸ƒæ­¥ï¼š</strong>åœ¨WEB-INFæ–‡ä»¶å¤¹ä¸‹åˆ›å»ºjspæ–‡ä»¶å¤¹ï¼Œåœ¨jspæ–‡ä»¶å¤¹ä¸­åˆ›å»ºhello.jsp</p><figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ page contentType=<span class="string">&quot;text/html;charset=UTF-8&quot;</span> language=<span class="string">&quot;java&quot;</span> %&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;Title&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">$&#123;msg&#125;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><p><strong>ç¬¬å…«æ­¥ï¼šå¯åŠ¨tomcatæµ‹è¯•</strong></p><h3 id="ä½¿ç”¨æ³¨è§£å¼€å‘"><a href="#ä½¿ç”¨æ³¨è§£å¼€å‘" class="headerlink" title="ä½¿ç”¨æ³¨è§£å¼€å‘"></a>ä½¿ç”¨æ³¨è§£å¼€å‘</h3><p><strong>å‰å››æ­¥å¦‚ä¸Š</strong></p><p><strong>ç¬¬äº”æ­¥ï¼šåœ¨springmvc-servletä¸­å¼€å¯æ³¨è§£æ”¯æŒ</strong></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:context</span>=<span class="string">&quot;http://www.springframework.org/schema/context&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:mvc</span>=<span class="string">&quot;http://www.springframework.org/schema/mvc&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans</span></span></span><br><span class="line"><span class="string"><span class="tag">                           https://www.springframework.org/schema/beans/spring-beans.xsd</span></span></span><br><span class="line"><span class="string"><span class="tag">                           http://www.springframework.org/schema/context</span></span></span><br><span class="line"><span class="string"><span class="tag">                           https://www.springframework.org/schema/context/spring-context.xsd</span></span></span><br><span class="line"><span class="string"><span class="tag">                           http://www.springframework.org/schema/mvc</span></span></span><br><span class="line"><span class="string"><span class="tag">                           https://www.springframework.org/schema/mvc/spring-mvc.xsd&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">context:component-scan</span> <span class="attr">base-package</span>=<span class="string">&quot;com.lizhi.controller&quot;</span>/&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--   Springmvcä¸å¤„ç†é™æ€æ–‡ä»¶--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">mvc:default-servlet-handler</span>/&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">æ”¯æŒspringmvcæ³¨è§£é©±åŠ¨</span></span><br><span class="line"><span class="comment">åœ¨springä¸­ä¸€èˆ¬é‡‡ç”¨@RequestMappingæ¥å®Œæˆæ˜ å°„å…³ç³»</span></span><br><span class="line"><span class="comment">è¦æƒ³è®©æ³¨è§£ç”Ÿæ•ˆï¼Œåˆ™å¿…é¡»è¦å‘ä¸Šä¸‹æ–‡æ³¨å†ŒDefaultAnnotationHandlerMapping</span></span><br><span class="line"><span class="comment">å’Œä¸€ä¸ªAnnotationMethodHandlerMappingå®ä¾‹</span></span><br><span class="line"><span class="comment">è¿™ä¸¤ä¸ªå¤„ç†å™¨åˆ†åˆ«æ˜¯ç±»çº§åˆ«å’Œæ–¹æ³•çº§åˆ«çš„</span></span><br><span class="line"><span class="comment">è€Œannotation-drivenåˆ™å¸®åŠ©æˆ‘ä»¬è‡ªåŠ¨å®Œæˆäº†è¿™ä¸¤ä¸ªç±»çš„é…ç½®</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">mvc:annotation-driven</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;prefix&quot;</span> <span class="attr">value</span>=<span class="string">&quot;/WEB-INF/jsp/&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;suffix&quot;</span> <span class="attr">value</span>=<span class="string">&quot;.jsp&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure><p><strong>ç¬¬å…­æ­¥ï¼šåˆ›å»ºController</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.lizhi.controller;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Controller;</span><br><span class="line"><span class="keyword">import</span> org.springframework.ui.Model;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.GetMapping;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserController</span> </span>&#123;</span><br><span class="line">    <span class="meta">@GetMapping(&quot;login&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">login</span><span class="params">(Model model)</span></span>&#123;</span><br><span class="line">        <span class="comment">//modelå¯¹è±¡æ˜¯é¡µé¢æ¨¡å‹ï¼Œå¯ä»¥åœ¨æ­¤å¯¹è±¡ä¸­æ”¾å…¥ä¸šåŠ¡è¿”å›çš„å‰ç«¯éœ€è¦çš„æ•°æ®</span></span><br><span class="line">        model.addAttribute(<span class="string">&quot;msg&quot;</span>,<span class="string">&quot;è¯·ç™»å½•&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;login&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>ç¬¬ä¸ƒæ­¥ï¼šåœ¨WEB-INFæ–‡ä»¶å¤¹ä¸‹åˆ›å»ºjspæ–‡ä»¶å¤¹ï¼Œåœ¨jspæ–‡ä»¶å¤¹ä¸­åˆ›å»ºlogin.jsp</strong></p><p><strong>ç¬¬å…«æ­¥ï¼šå¯åŠ¨tomcatæµ‹è¯•</strong></p><hr><blockquote><p>å¦‚æœå‡ºç°404æˆ–è€…500é”™è¯¯å¯ï¼Œå°è¯•ä»¥ä¸‹ä¸¤ç§è§£å†³æ–¹æ¡ˆ</p></blockquote><ol><li>åœ¨pom.xmlä¸­åŠ å…¥æ­¤æ®µé…ç½®</li></ol><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--åœ¨buildä¸­é…ç½®resourcesï¼Œæ¥é˜²æ­¢æˆ‘ä»¬èµ„æºå¯¼å‡ºå‡ºç°çš„é—®é¢˜--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">resources</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">resource</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">directory</span>&gt;</span>src/main/resources<span class="tag">&lt;/<span class="name">directory</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">includes</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">include</span>&gt;</span>**/*.properties<span class="tag">&lt;/<span class="name">include</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">include</span>&gt;</span>**/*.xml<span class="tag">&lt;/<span class="name">include</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">includes</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">filtering</span>&gt;</span>true<span class="tag">&lt;/<span class="name">filtering</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">resource</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">resource</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">directory</span>&gt;</span>src/main/java<span class="tag">&lt;/<span class="name">directory</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">includes</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">include</span>&gt;</span>**/*.properties<span class="tag">&lt;/<span class="name">include</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">include</span>&gt;</span>**/*.xml<span class="tag">&lt;/<span class="name">include</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">includes</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">filtering</span>&gt;</span>true<span class="tag">&lt;/<span class="name">filtering</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">resource</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">resources</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br></pre></td></tr></table></figure><ol start="2"><li>åœ¨artifactä¸­åŠ å…¥libç›®å½•ï¼Œå¹¶å°†æ‰€éœ€jaråŒ…å¯¼å…¥å…¶ä¸­</li></ol><img src="/javaEE/SpringMVC/2022/01/28/SpringMVC-%E7%AC%AC%E4%B8%80%E4%B8%AASpringMVC%E5%B7%A5%E7%A8%8B/%E6%B7%BB%E5%8A%A0lib%E7%9B%AE%E5%BD%95.png" class title="æ·»åŠ libç›®å½•"><hr>]]></content>
      
      
      <categories>
          
          <category> javaEE </category>
          
          <category> SpringMVC </category>
          
      </categories>
      
      
        <tags>
            
            <tag> SpringMVC </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MyBatisæ˜ å°„å™¨æ–‡ä»¶</title>
      <link href="/javaEE/MyBatis/2022/01/27/MyBatis%E6%98%A0%E5%B0%84%E5%99%A8%E6%96%87%E4%BB%B6/"/>
      <url>/javaEE/MyBatis/2022/01/27/MyBatis%E6%98%A0%E5%B0%84%E5%99%A8%E6%96%87%E4%BB%B6/</url>
      
        <content type="html"><![CDATA[<h2 id="æ˜ å°„å™¨æ–‡ä»¶"><a href="#æ˜ å°„å™¨æ–‡ä»¶" class="headerlink" title="æ˜ å°„å™¨æ–‡ä»¶"></a>æ˜ å°„å™¨æ–‡ä»¶</h2><p>mybatisçš„çœŸæ­£å¼ºå¤§ä¹‹å¤„å°±åœ¨äºå®ƒçš„è¯­å¥æ˜ å°„ã€‚</p><p>æ­£æ˜¯å› ä¸ºæ­¤æ˜ å°„å™¨æ–‡ä»¶ï¼Œæ‰ä½¿æˆ‘ä»¬å‡å°‘äº†å°†è¿‘95%çš„JDBCä»£ç ï¼Œä½¿æˆ‘ä»¬æ›´ä¸“æ³¨äºä¹¦å†™SQLè¯­å¥</p><p>æ˜ å°„å™¨æ–‡ä»¶åªæœ‰è¿™äº›é¡¶çº§å…ƒç´ </p><ul><li>cache</li><li>cache-ref</li><li>delete</li><li>insert</li><li>resultMap</li><li>select</li><li>sql</li><li>update</li></ul><h3 id="select"><a href="#select" class="headerlink" title="select"></a>select</h3><p>è¯¥æ ‡ç­¾å¯¹æ ‡SQLè¯­å¥çš„DQLè¯­å¥ï¼Œä¹Ÿå°±æ˜¯selectè¯­å¥</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;getStudentById&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;student&quot;</span>&gt;</span></span><br><span class="line">    select * from student where id = #&#123;id&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure><p>è¿™ä¸ªselectè¯­å¥æ˜ å°„namespaceç»‘å®šçš„æ¥å£ä¸­çš„listTeachersæ–¹æ³•</p><p>resultTypeå®šä¹‰è¿”å›å€¼ç±»å‹</p><p>#{id}æ˜¯å–åˆ°æ–¹æ³•ä¼ å…¥çš„å‚æ•°</p><table><thead><tr><th align="left">å±æ€§</th><th align="left">æè¿°</th></tr></thead><tbody><tr><td align="left"><code>id</code></td><td align="left">åœ¨å‘½åç©ºé—´ä¸­å”¯ä¸€çš„æ ‡è¯†ç¬¦ï¼Œå¯ä»¥è¢«ç”¨æ¥å¼•ç”¨è¿™æ¡è¯­å¥ã€‚</td></tr><tr><td align="left"><code>parameterType</code></td><td align="left">å°†ä¼šä¼ å…¥è¿™æ¡è¯­å¥çš„å‚æ•°çš„ç±»å…¨é™å®šåæˆ–åˆ«åã€‚è¿™ä¸ªå±æ€§æ˜¯å¯é€‰çš„ï¼Œå› ä¸º MyBatis å¯ä»¥é€šè¿‡ç±»å‹å¤„ç†å™¨ï¼ˆTypeHandlerï¼‰æ¨æ–­å‡ºå…·ä½“ä¼ å…¥è¯­å¥çš„å‚æ•°ï¼Œé»˜è®¤å€¼ä¸ºæœªè®¾ç½®ï¼ˆunsetï¼‰ã€‚</td></tr><tr><td align="left"><code>resultType</code></td><td align="left">æœŸæœ›ä»è¿™æ¡è¯­å¥ä¸­è¿”å›ç»“æœçš„ç±»å…¨é™å®šåæˆ–åˆ«åã€‚ æ³¨æ„ï¼Œå¦‚æœè¿”å›çš„æ˜¯é›†åˆï¼Œé‚£åº”è¯¥è®¾ç½®ä¸ºé›†åˆåŒ…å«çš„ç±»å‹ï¼Œè€Œä¸æ˜¯é›†åˆæœ¬èº«çš„ç±»å‹ã€‚ resultType å’Œ resultMap ä¹‹é—´åªèƒ½åŒæ—¶ä½¿ç”¨ä¸€ä¸ªã€‚</td></tr><tr><td align="left"><code>resultMap</code></td><td align="left">å¯¹å¤–éƒ¨ resultMap çš„å‘½åå¼•ç”¨ã€‚ç»“æœæ˜ å°„æ˜¯ MyBatis æœ€å¼ºå¤§çš„ç‰¹æ€§ï¼Œå¦‚æœä½ å¯¹å…¶ç†è§£é€å½»ï¼Œè®¸å¤šå¤æ‚çš„æ˜ å°„é—®é¢˜éƒ½èƒ½è¿åˆƒè€Œè§£ã€‚ resultType å’Œ resultMap ä¹‹é—´åªèƒ½åŒæ—¶ä½¿ç”¨ä¸€ä¸ªã€‚</td></tr><tr><td align="left"><code>useCache</code></td><td align="left">å°†å…¶è®¾ç½®ä¸º true åï¼Œå°†ä¼šå¯¼è‡´æœ¬æ¡è¯­å¥çš„ç»“æœè¢«äºŒçº§ç¼“å­˜ç¼“å­˜èµ·æ¥ï¼Œé»˜è®¤å€¼ï¼šå¯¹ select å…ƒç´ ä¸º trueã€‚</td></tr><tr><td align="left"><code>flushCache</code></td><td align="left">å°†å…¶è®¾ç½®ä¸º true åï¼Œåªè¦è¯­å¥è¢«è°ƒç”¨ï¼Œéƒ½ä¼šå¯¼è‡´æœ¬åœ°ç¼“å­˜å’ŒäºŒçº§ç¼“å­˜è¢«æ¸…ç©ºï¼Œé»˜è®¤å€¼ï¼šfalseã€‚</td></tr><tr><td align="left"><code>statementType</code></td><td align="left">å¯é€‰ STATEMENTï¼ŒPREPARED æˆ– CALLABLEã€‚è¿™ä¼šè®© MyBatis åˆ†åˆ«ä½¿ç”¨ Statementï¼ŒPreparedStatement æˆ– CallableStatementï¼Œé»˜è®¤å€¼ï¼šPREPAREDã€‚</td></tr><tr><td align="left"><code>timeout</code></td><td align="left">è¿™ä¸ªè®¾ç½®æ˜¯åœ¨æŠ›å‡ºå¼‚å¸¸ä¹‹å‰ï¼Œé©±åŠ¨ç¨‹åºç­‰å¾…æ•°æ®åº“è¿”å›è¯·æ±‚ç»“æœçš„ç§’æ•°ã€‚é»˜è®¤å€¼ä¸ºæœªè®¾ç½®ï¼ˆunsetï¼‰ï¼ˆä¾èµ–æ•°æ®åº“é©±åŠ¨ï¼‰ã€‚</td></tr></tbody></table><h3 id="insertï¼Œupdateå’Œdelete"><a href="#insertï¼Œupdateå’Œdelete" class="headerlink" title="insertï¼Œupdateå’Œdelete"></a>insertï¼Œupdateå’Œdelete</h3><p>è¿™ä¸‰ä¸ªæ ‡ç­¾å¯¹æ ‡SQLè¯­å¥çš„DMLè¯­å¥</p><table><thead><tr><th align="left">å±æ€§</th><th align="left">æè¿°</th></tr></thead><tbody><tr><td align="left"><code>id</code></td><td align="left">åœ¨å‘½åç©ºé—´ä¸­å”¯ä¸€çš„æ ‡è¯†ç¬¦ï¼Œå¯ä»¥è¢«ç”¨æ¥å¼•ç”¨è¿™æ¡è¯­å¥ã€‚</td></tr><tr><td align="left"><code>parameterType</code></td><td align="left">å°†ä¼šä¼ å…¥è¿™æ¡è¯­å¥çš„å‚æ•°çš„ç±»å…¨é™å®šåæˆ–åˆ«åã€‚è¿™ä¸ªå±æ€§æ˜¯å¯é€‰çš„ï¼Œå› ä¸º MyBatis å¯ä»¥é€šè¿‡ç±»å‹å¤„ç†å™¨ï¼ˆTypeHandlerï¼‰æ¨æ–­å‡ºå…·ä½“ä¼ å…¥è¯­å¥çš„å‚æ•°ï¼Œé»˜è®¤å€¼ä¸ºæœªè®¾ç½®ï¼ˆunsetï¼‰ã€‚</td></tr><tr><td align="left"><code>parameterMap</code></td><td align="left">ç”¨äºå¼•ç”¨å¤–éƒ¨ parameterMap çš„å±æ€§ï¼Œç›®å‰å·²è¢«åºŸå¼ƒã€‚è¯·ä½¿ç”¨è¡Œå†…å‚æ•°æ˜ å°„å’Œ parameterType å±æ€§ã€‚</td></tr><tr><td align="left"><code>flushCache</code></td><td align="left">å°†å…¶è®¾ç½®ä¸º true åï¼Œåªè¦è¯­å¥è¢«è°ƒç”¨ï¼Œéƒ½ä¼šå¯¼è‡´æœ¬åœ°ç¼“å­˜å’ŒäºŒçº§ç¼“å­˜è¢«æ¸…ç©ºï¼Œé»˜è®¤å€¼ï¼šï¼ˆå¯¹ insertã€update å’Œ delete è¯­å¥ï¼‰trueã€‚</td></tr><tr><td align="left"><code>timeout</code></td><td align="left">è¿™ä¸ªè®¾ç½®æ˜¯åœ¨æŠ›å‡ºå¼‚å¸¸ä¹‹å‰ï¼Œé©±åŠ¨ç¨‹åºç­‰å¾…æ•°æ®åº“è¿”å›è¯·æ±‚ç»“æœçš„ç§’æ•°ã€‚é»˜è®¤å€¼ä¸ºæœªè®¾ç½®ï¼ˆunsetï¼‰ï¼ˆä¾èµ–æ•°æ®åº“é©±åŠ¨ï¼‰ã€‚</td></tr><tr><td align="left"><code>statementType</code></td><td align="left">å¯é€‰ STATEMENTï¼ŒPREPARED æˆ– CALLABLEã€‚è¿™ä¼šè®© MyBatis åˆ†åˆ«ä½¿ç”¨ Statementï¼ŒPreparedStatement æˆ– CallableStatementï¼Œé»˜è®¤å€¼ï¼šPREPAREDã€‚</td></tr><tr><td align="left"><code>useGeneratedKeys</code></td><td align="left">ï¼ˆä»…é€‚ç”¨äº insert å’Œ updateï¼‰è¿™ä¼šä»¤ MyBatis ä½¿ç”¨ JDBC çš„ getGeneratedKeys æ–¹æ³•æ¥å–å‡ºç”±æ•°æ®åº“å†…éƒ¨ç”Ÿæˆçš„ä¸»é”®ï¼ˆæ¯”å¦‚ï¼šåƒ MySQL å’Œ SQL Server è¿™æ ·çš„å…³ç³»å‹æ•°æ®åº“ç®¡ç†ç³»ç»Ÿçš„è‡ªåŠ¨é€’å¢å­—æ®µï¼‰ï¼Œé»˜è®¤å€¼ï¼šfalseã€‚</td></tr><tr><td align="left"><code>keyProperty</code></td><td align="left">ï¼ˆä»…é€‚ç”¨äº insert å’Œ updateï¼‰æŒ‡å®šèƒ½å¤Ÿå”¯ä¸€è¯†åˆ«å¯¹è±¡çš„å±æ€§ï¼ŒMyBatis ä¼šä½¿ç”¨ getGeneratedKeys çš„è¿”å›å€¼æˆ– insert è¯­å¥çš„ selectKey å­å…ƒç´ è®¾ç½®å®ƒçš„å€¼ï¼Œé»˜è®¤å€¼ï¼šæœªè®¾ç½®ï¼ˆ<code>unset</code>ï¼‰ã€‚å¦‚æœç”Ÿæˆåˆ—ä¸æ­¢ä¸€ä¸ªï¼Œå¯ä»¥ç”¨é€—å·åˆ†éš”å¤šä¸ªå±æ€§åç§°ã€‚</td></tr></tbody></table><h3 id="sql"><a href="#sql" class="headerlink" title="sql"></a>sql</h3><p>è¯¥æ ‡ç­¾ç”¨æ¥å®šä¹‰sqlç‰‡æ®µï¼Œä¸€èˆ¬ç”¨æ¥å®šä¹‰ä¸€äº›å¯å¤ç”¨çš„SQLè¯­å¥ç‰‡æ®µï¼Œä½¿ç”¨includeæ ‡ç­¾ä»¥åœ¨å…¶ä»–è¯­å¥ä¸­ä½¿ç”¨</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">sql</span> <span class="attr">id</span>=<span class="string">&quot;userColumns&quot;</span>&gt;</span> $&#123;alias&#125;.id,$&#123;alias&#125;.username,$&#123;alias&#125;.password <span class="tag">&lt;/<span class="name">sql</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;selectUsers&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;map&quot;</span>&gt;</span></span><br><span class="line">  select</span><br><span class="line">    <span class="tag">&lt;<span class="name">include</span> <span class="attr">refid</span>=<span class="string">&quot;userColumns&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;alias&quot;</span> <span class="attr">value</span>=<span class="string">&quot;t1&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">include</span>&gt;</span>,</span><br><span class="line">    <span class="tag">&lt;<span class="name">include</span> <span class="attr">refid</span>=<span class="string">&quot;userColumns&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;alias&quot;</span> <span class="attr">value</span>=<span class="string">&quot;t2&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">include</span>&gt;</span></span><br><span class="line">  from some_table t1</span><br><span class="line">    cross join some_table t2</span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="å‚æ•°"><a href="#å‚æ•°" class="headerlink" title="å‚æ•°"></a>å‚æ•°</h3><p>å¦‚æœä¼ å…¥ä¸€ä¸ªå¤æ‚çš„å¯¹è±¡ï¼Œè¡Œä¸ºå°±ä¼šæœ‰ç‚¹ä¸ä¸€æ ·äº†ã€‚æ¯”å¦‚ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">insert</span> <span class="attr">id</span>=<span class="string">&quot;insertUser&quot;</span> <span class="attr">parameterType</span>=<span class="string">&quot;User&quot;</span>&gt;</span></span><br><span class="line">  insert into users (id, username, password)</span><br><span class="line">  values (#&#123;id&#125;, #&#123;username&#125;, #&#123;password&#125;)</span><br><span class="line"><span class="tag">&lt;/<span class="name">insert</span>&gt;</span></span><br></pre></td></tr></table></figure><p><strong>JDBC è¦æ±‚ï¼Œå¦‚æœä¸€ä¸ªåˆ—å…è®¸ä½¿ç”¨ null å€¼ï¼Œå¹¶ä¸”å¯èƒ½ä¼šä½¿ç”¨å€¼ä¸º null çš„å‚æ•°ï¼Œå°±å¿…é¡»è¦æŒ‡å®š JDBC ç±»å‹ï¼ˆjdbcType)</strong></p><h4 id="å­—ç¬¦ä¸²æ›¿æ¢"><a href="#å­—ç¬¦ä¸²æ›¿æ¢" class="headerlink" title="å­—ç¬¦ä¸²æ›¿æ¢"></a>å­—ç¬¦ä¸²æ›¿æ¢</h4><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œä½¿ç”¨#{}è·å–å‚æ•°çš„å€¼çš„æ—¶å€™ï¼Œmybatisä¼šåˆ›å»ºä¸€ä¸ªPreparedStatementå¯¹è±¡ï¼Œé€šè¿‡é¢„ç¼–è¯‘ï¼Œç”Ÿæˆä¸#{}å‡ºç°æ¬¡æ•°ç›¸åŒçš„å ä½ç¬¦ï¼ˆå³ ? ï¼‰è¿™æ ·æ›´å®‰å…¨å¹¶ä¸”æ›´è¿…é€Ÿã€‚</p><p>ä½†æ˜¯æœ‰æ—¶å€™æƒ³ç›´æ¥åœ¨SQLè¯­å¥ä¸­æ’å…¥ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œä¸éœ€è¦è½¬ä¹‰æ­¤å­—ç¬¦ä¸²ï¼ˆå³ä¸éœ€è¦å ä½ç¬¦ï¼‰ï¼Œæ¯”å¦‚ORDER BYè¯­å¥ï¼Œè¿™æ—¶å€™å¯ä»¥ä½¿ç”¨${}è¯­å¥ï¼Œè¿™æ ·çš„è¯ï¼Œmybatiså°±ä¸ä¼šè½¬ä¹‰è¯¥å­—ç¬¦ä¸²äº†</p><p>å½“ SQL è¯­å¥ä¸­çš„å…ƒæ•°æ®ï¼ˆå¦‚è¡¨åæˆ–åˆ—åï¼‰æ˜¯åŠ¨æ€ç”Ÿæˆçš„æ—¶å€™ï¼Œå­—ç¬¦ä¸²æ›¿æ¢å°†ä¼šéå¸¸æœ‰ç”¨ã€‚</p><blockquote><p>ä¸¾ä¸ªæ —å­ï¼Œå¦‚æœä½ æƒ³ <code>select</code> ä¸€ä¸ªè¡¨ä»»æ„ä¸€åˆ—çš„æ•°æ®æ—¶ï¼Œä¸éœ€è¦è¿™æ ·å†™ï¼š</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Select(&quot;select * from user where id = #&#123;id&#125;&quot;)</span></span><br><span class="line"><span class="function">User <span class="title">findById</span><span class="params">(<span class="meta">@Param(&quot;id&quot;)</span> <span class="keyword">long</span> id)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Select(&quot;select * from user where name = #&#123;name&#125;&quot;)</span></span><br><span class="line"><span class="function">User <span class="title">findByName</span><span class="params">(<span class="meta">@Param(&quot;name&quot;)</span> String name)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Select(&quot;select * from user where email = #&#123;email&#125;&quot;)</span></span><br><span class="line"><span class="function">User <span class="title">findByEmail</span><span class="params">(<span class="meta">@Param(&quot;email&quot;)</span> String email)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å…¶å®ƒçš„ &quot;findByXxx&quot; æ–¹æ³•</span></span><br></pre></td></tr></table></figure><p>è€Œæ˜¯å¯ä»¥åªå†™è¿™æ ·ä¸€ä¸ªæ–¹æ³•ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Select(&quot;select * from user where $&#123;column&#125; = #&#123;value&#125;&quot;)</span></span><br><span class="line"><span class="function">User <span class="title">findByColumn</span><span class="params">(<span class="meta">@Param(&quot;column&quot;)</span> String column, <span class="meta">@Param(&quot;value&quot;)</span> String value)</span></span>;</span><br></pre></td></tr></table></figure><p>å…¶ä¸­ <code>$&#123;column&#125;</code> ä¼šè¢«ç›´æ¥æ›¿æ¢ï¼Œè€Œ <code>#&#123;value&#125;</code> ä¼šä½¿ç”¨ <code>?</code> é¢„å¤„ç†ã€‚ è¿™æ ·ï¼Œå°±èƒ½å®ŒæˆåŒæ ·çš„ä»»åŠ¡ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">User userOfId1 = userMapper.findByColumn(<span class="string">&quot;id&quot;</span>, <span class="number">1L</span>);</span><br><span class="line">User userOfNameKid = userMapper.findByColumn(<span class="string">&quot;name&quot;</span>, <span class="string">&quot;kid&quot;</span>);</span><br><span class="line">User userOfEmail = userMapper.findByColumn(<span class="string">&quot;email&quot;</span>, <span class="string">&quot;noone@nowhere.com&quot;</span>);</span><br></pre></td></tr></table></figure><h4 id="ç»“æœé›†æ˜ å°„"><a href="#ç»“æœé›†æ˜ å°„" class="headerlink" title="ç»“æœé›†æ˜ å°„"></a>ç»“æœé›†æ˜ å°„</h4><p>å¯ä»¥è‡ªå®šä¹‰ä¸€äº›å¤æ‚çš„è¿”å›å€¼å¯¹è±¡</p><h5 id="ç®€å•ç»“æœé›†æ˜ å°„"><a href="#ç®€å•ç»“æœé›†æ˜ å°„" class="headerlink" title="ç®€å•ç»“æœé›†æ˜ å°„"></a>ç®€å•ç»“æœé›†æ˜ å°„</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="meta">@NoArgsConstructor</span></span><br><span class="line"><span class="meta">@AllArgsConstructor</span></span><br><span class="line"><span class="meta">@Alias(&quot;aliasStudent&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Student</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> Integer id;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> Integer tid;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;getStudentById&quot;</span> <span class="attr">resultMap</span>=<span class="string">&quot;studentMap&quot;</span>&gt;</span></span><br><span class="line">    select student_id,student_name,student_tid from student where id = #&#123;id&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">resultMap</span> <span class="attr">id</span>=<span class="string">&quot;studentMap&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">id</span> <span class="attr">column</span>=<span class="string">&quot;student_id&quot;</span> <span class="attr">property</span>=<span class="string">&quot;id&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">result</span> <span class="attr">column</span>=<span class="string">&quot;student_name&quot;</span> <span class="attr">property</span>=<span class="string">&quot;name&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">result</span> <span class="attr">column</span>=<span class="string">&quot;student_tid&quot;</span> <span class="attr">property</span>=<span class="string">&quot;tid&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">resultMap</span>&gt;</span></span><br></pre></td></tr></table></figure><h5 id="é«˜çº§ç»“æœé›†æ˜ å°„"><a href="#é«˜çº§ç»“æœé›†æ˜ å°„" class="headerlink" title="é«˜çº§ç»“æœé›†æ˜ å°„"></a>é«˜çº§ç»“æœé›†æ˜ å°„</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="meta">@NoArgsConstructor</span></span><br><span class="line"><span class="meta">@AllArgsConstructor</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Teacher</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> id;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">resultMap</span> <span class="attr">id</span>=<span class="string">&quot;teacherMap&quot;</span> <span class="attr">type</span>=<span class="string">&quot;com.lizhi.pojo.Teacher&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">id</span> <span class="attr">property</span>=<span class="string">&quot;id&quot;</span> <span class="attr">column</span>=<span class="string">&quot;tid&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span>=<span class="string">&quot;name&quot;</span> <span class="attr">column</span>=<span class="string">&quot;tname&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">collection</span> <span class="attr">property</span>=<span class="string">&quot;students&quot;</span> <span class="attr">ofType</span>=<span class="string">&quot;student&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">id</span> <span class="attr">property</span>=<span class="string">&quot;id&quot;</span> <span class="attr">column</span>=<span class="string">&quot;sid&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span>=<span class="string">&quot;name&quot;</span> <span class="attr">column</span>=<span class="string">&quot;sname&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">association</span> <span class="attr">property</span>=<span class="string">&quot;teacher&quot;</span> <span class="attr">javaType</span>=<span class="string">&quot;teacher&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">id</span> <span class="attr">property</span>=<span class="string">&quot;id&quot;</span> <span class="attr">column</span>=<span class="string">&quot;tid&quot;</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span>=<span class="string">&quot;name&quot;</span> <span class="attr">column</span>=<span class="string">&quot;tname&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">association</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">collection</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">resultMap</span>&gt;</span></span><br></pre></td></tr></table></figure><p>resultMapçš„å­æ ‡ç­¾</p><ul><li><p><code>constructor</code></p><p>ç”¨äºåœ¨å®ä¾‹åŒ–ç±»æ—¶ï¼Œæ³¨å…¥ç»“æœåˆ°æ„é€ æ–¹æ³•ä¸­</p><ul><li><code>idArg</code> - ID å‚æ•°ï¼›æ ‡è®°å‡ºä½œä¸º ID çš„ç»“æœå¯ä»¥å¸®åŠ©æé«˜æ•´ä½“æ€§èƒ½</li><li><code>arg</code> - å°†è¢«æ³¨å…¥åˆ°æ„é€ æ–¹æ³•çš„ä¸€ä¸ªæ™®é€šç»“æœ</li></ul></li><li><p><code>id</code> â€“ ä¸€ä¸ª ID ç»“æœï¼›æ ‡è®°å‡ºä½œä¸º ID çš„ç»“æœå¯ä»¥å¸®åŠ©æé«˜æ•´ä½“æ€§èƒ½</p></li><li><p><code>result</code> â€“ æ³¨å…¥åˆ°å­—æ®µæˆ– JavaBean å±æ€§çš„æ™®é€šç»“æœ</p></li><li><p><code>association</code></p><p>ä¸€ä¸ªå¤æ‚ç±»å‹çš„å…³è”,è®¸å¤šç»“æœå°†åŒ…è£…æˆè¿™ç§ç±»å‹</p><ul><li>åµŒå¥—ç»“æœæ˜ å°„ â€“ å…³è”å¯ä»¥æ˜¯ <code>resultMap</code> å…ƒç´ ï¼Œæˆ–æ˜¯å¯¹å…¶å®ƒç»“æœæ˜ å°„çš„å¼•ç”¨</li></ul></li><li><p><code>collection</code></p><p>ä¸€ä¸ªå¤æ‚ç±»å‹çš„é›†åˆ</p><ul><li>åµŒå¥—ç»“æœæ˜ å°„ â€“ é›†åˆå¯ä»¥æ˜¯ <code>resultMap</code> å…ƒç´ ï¼Œæˆ–æ˜¯å¯¹å…¶å®ƒç»“æœæ˜ å°„çš„å¼•ç”¨</li></ul></li></ul><h6 id="constructor-NaN"><a href="#constructor-NaN" class="headerlink" title="constructor"></a>constructor</h6><p>æœ‰äº›æƒ…å†µä¸‹ï¼Œä½ ä¼šä½¿ç”¨ä¸€ä¸ªä¸å¯å˜ç±»ï¼Œå³é‚£äº›å¾ˆå°‘æ”¹å˜æˆ–è€…åŸºæœ¬ä¸å˜çš„ç±»ï¼Œå³å¯ä»¥ä½¿ç”¨æ„é€ æ–¹æ³•æ³¨å…¥</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">constructor</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">idArg</span> <span class="attr">column</span>=<span class="string">&quot;id&quot;</span> <span class="attr">javaType</span>=<span class="string">&quot;int&quot;</span> <span class="attr">name</span>=<span class="string">&quot;id&quot;</span> /&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">arg</span> <span class="attr">column</span>=<span class="string">&quot;age&quot;</span> <span class="attr">javaType</span>=<span class="string">&quot;_int&quot;</span> <span class="attr">name</span>=<span class="string">&quot;age&quot;</span> /&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">arg</span> <span class="attr">column</span>=<span class="string">&quot;username&quot;</span> <span class="attr">javaType</span>=<span class="string">&quot;String&quot;</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">constructor</span>&gt;</span></span><br></pre></td></tr></table></figure><h5 id="id-amp-result"><a href="#id-amp-result" class="headerlink" title="id &amp; result"></a>id &amp; result</h5><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">id</span> <span class="attr">property</span>=<span class="string">&quot;id&quot;</span> <span class="attr">column</span>=<span class="string">&quot;post_id&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span>=<span class="string">&quot;subject&quot;</span> <span class="attr">column</span>=<span class="string">&quot;post_subject&quot;</span>/&gt;</span></span><br></pre></td></tr></table></figure><p>è¿™äº›å…ƒç´ æ˜¯ç»“æœæ˜ å°„çš„åŸºç¡€ã€‚</p><p><em>id</em> å’Œ <em>result</em> å…ƒç´ éƒ½å°†ä¸€ä¸ªåˆ—çš„å€¼æ˜ å°„åˆ°ä¸€ä¸ªç®€å•æ•°æ®ç±»å‹ï¼ˆString, int, double, Date ç­‰ï¼‰çš„å±æ€§æˆ–å­—æ®µã€‚</p><p>è¿™ä¸¤è€…ä¹‹é—´çš„å”¯ä¸€ä¸åŒæ˜¯ï¼Œ<em>id</em> å…ƒç´ å¯¹åº”çš„å±æ€§ä¼šè¢«æ ‡è®°ä¸ºå¯¹è±¡çš„æ ‡è¯†ç¬¦ï¼Œåœ¨æ¯”è¾ƒå¯¹è±¡å®ä¾‹æ—¶ä½¿ç”¨ã€‚</p><p> è¿™æ ·å¯ä»¥æé«˜æ•´ä½“çš„æ€§èƒ½ï¼Œå°¤å…¶æ˜¯è¿›è¡Œç¼“å­˜å’ŒåµŒå¥—ç»“æœæ˜ å°„ï¼ˆä¹Ÿå°±æ˜¯è¿æ¥æ˜ å°„ï¼‰çš„æ—¶å€™ã€‚</p><p>ä¸¤ä¸ªå…ƒç´ éƒ½æœ‰ä¸€äº›å±æ€§ï¼š</p><table><thead><tr><th align="left">å±æ€§</th><th align="left">æè¿°</th></tr></thead><tbody><tr><td align="left"><code>property</code></td><td align="left">æ˜ å°„åˆ°åˆ—ç»“æœçš„å­—æ®µæˆ–å±æ€§ã€‚å¦‚æœ JavaBean æœ‰è¿™ä¸ªåå­—çš„å±æ€§ï¼ˆpropertyï¼‰ï¼Œä¼šå…ˆä½¿ç”¨è¯¥å±æ€§ã€‚å¦åˆ™ MyBatis å°†ä¼šå¯»æ‰¾ç»™å®šåç§°çš„å­—æ®µï¼ˆfieldï¼‰ã€‚</td></tr><tr><td align="left"><code>column</code></td><td align="left">æ•°æ®åº“ä¸­çš„åˆ—åï¼Œæˆ–è€…æ˜¯åˆ—çš„åˆ«åã€‚</td></tr><tr><td align="left"><code>javaType</code></td><td align="left">ä¸€ä¸ª Java ç±»çš„å…¨é™å®šåï¼Œæˆ–ä¸€ä¸ªç±»å‹åˆ«åï¼ˆå…³äºå†…ç½®çš„ç±»å‹åˆ«åï¼Œå¯ä»¥å‚è€ƒä¸Šé¢çš„è¡¨æ ¼ï¼‰ã€‚ å¦‚æœä½ æ˜ å°„åˆ°ä¸€ä¸ª JavaBeanï¼ŒMyBatis é€šå¸¸å¯ä»¥æ¨æ–­ç±»å‹ã€‚ç„¶è€Œï¼Œå¦‚æœä½ æ˜ å°„åˆ°çš„æ˜¯ HashMapï¼Œé‚£ä¹ˆä½ åº”è¯¥æ˜ç¡®åœ°æŒ‡å®š javaType æ¥ä¿è¯è¡Œä¸ºä¸æœŸæœ›çš„ç›¸ä¸€è‡´ã€‚</td></tr><tr><td align="left"><code>jdbcType</code></td><td align="left">JDBC ç±»å‹ï¼Œæ‰€æ”¯æŒçš„ JDBC ç±»å‹å‚è§è¿™ä¸ªè¡¨æ ¼ä¹‹åçš„â€œæ”¯æŒçš„ JDBC ç±»å‹â€ã€‚ åªéœ€è¦åœ¨å¯èƒ½æ‰§è¡Œæ’å…¥ã€æ›´æ–°å’Œåˆ é™¤çš„ä¸”å…è®¸ç©ºå€¼çš„åˆ—ä¸ŠæŒ‡å®š JDBC ç±»å‹ã€‚è¿™æ˜¯ JDBC çš„è¦æ±‚è€Œé MyBatis çš„è¦æ±‚ã€‚å¦‚æœä½ ç›´æ¥é¢å‘ JDBC ç¼–ç¨‹ï¼Œä½ éœ€è¦å¯¹å¯ä»¥ä¸ºç©ºå€¼çš„åˆ—æŒ‡å®šè¿™ä¸ªç±»å‹ã€‚</td></tr></tbody></table><blockquote><p>jdbcTypeæ”¯æŒçš„ JDBC ç±»å‹</p></blockquote><p>ä¸ºäº†ä»¥åå¯èƒ½çš„ä½¿ç”¨åœºæ™¯ï¼ŒMyBatis é€šè¿‡å†…ç½®çš„ jdbcType æšä¸¾ç±»å‹æ”¯æŒä¸‹é¢çš„ JDBC ç±»å‹ã€‚</p><table><thead><tr><th><code>BIT</code></th><th><code>FLOAT</code></th><th><code>CHAR</code></th><th><code>TIMESTAMP</code></th><th><code>OTHER</code></th><th><code>UNDEFINED</code></th></tr></thead><tbody><tr><td><code>TINYINT</code></td><td><code>REAL</code></td><td><code>VARCHAR</code></td><td><code>BINARY</code></td><td><code>BLOB</code></td><td><code>NVARCHAR</code></td></tr><tr><td><code>SMALLINT</code></td><td><code>DOUBLE</code></td><td><code>LONGVARCHAR</code></td><td><code>VARBINARY</code></td><td><code>CLOB</code></td><td><code>NCHAR</code></td></tr><tr><td><code>INTEGER</code></td><td><code>NUMERIC</code></td><td><code>DATE</code></td><td><code>LONGVARBINARY</code></td><td><code>BOOLEAN</code></td><td><code>NCLOB</code></td></tr><tr><td><code>BIGINT</code></td><td><code>DECIMAL</code></td><td><code>TIME</code></td><td><code>NULL</code></td><td><code>CURSOR</code></td><td><code>ARRAY</code></td></tr></tbody></table><h5 id="association"><a href="#association" class="headerlink" title="association"></a>association</h5><p>è¯¥æ ‡ç­¾å¤„ç†ä¸€ä¸ªå¯¹è±¡èšåˆå¦ä¸€ä¸ªå¯¹è±¡çš„å…³ç³»ã€‚</p><p>mybatisæœ‰ä¸¤ç§ä¸åŒæ–¹å¼å»åŠ è½½å…³è”</p><ol><li>åµŒå¥—selectæŸ¥è¯¢ï¼šé€šè¿‡å¦ä¸€ä¸ªSQLè¯­å¥å»åŠ è½½å¤æ‚å¯¹è±¡</li><li>åµŒå¥—ç»“æœæŸ¥è¯¢ï¼šé€šè¿‡è¿æ¥æŸ¥è¯¢ç›´æ¥å°†æ‰€æœ‰çš„ç»“æœæŸ¥è¯¢å‡ºæ¥ï¼Œæ”¾åœ¨ä¸€å¼ è¡¨é‡Œé¢</li></ol><h6 id="åµŒå¥—selectæŸ¥è¯¢ï¼ˆä¸æ¨èï¼‰"><a href="#åµŒå¥—selectæŸ¥è¯¢ï¼ˆä¸æ¨èï¼‰" class="headerlink" title="åµŒå¥—selectæŸ¥è¯¢ï¼ˆä¸æ¨èï¼‰"></a>åµŒå¥—selectæŸ¥è¯¢ï¼ˆä¸æ¨èï¼‰</h6><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">resultMap</span> <span class="attr">id</span>=<span class="string">&quot;StudentMap&quot;</span> <span class="attr">type</span>=<span class="string">&quot;student&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">result</span> <span class="attr">column</span>=<span class="string">&quot;tid&quot;</span> <span class="attr">property</span>=<span class="string">&quot;tid&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">association</span> <span class="attr">property</span>=<span class="string">&quot;teacher&quot;</span> <span class="attr">column</span>=<span class="string">&quot;tid&quot;</span> <span class="attr">javaType</span>=<span class="string">&quot;teacher&quot;</span> <span class="attr">select</span>=<span class="string">&quot;getTeacherById&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">resultMap</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;getTeacherById&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;teacher&quot;</span>&gt;</span></span><br><span class="line">    select * from teacher where id = #&#123;tid&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;getStudentById&quot;</span> <span class="attr">resultMap</span>=<span class="string">&quot;StudentMap&quot;</span>&gt;</span></span><br><span class="line">    select * from student where id = #&#123;id&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¼˜ç‚¹ï¼šSQLè¯­å¥å†™èµ·æ¥æ–¹ä¾¿</p><p>ç¼ºç‚¹ï¼šå¤šå±‚SQLåµŒå¥—ï¼Œä¸æ˜“äºç»´æŠ¤ï¼Œä½¿ç”¨äº†mybatisçš„ç›¸å…³æ’ä»¶ä¼šå¯¼è‡´selectè¯­å¥çˆ†çº¢ï¼Œçœ‹èµ·æ¥ä¸èˆ’æœ</p><p>å¯¹äºå¤§å‹æ•°æ®ä¸Šï¼Œè¿™é‡Œæœ‰ä¸€ä¸ªâ€œN+1æŸ¥è¯¢é—®é¢˜â€ï¼Œé—®é¢˜æè¿°å¦‚ä¸‹</p><ul><li>æ‰§è¡Œäº†ä¸€ä¸ªå•ç‹¬çš„SQLè¯­å¥å»åŠ è½½æ¯ä¸€æ¡è®°å½•çš„è¯¦ç»†ä¿¡æ¯ï¼ˆå°±æ˜¯+1ï¼‰</li><li>å¯¹è¿”å›çš„åˆ—è¡¨çš„æ¯ä¸€æ¡è®°å½•ï¼Œéƒ½éœ€è¦æ‰§è¡Œè¿™æ ·çš„ä¸€ä¸ªå•ç‹¬çš„SQLè¯­å¥å»åŠ è½½è¯¦ç»†ä¿¡æ¯ï¼ˆå°±æ˜¯Nï¼‰</li></ul><p>è¿™æ ·ä¼šå¯¼è‡´è¿è¡Œæˆåƒä¸Šä¸‡æ¡sqlè¯­å¥ï¼Œå¤§å¤§å¢åŠ ç³»ç»Ÿå¼€é”€ï¼Œè¿™æ˜¯æˆ‘ä»¬ä¸å¸Œæœ›çœ‹åˆ°çš„</p><h6 id="åµŒå¥—ç»“æœæŸ¥è¯¢ï¼ˆæ¨èï¼‰"><a href="#åµŒå¥—ç»“æœæŸ¥è¯¢ï¼ˆæ¨èï¼‰" class="headerlink" title="åµŒå¥—ç»“æœæŸ¥è¯¢ï¼ˆæ¨èï¼‰"></a>åµŒå¥—ç»“æœæŸ¥è¯¢ï¼ˆæ¨èï¼‰</h6><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">resultMap</span> <span class="attr">id</span>=<span class="string">&quot;studentMap&quot;</span> <span class="attr">type</span>=<span class="string">&quot;student&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">id</span> <span class="attr">property</span>=<span class="string">&quot;id&quot;</span> <span class="attr">column</span>=<span class="string">&quot;sid&quot;</span> <span class="attr">javaType</span>=<span class="string">&quot;_int&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span>=<span class="string">&quot;name&quot;</span> <span class="attr">column</span>=<span class="string">&quot;sname&quot;</span> <span class="attr">javaType</span>=<span class="string">&quot;string&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span>=<span class="string">&quot;tid&quot;</span> <span class="attr">column</span>=<span class="string">&quot;tid&quot;</span> <span class="attr">javaType</span>=<span class="string">&quot;_int&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">association</span> <span class="attr">property</span>=<span class="string">&quot;teacher&quot;</span> <span class="attr">javaType</span>=<span class="string">&quot;teacher&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">id</span> <span class="attr">property</span>=<span class="string">&quot;id&quot;</span> <span class="attr">column</span>=<span class="string">&quot;tid&quot;</span> <span class="attr">javaType</span>=<span class="string">&quot;_int&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span>=<span class="string">&quot;name&quot;</span> <span class="attr">column</span>=<span class="string">&quot;tname&quot;</span> <span class="attr">javaType</span>=<span class="string">&quot;string&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">association</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">resultMap</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;getStudentById&quot;</span> <span class="attr">resultMap</span>=<span class="string">&quot;studentMap&quot;</span>&gt;</span></span><br><span class="line">    select</span><br><span class="line">    s.id sid, s.name sname, tid, t.name tname</span><br><span class="line">    from student s inner join teacher t</span><br><span class="line">    on s.id = #&#123;id&#125; and tid = t.id</span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure><p>ä¼˜ç‚¹ï¼šé…ç½®resultMapååˆ†æ–¹ä¾¿ï¼Œé€»è¾‘ååˆ†æ¸…æ¥šï¼Œæ–¹ä¾¿æŸ¥é”™å’Œç»´æŠ¤</p><p>ç¼ºç‚¹ï¼šè¿æ¥æŸ¥è¯¢çš„SQLè¯­å¥å†™èµ·æ¥éš¾åº¦å¤§ï¼Œ</p><h5 id="collection"><a href="#collection" class="headerlink" title="collection"></a>collection</h5><p>collectionå¯ä»¥è¯´æ˜¯å¤šä¸ªç±»å‹çš„å…³è”ï¼Œæ‰€ä»¥ä¸associationçš„å¤„ç†ååˆ†ç›¸ä¼¼</p><h6 id="åµŒå¥—selectæŸ¥è¯¢"><a href="#åµŒå¥—selectæŸ¥è¯¢" class="headerlink" title="åµŒå¥—selectæŸ¥è¯¢"></a>åµŒå¥—selectæŸ¥è¯¢</h6><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">resultMap</span> <span class="attr">id</span>=<span class="string">&quot;teacherMap&quot;</span> <span class="attr">type</span>=<span class="string">&quot;teacher&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">collection</span> <span class="attr">property</span>=<span class="string">&quot;students&quot;</span> <span class="attr">javaType</span>=<span class="string">&quot;ArrayList&quot;</span> <span class="attr">column</span>=<span class="string">&quot;id&quot;</span> <span class="attr">ofType</span>=<span class="string">&quot;student&quot;</span>  <span class="attr">select</span>=<span class="string">&quot;getStudentsByTid&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">resultMap</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;getStudentsByTid&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;student&quot;</span>&gt;</span></span><br><span class="line">    select * from student where tid = #&#123;id&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;getTeacherById&quot;</span> <span class="attr">resultMap</span>=<span class="string">&quot;teacherMap&quot;</span>&gt;</span></span><br><span class="line">    SELECT * FROM teacher WHERE id = #&#123;id&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure><p><em>æ³¨æ„</em>ï¼š<em>è¿™é‡Œéœ€è¦ä½¿ç”¨ofTypeæ¥æŒ‡å®šé›†åˆçš„æ³›å‹</em></p><h6 id="åµŒå¥—ç»“æœæŸ¥è¯¢"><a href="#åµŒå¥—ç»“æœæŸ¥è¯¢" class="headerlink" title="åµŒå¥—ç»“æœæŸ¥è¯¢"></a>åµŒå¥—ç»“æœæŸ¥è¯¢</h6><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">resultMap</span> <span class="attr">id</span>=<span class="string">&quot;teacherMap&quot;</span> <span class="attr">type</span>=<span class="string">&quot;teacher&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">id</span> <span class="attr">property</span>=<span class="string">&quot;id&quot;</span> <span class="attr">column</span>=<span class="string">&quot;tid&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span>=<span class="string">&quot;name&quot;</span> <span class="attr">column</span>=<span class="string">&quot;tname&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">collection</span> <span class="attr">property</span>=<span class="string">&quot;students&quot;</span> <span class="attr">ofType</span>=<span class="string">&quot;student&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">id</span> <span class="attr">property</span>=<span class="string">&quot;id&quot;</span> <span class="attr">column</span>=<span class="string">&quot;sid&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span>=<span class="string">&quot;name&quot;</span> <span class="attr">column</span>=<span class="string">&quot;sname&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span>=<span class="string">&quot;tid&quot;</span> <span class="attr">column</span>=<span class="string">&quot;tid&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">collection</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">resultMap</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;getTeacherById&quot;</span> <span class="attr">resultMap</span>=<span class="string">&quot;teacherMap&quot;</span>&gt;</span></span><br><span class="line">    SELECT</span><br><span class="line">    t.name tname,t.id tid,s.id sid, s.name sname</span><br><span class="line">    FROM teacher t inner join student s on t.id=#&#123;id&#125; and s.tid=#&#123;id&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="ç¼“å­˜"><a href="#ç¼“å­˜" class="headerlink" title="ç¼“å­˜"></a>ç¼“å­˜</h3><p>é¦–å…ˆæˆ‘ä»¬å…ˆæ¥çœ‹ä¸€ä¸‹åˆ°åº•ä»€ä¹ˆæ˜¯ç¼“å­˜ï¼Ÿ</p><p>ç¼“å­˜è¿™ä¸ªè¯ï¼Œç›¸ä¿¡å¤§å®¶å¯¹å…¶ä¸ä¼šé™Œç”Ÿï¼Œå› ä¸ºæˆ‘ä»¬åœ¨bç«™ï¼Œè…¾è®¯è§†é¢‘è¿™ä¸€ç±»è§†é¢‘APPä¸­éƒ½ä¼šç¼“å­˜è¿‡ä¸€äº›è§†é¢‘ã€‚</p><p>é‚£æˆ‘ä»¬å¯ä»¥ä»ä¸­å½’çº³å‡ºï¼Œç¼“å­˜å°±æ˜¯ç¨‹åºä»¥æŸç§å½¢å¼å°†æ•°æ®ä¿å­˜ä¸‹æ¥ï¼Œæ–¹ä¾¿ä¸‹ä¸€æ¬¡çš„ä½¿ç”¨ã€‚</p><p>é‚£æˆ‘ä»¬ä¸ºä»€ä¹ˆéœ€è¦ä½¿ç”¨ç¼“å­˜å‘¢ï¼Ÿ</p><p>æˆ‘ä»¬éƒ½çŸ¥é“ï¼Œæˆ‘ä»¬ç¨‹åºå‘˜è¦è¿½æ±‚ä¸‰é«˜ï¼Œå½“ç„¶ä¸ä¼šæ˜¯é«˜è¡€è„‚ï¼Œé«˜è¡€ç³–ï¼Œé«˜è¡€å‹ã€‚æˆ‘ä»¬æ‰€è¯´çš„ä¸‰é«˜æ˜¯é«˜å¹¶å‘ï¼Œé«˜å¯ç”¨ï¼Œé«˜æ€§èƒ½ã€‚ä¼—æ‰€å‘¨çŸ¥ï¼Œå¯¹äºæ•°æ®åº“çš„æ“ä½œæ˜¯æ¯”è¾ƒæ¶ˆè€—èµ„æºçš„ã€‚å› æ­¤ï¼Œå¤šæ¬¡è¿æ¥æ•°æ®åº“ä¸åˆ©äºæˆ‘ä»¬è¾¾åˆ°ä¸‰é«˜ï¼Œé‚£ä¹ˆç¼“å­˜å°±æ˜¯ä¼šå¸®åŠ©æˆ‘ä»¬è¾¾åˆ°ä¸‰é«˜çš„ä¸€ç§æŠ€æœ¯ã€‚</p><p>æˆ‘ä»¬å°†ç”¨æˆ·ç»å¸¸æŸ¥è¯¢ï¼Œå¹¶ä¸”å¾ˆå°‘å‘ç”Ÿæ”¹å˜çš„æ•°æ®æ”¾å…¥ç¼“å­˜ä¸­ï¼Œå½“ç”¨æˆ·ä¸‹ä¸€æ¬¡æŸ¥è¯¢åŒæ ·çš„æ•°æ®æ—¶ï¼Œå°±ä¸ç”¨å†å»è¿æ¥æ•°æ®åº“æŸ¥è¯¢æ•°æ®äº†ï¼Œå‡å°‘äº†è®¿é—®æ•°æ®åº“çš„æ¬¡æ•°ï¼Œå‡å°‘äº†ç³»ç»Ÿå¼€é”€ï¼Œä»è€Œæé«˜äº†æ€§èƒ½ã€‚</p><hr><p>åœ¨mybatisä¸­ï¼Œå­˜åœ¨ç€ä¸¤ç§ç¼“å­˜æœºåˆ¶ï¼šä¸€çº§ç¼“å­˜å’ŒäºŒçº§ç¼“å­˜</p><h4 id="ä¸€çº§ç¼“å­˜"><a href="#ä¸€çº§ç¼“å­˜" class="headerlink" title="ä¸€çº§ç¼“å­˜"></a>ä¸€çº§ç¼“å­˜</h4><p>è¯¥çº§åˆ«çš„ç¼“å­˜ï¼Œmybatisæ˜¯é»˜è®¤å¼€å¯çš„ï¼Œå¹¶ä¸”æ— æ³•å…³é—­ã€‚</p><p>è¯¥ç¼“å­˜æ˜¯sqlSessionçº§åˆ«çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ä½œç”¨åŸŸå’Œæˆ‘ä»¬ä¹‹å‰è°ˆè¿‡çš„sqlSessionçš„ä½œç”¨åŸŸä¸€è‡´</p><p>å› ä¸ºç”¨æˆ·å¤§éƒ¨åˆ†æ“ä½œéƒ½æ˜¯æŸ¥è¯¢ï¼Œä½†æ˜¯å¦‚æœå‡ºç°äº†DMLè¯­å¥ï¼ˆå³å¢åˆ æ”¹ï¼‰çš„æ—¶å€™ï¼Œå¯èƒ½ä¼šå¯¹ç¼“å­˜ä¸­çš„æ•°æ®é€ æˆäº†ä¿®æ”¹ï¼Œä¸ºäº†å®‰å…¨èµ·è§ï¼Œå½“å‘ç”Ÿå¢åˆ æ”¹æ“ä½œçš„æ—¶å€™ï¼Œä¸€çº§ç¼“å­˜å³åˆ»å¤±æ•ˆã€‚</p><p>å½“ç„¶æˆ‘ä»¬ä¹Ÿå¯ä»¥æ‰‹åŠ¨æ¸…ç†ç¼“å­˜</p><h4 id="äºŒçº§ç¼“å­˜"><a href="#äºŒçº§ç¼“å­˜" class="headerlink" title="äºŒçº§ç¼“å­˜"></a>äºŒçº§ç¼“å­˜</h4><p>è¯¥çº§åˆ«çš„ç¼“å­˜ï¼Œæ˜¯é»˜è®¤å…³é—­çš„ï¼Œéœ€æ‰‹åŠ¨æ‰“å¼€</p><ol><li>åœ¨mapperæ˜ å°„å™¨æ–‡ä»¶ä¸­ï¼Œæ·»åŠ ä»¥ä¸‹ä¸€è¡Œä»£ç </li></ol><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">cache</span>/&gt;</span></span><br><span class="line">//æˆ–è€…åŠ ä¸€äº›é…ç½®</span><br><span class="line"><span class="tag">&lt;<span class="name">cache</span></span></span><br><span class="line"><span class="tag">  <span class="attr">eviction</span>=<span class="string">&quot;FIFO&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">flushInterval</span>=<span class="string">&quot;60000&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">size</span>=<span class="string">&quot;512&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">readOnly</span>=<span class="string">&quot;true&quot;</span>/&gt;</span></span><br></pre></td></tr></table></figure><ol start="2"><li>åœ¨mybatis-config.xmlæ–‡ä»¶ä¸­</li></ol><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">//å¯èƒ½æœ‰çš„å°ä¼™ä¼´ä¼šè¯´ï¼Œè¯¥è®¾ç½®é»˜è®¤å°±æ˜¯trueï¼Œä¸éœ€è¦å†™è¿™ä¸€è¡Œä»£ç </span><br><span class="line">//ä½†æ˜¯ï¼Œä¸ºäº†æ˜¾å¼è¯´æ˜æˆ‘ä»¬å¼€å¯äº†äºŒçº§ç¼“å­˜ï¼Œæœ€å¥½è¿˜æ˜¯æ ‡æ³¨å‡ºæ¥</span><br><span class="line"><span class="tag">&lt;<span class="name">setting</span> <span class="attr">name</span>=<span class="string">&quot;cacheEnabled&quot;</span> <span class="attr">value</span>=<span class="string">&quot;true&quot;</span>/&gt;</span></span><br></pre></td></tr></table></figure><blockquote><p>æ³¨ï¼šå¦‚æœåœ¨cacheæ ‡ç­¾ä¸­æ²¡æœ‰åŠ å…¥readOnly&#x3D;â€œtrueâ€ï¼Œåˆ™éœ€è¦å°†æ¨¡å‹ç±»å®ç°åºåˆ—åŒ–æ¥å£ï¼ˆSerializableï¼‰</p></blockquote><p>è¯¥ç¼“å­˜æ˜¯namespaceçº§åˆ«çš„ï¼Œä¹Ÿå°±æ˜¯å’Œåº”ç”¨ç¨‹åºçš„ç”Ÿå‘½å‘¨æœŸä¸€è‡´</p><hr><p>é™„ä¸Šä¸€å¼ å…³äºmybatisçš„åŸç†å›¾ï¼Œä»…ä¾›å‚è€ƒ</p><img src="/javaEE/MyBatis/2022/01/27/MyBatis%E6%98%A0%E5%B0%84%E5%99%A8%E6%96%87%E4%BB%B6/mybatis%E5%8E%9F%E7%90%86%E5%9B%BE.png" class title="mybatisåŸç†å›¾">]]></content>
      
      
      <categories>
          
          <category> javaEE </category>
          
          <category> MyBatis </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MyBatis </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Spring-aop</title>
      <link href="/javaEE/Spring/2022/01/27/Spring-aop/"/>
      <url>/javaEE/Spring/2022/01/27/Spring-aop/</url>
      
        <content type="html"><![CDATA[<h1 id="AOP"><a href="#AOP" class="headerlink" title="AOP"></a>AOP</h1><p>AOPä¸ºAspect Oriented Programmingçš„ç¼©å†™ï¼Œæ„æ€æ˜¯é¢å‘åˆ‡é¢ç¼–ç¨‹ï¼Œæ˜¯é€šè¿‡é¢„ç¼–è¯‘å’Œè¿è¡ŒæœŸåŠ¨æ€ä»£ç†å®ç°ç¨‹åºåŠŸèƒ½çš„ç»Ÿä¸€ç»´æŠ¤çš„ä¸€ç§æŠ€æœ¯ã€‚</p><p>Springæ¡†æ¶ä¸¤å¤§é‡ç‚¹ï¼ŒAOPå’ŒIOC(Inversion Of Control)æ§åˆ¶åè½¬</p><p>AOPæ˜¯OOPçš„å»¶ç»­,æ˜¯è½¯ä»¶å¼€å‘ä¸­çš„ä¸€ä¸ªçƒ­ç‚¹, ä¹Ÿæ˜¯Springæ¡†æ¶ä¸­çš„ä¸€ä¸ªé‡è¦å†…å®¹ï¼Œæ˜¯å‡½æ•°å¼ç¼–ç¨‹çš„ä¸€ç§è¡ç”ŸèŒƒå‹ã€‚</p><p>åˆ©ç”¨AOPå¯ä»¥å¯¹ä¸šåŠ¡é€»è¾‘çš„å„ä¸ªéƒ¨åˆ†è¿›è¡Œè§£è€¦åˆ,ä»è€Œä½¿å¾—ä¸šåŠ¡é€»è¾‘å„éƒ¨åˆ†ä¹‹é—´çš„è€¦åˆåº¦é™ä½,æé«˜ç¨‹åºçš„å¯é‡ç”¨æ€§ï¼ŒåŒæ—¶æé«˜äº†å¼€å‘çš„æ•ˆç‡ã€‚</p><blockquote><p>ä½œç”¨åŠä¼˜åŠ¿</p></blockquote><ul><li>ä½œç”¨ï¼šåœ¨ç¨‹åºè¿è¡ŒæœŸé—´ï¼Œåœ¨ä¸ä¿®æ”¹æºç çš„æƒ…å†µä¸‹è¿›è¡ŒåŠŸèƒ½å¢å¼º</li><li>ä¼˜åŠ¿ï¼šå‡å°‘ä»£ç é‡å¤æ€§ï¼Œæé«˜å¼€å‘æ•ˆç‡ï¼Œå¹¶ä¸”ä¾¿äºç»´æŠ¤</li></ul><h3 id="åº•å±‚åŸç†"><a href="#åº•å±‚åŸç†" class="headerlink" title="åº•å±‚åŸç†"></a>åº•å±‚åŸç†</h3><p>å®é™…ä¸Šï¼ŒAOPçš„åº•å±‚æ˜¯é€šè¿‡Springæä¾›çš„çš„åŠ¨æ€ä»£ç†æŠ€æœ¯å®ç°çš„ã€‚</p><p>åœ¨è¿è¡ŒæœŸé—´ï¼ŒSpringé€šè¿‡åŠ¨æ€ä»£ç†æŠ€æœ¯åŠ¨æ€çš„ç”Ÿæˆä»£ç†å¯¹è±¡ï¼Œä»£ç†å¯¹è±¡æ–¹æ³•æ‰§è¡Œæ—¶è¿›è¡Œå¢å¼ºåŠŸèƒ½çš„ä»‹å…¥ï¼Œåœ¨å»è°ƒç”¨ç›®æ ‡å¯¹è±¡çš„æ–¹æ³•ï¼Œä»è€Œå®ŒæˆåŠŸèƒ½çš„å¢å¼ºã€‚</p><blockquote><p>å¸¸ç”¨ä»£ç†æŠ€æœ¯</p></blockquote><ul><li>JDKä»£ç†ï¼šåŸºäºæ¥å£çš„åŠ¨æ€ä»£ç†æŠ€æœ¯</li></ul><img src="/javaEE/Spring/2022/01/27/Spring-aop/JDK%E4%BB%A3%E7%90%86.png" class title="JDKä»£ç†"><p>Adivce.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Advice</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">before</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;å‰ç½®å¢å¼º&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">after</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;åç½®å¢å¼º&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>TargetInterface.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">TargetInterface</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">save</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Target.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Target</span> <span class="keyword">implements</span> <span class="title">TargetInterface</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">save</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;saving running......&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ProxyTest.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ProxyTest</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">final</span> Target = <span class="keyword">new</span> Target();</span><br><span class="line">        <span class="keyword">final</span> Adivice = <span class="keyword">new</span> Advice();</span><br><span class="line"></span><br><span class="line">        TargetInterface proxy = (TargetInterface) Proxy.newProxyInstance(</span><br><span class="line">        target.getClass().getClassLoader(),</span><br><span class="line">           target.getClass().getInterfaces(),</span><br><span class="line">            <span class="keyword">new</span> InvocationHandle()&#123;</span><br><span class="line">                <span class="function"><span class="keyword">public</span> Object <span class="title">invoke</span><span class="params">(Object proxy,Method method,Object[] args)</span> <span class="keyword">throws</span> Throwable </span>&#123;</span><br><span class="line">                    advice.before();</span><br><span class="line">                    Object invoke = method.invoke(target,args);</span><br><span class="line">                    advice.after();</span><br><span class="line">                    <span class="keyword">return</span> invoke;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        );</span><br><span class="line">        proxy.save();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>cglibä»£ç†ï¼šåŸºäºçˆ¶ç±»çš„åŠ¨æ€ä»£ç†æŠ€æœ¯</li></ul><img src="/javaEE/Spring/2022/01/27/Spring-aop/cglib%E4%BB%A3%E7%90%86.png" class title="cglibä»£ç†"><p>ProxyTest.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ProxyTest</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Target target = <span class="keyword">new</span> Target();</span><br><span class="line">        Enhance enhance = <span class="keyword">new</span> Enhance();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//åˆ›å»ºå¢å¼ºå…¶</span></span><br><span class="line">        Enhancer enhancer = <span class="keyword">new</span> Enhancer();</span><br><span class="line">        <span class="comment">//è®¾ç½®çˆ¶ç±»</span></span><br><span class="line">        enhancer.setSuperclass(Target.class);</span><br><span class="line">        <span class="comment">//è®¾ç½®å›è°ƒ</span></span><br><span class="line">        enhancer.setCallback(<span class="keyword">new</span> MethodInterceptor() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> Object <span class="title">intercept</span><span class="params">(Object o, Method method, Object[] objects, MethodProxy methodProxy)</span> <span class="keyword">throws</span> Throwable </span>&#123;</span><br><span class="line">                enhance.before();</span><br><span class="line">                Object invoke = method.invoke(target, args);</span><br><span class="line">                enhance.after();</span><br><span class="line">                <span class="keyword">return</span> invoke;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">        <span class="comment">//åˆ›å»ºä»£ç†å¯¹è±¡</span></span><br><span class="line">        Target proxy = (Target) enhancer.create();</span><br><span class="line">        proxy.save();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="AOPç›¸å…³æœ¯è¯­"><a href="#AOPç›¸å…³æœ¯è¯­" class="headerlink" title="AOPç›¸å…³æœ¯è¯­"></a>AOPç›¸å…³æœ¯è¯­</h3><p>Springçš„AOPå®ç°åº•å±‚å°±æ˜¯å¯¹ä¸Šé¢çš„åŠ¨æ€ä»£ç†çš„ä»£ç è¿›è¡Œäº†å°è£…,å°è£…åæˆ‘ä»¬åªéœ€è¦å¯¹éœ€è¦å…³æ³¨çš„éƒ¨åˆ†è¿›è¡Œä»£ç ç¼–å†™,å¹¶é€šè¿‡é…ç½®çš„æ–¹å¼å®ŒæˆæŒ‡å®šç›®æ ‡çš„æ–¹æ³•å¢å¼ºã€‚</p><ul><li><p>Target (ç›®æ ‡å¯¹è±¡) :ä»£ç†çš„ç›®æ ‡å¯¹è±¡</p></li><li><p>Proxy (ä»£ç†) :ä¸€ä¸ªç±»è¢«AOPç»‡å…¥å¢å¼ºå,å°±äº§ç”Ÿä¸€ ä¸ªç»“æœä»£ç†ç±»</p></li><li><p>Joinpoint (è¿æ¥ç‚¹) :æ‰€è°“è¿æ¥ç‚¹æ˜¯æŒ‡é‚£äº›è¢«æ‹¦æˆªåˆ°çš„ç‚¹ã€‚åœ¨springä¸­,è¿™äº›ç‚¹æŒ‡çš„æ˜¯æ–¹æ³•ï¼Œå› ä¸ºspringåªæ”¯æŒæ–¹æ³•ç±»å‹çš„è¿æ¥ç‚¹</p></li><li><p>Pointcut (åˆ‡å…¥ç‚¹) :æ‰€è°“åˆ‡å…¥ç‚¹æ˜¯æŒ‡æˆ‘ä»¬è¦å¯¹å“ªäº›Joinpointè¿›è¡Œæ‹¦æˆªçš„å®šä¹‰</p></li><li><p>Advice (é€šçŸ¥&#x2F;å¢å¼·) :æ‰€è°“é€šçŸ¥æ˜¯æŒ‡æ‹¦æˆªåˆ°Joinpointä¹‹åæ‰€è¦åšçš„äº‹æƒ…å°±æ˜¯é€šçŸ¥</p></li><li><p>Aspect (åˆ‡é¢) :æ˜¯åˆ‡å…¥ç‚¹å’Œé€šçŸ¥(å¼•ä»‹)çš„ç»“åˆ</p></li><li><p>Weaving (ç»‡å…¥) :æ˜¯æŒ‡æŠŠå¢å¼ºåº”ç”¨åˆ°ç›®æ ‡å¯¹è±¡æ¥åˆ›å»ºæ–°çš„ä»£ç†å¯¹è±¡çš„è¿‡ç¨‹ã€‚springé‡‡ç”¨åŠ¨æ€ä»£ç†ç»‡å…¥,è€ŒAspecté‡‡ç”¨ç¼–è¯‘æœŸç»‡å…¥å’Œç±»è£…è½½æœŸç»‡å…¥</p></li></ul><h3 id="å¼€å‘æ˜ç¡®äº‹é¡¹"><a href="#å¼€å‘æ˜ç¡®äº‹é¡¹" class="headerlink" title="å¼€å‘æ˜ç¡®äº‹é¡¹"></a>å¼€å‘æ˜ç¡®äº‹é¡¹</h3><blockquote><p>éœ€è¦ç¼–å†™çš„å†…å®¹</p></blockquote><ul><li><p>ç¼–å†™æ ¸å¿ƒä¸šåŠ¡ä»£ç (ç›®æ ‡ç±»çš„ç›®æ ‡æ–¹æ³•)</p></li><li><p>ç¼–å†™åˆ‡é¢ç±»,åˆ‡é¢ç±»ä¸­æœ‰é€šçŸ¥(å¢å¼ºåŠŸèƒ½æ–¹æ³•)</p></li><li><p>åœ¨é…ç½®æ–‡ä»¶ä¸­ï¼Œé…ç½®ç»‡å…¥å…³ç³»,å³å°†å“ªäº›é€šçŸ¥ä¸å“ªäº›è¿æ¥ç‚¹è¿›è¡Œç»“åˆ</p></li></ul><blockquote><p>AOPæŠ€æœ¯å®ç°çš„å†…å®¹</p></blockquote><p>Springæ¡†æ¶ç›‘æ§åˆ‡å…¥ç‚¹æ–¹æ³•çš„æ‰§è¡Œã€‚</p><p>ä¸€æ—¦ç›‘æ§åˆ°åˆ‡å…¥ç‚¹æ–¹æ³•è¢«è¿è¡Œï¼Œä½¿ç”¨ä»£ç†æœºåˆ¶ï¼ŒåŠ¨æ€åˆ›å»ºç›®æ ‡å¯¹è±¡çš„ä»£ç†å¯¹è±¡ï¼Œæ ¹æ®é€šçŸ¥ç±»åˆ«ï¼Œåœ¨ä»£ç†å¯¹è±¡çš„å¯¹åº”ä½ç½®,å°†é€šçŸ¥å¯¹åº”çš„åŠŸèƒ½ç»‡å…¥ï¼Œå®Œæˆå®Œæ•´çš„ä»£ç é€»è¾‘è¿è¡Œã€‚</p><h3 id="åŸºäºXMLçš„AOPå¼€å‘"><a href="#åŸºäºXMLçš„AOPå¼€å‘" class="headerlink" title="åŸºäºXMLçš„AOPå¼€å‘"></a>åŸºäºXMLçš„AOPå¼€å‘</h3><blockquote><p>æ­¥éª¤</p></blockquote><ol><li>å¯¼å…¥AOPåæ ‡</li></ol><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-context<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.2.2.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.aspectj<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>aspectjweaver<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.9.8.M1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br></pre></td></tr></table></figure><ol start="2"><li><p>åˆ›å»ºç›®æ ‡ç±»å’Œç›®æ ‡æ¥å£</p></li><li><p>åˆ›å»ºåˆ‡é¢ç±»ï¼ˆå†…éƒ¨æœ‰å¢å¼ºæ–¹æ³•ï¼‰</p></li><li><p>å°†ç›®æ ‡ç±»å’Œåˆ‡é¢ç±»çš„å¯¹è±¡çš„åˆ›å»ºæƒäº¤ç»™Spring</p></li><li><p>åœ¨applicationContext.xmlä¸­é…ç½®ä¸­ç»‡å…¥å…³ç³»</p></li><li><p>æµ‹è¯•</p></li></ol><h4 id="åˆ‡ç‚¹è¡¨è¾¾å¼"><a href="#åˆ‡ç‚¹è¡¨è¾¾å¼" class="headerlink" title="åˆ‡ç‚¹è¡¨è¾¾å¼"></a>åˆ‡ç‚¹è¡¨è¾¾å¼</h4><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">execution</span><span class="params">([ä¿®é¥°ç¬¦]è¿”å›å€¼ç±»å‹ åŒ…å.ç±»å.æ–¹æ³•å(å‚æ•°åˆ—è¡¨)</span></span>)</span><br></pre></td></tr></table></figure><ul><li><p>è®¿é—®ä¿®é¥°ç¬¦å¯ä»¥çœç•¥</p></li><li><p>è¿”å›å€¼ç±»å‹ã€ åŒ…åã€ç±»åã€æ–¹æ³•åå¯ä»¥ä½¿ç”¨æ˜Ÿå·*ä»£è¡¨ä»»æ„</p></li><li><p>åŒ…åä¸ç±»åä¹‹é—´ä¸€ ä¸ªç‚¹.ä»£è¡¨å½“å‰åŒ…ä¸‹çš„ç±»,ä¸¤ä¸ªç‚¹.. è¡¨ç¤ºå½“å‰åŒ…åŠå…¶å­åŒ…ä¸‹çš„ç±»</p></li><li><p>å‚æ•°åˆ—è¡¨å¯ä»¥ä½¿ç”¨ä¸¤ä¸ªç‚¹ .. è¡¨ç¤ºä»»æ„ä¸ªæ•°,ä»»æ„ç±»å‹çš„å‚æ•°åˆ—è¡¨</p></li></ul><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ä»£è¡¨åˆ‡å£æ˜¯com.lizhi.aop.Targetç±»çš„è¿”å›voidçš„methodçš„æ— å‚æ•°æ–¹æ³•</span></span><br><span class="line">execution (public void com<span class="selector-class">.itheima</span><span class="selector-class">.aop</span><span class="selector-class">.Target</span><span class="selector-class">.method</span>() )</span><br><span class="line"></span><br><span class="line"><span class="comment">//ä»£è¡¨åˆ‡å£æ˜¯com.lizhi.aop.Targetç±»çš„è¿”å›voidçš„æ‰€æœ‰æ–¹æ³•ï¼Œå‚æ•°ä¸ªæ•°ä¸ºä»»æ„</span></span><br><span class="line">execution (void com<span class="selector-class">.itheima</span><span class="selector-class">.aop</span><span class="selector-class">.Target</span>.*(.. ))</span><br><span class="line"></span><br><span class="line"><span class="comment">//ä»£è¡¨åˆ‡å£æ˜¯com.lizhi.aopåŒ…ä¸‹çš„æ‰€æœ‰ç±»çš„æ‰€æœ‰æ–¹æ³•ï¼Œå‚æ•°ä¸ªæ•°ä¸ºä»»æ„</span></span><br><span class="line"><span class="function"><span class="title">execution</span><span class="params">(* com.lizhi.aop.*.*(..)</span></span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//ä»£è¡¨åˆ‡å£æ˜¯com.lizhi.aopåŒ…åŠå…¶å­åŒ…ä¸‹çš„æ‰€æœ‰ç±»æ‰€æœ‰æ–¹æ³•ï¼Œå‚æ•°ä¸ªæ•°ä¸ºä»»æ„</span></span><br><span class="line"><span class="function"><span class="title">execution</span><span class="params">(* com.lizhi.aop..*.* (..)</span></span> )</span><br><span class="line"></span><br><span class="line"><span class="comment">//ä»£è¡¨åˆ‡å£æ˜¯é¡¹ç›®ä¸‹çš„æ‰€æœ‰åŒ…çš„æ‰€æœ‰æ–¹æ³•ï¼Œå‚æ•°ä¸ºä»»æ„å‚æ•°</span></span><br><span class="line"><span class="function"><span class="title">execution</span><span class="params">(* *..*.*(..)</span></span> )</span><br></pre></td></tr></table></figure><h4 id="é€šçŸ¥ç±»å‹"><a href="#é€šçŸ¥ç±»å‹" class="headerlink" title="é€šçŸ¥ç±»å‹"></a>é€šçŸ¥ç±»å‹</h4><table><thead><tr><th>åç§°</th><th>é€šçŸ¥ç±»å‹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>å‰ç½®é€šçŸ¥</td><td>aop:before</td><td>æŒ‡å®šå¢å¼ºçš„æ–¹æ³•åœ¨åˆ‡å…¥ç‚¹ä¹‹å‰æ‰§è¡Œ</td></tr><tr><td>åç½®é€šçŸ¥</td><td>aop:after-returning</td><td>æŒ‡å®šå¢å¼ºçš„æ–¹æ³•åœ¨åˆ‡å…¥ç‚¹ä¹‹åæ‰§è¡Œ</td></tr><tr><td>ç¯ç»•é€šçŸ¥</td><td>aop:around</td><td>æŒ‡å®šå¢å¼ºçš„æ–¹æ³•åœ¨åˆ‡å…¥ç‚¹ä¹‹å‰å’Œä¹‹åéƒ½ä¼šæ‰§è¡Œ</td></tr><tr><td>å¼‚å¸¸æŠ›å‡ºé€šçŸ¥</td><td>aop:throwing</td><td>æŒ‡å®šå¢å¼ºçš„æ–¹æ³•åœ¨å‡ºç°åˆ‡ç‚¹å¼‚å¸¸æ—¶æ‰§è¡Œ</td></tr><tr><td>æœ€ç»ˆé€šçŸ¥</td><td>aop:after</td><td>æ— è®ºå¢å¼ºæ–¹å¼æ‰§è¡Œæ˜¯å¦æœ‰å¼‚å¸¸éƒ½ä¼šæ‰§è¡Œ</td></tr></tbody></table><blockquote><p>around</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ProceedingJoinPointæŒ‡çš„æ˜¯æ­£åœ¨æ‰§è¡Œçš„è¿æ¥ç‚¹==åˆ‡ç‚¹</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> Object <span class="title">around</span><span class="params">(ProceedingJoinPoint pjp)</span> <span class="keyword">throws</span> Throwable </span>&#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;ç¯ç»•å‰å¢å¼ºã€‚ã€‚ã€‚ã€‚ã€‚&quot;</span>);</span><br><span class="line">    Object obj = pjp.proceed();<span class="comment">//åˆ‡ç‚¹æ–¹æ³•</span></span><br><span class="line">    System.out.println(<span class="string">&quot;ç¯ç»•åå¢å¼ºã€‚ã€‚ã€‚ã€‚ã€‚&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> obj;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>åˆ‡ç‚¹è¡¨è¾¾å¼çš„æŠ½å–</p></blockquote><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">apo:config</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">aop:aspect</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">apo:pointcut</span> <span class="attr">id</span>=<span class="string">&quot;myPointcut&quot;</span> <span class="attr">expression</span>=<span class="string">&quot;excution( * com.lizhi.apo.*.*(..))&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">apo:pointcut</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">apo:before</span> <span class="attr">method</span>=<span class="string">&quot;before&quot;</span> <span class="attr">pointcut-ref</span>=<span class="string">&quot;myPointcut&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">apo:before</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">aop:aspect</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">apo:config</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="åŸºäºæ³¨è§£çš„AOPå¼€å‘"><a href="#åŸºäºæ³¨è§£çš„AOPå¼€å‘" class="headerlink" title="åŸºäºæ³¨è§£çš„AOPå¼€å‘"></a>åŸºäºæ³¨è§£çš„AOPå¼€å‘</h3><ol><li>åˆ›å»ºç›®æ ‡æ¥å£å’Œç›®æ ‡ç±»(å†…éƒ¨æœ‰åˆ‡ç‚¹)</li><li>åˆ›å»ºåˆ‡é¢ç±»(å†…éƒ¨æœ‰å¢å¼ºæ–¹æ³•)</li><li>å°†ç›®æ ‡ç±»å’Œåˆ‡é¢ç±»çš„å¯¹è±¡åˆ›å»ºæƒäº¤ç»™spring</li><li>åœ¨åˆ‡é¢ç±»ä¸­ä½¿ç”¨æ³¨è§£é…ç½®ç»‡å…¥å…³ç³»</li><li>åœ¨é…ç½®æ–‡ä»¶ä¸­å¼€å¯ç»„ä»¶æ‰«æå’ŒAOPçš„è‡ªåŠ¨ä»£ç†</li><li>æµ‹è¯•</li></ol>]]></content>
      
      
      <categories>
          
          <category> javaEE </category>
          
          <category> Spring </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Spring </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>é¢å‘æ¥å£ç¼–ç¨‹</title>
      <link href="/%E7%90%90%E7%A2%8E%E7%9A%84%E7%9F%A5%E8%AF%86/2022/01/27/%E9%9D%A2%E5%90%91%E6%8E%A5%E5%8F%A3%E7%BC%96%E7%A8%8B/"/>
      <url>/%E7%90%90%E7%A2%8E%E7%9A%84%E7%9F%A5%E8%AF%86/2022/01/27/%E9%9D%A2%E5%90%91%E6%8E%A5%E5%8F%A3%E7%BC%96%E7%A8%8B/</url>
      
        <content type="html"><![CDATA[<h2 id="é¢å‘æ¥å£ç¼–ç¨‹æ˜¯ä»€ä¹ˆ"><a href="#é¢å‘æ¥å£ç¼–ç¨‹æ˜¯ä»€ä¹ˆ" class="headerlink" title="é¢å‘æ¥å£ç¼–ç¨‹æ˜¯ä»€ä¹ˆ"></a>é¢å‘æ¥å£ç¼–ç¨‹æ˜¯ä»€ä¹ˆ</h2><p>å¤§å®¶ä¹‹å‰éƒ½å­¦è¿‡é¢å‘å¯¹è±¡ç¼–ç¨‹ï¼Œä¹Ÿå­¦ä¹ è¿‡æ¥å£ï¼Œä½†åœ¨çœŸæ­£çš„å¼€å‘ä¸­ï¼Œå¾ˆå¤šæ—¶å€™æˆ‘ä»¬ä¼šé€‰æ‹©é¢å‘æ¥å£ç¼–ç¨‹</p><p>æ ¹æœ¬åŸå› :è§£è€¦ï¼Œå¯æ‹“å±•ï¼Œæé«˜å¤ç”¨ï¼Œåˆ†å±‚å¼€å‘ä¸­ï¼Œä¸Šå±‚ä¸ç”¨ç®¡å…·ä½“çš„å®ç°ï¼Œå¤§å®¶éƒ½éµå®ˆå…±åŒçš„æ ‡å‡†ï¼Œä½¿å¾—å¼€å‘å˜å¾—å®¹æ˜“ï¼Œè§„èŒƒæ€§æ›´å¥½</p><p>åœ¨ä¸€ä¸ªé¢å‘å¯¹è±¡çš„ç³»ç»Ÿä¸­ï¼Œç³»ç»Ÿçš„å„ç§åŠŸèƒ½æ˜¯ç”±è®¸è®¸å¤šå¤šçš„ä¸åŒå¯¹è±¡åä½œå®Œæˆçš„ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå„ä¸ªå¯¹è±¡å†…éƒ¨æ˜¯å¦‚ä½•å®ç°è‡ªå·±çš„å¯¹ç³»ç»Ÿè®¾è®¡äººå‘˜æ¥è®²å°±ä¸é‚£ä¹ˆé‡è¦äº†:</p><p>è€Œå„ä¸ªå¯¹è±¡ä¹‹é—´çš„åä½œå…³ç³»åˆ™æˆä¸ºç³»ç»Ÿè®¾è®¡çš„å…³é”®ã€‚å°åˆ°ä¸åŒç±»ä¹‹é—´çš„é€šä¿¡ï¼Œå¤§åˆ°å„æ¨¡å—ä¹‹é—´çš„äº¤äº’ï¼Œåœ¨ç³»ç»Ÿè®¾è®¡ä¹‹åˆéƒ½æ˜¯è¦ç€é‡è€ƒè™‘çš„ï¼Œè¿™ä¹Ÿæ˜¯ç³»ç»Ÿè®¾è®¡çš„ä¸»è¦å·¥ä½œå†…å®¹ã€‚é¢å‘æ¥å£ç¼–ç¨‹å°±æ˜¯æŒ‡æŒ‰ç…§è¿™ç§æ€æƒ³æ¥ç¼–ç¨‹ã€‚</p><h2 id="å…³äºæ¥å£çš„ç†è§£"><a href="#å…³äºæ¥å£çš„ç†è§£" class="headerlink" title="å…³äºæ¥å£çš„ç†è§£"></a>å…³äºæ¥å£çš„ç†è§£</h2><p>æ¥å£ä»æ›´æ·±å±‚æ¬¡çš„ç†è§£ï¼Œåº”æ˜¯å®šä¹‰(è§„èŒƒï¼Œçº¦æŸ)ä¸å®ç°(åå®åˆ†ç¦»çš„åŸåˆ™)çš„åˆ†ç¦»ã€‚</p><p>æ¥å£çš„æœ¬èº«åæ˜ äº†ç³»ç»Ÿè®¾è®¡äººå‘˜å¯¹ç³»ç»Ÿçš„æŠ½è±¡ç†è§£ã€‚æ¥å£åº”æœ‰ä¸¤ç±»:</p><p>ç¬¬ä¸€ç±»æ˜¯å¯¹ä¸€ä¸ªä¸ªä½“çš„æŠ½è±¡ï¼Œå®ƒå¯å¯¹åº”ä¸ºä¸€ä¸ªæŠ½è±¡ä½“(abstract class) </p><p>ç¬¬äºŒç±»æ˜¯å¯¹ä¸€ä¸ªä¸ªä½“æŸä¸€æ–¹é¢çš„æŠ½è±¡ï¼Œå³å½¢æˆä¸€ä¸ªæŠ½è±¡é¢(interface)</p><p>ä¸€ä¸ªä½“æœ‰å¯èƒ½æœ‰å¤šä¸ªæŠ½è±¡é¢ã€‚æŠ½è±¡ä½“ä¸æŠ½è±¡é¢æ˜¯æœ‰åŒºåˆ«çš„ã€‚</p><h2 id="ä¸‰ä¸ªé¢å‘çš„åŒºåˆ«"><a href="#ä¸‰ä¸ªé¢å‘çš„åŒºåˆ«" class="headerlink" title="ä¸‰ä¸ªé¢å‘çš„åŒºåˆ«"></a>ä¸‰ä¸ªé¢å‘çš„åŒºåˆ«</h2><p>é¢å‘å¯¹è±¡ç¼–ç¨‹æŒ‡çš„æ˜¯ï¼Œæˆ‘ä»¬è€ƒè™‘é—®é¢˜çš„æ—¶å€™ï¼Œä»¥å¯¹è±¡ä¸ºå•ä½ï¼Œè€ƒè™‘å®ƒçš„å±æ€§å’Œæ–¹æ³•</p><p>é¢å‘è¿‡ç¨‹ç¼–ç¨‹æŒ‡çš„æ˜¯ï¼Œæˆ‘ä»¬è€ƒè™‘é—®é¢˜çš„æ—¶å€™ï¼Œä»¥ä¸€ä¸ªå…·ä½“çš„æµç¨‹ï¼ˆäº‹åŠ¡è¿‡ç¨‹ï¼‰ä¸ºå•ä½ï¼Œè€ƒè™‘å®ƒçš„å®ç°</p><p>æ¥å£è®¾è®¡ä¸éæ¥å£è®¾è®¡æ˜¯é’ˆå¯¹å¤ç”¨æŠ€æœ¯å±‚é¢çš„ï¼Œä¸é¢å‘å¯¹è±¡ï¼ˆè¿‡ç¨‹ï¼‰ä¸æ˜¯ä¸€ä¸ªé—®é¢˜ï¼Œæ›´å¤šçš„ä½“ç°å°±æ˜¯å¯¹ç³»ç»Ÿæ•´ä½“çš„æ¶æ„</p>]]></content>
      
      
      <categories>
          
          <category> çç¢çš„çŸ¥è¯† </category>
          
      </categories>
      
      
        <tags>
            
            <tag> çç¢çš„çŸ¥è¯† </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MyBatisçš„xmlé…ç½®</title>
      <link href="/javaEE/MyBatis/2022/01/26/MyBatis%E9%85%8D%E7%BD%AE/"/>
      <url>/javaEE/MyBatis/2022/01/26/MyBatis%E9%85%8D%E7%BD%AE/</url>
      
        <content type="html"><![CDATA[<h2 id="é…ç½®Configuration"><a href="#é…ç½®Configuration" class="headerlink" title="é…ç½®Configuration"></a>é…ç½®Configuration</h2><p>åœ¨MyBatisä¸­ï¼Œé…ç½®æ–‡ä»¶çš„é¡¶å±‚ç»“æ„å¦‚ä¸‹</p><ul><li>Configuration<ul><li><strong>properties</strong></li><li><strong>settings</strong></li><li><strong>typeAliases</strong></li><li>typeHandlers</li><li>objectFactory</li><li>plugins</li><li><strong>environments</strong><ul><li>environment<ul><li>dataSource</li><li>transactionManager</li></ul></li></ul></li><li>databaseIdProvider</li><li><strong>mappers</strong></li></ul></li></ul><h3 id="å±æ€§properties"><a href="#å±æ€§properties" class="headerlink" title="å±æ€§properties"></a>å±æ€§properties</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">properties</span> <span class="attr">resource</span>=<span class="string">&quot;db.properties&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span> <span class="attr">value</span>=<span class="string">&quot;root&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br></pre></td></tr></table></figure><p>resourceå±æ€§å¯ä»¥å¯¼å…¥åœ¨å¤–éƒ¨propertiesé…ç½®æ–‡ä»¶ä¸­çš„å±æ€§åˆ°propertiesæ ‡ç­¾ä¸­</p><p>propertyæ ‡ç­¾å¯ä»¥å®šä¹‰ä¸€äº›å±æ€§</p><p>é…ç½®å¥½çš„å±æ€§å¯ä»¥åœ¨è¯¥æ–‡ä»¶ä¸­ä½¿ç”¨${}æ¥æ›¿æ¢éœ€è¦åŠ¨æ€é…ç½®çš„å±æ€§å€¼</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dataSource</span> <span class="attr">type</span>=<span class="string">&quot;POOLED&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;driver&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;driver&#125;&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;url&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;url&#125;&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;userName&#125;&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;password&#125;&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dataSource</span>&gt;</span></span><br></pre></td></tr></table></figure><p>æ¯”å¦‚ä¸Šæ–¹çš„driverçš„å€¼ä¼šç”±db.propertiesæ–‡ä»¶ä¸­å¯¹åº”çš„å€¼æ¥æ›¿æ¢</p><p>å¦‚æœåœ¨å¤šä¸ªåœ°æ–¹è¿›è¡Œäº†é…ç½®Javaä»£ç ï¼Œå¤–éƒ¨æ–‡ä»¶ï¼Œpropertiesæ ‡ç­¾ï¼Œåˆ™æŒ‰ç…§ä»¥ä¸‹é¡ºåºåŠ è½½</p><ul><li>å…ˆåŠ è½½propertiesæ ‡ç­¾ä¸­çš„å±æ€§</li><li>å†åŠ è½½å¤–éƒ¨æ–‡ä»¶ä¸­é…ç½®çš„å±æ€§ï¼Œå¦‚æœæœ‰é‡å¤çš„å±æ€§ï¼Œåˆ™è¦†ç›–æ—§çš„å±æ€§</li><li>æœ€ååŠ è½½Javaä»£ç ä¸­çš„å±æ€§ï¼Œå¦‚æœæœ‰é‡å¤çš„å±æ€§ï¼Œè¦†ç›–æ—§çš„å±æ€§</li></ul><p>å› æ­¤ï¼Œé€šè¿‡javaæ–¹æ³•ä¼ å…¥çš„å±æ€§å…·æœ‰æœ€é«˜çš„ä¼˜å…ˆçº§ï¼Œå¤–éƒ¨æ–‡ä»¶ä¼˜å…ˆçº§æ¬¡ä¹‹ï¼Œpropertiesæ ‡ç­¾ä¸­çš„å±æ€§ä¼˜å…ˆçº§æœ€ä¸ºä½</p><h3 id="è®¾ç½®settings"><a href="#è®¾ç½®settings" class="headerlink" title="è®¾ç½®settings"></a>è®¾ç½®settings</h3><p>ä»¥ä¸‹ä¸ºé‡è¦çš„å‡ ä¸ªé…ç½®ï¼Œéœ€è¦æŒæ¡</p><table><thead><tr><th>è®¾ç½®å</th><th>æè¿°</th><th>æœ‰æ•ˆå€¼</th><th>é»˜è®¤å€¼</th></tr></thead><tbody><tr><td>cacheEnabled</td><td>å…¨å±€æ€§åœ°å¼€å¯æˆ–å…³é—­æ‰€æœ‰æ˜ å°„å™¨é…ç½®æ–‡ä»¶ä¸­å·²é…ç½®çš„ä»»ä½•ç¼“å­˜ã€‚</td><td>true | false</td><td>true</td></tr><tr><td>lazyLoadingEnabled</td><td>å»¶è¿ŸåŠ è½½çš„å…¨å±€å¼€å…³ã€‚å½“å¼€å¯æ—¶ï¼Œæ‰€æœ‰å…³è”å¯¹è±¡éƒ½ä¼šå»¶è¿ŸåŠ è½½ã€‚ ç‰¹å®šå…³è”å…³ç³»ä¸­å¯é€šè¿‡è®¾ç½® <code>fetchType</code> å±æ€§æ¥è¦†ç›–è¯¥é¡¹çš„å¼€å…³çŠ¶æ€ã€‚</td><td>true | false</td><td>false</td></tr><tr><td>useGeneratedKeys</td><td>å…è®¸ JDBC æ”¯æŒè‡ªåŠ¨ç”Ÿæˆä¸»é”®ï¼Œéœ€è¦æ•°æ®åº“é©±åŠ¨æ”¯æŒã€‚å¦‚æœè®¾ç½®ä¸º trueï¼Œå°†å¼ºåˆ¶ä½¿ç”¨è‡ªåŠ¨ç”Ÿæˆä¸»é”®ã€‚å°½ç®¡ä¸€äº›æ•°æ®åº“é©±åŠ¨ä¸æ”¯æŒæ­¤ç‰¹æ€§ï¼Œä½†ä»å¯æ­£å¸¸å·¥ä½œï¼ˆå¦‚ Derbyï¼‰ã€‚</td><td>true | false</td><td>False</td></tr><tr><td>mapUnderscoreToCamelCase</td><td>æ˜¯å¦å¼€å¯é©¼å³°å‘½åè‡ªåŠ¨æ˜ å°„ï¼Œå³ä»ç»å…¸æ•°æ®åº“åˆ—å A_COLUMN æ˜ å°„åˆ°ç»å…¸ Java å±æ€§å aColumnã€‚</td><td>true | false</td><td>False</td></tr><tr><td>logImpl</td><td>æŒ‡å®š MyBatis æ‰€ç”¨æ—¥å¿—çš„å…·ä½“å®ç°ï¼ŒæœªæŒ‡å®šæ—¶å°†è‡ªåŠ¨æŸ¥æ‰¾ã€‚</td><td>SLF4J | LOG4J(deprecated since 3.5.9) | LOG4J2 | JDK_LOGGING | COMMONS_LOGGING | STDOUT_LOGGING | NO_LOGGING</td><td>æœªè®¾ç½®</td></tr></tbody></table><h3 id="ç±»å‹åˆ«åtypeAliases"><a href="#ç±»å‹åˆ«åtypeAliases" class="headerlink" title="ç±»å‹åˆ«åtypeAliases"></a>ç±»å‹åˆ«åtypeAliases</h3><p>åœ¨æ˜ å°„å™¨XMLæ–‡ä»¶ä¸­ï¼ŒresultTypeå±æ€§åœ¨é…ç½®äº†ç±»å‹åˆ«ååï¼Œå¯ä»¥ä¸éœ€è¦å†™å…¨é™å®šåï¼Œå¯ä»¥å†™åœ¨è¿™é‡Œèµ·çš„åˆ«å</p><ol><li>åœ¨æ­¤åŒ…ä¸‹çš„æ‰€æœ‰ç±»éƒ½è¢«é»˜è®¤èµ·åˆ«åä¸ºç±»åå¼€å¤´å°å†™ï¼Œè¯¥é»˜è®¤å€¼è¢«æ³¨è§£@Alias()è¦†ç›–</li></ol><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">typeAliases</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">package</span> <span class="attr">name</span>=<span class="string">&quot;com.lizhi.pojo&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">typeAliases</span>&gt;</span></span><br></pre></td></tr></table></figure><ol start="2"><li>å¯ä»¥å•ç‹¬ä¸ºä¸€ä¸ªç±»èµ·åˆ«åï¼Œ</li></ol><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">typeAliases</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">typeAlias</span> <span class="attr">type</span>=<span class="string">&quot;com.lizhi.pojo.Teacher&quot;</span> <span class="attr">alias</span>=<span class="string">&quot;teacher&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">typeAliases</span>&gt;</span></span><br></pre></td></tr></table></figure><p>ä¸‹é¢ä¸ºä¸€äº›å¸¸è§çš„javaç±»å‹å†…å»ºçš„ç±»å‹åˆ«å</p><table><thead><tr><th>åˆ«å</th><th>æ˜ å°„çš„ç±»å‹</th></tr></thead><tbody><tr><td>_byte</td><td>byte</td></tr><tr><td>_long</td><td>long</td></tr><tr><td>_short</td><td>short</td></tr><tr><td>_int</td><td>int</td></tr><tr><td>_integer</td><td>int</td></tr><tr><td>_double</td><td>double</td></tr><tr><td>_float</td><td>float</td></tr><tr><td>_boolean</td><td>boolean</td></tr><tr><td>string</td><td>String</td></tr><tr><td>byte</td><td>Byte</td></tr><tr><td>long</td><td>Long</td></tr><tr><td>short</td><td>Short</td></tr><tr><td>int</td><td>Integer</td></tr><tr><td>integer</td><td>Integer</td></tr><tr><td>double</td><td>Double</td></tr><tr><td>float</td><td>Float</td></tr><tr><td>boolean</td><td>Boolean</td></tr><tr><td>date</td><td>Date</td></tr><tr><td>map</td><td>Map</td></tr></tbody></table><h3 id="ç¯å¢ƒé…ç½®Environments"><a href="#ç¯å¢ƒé…ç½®Environments" class="headerlink" title="ç¯å¢ƒé…ç½®Environments"></a>ç¯å¢ƒé…ç½®Environments</h3><p>mybatiså¯ä»¥é…ç½®å¤šå¥—ç¯å¢ƒï¼Œè¿™ç§æœºåˆ¶æœ‰åˆ©äºå°†SQLæ˜ å°„åº”ç”¨äºå¤šç§æ•°æ®åº“ä¹‹ä¸­ã€‚å¼€å‘ï¼Œæµ‹è¯•ï¼Œç”Ÿæˆç¯å¢ƒéœ€è¦æœ‰ä¸åŒçš„é…ç½®ã€‚</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">environments</span> <span class="attr">default</span>=<span class="string">&quot;development&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">environment</span> <span class="attr">id</span>=<span class="string">&quot;development&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">transactionManager</span> <span class="attr">type</span>=<span class="string">&quot;JDBC&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dataSource</span> <span class="attr">type</span>=<span class="string">&quot;POOLED&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;driver&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;driver&#125;&quot;</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;url&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;url&#125;&quot;</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;userName&#125;&quot;</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;password&#125;&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dataSource</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">environment</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">environments</span>&gt;</span></span><br></pre></td></tr></table></figure><p>æ³¨æ„ä¸€äº›å…³é”®ç‚¹</p><ul><li>environmentçš„idå±æ€§ï¼Œè¯¥å±æ€§æ˜¯å”¯ä¸€æ€§æ ‡è¯†ç¯å¢ƒçš„å€¼</li><li>åœ¨environmentsçš„defaultå±æ€§ä¸­é€šè¿‡idæŒ‡å®šç¯å¢ƒé…ç½®</li></ul><h4 id="äº‹åŠ¡ç®¡ç†å™¨transactionManager"><a href="#äº‹åŠ¡ç®¡ç†å™¨transactionManager" class="headerlink" title="äº‹åŠ¡ç®¡ç†å™¨transactionManager"></a>äº‹åŠ¡ç®¡ç†å™¨transactionManager</h4><p>typeæŒ‡å®šäº‹åŠ¡ç®¡ç†å™¨</p><p>mybatisä¸­æœ‰ä¸¤ç§äº‹åŠ¡ç®¡ç†å™¨ï¼ˆä¹Ÿå°±æ˜¯type &#x3D; â€œJDBC|MANAGEDâ€ï¼‰</p><ul><li>JDBC-è¿™ä¸ªé…ç½®ç›´æ¥ä½¿ç”¨äº†JDBCçš„æäº¤å’Œå›æ»šæœºåˆ¶ï¼Œä¾èµ–äºæ•°æ®æºçš„è¿æ¥æ¥ç®¡ç†äº‹åŠ¡ç®¡ç†ä½œç”¨åŸŸ</li><li>MANAGED-è¿™ä¸ªé…ç½®å‡ ä¹ä»€ä¹ˆéƒ½ä¸åšï¼Œä¸€èˆ¬ä¸é€‰ç”¨</li></ul><blockquote><p>å¦‚æœä½¿ç”¨mybatis+Spring åˆ™æ²¡æœ‰å¿…è¦é…ç½®äº‹åŠ¡ç®¡ç†å™¨ï¼Œå› ä¸ºSpringæ¨¡å—ä¼šä½¿ç”¨è‡ªå¸¦çš„äº‹åŠ¡ç®¡ç†å™¨æ¥è¦†ç›–æ­¤é…ç½®</p></blockquote><h4 id="æ•°æ®æºdataSource"><a href="#æ•°æ®æºdataSource" class="headerlink" title="æ•°æ®æºdataSource"></a>æ•°æ®æºdataSource</h4><p>typeæŒ‡å®šæ•°æ®æºç±»å‹</p><p>dataSourceå…ƒç´ ä½¿ç”¨æ ‡å‡†çš„JDBCæ•°æ®æºæ¥å£æ¥é…ç½®JDBCè¿æ¥å¯¹è±¡çš„èµ„æº</p><p>æœ‰ä¸‰ç§å†…ç½®çš„æ•°æ®æºæ ¼å¼</p><h5 id="UNPOOLED"><a href="#UNPOOLED" class="headerlink" title="UNPOOLED"></a>UNPOOLED</h5><p>è¿™ä¸ªæ•°æ®æºçš„å®ç°æ¯æ¬¡è¿æ¥ä¼šæ‰“å¼€å’Œå…³é—­è¿æ¥ä¼šæœ‰ç‚¹æ…¢ï¼Œä½†æ˜¯å¯¹äºä¸€äº›å°å‹åº”ç”¨å·²ç»è¶³å¤Ÿäº†ï¼Œ</p><p>æ­¤ç±»å‹çš„æ•°æ®æºåªéœ€è¦é…ç½®ä»¥ä¸‹å‡ ç§å±æ€§</p><ul><li><code>driver</code> â€“ è¿™æ˜¯ JDBC é©±åŠ¨çš„ Java ç±»å…¨é™å®šåï¼ˆå¹¶ä¸æ˜¯ JDBC é©±åŠ¨ä¸­å¯èƒ½åŒ…å«çš„æ•°æ®æºç±»ï¼‰ã€‚</li><li><code>url</code> â€“ è¿™æ˜¯æ•°æ®åº“çš„ JDBC URL åœ°å€ã€‚</li><li><code>username</code> â€“ ç™»å½•æ•°æ®åº“çš„ç”¨æˆ·åã€‚</li><li><code>password</code> â€“ ç™»å½•æ•°æ®åº“çš„å¯†ç ã€‚</li><li><code>defaultTransactionIsolationLevel</code> â€“ é»˜è®¤çš„è¿æ¥äº‹åŠ¡éš”ç¦»çº§åˆ«ã€‚</li><li><code>defaultNetworkTimeout</code> â€“ ç­‰å¾…æ•°æ®åº“æ“ä½œå®Œæˆçš„é»˜è®¤ç½‘ç»œè¶…æ—¶æ—¶é—´ï¼ˆå•ä½ï¼šæ¯«ç§’ï¼‰</li></ul><hr><h5 id="POOLED"><a href="#POOLED" class="headerlink" title="POOLED"></a>POOLED</h5><p>è¿™ä¸ªæ•°æ®æºçš„å®ç°åˆ©ç”¨äº†æ± çš„æ¦‚å¿µå°†JDBCçš„è¿æ¥å¯¹è±¡ç»„ç»‡èµ·æ¥ï¼Œé¿å…äº†åˆ›å»ºæ–°çš„è¿æ¥å®ä¾‹çš„æ—¶å€™æ‰€å¿…éœ€çš„åˆå§‹åŒ–å’Œè®¤è¯æ—¶é—´ï¼Œå¯ä»¥ä½¿webåº”ç”¨å“åº”é€Ÿåº¦å˜å¿«ï¼Œè¯¥ç±»å‹çš„æ•°æ®æºé™¤äº†ä»¥ä¸ŠUNPOOLEDçš„å±æ€§å¤–è¿˜æœ‰ä»¥ä¸‹å¸¸ç”¨é…ç½®</p><ul><li><code>poolMaximumActiveConnections</code> â€“ åœ¨ä»»æ„æ—¶é—´å¯å­˜åœ¨çš„æ´»åŠ¨ï¼ˆæ­£åœ¨ä½¿ç”¨ï¼‰è¿æ¥æ•°é‡ï¼Œé»˜è®¤å€¼ï¼š10</li><li><code>poolMaximumIdleConnections</code> â€“ ä»»æ„æ—¶é—´å¯èƒ½å­˜åœ¨çš„ç©ºé—²è¿æ¥æ•°ã€‚</li><li><code>poolTimeToWait</code> â€“ è¿™æ˜¯ä¸€ä¸ªåº•å±‚è®¾ç½®ï¼Œå¦‚æœè·å–è¿æ¥èŠ±è´¹äº†ç›¸å½“é•¿çš„æ—¶é—´ï¼Œè¿æ¥æ± ä¼šæ‰“å°çŠ¶æ€æ—¥å¿—å¹¶é‡æ–°å°è¯•è·å–ä¸€ä¸ªè¿æ¥ï¼ˆé¿å…åœ¨è¯¯é…ç½®çš„æƒ…å†µä¸‹ä¸€ç›´å¤±è´¥ä¸”ä¸æ‰“å°æ—¥å¿—ï¼‰ï¼Œé»˜è®¤å€¼ï¼š20000 æ¯«ç§’ï¼ˆå³ 20 ç§’ï¼‰ã€‚</li></ul><h5 id="JNDI-ç”¨å¾—å°‘ï¼Œç•¥"><a href="#JNDI-ç”¨å¾—å°‘ï¼Œç•¥" class="headerlink" title="JNDI(ç”¨å¾—å°‘ï¼Œç•¥)"></a>JNDI(ç”¨å¾—å°‘ï¼Œç•¥)</h5>]]></content>
      
      
      <categories>
          
          <category> javaEE </category>
          
          <category> MyBatis </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MyBatis </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MyBatiså…¥é—¨</title>
      <link href="/javaEE/MyBatis/2022/01/26/MyBatis%E5%85%A5%E9%97%A8/"/>
      <url>/javaEE/MyBatis/2022/01/26/MyBatis%E5%85%A5%E9%97%A8/</url>
      
        <content type="html"><![CDATA[<h1 id="MyBatis"><a href="#MyBatis" class="headerlink" title="MyBatis"></a>MyBatis</h1><h2 id="å›é¡¾JDBC"><a href="#å›é¡¾JDBC" class="headerlink" title="å›é¡¾JDBC"></a>å›é¡¾JDBC</h2><ol><li>æ³¨å†Œé©±åŠ¨</li><li>è·å–è¿æ¥</li><li>è·å–æ•°æ®åº“æ“ä½œå¯¹è±¡</li><li>æ‰§è¡ŒSQLï¼Œæ“ä½œæ•°æ®åº“</li><li>å¤„ç†ç»“æœé›†</li><li>å…³é—­è¿æ¥</li></ol><p>Connectionå¯ä»¥è·å¾—PreparedStatementæˆ–è€…Statement</p><p>ResultSetæ˜¯SQLè¯­å¥æ‰§è¡Œåè¿”å›çš„å¯¹è±¡</p><p>PreparedStatementå’ŒStatementæ˜¯ç”¨æ¥æ‰§è¡ŒSQLè¯­å¥çš„å¯¹è±¡</p><p>ä¸¤è€…çš„åŒºåˆ«ï¼š</p><p>PreparedStatementå¯¹SQLè¯­å¥åšäº†é¢„ç¼–è¯‘ï¼Œå¾ˆå¥½çš„è§£å†³äº†SQLæ³¨å…¥çš„é—®é¢˜ã€‚</p><p>Statementæ˜¯å•çº¯çš„å¯¹å­—ç¬¦ä¸²è¿›è¡Œæ‹¼æ¥ï¼Œä¼šäº§ç”ŸSQLæ³¨å…¥çš„é—®é¢˜</p><h2 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h2><p>Defï¼š MyBatisæ˜¯ä¸€ä¸ªä¼˜ç§€çš„æŒä¹…å±‚çš„æ¡†æ¶ï¼Œæ”¯æŒå®šåˆ¶åŒ–SQLè¯­å¥ï¼Œå­˜å‚¨è¿‡ç¨‹ä»¥åŠé«˜çº§æ˜ å°„ï¼Œå¤§å¤§ç®€åŒ–äº†JDBCçš„ç¬¨é‡çš„ä»£ç ã€‚</p><p>MyBatiså¯ä»¥ä½¿ç”¨XMLé…ç½®æ–‡ä»¶æˆ–è€…æ³¨è§£çš„æ–¹å¼æ¥é…ç½®å’Œæ˜ å°„åŸç”Ÿç±»å‹ã€æ¥å£å’Œpojoï¼ˆPlain Object Java Objectï¼‰</p><p>æŒä¹…å±‚æ˜¯ä»€ä¹ˆï¼ŸæŒä¹…å±‚æ˜¯ä¸€ä¸ªå°†åº”ç”¨ä¸­äº§ç”Ÿçš„æ•°æ®ä¿å­˜åˆ°æ•°æ®åº“çš„è¿‡ç¨‹</p><p>æ€è·¯ï¼šå¯¼å…¥ä¾èµ–â€”ã€‹ç¼–å†™ä»£ç â€”ã€‹æµ‹è¯•</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.mybatis<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.5.7<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="å…¥é—¨"><a href="#å…¥é—¨" class="headerlink" title="å…¥é—¨"></a>å…¥é—¨</h2><p>MyBatisä¸­æœ€é‡è¦çš„ä¸‰ä¸ªç±»</p><ol><li>SqlSessionFactoryBuilder</li><li>SqlSessionFactory</li><li>SqlSession</li></ol><p>æ¯ä¸ªåŸºäºMyBatisçš„åº”ç”¨éƒ½æ˜¯ä»¥ä¸€ä¸ªSqlSessionFactoryå®ä¾‹ä¸ºæ ¸å¿ƒçš„ã€‚è¿™ä¸ªå®ä¾‹éœ€è¦é€šè¿‡SqlSessionFactoryBuilderåŠ è½½é…ç½®æ–‡ä»¶è·å¾—ã€‚è¿™ä¸ªé…ç½®æ–‡ä»¶å¯ä»¥é€šè¿‡ä¸¤ç§æ–¹å¼è·å¾—ï¼Œç¬¬ä¸€ç§æ˜¯ä»¥XMLæ–‡ä»¶çš„å½¢å¼å­˜åœ¨ï¼Œç¬¬äºŒç§æ˜¯åœ¨javaä»£ç å¯¹è±¡çš„å½¢å¼å­˜åœ¨</p><h3 id="æ„å»ºSqlSessionFactory"><a href="#æ„å»ºSqlSessionFactory" class="headerlink" title="æ„å»ºSqlSessionFactory"></a>æ„å»ºSqlSessionFactory</h3><blockquote><p>mybatis-config.xmlé…ç½®æ„å»ºSqlSessionFactoryæ‰€éœ€è¦çš„å‚æ•°</p></blockquote><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">configuration</span></span></span><br><span class="line"><span class="meta">        <span class="meta-keyword">PUBLIC</span> <span class="meta-string">&quot;-//mybatis.org//DTD Config 3.0//EN&quot;</span></span></span><br><span class="line"><span class="meta">        <span class="meta-string">&quot;http://mybatis.org/dtd/mybatis-3-config.dtd&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">environments</span> <span class="attr">default</span>=<span class="string">&quot;development&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">environment</span> <span class="attr">id</span>=<span class="string">&quot;development&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">transactionManager</span> <span class="attr">type</span>=<span class="string">&quot;JDBC&quot;</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">dataSource</span> <span class="attr">type</span>=<span class="string">&quot;POOLED&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;driver&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;driver&#125;&quot;</span>/&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;url&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;url&#125;&quot;</span>/&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;userName&#125;&quot;</span>/&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;password&#125;&quot;</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">dataSource</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">environment</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">environments</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br></pre></td></tr></table></figure><p>åœ¨javaä¸­åŠ è½½é…ç½®æ–‡ä»¶ï¼Œé€šè¿‡SqlSessionFactoryBuilderæ„å»ºSqlSessionFactoryå®ä¾‹</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">String resource=<span class="string">&quot;mybatis-config.xml&quot;</span>;</span><br><span class="line">InputStream inputStream = Resources.getResourceAsStream(resource);</span><br><span class="line">SqlSessionFactory sqlSessionFactory = <span class="keyword">new</span> SqlSessionFactoryBuilder().build(inputStream);</span><br></pre></td></tr></table></figure><blockquote><p>é€šè¿‡javaä»£ç é…ç½®ä¸æ¨èï¼Œç•¥</p></blockquote><h3 id="æ„å»ºSqlSession"><a href="#æ„å»ºSqlSession" class="headerlink" title="æ„å»ºSqlSession"></a>æ„å»ºSqlSession</h3><p>SqlSessionï¼Œé€šè¿‡æ­¤å¯¹è±¡è·å¾—æ¥å£çš„æ˜ å°„å™¨å®ä¾‹ï¼Œè¯¥æ˜ å°„å¯¹è±¡å¯¹æ ‡JDBCä¸­æ¥å£çš„å®ç°ç±»</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å¼€å¯ä¸€ä¸ªsqlSessionå¯¹è±¡ï¼Œé»˜è®¤å…³é—­è‡ªåŠ¨æäº¤äº‹åŠ¡</span></span><br><span class="line">SqlSession sqlSession = sqlSessionFactory.openSession();</span><br><span class="line"><span class="comment">//å¼€å¯è‡ªåŠ¨æäº¤äº‹åŠ¡</span></span><br><span class="line">SqlSession sqlSession = sqlSessionFactory.openSession(<span class="keyword">true</span>);</span><br><span class="line"></span><br><span class="line">TeacherMapper mapper = sqlSession.getMapper(TeacherMapper.class);</span><br></pre></td></tr></table></figure><h3 id="æ˜ å°„SQLè¯­å¥"><a href="#æ˜ å°„SQLè¯­å¥" class="headerlink" title="æ˜ å°„SQLè¯­å¥"></a>æ˜ å°„SQLè¯­å¥</h3><blockquote><p>é€šè¿‡XMLé…ç½®æ–‡ä»¶çš„æ–¹å¼å’Œæ¥å£åšç»‘å®šï¼Œå®ç°æ¥å£æ–¹æ³•</p></blockquote><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">mapper</span></span></span><br><span class="line"><span class="meta">        <span class="meta-keyword">PUBLIC</span> <span class="meta-string">&quot;-//mybatis.org//DTD Config 3.0//EN&quot;</span></span></span><br><span class="line"><span class="meta">        <span class="meta-string">&quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">mapper</span> <span class="attr">namespace</span>=<span class="string">&quot;com.lizhi.mapper.TeacherMapper&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;listTeachers&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;com.lizhi.pojo.Teacher&quot;</span>&gt;</span></span><br><span class="line">        SELECT * FROM teacher</span><br><span class="line">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">mapper</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li>mapperæ ‡ç­¾çš„namespaceå±æ€§æŒ‡å‘è¢«ç»‘å®šçš„æ¥å£</li><li>æ ‡ç­¾å†…ä¹¦å†™SQLè¯­å¥ï¼Œidä¸ºæ¥å£ä¸­çš„æ–¹æ³•å<ul><li>selectæ ‡ç­¾å®ç°selectæ–¹æ³•</li><li>insertæ ‡ç­¾å®ç°insertæ–¹æ³•</li><li>updateæ ‡ç­¾å®ç°updateæ–¹æ³•</li><li>deleteæ ‡ç­¾å®ç°deleteæ–¹æ³•</li></ul></li></ul><blockquote><p>é€šè¿‡æ³¨è§£çš„æ–¹å¼å®ç°SQLæ˜ å°„</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Select(&quot;SELECT * FROM teacher WHERE id = #&#123;id&#125;&quot;)</span></span><br><span class="line"><span class="function">Teacher <span class="title">getTeacherById</span><span class="params">(<span class="keyword">int</span> id)</span></span>;</span><br></pre></td></tr></table></figure><p>é€‰æ‹©ä½•ç§æ–¹å¼å®ç°SQLæ˜ å°„ï¼Œå–å†³äºè‡ªèº«ã€‚</p><p>ä½†æ˜¯å¦‚æœSQLå¤æ‚çš„æƒ…å†µä¸‹ï¼Œå°½é‡ä¸è¦ä½¿ç”¨æ³¨è§£å¼€å‘ï¼Œä½¿ç”¨XMLçš„æ–¹å¼å»åšSQLæ˜ å°„</p><h3 id="ä¸‰ä¸ªå¯¹è±¡çš„ä½œç”¨åŸŸï¼ˆScopeï¼‰"><a href="#ä¸‰ä¸ªå¯¹è±¡çš„ä½œç”¨åŸŸï¼ˆScopeï¼‰" class="headerlink" title="ä¸‰ä¸ªå¯¹è±¡çš„ä½œç”¨åŸŸï¼ˆScopeï¼‰"></a>ä¸‰ä¸ªå¯¹è±¡çš„ä½œç”¨åŸŸï¼ˆScopeï¼‰</h3><ul><li>SqlSessionFactoryBuilder</li></ul><p>è¯¥å¯¹è±¡å°±ä¸€ä¸ªä½œç”¨ï¼Œé€šè¿‡è¯»å–ä¸€äº›é…ç½®è·å–SqlSessionFactoryå®ä¾‹å¯¹è±¡ã€‚</p><p>æˆ‘ä»¬æ²¡æœ‰ç†ç”±ä¸€ç›´ä¿ç•™å®ƒï¼Œå› ä¸ºSqlSessionFactoryå°†è¢«ä¿å­˜åœ¨å…¨å±€ä½œç”¨åŸŸä¸­ï¼Œä»¥ä¿è¯æ‰€æœ‰çš„XMLè§£æèµ„æºå¯ä»¥è¢«é‡Šæ”¾ç»™åšå…¶ä»–äº‹æƒ…ï¼Œæ‰€ä»¥å®ƒçš„ä½œç”¨åŸŸåº”è¯¥æ˜¯å±€éƒ¨å˜é‡</p><ul><li>SqlSession</li></ul><p>è¯¥å¯¹è±¡å°±ä¸€ä¸ªä½œç”¨ï¼Œé€šè¿‡getMapperæ–¹æ³•è·å–æ˜ å°„å™¨å®ä¾‹ã€‚</p><p>æ¯ä¸ªçº¿ç¨‹éƒ½åº”è¯¥æœ‰å®ƒè‡ªå·±çš„SqlSessionå¯¹è±¡ï¼Œå› ä¸ºè¯¥å¯¹è±¡ä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œå› æ­¤å®ƒæ˜¯ä¸èƒ½è¢«å…±äº«çš„ï¼Œæ‰€ä»¥å®ƒçš„æœ€ä½³ä½œç”¨åŸŸæ˜¯å±€éƒ¨å˜é‡ã€‚</p><p>åœ¨webæ¡†æ¶ä¸­ï¼Œå¯ä»¥å°†å…¶æ”¾åˆ°requestçš„ä½œç”¨åŸŸä¸­ï¼Œè¿”å›ä¸€ä¸ªå“åº”å‰ï¼Œå…³é—­SqlSessionå¯¹è±¡ï¼Œè¿™ä¸ªå…³é—­æ“ä½œå¾ˆé‡è¦</p><ul><li>SqlSessionFactory</li></ul><p>è¯¥å¯¹è±¡å°±ä¸€ä¸ªä½œç”¨ï¼Œé€šè¿‡openSessionæ–¹æ³•è·å–SqlSessionå¯¹è±¡ã€‚</p><p>å› ä¸ºSqlSessionå¯¹è±¡æ˜¯çº¿ç¨‹ä¸å®‰å…¨çš„ï¼Œæ‰€ä»¥æ¯æ¬¡æŸ¥è¯¢æ•°æ®åº“éƒ½éœ€è¦ä¸€ä¸ªæ–°çš„SqlSessionå¯¹è±¡ï¼Œæ—¢ç„¶SqlSessionFactoryBuilderçš„ä½œç”¨åŸŸä¸ºå±€éƒ¨å˜é‡ï¼Œé‚£ä¹ˆåœ¨æˆ‘ä»¬ç¬¬ä¸€æ¬¡åˆ›å»ºå‡ºæ¥SqlSessionFactoryå¯¹è±¡çš„æ—¶å€™ï¼Œå°±å¯ä»¥å°†å…¶ä¿å­˜åœ¨å…¨å±€ä½œç”¨åŸŸä¸­ï¼Œä¸‹æ¬¡å°±ä¸éœ€è¦å†åˆ›å»ºSqlSessionFactoryBuilderå¯¹è±¡äº†ï¼Œæ‰€ä»¥SqlSessionFactoryçš„æœ€ä½³ä½œç”¨åŸŸæ˜¯å…¨å±€å”¯ä¸€å˜é‡ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> javaEE </category>
          
          <category> MyBatis </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MyBatis </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Maven</title>
      <link href="/javaEE/Maven/2022/01/26/Maven/"/>
      <url>/javaEE/Maven/2022/01/26/Maven/</url>
      
        <content type="html"><![CDATA[<h2 id="Maven"><a href="#Maven" class="headerlink" title="Maven"></a>Maven</h2><h3 id="Mavenç®€ä»‹"><a href="#Mavenç®€ä»‹" class="headerlink" title="Mavenç®€ä»‹"></a>Mavenç®€ä»‹</h3><p>å­¦mavené¦–å…ˆè®°ä½ä¸€å¥è¯ï¼Œ<strong>çº¦å®šå¤§äºé…ç½®</strong></p><h4 id="Mavenæ˜¯ä»€ä¹ˆ"><a href="#Mavenæ˜¯ä»€ä¹ˆ" class="headerlink" title="Mavenæ˜¯ä»€ä¹ˆ"></a>Mavenæ˜¯ä»€ä¹ˆ</h4><ul><li><strong>æœ¬è´¨</strong>æ˜¯ä¸€ä¸ªé¡¹ç›®ç®¡ç†å·¥å…·ï¼Œå°†é¡¹ç›®å¼€å‘å’Œç®¡ç†è¿‡ç¨‹æŠ½è±¡æˆä¸€ä¸ªé¡¹ç›®å¯¹è±¡æ¨¡å‹ï¼ˆpomï¼‰</li><li>POM(Project Object Model)ï¼šé¡¹ç›®å¯¹è±¡æ¨¡å‹</li><li>pom.xmlâ€”&gt;é¡¹ç›®ç®¡ç†æ¨¡å‹â€”â€”&gt;ä¾èµ–ç®¡ç†ï¼ˆDependencyï¼‰â€”&gt;æœ¬åœ°ä»“åº“â€”&gt;ç§æœä»“åº“â€”&gt;ä¸­å¤®</li></ul><img src="/javaEE/Maven/2022/01/26/Maven/maven%E6%A6%82%E8%BF%B0%E5%9B%BE.png" class title="mavenæ¦‚è¿°å›¾"><h4 id="Mavenæœ‰ä»€ä¹ˆç”¨"><a href="#Mavenæœ‰ä»€ä¹ˆç”¨" class="headerlink" title="Mavenæœ‰ä»€ä¹ˆç”¨"></a>Mavenæœ‰ä»€ä¹ˆç”¨</h4><ul><li><strong>é¡¹ç›®æ„å»º</strong>ï¼šæä¾›æ ‡å‡†åŒ–ï¼Œè·¨å¹³å°çš„è‡ªåŠ¨åŒ–é¡¹ç›®æ„å»ºæ–¹å¼</li><li><strong>ä¾èµ–ç®¡ç†</strong>ï¼šæ–¹ä¾¿å¿«æ·çš„ç®¡ç†é¡¹ç›®ä¾èµ–çš„èµ„æºåŒ…ï¼Œé¿å…èµ„æºé—´çš„ç‰ˆæœ¬å†²çªé—®é¢˜</li><li><strong>ç»Ÿä¸€å¼€å‘ç»“æ„</strong>ï¼šæä¾›æ ‡å‡†çš„ï¼Œç»Ÿä¸€çš„é¡¹ç›®ç»“æ„</li></ul><h3 id="ä¸‹è½½ä¸å®‰è£…"><a href="#ä¸‹è½½ä¸å®‰è£…" class="headerlink" title="ä¸‹è½½ä¸å®‰è£…"></a>ä¸‹è½½ä¸å®‰è£…</h3><ul><li><strong>å®˜ç½‘</strong>ï¼š<a href="http://maven.apache.org/">http://maven.apache.org/</a></li><li><strong>ä¸‹è½½åœ°å€</strong>ï¼š<a href="http://maven.apache.org/download.cgi">http://maven.apache.org/download.cgi</a></li></ul><h4 id="Mavenç¯å¢ƒé…ç½®"><a href="#Mavenç¯å¢ƒé…ç½®" class="headerlink" title="Mavenç¯å¢ƒé…ç½®"></a>Mavenç¯å¢ƒé…ç½®</h4><ul><li>ä¾èµ–javaï¼Œæ‰€ä»¥éœ€è¦JAVA_HOME</li><li>è®¾ç½®Mavenè‡ªèº«çš„è¿è¡Œç¯å¢ƒï¼Œéœ€è¦é…ç½®MAVEN_HOME</li></ul><h3 id="MavenåŸºç¡€æ¦‚è¦"><a href="#MavenåŸºç¡€æ¦‚è¦" class="headerlink" title="MavenåŸºç¡€æ¦‚è¦"></a>MavenåŸºç¡€æ¦‚è¦</h3><h4 id="ä»“åº“"><a href="#ä»“åº“" class="headerlink" title="ä»“åº“"></a>ä»“åº“</h4><p><strong>ä»“åº“</strong>ï¼šç”¨äºå­˜å‚¨èµ„æºï¼ŒåŒ…å«å„ç§jaråŒ…</p><img src="/javaEE/Maven/2022/01/26/Maven/%E4%BB%93%E5%BA%93.png" class title="ä»“åº“"><ul><li>ä»“åº“åˆ†ç±»<ul><li><strong>æœ¬åœ°ä»“åº“</strong>ï¼šè‡ªå·±ç”µè„‘ä¸Šçš„å­˜å‚¨èµ„æºçš„ä»“åº“ï¼Œè¿æ¥è¿œç¨‹ä»“åº“è·å–èµ„æº</li><li><strong>è¿œç¨‹ä»“åº“</strong>ï¼šéæœ¬æœºä¸Šçš„ä»“åº“ï¼Œä¸ºæœ¬åœ°ä»“åº“æä¾›èµ„æº<ul><li><strong>ä¸­å¤®ä»“åº“</strong>ï¼šç”±Mavenå›¢é˜Ÿç»´æŠ¤ï¼Œå­˜å‚¨æ‰€æœ‰å¼€æºèµ„æºçš„ä»“åº“</li><li><strong>ç§æœ</strong>ï¼šéƒ¨é—¨&#x2F;å…¬å¸èŒƒå›´å†…å­˜å‚¨èµ„æºçš„ä»“åº“ï¼Œä»ä¸­å¤®ä»“åº“ä¸­è·å–èµ„æº</li></ul></li></ul></li><li>ç§æœçš„ä½œç”¨<ul><li>ä¿æŠ¤å…·æœ‰ç‰ˆæƒçš„èµ„æºï¼ŒåŒ…å«è´­ä¹°æˆ–è€…è‡ªä¸»ç ”å‘çš„jar<ul><li>ä¸­å¤®ä»“åº“ä¸­çš„jaréƒ½æ˜¯å¼€æºçš„ï¼Œä¸èƒ½å­˜å‚¨å…·æœ‰ç‰ˆæƒçš„èµ„æº</li></ul></li><li>ä¸€å®šèŒƒå›´å†…å…±äº«èµ„æºï¼Œå°±å¯¹å†…å¼€æ”¾ï¼Œä¸å¯¹å¤–å¼€æ”¾</li></ul></li></ul><h4 id="åæ ‡GAV"><a href="#åæ ‡GAV" class="headerlink" title="åæ ‡GAV"></a>åæ ‡GAV</h4><ul><li><p><strong>åæ ‡</strong>ï¼šMavenä¸­çš„åæ ‡ä¸»è¦ç”¨äºæè¿°ä»“åº“ä¸­èµ„æºçš„ä½ç½®ï¼Œè®°ä½è¿™ä¸ªç½‘ç«™</p><ul><li><a href="https://mvnrepository.com/">https://mvnrepository.com/</a></li></ul></li><li><p>Mavenä¸»è¦ç»„æˆéƒ¨åˆ†</p><ul><li><strong>groupId</strong>ï¼šå®šä¹‰å½“å‰é¡¹ç›®éš¶å±çš„ç»„ç»‡åç§°ï¼ˆé€šå¸¸æ˜¯åŸŸååå†™ org.mybatisï¼‰</li><li><strong>artifactId</strong>ï¼šå®šä¹‰è¯¥é¡¹ç›®çš„é¡¹ç›®åç§°ï¼ˆé€šå¸¸æ˜¯æ¨¡å—åç§°ï¼‰</li><li><strong>version</strong>ï¼šå®šä¹‰å½“å‰é¡¹ç›®çš„ç‰ˆæœ¬å·</li><li><strong>packaging</strong>ï¼šå®šä¹‰è¯¥é¡¹ç›®çš„æ‰“åŒ…æ–¹å¼</li></ul></li><li><p><strong>ä½œç”¨</strong>ï¼šä½¿ç”¨å”¯ä¸€æ ‡è¯†ï¼Œå”¯ä¸€æ€§å®šä½èµ„æºä½ç½®ï¼Œé€šè¿‡è¯¥æ ‡è¯†å¯ä»¥å°†èµ„æºçš„è¯†åˆ«ä¸ä¸‹è½½å·¥ä½œäº¤ç”±æœºå™¨å®Œæˆ</p></li></ul><h4 id="æœ¬åœ°ä»“åº“é…ç½®"><a href="#æœ¬åœ°ä»“åº“é…ç½®" class="headerlink" title="æœ¬åœ°ä»“åº“é…ç½®"></a>æœ¬åœ°ä»“åº“é…ç½®</h4><p>mavené»˜è®¤çš„æœ¬åœ°ä»“åº“ç›®å½•åœ¨cç›˜ç”¨æˆ·æ–‡ä»¶å¤¹ä¸‹çš„.m2æ–‡ä»¶å¤¹ä¸­ï¼Œå¦‚æœ‰éœ€è¦ï¼Œå¯åœ¨é…ç½®æ–‡ä»¶ä¸­è‡ªè¡Œé…ç½®ã€‚</p><p>åœ¨è¿™é‡Œä¸¾ä¸ªä¾‹å­ï¼Œæˆ‘éœ€è¦å°†D:\APP\Maven\mvn-repoè¯¥ç›®å½•ä½œä¸ºæˆ‘çš„mavenæœ¬åœ°ä»“åº“çš„è·¯å¾„ã€‚</p><ol><li>åˆ›å»ºmvn-repoæ–‡ä»¶å¤¹ï¼Œåœ¨æ­¤æ–‡ä»¶å¤¹ä¸­åˆ›å»ºrepositoryç›®å½•</li><li>åœ¨mavenå®‰è£…æ ¹ç›®å½•ä¸‹çš„configæ–‡ä»¶å¤¹ä¸‹æ‰¾åˆ°settings.xmlæ‰¾åˆ°ä»¥ä¸‹é…ç½®æ‰€åœ¨ï¼Œç…§ç€ä»¥ä¸‹é…ç½®ä¿®æ”¹</li></ol><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">//è¿™é‡Œæ”¹æˆè‡ªå·±éœ€è¦é…ç½®çš„ä»“åº“ç›®å½•</span><br><span class="line"><span class="tag">&lt;<span class="name">localRepository</span>&gt;</span>D:\APP\Maven\mvn-repo\repository<span class="tag">&lt;/<span class="name">localRepository</span>&gt;</span></span><br><span class="line"></span><br><span class="line">//é˜¿é‡Œäº‘çš„é•œåƒæœåŠ¡å™¨ï¼Œä¼šåŠ å¿«jaråŒ…çš„ä¸‹è½½é€Ÿåº¦ï¼Œç›´æ¥å¤åˆ¶å³å¯</span><br><span class="line"><span class="tag">&lt;<span class="name">mirrors</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">id</span>&gt;</span>nexus-aliyun<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">mirrorOf</span>&gt;</span>central<span class="tag">&lt;/<span class="name">mirrorOf</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">name</span>&gt;</span>Nexus aliyun<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url</span>&gt;</span>http://maven.aliyun.com/nexus/content/groups/public<span class="tag">&lt;/<span class="name">url</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">mirrors</span>&gt;</span></span><br></pre></td></tr></table></figure><ol start="3"><li>å°†æ­¤ä»½é…ç½®æ–‡ä»¶ä¿å­˜å¹¶å¤åˆ¶åˆ°mvn-repoæ–‡ä»¶å¤¹ä¸­</li></ol><blockquote><p>å…¨å±€settingï¼ˆmavençš„configä¸­çš„settingæ–‡ä»¶ï¼‰å’Œç”¨æˆ·settingï¼ˆå°½é‡å’Œå…¨å±€settingä¸€æ ·ï¼‰åŒºåˆ«</p><ul><li>å…¨å±€settingå®šä¹‰äº†å½“å‰è®¡ç®—æœºä¸­Mavençš„å…¬å…±é…ç½®</li><li>ç”¨æˆ·settingå®šä¹‰äº†å½“å‰ç”¨æˆ·çš„é…ç½®</li></ul></blockquote><h3 id="åˆ›å»ºmavené¡¹ç›®"><a href="#åˆ›å»ºmavené¡¹ç›®" class="headerlink" title="åˆ›å»ºmavené¡¹ç›®"></a>åˆ›å»ºmavené¡¹ç›®</h3><h4 id="æ‰‹å·¥"><a href="#æ‰‹å·¥" class="headerlink" title="æ‰‹å·¥"></a>æ‰‹å·¥</h4><p>æ™®é€šmavenå·¥ç¨‹</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">mvn archetype:generate</span><br><span class="line">-DgroupId = com.lizhi</span><br><span class="line">-DartifactId = project</span><br><span class="line">-DarchetypeArtifactId = maven-archetype-quickstart</span><br><span class="line">-Dversion = 0.0.1-snapshot</span><br><span class="line">-DinteractiveMode = false</span><br></pre></td></tr></table></figure><p>webå·¥ç¨‹</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">mvn archetype:generate</span><br><span class="line">-DgroupId = com.lizhi</span><br><span class="line">-DartifactId = project</span><br><span class="line">-DarchetypeArtifactId = maven-archetype-webapp</span><br><span class="line">-Dversion = 0.0.1-snapshot </span><br><span class="line">-DinteractiveMode = false</span><br></pre></td></tr></table></figure><h3 id="ä¾èµ–ç®¡ç†"><a href="#ä¾èµ–ç®¡ç†" class="headerlink" title="ä¾èµ–ç®¡ç†"></a>ä¾èµ–ç®¡ç†</h3><h4 id="ä¾èµ–é…ç½®"><a href="#ä¾èµ–é…ç½®" class="headerlink" title="ä¾èµ–é…ç½®"></a>ä¾èµ–é…ç½®</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--è®¾ç½®å½“å‰é¡¹ç›®æ‰€éœ€è¦çš„ä¾èµ–--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--è®¾ç½®å…·ä½“çš„ä¾èµ–--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--ä¾èµ–æ‰€å±çš„ç¾¤ç»„id--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--ä¾èµ–æ‰€å±çš„é¡¹ç›®id--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--ä¾èµ–çš„ç‰ˆæœ¬å·--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>4.13<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="ä¾èµ–ä¼ é€’"><a href="#ä¾èµ–ä¼ é€’" class="headerlink" title="ä¾èµ–ä¼ é€’"></a>ä¾èµ–ä¼ é€’</h4><p>ä¾èµ–å…·æœ‰ä¼ é€’æ€§</p><ul><li><strong>ç›´æ¥ä¼ é€’</strong>ï¼šåœ¨å½“å‰é¡¹ç›®ä¸­ï¼Œé€šè¿‡ä¾èµ–é…ç½®å»ºç«‹çš„ä¾èµ–å…³ç³»</li><li><strong>é—´æ¥å…³ç³»</strong>ï¼šè¢«ä¾èµ–çš„èµ„æºå¦‚æœä¾èµ–å…¶ä»–çš„èµ„æºï¼Œå½“å‰é¡¹ç›®é—´æ¥ä¾èµ–å…¶ä»–é¡¹ç›®</li></ul><blockquote><p>ä¾èµ–å†²çª</p><ul><li>è·¯å¾„ä¼˜å…ˆï¼šå½“ä¾èµ–ä¸­å‡ºç°ç›¸åŒçš„èµ„æºæ—¶ï¼Œå±‚æ¬¡è¶Šæ·±ï¼Œä¼˜å…ˆçº§è¶Šä½ï¼Œå±‚æ¬¡è¶Šæµ…ï¼Œä¼˜å…ˆçº§è¶Šé«˜</li><li>å£°æ˜ä¼˜å…ˆï¼šå½“èµ„æºåœ¨ç›¸åŒå±‚æ¬¡è¢«ä¾èµ–æ—¶ï¼Œé…ç½®é¡ºåºé å‰çš„è¦†ç›–é¡ºåºé åçš„</li><li>ç‰¹æ®Šä¼˜å…ˆï¼šå½“åŒçº§é…ç½®äº†ç›¸åŒèµ„æºçš„ä¸åŒç‰ˆæœ¬ï¼Œåé…ç½®çš„è¦†ç›–å…ˆé…ç½®çš„</li></ul></blockquote><h4 id="å¯é€‰ä¾èµ–ï¼ˆä¸»åŠ¨è¡¨ç¤ºæ–­å¼€ï¼‰"><a href="#å¯é€‰ä¾èµ–ï¼ˆä¸»åŠ¨è¡¨ç¤ºæ–­å¼€ï¼‰" class="headerlink" title="å¯é€‰ä¾èµ–ï¼ˆä¸»åŠ¨è¡¨ç¤ºæ–­å¼€ï¼‰"></a>å¯é€‰ä¾èµ–ï¼ˆä¸»åŠ¨è¡¨ç¤ºæ–­å¼€ï¼‰</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>4.13<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--ä¸é€æ˜--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">optional</span>&gt;</span>true<span class="tag">&lt;/<span class="name">optional</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="æ’é™¤ä¾èµ–ï¼ˆä¸»åŠ¨æ–­å¼€ï¼‰"><a href="#æ’é™¤ä¾èµ–ï¼ˆä¸»åŠ¨æ–­å¼€ï¼‰" class="headerlink" title="æ’é™¤ä¾èµ–ï¼ˆä¸»åŠ¨æ–­å¼€ï¼‰"></a>æ’é™¤ä¾èµ–ï¼ˆä¸»åŠ¨æ–­å¼€ï¼‰</h4><blockquote><p>æ’é™¤ä¾èµ–æŒ‡çš„æ˜¯ä¸»åŠ¨æ–­å¼€ä¾èµ–çš„èµ„æºï¼Œè¢«æ’é™¤çš„èµ„æºæ— éœ€æŒ‡å®šç‰ˆæœ¬â€”ä¸éœ€è¦</p></blockquote><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>4.13<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">exclusions</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">exclusion</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.hamcrest<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>hamcrest-core<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">exclusion</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">exclusions</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="ä¾èµ–èŒƒå›´"><a href="#ä¾èµ–èŒƒå›´" class="headerlink" title="ä¾èµ–èŒƒå›´"></a>ä¾èµ–èŒƒå›´</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>4.13<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">scope</span>&gt;</span>test<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">&lt;/dependencies</span><br></pre></td></tr></table></figure><ul><li>ä¾èµ–çš„jaråŒ…é»˜è®¤æƒ…å†µä¸‹å¯ä»¥åœ¨ä»»ä½•åœ°æ–¹ä½¿ç”¨ï¼Œå¯ä»¥é€šè¿‡scopeæ ‡ç­¾è®¾å®šèµ·ä½œç”¨èŒƒå›´</li><li>ä½œç”¨èŒƒå›´<ul><li>ä¸»ç¨‹åºèŒƒå›´æœ‰æ•ˆï¼ˆmainæ–‡ä»¶èŒƒå›´å†…ï¼‰</li><li>æµ‹è¯•èŒƒå›´æœ‰æ•ˆï¼ˆtestæ–‡ä»¶å¤¹èŒƒå›´ï¼‰</li><li>æ˜¯å¦å‚ä¸æ‰“åŒ…ï¼ˆpackageæŒ‡ä»¤èŒƒå›´å†…ï¼‰</li></ul></li></ul><table><thead><tr><th>scope</th><th>ä¸»ä»£ç </th><th>æµ‹è¯•ä»£ç </th><th>æ‰“åŒ…</th><th>ç¤ºä¾‹</th></tr></thead><tbody><tr><td>compile</td><td>Y</td><td>Y</td><td>Y</td><td>log4j</td></tr><tr><td>test</td><td></td><td>Y</td><td></td><td>junit</td></tr><tr><td>provided</td><td>Y</td><td>Y</td><td></td><td>servlet-api</td></tr><tr><td>runtime</td><td></td><td></td><td>Y</td><td>jdbc</td></tr></tbody></table><blockquote><p>ä¾èµ–èŒƒå›´çš„ä¼ é€’æ€§</p></blockquote><ul><li>å¸¦æœ‰ä¾èµ–èŒƒå›´çš„èµ„æºåœ¨è¿›è¡Œä¼ é€’çš„æ—¶å€™ï¼Œä½œç”¨èŒƒå›´å°†ä¼šå—åˆ°å½±å“</li></ul><table><thead><tr><th>è¡Œæ˜¯ç›´æ¥ä¾èµ–ï¼Œåˆ—æ˜¯é—´æ¥ä¾èµ–</th><th>compile</th><th>test</th><th>provided</th><th>runtime</th></tr></thead><tbody><tr><td>compile</td><td>compile</td><td>test</td><td>provided</td><td>runtime</td></tr><tr><td>test</td><td></td><td></td><td></td><td></td></tr><tr><td>provided</td><td></td><td></td><td></td><td></td></tr><tr><td>runtime</td><td>runtime</td><td>test</td><td>provided</td><td>runtime</td></tr></tbody></table><h3 id="ç”Ÿå‘½å‘¨æœŸä»¥åŠæ’ä»¶"><a href="#ç”Ÿå‘½å‘¨æœŸä»¥åŠæ’ä»¶" class="headerlink" title="ç”Ÿå‘½å‘¨æœŸä»¥åŠæ’ä»¶"></a>ç”Ÿå‘½å‘¨æœŸä»¥åŠæ’ä»¶</h3><h4 id="ç”Ÿå‘½å‘¨æœŸ"><a href="#ç”Ÿå‘½å‘¨æœŸ" class="headerlink" title="ç”Ÿå‘½å‘¨æœŸ"></a>ç”Ÿå‘½å‘¨æœŸ</h4><ul><li>Mavenå¯¹é¡¹ç›®æ„å»ºçš„ç”Ÿå‘½å‘¨æœŸåˆ’åˆ†ä¸º3å¥—<ul><li>cleanï¼šæ¸…ç†å·¥ä½œ</li><li>defaultï¼šæ ¸å¿ƒå·¥ä½œï¼Œä¾‹å¦‚ç¼–è¯‘ã€æµ‹è¯•ã€æ‰“åŒ…ã€éƒ¨ç½²ç­‰</li><li>siteï¼šäº§ç”ŸæŠ¥å‘Šï¼Œå‘å¸ƒç«™ç‚¹ç­‰</li></ul></li></ul><blockquote><p>cleanç”Ÿå‘½å‘¨æœŸ</p></blockquote><ul><li>pre-clean          æ‰§è¡Œä¸€äº›éœ€è¦åœ¨cleanä¹‹å‰ç«‹å³å®Œæˆçš„å·¥ä½œ</li><li>clean                  ç§»é™¤æ‰€æœ‰ä¸Šä¸€æ¬¡æ„ä»¶ç”Ÿæˆçš„æ–‡ä»¶</li><li>post-clean         æ‰§è¡Œä¸€äº›éœ€è¦åœ¨cleanä¹‹åç«‹å³å®Œæˆçš„å·¥ä½œ</li></ul><blockquote><p>defaultç”Ÿå‘½å‘¨æœŸ</p></blockquote><img src="/javaEE/Maven/2022/01/26/Maven/default%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F.png" class title="defaultç”Ÿå‘½å‘¨æœŸ"><blockquote><p>siteç”Ÿå‘½å‘¨æœŸ</p></blockquote><ul><li>pre-site                        æ‰§è¡Œä¸€äº›éœ€è¦åœ¨ç”Ÿæˆç«™ç‚¹æ–‡æ¡£ä¹‹å‰å®Œæˆçš„å·¥ä½œ  </li><li>site                                ç”Ÿæˆç«™ç‚¹æ–‡æ¡£</li><li>post-site                      æ‰§è¡Œä¸€äº›éœ€è¦åœ¨ç”Ÿæˆç«™ç‚¹æ–‡æ¡£ä¹‹åå®Œæˆçš„å·¥ä½œï¼Œå¹¶ä¸”ä¸ºéƒ¨ç½²åšå‡†å¤‡å·¥ä½œ</li><li>site-deploy                 å°†ç”Ÿæˆçš„ç«™ç‚¹æ–‡æ¡£éƒ¨ç½²åˆ°ç‰¹å®šæœåŠ¡å™¨ä¸Šé¢å»</li></ul><h4 id="æ’ä»¶"><a href="#æ’ä»¶" class="headerlink" title="æ’ä»¶"></a>æ’ä»¶</h4><ul><li>æ’ä»¶ä¸ç”Ÿå‘½å‘¨æœŸå†…çš„é˜¶æ®µç»‘å®šï¼Œåœ¨æ‰§è¡Œåˆ°å¯¹åº”ç”Ÿå‘½å‘¨æœŸæ—¶æ‰§è¡Œå¯¹åº”çš„æ’ä»¶åŠŸèƒ½</li><li>é»˜è®¤mavenåœ¨å„ä¸ªç”Ÿå‘½å‘¨æœŸä¸Šç»‘å®šæœ‰é¢„è®¾çš„åŠŸèƒ½</li><li>é€šè¿‡æ’ä»¶å¯ä»¥è‡ªå®šä¹‰å…¶ä»–åŠŸèƒ½</li></ul>]]></content>
      
      
      <categories>
          
          <category> javaEE </category>
          
          <category> Maven </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Maven </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>first</title>
      <link href="/uncategorized/2022/01/16/first/"/>
      <url>/uncategorized/2022/01/16/first/</url>
      
        <content type="html"><![CDATA[<p>æµ‹è¯•åšå®¢çš„å‘å¸ƒ</p>]]></content>
      
      
      
    </entry>
    
    
  
  
</search>
